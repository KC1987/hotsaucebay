(() => {
  var exports = {};
  (exports.id = 34),
    (exports.ids = [34]),
    (exports.modules = {
      10846: (e) => {
        "use strict";
        e.exports = require("next/dist/compiled/next-server/app-page.runtime.prod.js");
      },
      19121: (e) => {
        "use strict";
        e.exports = require("next/dist/server/app-render/action-async-storage.external.js");
      },
      29294: (e) => {
        "use strict";
        e.exports = require("next/dist/server/app-render/work-async-storage.external.js");
      },
      63033: (e) => {
        "use strict";
        e.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");
      },
      55511: (e) => {
        "use strict";
        e.exports = require("crypto");
      },
      14985: (e) => {
        "use strict";
        e.exports = require("dns");
      },
      94735: (e) => {
        "use strict";
        e.exports = require("events");
      },
      29021: (e) => {
        "use strict";
        e.exports = require("fs");
      },
      81630: (e) => {
        "use strict";
        e.exports = require("http");
      },
      73496: (e) => {
        "use strict";
        e.exports = require("http2");
      },
      91645: (e) => {
        "use strict";
        e.exports = require("net");
      },
      21820: (e) => {
        "use strict";
        e.exports = require("os");
      },
      33873: (e) => {
        "use strict";
        e.exports = require("path");
      },
      19771: (e) => {
        "use strict";
        e.exports = require("process");
      },
      27910: (e) => {
        "use strict";
        e.exports = require("stream");
      },
      34631: (e) => {
        "use strict";
        e.exports = require("tls");
      },
      79551: (e) => {
        "use strict";
        e.exports = require("url");
      },
      28354: (e) => {
        "use strict";
        e.exports = require("util");
      },
      74075: (e) => {
        "use strict";
        e.exports = require("zlib");
      },
      91189: (e, r, n) => {
        "use strict";
        n.r(r),
          n.d(r, {
            GlobalError: () => o.a,
            __next_app__: () => h,
            pages: () => d,
            routeModule: () => f,
            tree: () => c,
          });
        var i = n(70260),
          s = n(28203),
          a = n(25155),
          o = n.n(a),
          l = n(67292),
          u = {};
        for (let e in l)
          0 >
            [
              "default",
              "tree",
              "pages",
              "GlobalError",
              "__next_app__",
              "routeModule",
            ].indexOf(e) && (u[e] = () => l[e]);
        n.d(r, u);
        let c = [
            "",
            {
              children: [
                "add",
                {
                  children: [
                    "__PAGE__",
                    {},
                    {
                      page: [
                        () => Promise.resolve().then(n.bind(n, 9648)),
                        "/Users/kaspars/Desktop/hotsaucebay/app/add/page.tsx",
                      ],
                    },
                  ],
                },
                {},
              ],
            },
            {
              layout: [
                () => Promise.resolve().then(n.bind(n, 86459)),
                "/Users/kaspars/Desktop/hotsaucebay/app/layout.tsx",
              ],
              error: [
                () => Promise.resolve().then(n.bind(n, 72627)),
                "/Users/kaspars/Desktop/hotsaucebay/app/error.tsx",
              ],
              "not-found": [
                () => Promise.resolve().then(n.t.bind(n, 19937, 23)),
                "next/dist/client/components/not-found-error",
              ],
            },
          ],
          d = ["/Users/kaspars/Desktop/hotsaucebay/app/add/page.tsx"],
          h = { require: n, loadChunk: () => Promise.resolve() },
          f = new i.AppPageRouteModule({
            definition: {
              kind: s.RouteKind.APP_PAGE,
              page: "/add/page",
              pathname: "/add",
              bundlePath: "",
              filename: "",
              appPaths: [],
            },
            userland: { loaderTree: c },
          });
      },
      34016: (e, r, n) => {
        Promise.resolve().then(n.bind(n, 9648));
      },
      63392: (e, r, n) => {
        Promise.resolve().then(n.bind(n, 33883));
      },
      33883: (e, r, n) => {
        "use strict";
        let i, s, a, o, l, u, c, d, h;
        n.r(r), n.d(r, { default: () => Md });
        var f,
          p,
          g,
          m,
          y,
          v,
          b,
          w = n(45512),
          T = n(58009),
          S = n.n(T);
        function E(e, r) {
          return (
            r.forEach(function (r) {
              r &&
                "string" != typeof r &&
                !Array.isArray(r) &&
                Object.keys(r).forEach(function (n) {
                  if ("default" !== n && !(n in e)) {
                    var i = Object.getOwnPropertyDescriptor(r, n);
                    Object.defineProperty(
                      e,
                      n,
                      i.get
                        ? i
                        : {
                            enumerable: !0,
                            get: function () {
                              return r[n];
                            },
                          },
                    );
                  }
                });
            }),
            Object.freeze(e)
          );
        }
        function C(e, r) {
          return new Promise(function (n, i) {
            let s;
            return x(e).then(function (e) {
              try {
                return (
                  (s = e),
                  n(
                    new Blob([r.slice(0, 2), s, r.slice(2)], {
                      type: "image/jpeg",
                    }),
                  )
                );
              } catch (e) {
                return i(e);
              }
            }, i);
          });
        }
        let x = (e) =>
          new Promise((r, n) => {
            let i = new FileReader();
            i.addEventListener("load", ({ target: { result: e } }) => {
              let i = new DataView(e),
                s = 0;
              if (65496 !== i.getUint16(s)) return n("not a valid JPEG");
              for (s += 2; ; ) {
                let a = i.getUint16(s);
                if (65498 === a) break;
                let o = i.getUint16(s + 2);
                if (65505 === a && 0x45786966 === i.getUint32(s + 4)) {
                  let a;
                  let l = s + 10;
                  switch (i.getUint16(l)) {
                    case 18761:
                      a = !0;
                      break;
                    case 19789:
                      a = !1;
                      break;
                    default:
                      return n("TIFF header contains invalid endian");
                  }
                  if (42 !== i.getUint16(l + 2, a))
                    return n("TIFF header contains invalid version");
                  let u = i.getUint32(l + 4, a),
                    c = l + u + 2 + 12 * i.getUint16(l + u, a);
                  for (let e = l + u + 2; e < c; e += 12)
                    if (274 == i.getUint16(e, a)) {
                      if (3 !== i.getUint16(e + 2, a))
                        return n("Orientation data type is invalid");
                      if (1 !== i.getUint32(e + 4, a))
                        return n("Orientation data count is invalid");
                      i.setUint16(e + 8, 1, a);
                      break;
                    }
                  return r(e.slice(s, s + 2 + o));
                }
                s += 2 + o;
              }
              return r(new Blob());
            }),
              i.readAsArrayBuffer(e);
          });
        var A = {},
          I = {
            get exports() {
              return A;
            },
            set exports(t) {
              A = t;
            },
          };
        !(function (e) {
          var r,
            n,
            i = {};
          (I.exports = i),
            (i.parse = function (e, r) {
              for (
                var n = i.bin.readUshort,
                  s = i.bin.readUint,
                  a = 0,
                  o = {},
                  l = new Uint8Array(e),
                  u = l.length - 4;
                0x6054b50 != s(l, u);

              )
                u--;
              var c = n(l, (a = u + 4 + 4));
              n(l, (a += 2));
              var d = s(l, (a += 2)),
                h = s(l, (a += 4));
              (a += 4), (a = h);
              for (var f = 0; f < c; f++) {
                s(l, a),
                  (a += 4),
                  (a += 4),
                  (a += 4),
                  s(l, (a += 4)),
                  (d = s(l, (a += 4)));
                var p = s(l, (a += 4)),
                  g = n(l, (a += 4)),
                  m = n(l, a + 2),
                  y = n(l, a + 4);
                a += 6;
                var v = s(l, (a += 8));
                (a += 4), (a += g + m + y), i._readLocal(l, v, o, d, p, r);
              }
              return o;
            }),
            (i._readLocal = function (e, r, n, s, a, o) {
              var l = i.bin.readUshort,
                u = i.bin.readUint;
              u(e, r), l(e, (r += 4)), l(e, (r += 2));
              var c = l(e, (r += 2));
              u(e, (r += 2)), u(e, (r += 4)), (r += 4);
              var d = l(e, (r += 8)),
                h = l(e, (r += 2));
              r += 2;
              var f = i.bin.readUTF8(e, r, d);
              if (((r += d), (r += h), o)) n[f] = { size: a, csize: s };
              else {
                var p = new Uint8Array(e.buffer, r);
                if (0 == c) n[f] = new Uint8Array(p.buffer.slice(r, r + s));
                else {
                  if (8 != c) throw "unknown compression method: " + c;
                  var g = new Uint8Array(a);
                  i.inflateRaw(p, g), (n[f] = g);
                }
              }
            }),
            (i.inflateRaw = function (e, r) {
              return i.F.inflate(e, r);
            }),
            (i.inflate = function (e, r) {
              return (
                e[0],
                e[1],
                i.inflateRaw(
                  new Uint8Array(e.buffer, e.byteOffset + 2, e.length - 6),
                  r,
                )
              );
            }),
            (i.deflate = function (e, r) {
              null == r && (r = { level: 6 });
              var n = 0,
                s = new Uint8Array(50 + Math.floor(1.1 * e.length));
              (s[n] = 120),
                (s[n + 1] = 156),
                (n += 2),
                (n = i.F.deflateRaw(e, s, n, r.level));
              var a = i.adler(e, 0, e.length);
              return (
                (s[n + 0] = (a >>> 24) & 255),
                (s[n + 1] = (a >>> 16) & 255),
                (s[n + 2] = (a >>> 8) & 255),
                (s[n + 3] = (a >>> 0) & 255),
                new Uint8Array(s.buffer, 0, n + 4)
              );
            }),
            (i.deflateRaw = function (e, r) {
              null == r && (r = { level: 6 });
              var n = new Uint8Array(50 + Math.floor(1.1 * e.length)),
                s = i.F.deflateRaw(e, n, s, r.level);
              return new Uint8Array(n.buffer, 0, s);
            }),
            (i.encode = function (e, r) {
              null == r && (r = !1);
              var n = 0,
                s = i.bin.writeUint,
                a = i.bin.writeUshort,
                o = {};
              for (var l in e) {
                var u = !i._noNeed(l) && !r,
                  c = e[l],
                  d = i.crc.crc(c, 0, c.length);
                o[l] = {
                  cpr: u,
                  usize: c.length,
                  crc: d,
                  file: u ? i.deflateRaw(c) : c,
                };
              }
              for (var l in o)
                n += o[l].file.length + 30 + 46 + 2 * i.bin.sizeUTF8(l);
              var h = new Uint8Array((n += 22)),
                f = 0,
                p = [];
              for (var l in o) {
                var g = o[l];
                p.push(f), (f = i._writeHeader(h, f, l, g, 0));
              }
              var m = 0,
                y = f;
              for (var l in o)
                (g = o[l]),
                  p.push(f),
                  (f = i._writeHeader(h, f, l, g, 1, p[m++]));
              var v = f - y;
              return (
                s(h, f, 0x6054b50),
                (f += 4),
                a(h, (f += 4), m),
                a(h, (f += 2), m),
                s(h, (f += 2), v),
                s(h, (f += 4), y),
                (f += 4),
                (f += 2),
                h.buffer
              );
            }),
            (i._noNeed = function (e) {
              var r = e.split(".").pop().toLowerCase();
              return -1 != "png,jpg,jpeg,zip".indexOf(r);
            }),
            (i._writeHeader = function (e, r, n, s, a, o) {
              var l = i.bin.writeUint,
                u = i.bin.writeUshort,
                c = s.file;
              return (
                l(e, r, 0 == a ? 0x4034b50 : 0x2014b50),
                (r += 4),
                1 == a && (r += 2),
                u(e, r, 20),
                u(e, (r += 2), 0),
                u(e, (r += 2), s.cpr ? 8 : 0),
                l(e, (r += 2), 0),
                l(e, (r += 4), s.crc),
                l(e, (r += 4), c.length),
                l(e, (r += 4), s.usize),
                u(e, (r += 4), i.bin.sizeUTF8(n)),
                u(e, (r += 2), 0),
                (r += 2),
                1 == a && ((r += 2), (r += 2), l(e, (r += 6), o), (r += 4)),
                (r += i.bin.writeUTF8(e, r, n)),
                0 == a && (e.set(c, r), (r += c.length)),
                r
              );
            }),
            (i.crc = {
              table: (function () {
                for (var e = new Uint32Array(256), r = 0; r < 256; r++) {
                  for (var n = r, i = 0; i < 8; i++)
                    1 & n ? (n = 0xedb88320 ^ (n >>> 1)) : (n >>>= 1);
                  e[r] = n;
                }
                return e;
              })(),
              update: function (e, r, n, s) {
                for (var a = 0; a < s; a++)
                  e = i.crc.table[255 & (e ^ r[n + a])] ^ (e >>> 8);
                return e;
              },
              crc: function (e, r, n) {
                return 0xffffffff ^ i.crc.update(0xffffffff, e, r, n);
              },
            }),
            (i.adler = function (e, r, n) {
              for (var i = 1, s = 0, a = r, o = r + n; a < o; ) {
                for (var l = Math.min(a + 5552, o); a < l; ) s += i += e[a++];
                (i %= 65521), (s %= 65521);
              }
              return (s << 16) | i;
            }),
            (i.bin = {
              readUshort: function (e, r) {
                return e[r] | (e[r + 1] << 8);
              },
              writeUshort: function (e, r, n) {
                (e[r] = 255 & n), (e[r + 1] = (n >> 8) & 255);
              },
              readUint: function (e, r) {
                return (
                  0x1000000 * e[r + 3] +
                  ((e[r + 2] << 16) | (e[r + 1] << 8) | e[r])
                );
              },
              writeUint: function (e, r, n) {
                (e[r] = 255 & n),
                  (e[r + 1] = (n >> 8) & 255),
                  (e[r + 2] = (n >> 16) & 255),
                  (e[r + 3] = (n >> 24) & 255);
              },
              readASCII: function (e, r, n) {
                for (var i = "", s = 0; s < n; s++)
                  i += String.fromCharCode(e[r + s]);
                return i;
              },
              writeASCII: function (e, r, n) {
                for (var i = 0; i < n.length; i++) e[r + i] = n.charCodeAt(i);
              },
              pad: function (e) {
                return e.length < 2 ? "0" + e : e;
              },
              readUTF8: function (e, r, n) {
                for (var s, a = "", o = 0; o < n; o++)
                  a += "%" + i.bin.pad(e[r + o].toString(16));
                try {
                  s = decodeURIComponent(a);
                } catch (s) {
                  return i.bin.readASCII(e, r, n);
                }
                return s;
              },
              writeUTF8: function (e, r, n) {
                for (var i = n.length, s = 0, a = 0; a < i; a++) {
                  var o = n.charCodeAt(a);
                  if (0 == (0xffffff80 & o)) (e[r + s] = o), s++;
                  else if (0 == (0xfffff800 & o))
                    (e[r + s] = 192 | (o >> 6)),
                      (e[r + s + 1] = 128 | ((o >> 0) & 63)),
                      (s += 2);
                  else if (0 == (0xffff0000 & o))
                    (e[r + s] = 224 | (o >> 12)),
                      (e[r + s + 1] = 128 | ((o >> 6) & 63)),
                      (e[r + s + 2] = 128 | ((o >> 0) & 63)),
                      (s += 3);
                  else {
                    if (0 != (0xffe00000 & o)) throw "e";
                    (e[r + s] = 240 | (o >> 18)),
                      (e[r + s + 1] = 128 | ((o >> 12) & 63)),
                      (e[r + s + 2] = 128 | ((o >> 6) & 63)),
                      (e[r + s + 3] = 128 | ((o >> 0) & 63)),
                      (s += 4);
                  }
                }
                return s;
              },
              sizeUTF8: function (e) {
                for (var r = e.length, n = 0, i = 0; i < r; i++) {
                  var s = e.charCodeAt(i);
                  if (0 == (0xffffff80 & s)) n++;
                  else if (0 == (0xfffff800 & s)) n += 2;
                  else if (0 == (0xffff0000 & s)) n += 3;
                  else {
                    if (0 != (0xffe00000 & s)) throw "e";
                    n += 4;
                  }
                }
                return n;
              },
            }),
            (i.F = {}),
            (i.F.deflateRaw = function (e, r, n, s) {
              var a = [
                  [0, 0, 0, 0, 0],
                  [4, 4, 8, 4, 0],
                  [4, 5, 16, 8, 0],
                  [4, 6, 16, 16, 0],
                  [4, 10, 16, 32, 0],
                  [8, 16, 32, 32, 0],
                  [8, 16, 128, 128, 0],
                  [8, 32, 128, 256, 0],
                  [32, 128, 258, 1024, 1],
                  [32, 258, 258, 4096, 1],
                ][s],
                o = i.F.U,
                l = i.F._goodIndex;
              i.F._hash;
              var u = i.F._putsE,
                c = 0,
                d = n << 3,
                h = 0,
                f = e.length;
              if (0 == s) {
                for (; c < f; )
                  u(r, d, c + (x = Math.min(65535, f - c)) == f ? 1 : 0),
                    (d = i.F._copyExact(e, c, x, r, d + 8)),
                    (c += x);
                return d >>> 3;
              }
              var p = o.lits,
                g = o.strt,
                m = o.prev,
                y = 0,
                v = 0,
                b = 0,
                w = 0,
                T = 0,
                S = 0;
              for (f > 2 && (g[(S = i.F._hash(e, 0))] = 0), c = 0; c < f; c++) {
                if (((T = S), c + 1 < f - 2)) {
                  S = i.F._hash(e, c + 1);
                  var E = (c + 1) & 32767;
                  (m[E] = g[S]), (g[S] = E);
                }
                if (h <= c) {
                  (y > 14e3 || v > 26697) &&
                    f - c > 100 &&
                    (h < c && ((p[y] = c - h), (y += 2), (h = c)),
                    (d = i.F._writeBlock(
                      c == f - 1 || h == f ? 1 : 0,
                      p,
                      y,
                      w,
                      e,
                      b,
                      c - b,
                      r,
                      d,
                    )),
                    (y = v = w = 0),
                    (b = c));
                  var C = 0;
                  c < f - 2 &&
                    (C = i.F._bestMatch(
                      e,
                      c,
                      m,
                      T,
                      Math.min(a[2], f - c),
                      a[3],
                    ));
                  var x = C >>> 16,
                    A = 65535 & C;
                  if (0 != C) {
                    A = 65535 & C;
                    var I = l((x = C >>> 16), o.of0);
                    o.lhst[257 + I]++;
                    var k = l(A, o.df0);
                    o.dhst[k]++,
                      (w += o.exb[I] + o.dxb[k]),
                      (p[y] = (x << 23) | (c - h)),
                      (p[y + 1] = (A << 16) | (I << 8) | k),
                      (y += 2),
                      (h = c + x);
                  } else o.lhst[e[c]]++;
                  v++;
                }
              }
              for (
                (b == c && 0 != e.length) ||
                (h < c && ((p[y] = c - h), (y += 2), (h = c)),
                (d = i.F._writeBlock(1, p, y, w, e, b, c - b, r, d)),
                (y = 0),
                (v = 0),
                (y = v = w = 0),
                (b = c));
                0 != (7 & d);

              )
                d++;
              return d >>> 3;
            }),
            (i.F._bestMatch = function (e, r, n, s, a, o) {
              var l = 32767 & r,
                u = n[l],
                c = (l - u + 32768) & 32767;
              if (u == l || s != i.F._hash(e, r - c)) return 0;
              for (
                var d = 0, h = 0, f = Math.min(32767, r);
                c <= f && 0 != --o && u != l;

              ) {
                if (0 == d || e[r + d] == e[r + d - c]) {
                  var p = i.F._howLong(e, r, c);
                  if (p > d) {
                    if (((h = c), (d = p) >= a)) break;
                    c + 2 < p && (p = c + 2);
                    for (var g = 0, m = 0; m < p - 2; m++) {
                      var y = (r - c + m + 32768) & 32767,
                        v = (y - n[y] + 32768) & 32767;
                      v > g && ((g = v), (u = y));
                    }
                  }
                }
                c += ((l = u) - (u = n[l]) + 32768) & 32767;
              }
              return (d << 16) | h;
            }),
            (i.F._howLong = function (e, r, n) {
              if (
                e[r] != e[r - n] ||
                e[r + 1] != e[r + 1 - n] ||
                e[r + 2] != e[r + 2 - n]
              )
                return 0;
              var i = r,
                s = Math.min(e.length, r + 258);
              for (r += 3; r < s && e[r] == e[r - n]; ) r++;
              return r - i;
            }),
            (i.F._hash = function (e, r) {
              return (((e[r] << 8) | e[r + 1]) + (e[r + 2] << 4)) & 65535;
            }),
            (i.saved = 0),
            (i.F._writeBlock = function (e, r, n, s, a, o, l, u, c) {
              var d,
                h,
                f,
                p,
                g,
                m,
                y,
                v,
                b,
                w,
                T,
                S = i.F.U,
                E = i.F._putsF,
                C = i.F._putsE;
              S.lhst[256]++,
                (p = (f = i.F.getTrees())[0]),
                (g = f[1]),
                (m = f[2]),
                (y = f[3]),
                (v = f[4]),
                (b = f[5]),
                (w = f[6]),
                (T = f[7]);
              var x =
                  32 + (0 == ((c + 3) & 7) ? 0 : 8 - ((c + 3) & 7)) + (l << 3),
                A =
                  s +
                  i.F.contSize(S.fltree, S.lhst) +
                  i.F.contSize(S.fdtree, S.dhst),
                I =
                  s +
                  i.F.contSize(S.ltree, S.lhst) +
                  i.F.contSize(S.dtree, S.dhst);
              I +=
                14 +
                3 * b +
                i.F.contSize(S.itree, S.ihst) +
                (2 * S.ihst[16] + 3 * S.ihst[17] + 7 * S.ihst[18]);
              for (var k = 0; k < 286; k++) S.lhst[k] = 0;
              for (k = 0; k < 30; k++) S.dhst[k] = 0;
              for (k = 0; k < 19; k++) S.ihst[k] = 0;
              var _ = x < A && x < I ? 0 : A < I ? 1 : 2;
              if ((E(u, c, e), E(u, c + 1, _), (c += 3), 0 == _)) {
                for (; 0 != (7 & c); ) c++;
                c = i.F._copyExact(a, o, l, u, c);
              } else {
                if ((1 == _ && ((d = S.fltree), (h = S.fdtree)), 2 == _)) {
                  i.F.makeCodes(S.ltree, p),
                    i.F.revCodes(S.ltree, p),
                    i.F.makeCodes(S.dtree, g),
                    i.F.revCodes(S.dtree, g),
                    i.F.makeCodes(S.itree, m),
                    i.F.revCodes(S.itree, m),
                    (d = S.ltree),
                    (h = S.dtree),
                    C(u, c, y - 257),
                    C(u, (c += 5), v - 1),
                    C(u, (c += 5), b - 4),
                    (c += 4);
                  for (var R = 0; R < b; R++)
                    C(u, c + 3 * R, S.itree[1 + (S.ordr[R] << 1)]);
                  (c += 3 * b),
                    (c = i.F._codeTiny(w, S.itree, u, c)),
                    (c = i.F._codeTiny(T, S.itree, u, c));
                }
                for (var D = o, P = 0; P < n; P += 2) {
                  for (
                    var N = r[P], O = N >>> 23, M = D + (8388607 & N);
                    D < M;

                  )
                    c = i.F._writeLit(a[D++], d, u, c);
                  if (0 != O) {
                    var L = r[P + 1],
                      B = L >> 16,
                      F = (L >> 8) & 255,
                      U = 255 & L;
                    C(u, (c = i.F._writeLit(257 + F, d, u, c)), O - S.of0[F]),
                      (c += S.exb[F]),
                      E(u, (c = i.F._writeLit(U, h, u, c)), B - S.df0[U]),
                      (c += S.dxb[U]),
                      (D += O);
                  }
                }
                c = i.F._writeLit(256, d, u, c);
              }
              return c;
            }),
            (i.F._copyExact = function (e, r, n, i, s) {
              var a = s >>> 3;
              return (
                (i[a] = n),
                (i[a + 1] = n >>> 8),
                (i[a + 2] = 255 - i[a]),
                (i[a + 3] = 255 - i[a + 1]),
                (a += 4),
                i.set(new Uint8Array(e.buffer, r, n), a),
                s + ((n + 4) << 3)
              );
            }),
            (i.F.getTrees = function () {
              for (
                var e = i.F.U,
                  r = i.F._hufTree(e.lhst, e.ltree, 15),
                  n = i.F._hufTree(e.dhst, e.dtree, 15),
                  s = [],
                  a = i.F._lenCodes(e.ltree, s),
                  o = [],
                  l = i.F._lenCodes(e.dtree, o),
                  u = 0;
                u < s.length;
                u += 2
              )
                e.ihst[s[u]]++;
              for (u = 0; u < o.length; u += 2) e.ihst[o[u]]++;
              for (
                var c = i.F._hufTree(e.ihst, e.itree, 7), d = 19;
                d > 4 && 0 == e.itree[1 + (e.ordr[d - 1] << 1)];

              )
                d--;
              return [r, n, c, a, l, d, s, o];
            }),
            (i.F.getSecond = function (e) {
              for (var r = [], n = 0; n < e.length; n += 2) r.push(e[n + 1]);
              return r;
            }),
            (i.F.nonZero = function (e) {
              for (var r = "", n = 0; n < e.length; n += 2)
                0 != e[n + 1] && (r += (n >> 1) + ",");
              return r;
            }),
            (i.F.contSize = function (e, r) {
              for (var n = 0, i = 0; i < r.length; i++)
                n += r[i] * e[1 + (i << 1)];
              return n;
            }),
            (i.F._codeTiny = function (e, r, n, s) {
              for (var a = 0; a < e.length; a += 2) {
                var o = e[a],
                  l = e[a + 1];
                s = i.F._writeLit(o, r, n, s);
                var u = 16 == o ? 2 : 17 == o ? 3 : 7;
                o > 15 && (i.F._putsE(n, s, l, u), (s += u));
              }
              return s;
            }),
            (i.F._lenCodes = function (e, r) {
              for (var n = e.length; 2 != n && 0 == e[n - 1]; ) n -= 2;
              for (var i = 0; i < n; i += 2) {
                var s = e[i + 1],
                  a = i + 3 < n ? e[i + 3] : -1,
                  o = i + 5 < n ? e[i + 5] : -1,
                  l = 0 == i ? -1 : e[i - 1];
                if (0 == s && a == s && o == s) {
                  for (var u = i + 5; u + 2 < n && e[u + 2] == s; ) u += 2;
                  (c = Math.min((u + 1 - i) >>> 1, 138)) < 11
                    ? r.push(17, c - 3)
                    : r.push(18, c - 11),
                    (i += 2 * c - 2);
                } else if (s == l && a == s && o == s) {
                  for (u = i + 5; u + 2 < n && e[u + 2] == s; ) u += 2;
                  var c = Math.min((u + 1 - i) >>> 1, 6);
                  r.push(16, c - 3), (i += 2 * c - 2);
                } else r.push(s, 0);
              }
              return n >>> 1;
            }),
            (i.F._hufTree = function (e, r, n) {
              var s = [],
                a = e.length,
                o = r.length,
                l = 0;
              for (l = 0; l < o; l += 2) (r[l] = 0), (r[l + 1] = 0);
              for (l = 0; l < a; l++) 0 != e[l] && s.push({ lit: l, f: e[l] });
              var u = s.length,
                c = s.slice(0);
              if (0 == u) return 0;
              if (1 == u) {
                var d = s[0].lit;
                return (
                  (c = 0 == d ? 1 : 0),
                  (r[1 + (d << 1)] = 1),
                  (r[1 + (c << 1)] = 1),
                  1
                );
              }
              s.sort(function (e, r) {
                return e.f - r.f;
              });
              var h = s[0],
                f = s[1],
                p = 0,
                g = 1,
                m = 2;
              for (
                s[0] = { lit: -1, f: h.f + f.f, l: h, r: f, d: 0 };
                g != u - 1;

              )
                (h = p != g && (m == u || s[p].f < s[m].f) ? s[p++] : s[m++]),
                  (f = p != g && (m == u || s[p].f < s[m].f) ? s[p++] : s[m++]),
                  (s[g++] = { lit: -1, f: h.f + f.f, l: h, r: f });
              var y = i.F.setDepth(s[g - 1], 0);
              for (
                y > n && (i.F.restrictDepth(c, n, y), (y = n)), l = 0;
                l < u;
                l++
              )
                r[1 + (c[l].lit << 1)] = c[l].d;
              return y;
            }),
            (i.F.setDepth = function (e, r) {
              return -1 != e.lit
                ? ((e.d = r), r)
                : Math.max(i.F.setDepth(e.l, r + 1), i.F.setDepth(e.r, r + 1));
            }),
            (i.F.restrictDepth = function (e, r, n) {
              var i = 0,
                s = 1 << (n - r),
                a = 0;
              for (
                e.sort(function (e, r) {
                  return r.d == e.d ? e.f - r.f : r.d - e.d;
                }),
                  i = 0;
                i < e.length && e[i].d > r;
                i++
              ) {
                var o = e[i].d;
                (e[i].d = r), (a += s - (1 << (n - o)));
              }
              for (a >>>= n - r; a > 0; )
                (o = e[i].d) < r ? (e[i].d++, (a -= 1 << (r - o - 1))) : i++;
              for (; i >= 0; i--) e[i].d == r && a < 0 && (e[i].d--, a++);
              0 != a && console.log("debt left");
            }),
            (i.F._goodIndex = function (e, r) {
              var n = 0;
              return (
                r[16] <= e && (n |= 16),
                r[8 | n] <= e && (n |= 8),
                r[4 | n] <= e && (n |= 4),
                r[2 | n] <= e && (n |= 2),
                r[1 | n] <= e && (n |= 1),
                n
              );
            }),
            (i.F._writeLit = function (e, r, n, s) {
              return i.F._putsF(n, s, r[e << 1]), s + r[1 + (e << 1)];
            }),
            (i.F.inflate = function (e, r) {
              var n = Uint8Array;
              if (3 == e[0] && 0 == e[1]) return r || new n(0);
              var s = i.F,
                a = s._bitsF,
                o = s._bitsE,
                l = s._decodeTiny,
                u = s.makeCodes,
                c = s.codes2map,
                d = s._get17,
                h = s.U,
                f = null == r;
              f && (r = new n((e.length >>> 2) << 3));
              for (
                var p,
                  g,
                  m = 0,
                  y = 0,
                  v = 0,
                  b = 0,
                  w = 0,
                  T = 0,
                  S = 0,
                  E = 0,
                  C = 0;
                0 == m;

              )
                if (
                  ((m = a(e, C, 1)), (y = a(e, C + 1, 2)), (C += 3), 0 != y)
                ) {
                  if (
                    (f && (r = i.F._check(r, E + 131072)),
                    1 == y &&
                      ((p = h.flmap), (g = h.fdmap), (T = 511), (S = 31)),
                    2 == y)
                  ) {
                    (v = o(e, C, 5) + 257),
                      (b = o(e, C + 5, 5) + 1),
                      (w = o(e, C + 10, 4) + 4),
                      (C += 14);
                    for (var x = 0; x < 38; x += 2)
                      (h.itree[x] = 0), (h.itree[x + 1] = 0);
                    var A = 1;
                    for (x = 0; x < w; x++) {
                      var I = o(e, C + 3 * x, 3);
                      (h.itree[1 + (h.ordr[x] << 1)] = I), I > A && (A = I);
                    }
                    (C += 3 * w),
                      u(h.itree, A),
                      c(h.itree, A, h.imap),
                      (p = h.lmap),
                      (g = h.dmap),
                      (C = l(h.imap, (1 << A) - 1, v + b, e, C, h.ttree));
                    var k = s._copyOut(h.ttree, 0, v, h.ltree);
                    T = (1 << k) - 1;
                    var _ = s._copyOut(h.ttree, v, b, h.dtree);
                    (S = (1 << _) - 1),
                      u(h.ltree, k),
                      c(h.ltree, k, p),
                      u(h.dtree, _),
                      c(h.dtree, _, g);
                  }
                  for (;;) {
                    var R = p[d(e, C) & T];
                    C += 15 & R;
                    var D = R >>> 4;
                    if (D >>> 8 == 0) r[E++] = D;
                    else {
                      if (256 == D) break;
                      var P = E + D - 254;
                      if (D > 264) {
                        var N = h.ldef[D - 257];
                        (P = E + (N >>> 3) + o(e, C, 7 & N)), (C += 7 & N);
                      }
                      var O = g[d(e, C) & S];
                      C += 15 & O;
                      var M = O >>> 4,
                        L = h.ddef[M],
                        B = (L >>> 4) + a(e, C, 15 & L);
                      for (
                        C += 15 & L, f && (r = i.F._check(r, E + 131072));
                        E < P;

                      )
                        (r[E] = r[E++ - B]),
                          (r[E] = r[E++ - B]),
                          (r[E] = r[E++ - B]),
                          (r[E] = r[E++ - B]);
                      E = P;
                    }
                  }
                } else {
                  0 != (7 & C) && (C += 8 - (7 & C));
                  var F = 4 + (C >>> 3),
                    U = e[F - 4] | (e[F - 3] << 8);
                  f && (r = i.F._check(r, E + U)),
                    r.set(new n(e.buffer, e.byteOffset + F, U), E),
                    (C = (F + U) << 3),
                    (E += U);
                }
              return r.length == E ? r : r.slice(0, E);
            }),
            (i.F._check = function (e, r) {
              var n = e.length;
              if (r <= n) return e;
              var i = new Uint8Array(Math.max(n << 1, r));
              return i.set(e, 0), i;
            }),
            (i.F._decodeTiny = function (e, r, n, s, a, o) {
              for (var l = i.F._bitsE, u = i.F._get17, c = 0; c < n; ) {
                var d = e[u(s, a) & r];
                a += 15 & d;
                var h = d >>> 4;
                if (h <= 15) (o[c] = h), c++;
                else {
                  var f = 0,
                    p = 0;
                  16 == h
                    ? ((p = 3 + l(s, a, 2)), (a += 2), (f = o[c - 1]))
                    : 17 == h
                      ? ((p = 3 + l(s, a, 3)), (a += 3))
                      : 18 == h && ((p = 11 + l(s, a, 7)), (a += 7));
                  for (var g = c + p; c < g; ) (o[c] = f), c++;
                }
              }
              return a;
            }),
            (i.F._copyOut = function (e, r, n, i) {
              for (var s = 0, a = 0, o = i.length >>> 1; a < n; ) {
                var l = e[a + r];
                (i[a << 1] = 0), (i[1 + (a << 1)] = l), l > s && (s = l), a++;
              }
              for (; a < o; ) (i[a << 1] = 0), (i[1 + (a << 1)] = 0), a++;
              return s;
            }),
            (i.F.makeCodes = function (e, r) {
              for (
                var n, s, a, o, l = i.F.U, u = e.length, c = l.bl_count, d = 0;
                d <= r;
                d++
              )
                c[d] = 0;
              for (d = 1; d < u; d += 2) c[e[d]]++;
              var h = l.next_code;
              for (n = 0, c[0] = 0, s = 1; s <= r; s++)
                (n = (n + c[s - 1]) << 1), (h[s] = n);
              for (a = 0; a < u; a += 2)
                0 != (o = e[a + 1]) && ((e[a] = h[o]), h[o]++);
            }),
            (i.F.codes2map = function (e, r, n) {
              for (var s = e.length, a = i.F.U.rev15, o = 0; o < s; o += 2)
                if (0 != e[o + 1])
                  for (
                    var l = o >> 1,
                      u = e[o + 1],
                      c = (l << 4) | u,
                      d = r - u,
                      h = e[o] << d,
                      f = h + (1 << d);
                    h != f;

                  )
                    (n[a[h] >>> (15 - r)] = c), h++;
            }),
            (i.F.revCodes = function (e, r) {
              for (
                var n = i.F.U.rev15, s = 15 - r, a = 0;
                a < e.length;
                a += 2
              ) {
                var o = e[a] << (r - e[a + 1]);
                e[a] = n[o] >>> s;
              }
            }),
            (i.F._putsE = function (e, r, n) {
              n <<= 7 & r;
              var i = r >>> 3;
              (e[i] |= n), (e[i + 1] |= n >>> 8);
            }),
            (i.F._putsF = function (e, r, n) {
              n <<= 7 & r;
              var i = r >>> 3;
              (e[i] |= n), (e[i + 1] |= n >>> 8), (e[i + 2] |= n >>> 16);
            }),
            (i.F._bitsE = function (e, r, n) {
              return (
                ((e[r >>> 3] | (e[1 + (r >>> 3)] << 8)) >>> (7 & r)) &
                ((1 << n) - 1)
              );
            }),
            (i.F._bitsF = function (e, r, n) {
              return (
                ((e[r >>> 3] |
                  (e[1 + (r >>> 3)] << 8) |
                  (e[2 + (r >>> 3)] << 16)) >>>
                  (7 & r)) &
                ((1 << n) - 1)
              );
            }),
            (i.F._get17 = function (e, r) {
              return (
                (e[r >>> 3] |
                  (e[1 + (r >>> 3)] << 8) |
                  (e[2 + (r >>> 3)] << 16)) >>>
                (7 & r)
              );
            }),
            (i.F._get25 = function (e, r) {
              return (
                (e[r >>> 3] |
                  (e[1 + (r >>> 3)] << 8) |
                  (e[2 + (r >>> 3)] << 16) |
                  (e[3 + (r >>> 3)] << 24)) >>>
                (7 & r)
              );
            }),
            (i.F.U =
              ((r = Uint16Array),
              (n = Uint32Array),
              {
                next_code: new r(16),
                bl_count: new r(16),
                ordr: [
                  16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1,
                  15,
                ],
                of0: [
                  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35,
                  43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999,
                  999, 999,
                ],
                exb: [
                  0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4,
                  4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0,
                ],
                ldef: new r(32),
                df0: [
                  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
                  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193,
                  12289, 16385, 24577, 65535, 65535,
                ],
                dxb: [
                  0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9,
                  9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0,
                ],
                ddef: new n(32),
                flmap: new r(512),
                fltree: [],
                fdmap: new r(32),
                fdtree: [],
                lmap: new r(32768),
                ltree: [],
                ttree: [],
                dmap: new r(32768),
                dtree: [],
                imap: new r(512),
                itree: [],
                rev15: new r(32768),
                lhst: new n(286),
                dhst: new n(30),
                ihst: new n(19),
                lits: new n(15e3),
                strt: new r(65536),
                prev: new r(32768),
              })),
            (function () {
              for (var e = i.F.U, r = 0; r < 32768; r++) {
                var n = r;
                (n =
                  ((0xff00ff00 &
                    (n =
                      ((0xf0f0f0f0 &
                        (n =
                          ((0xcccccccc &
                            (n =
                              ((0xaaaaaaaa & n) >>> 1) |
                              ((0x55555555 & n) << 1))) >>>
                            2) |
                          ((0x33333333 & n) << 2))) >>>
                        4) |
                      ((0xf0f0f0f & n) << 4))) >>>
                    8) |
                  ((0xff00ff & n) << 8)),
                  (e.rev15[r] = ((n >>> 16) | (n << 16)) >>> 17);
              }
              function s(e, r, n) {
                for (; 0 != r--; ) e.push(0, n);
              }
              for (r = 0; r < 32; r++)
                (e.ldef[r] = (e.of0[r] << 3) | e.exb[r]),
                  (e.ddef[r] = (e.df0[r] << 4) | e.dxb[r]);
              s(e.fltree, 144, 8),
                s(e.fltree, 112, 9),
                s(e.fltree, 24, 7),
                s(e.fltree, 8, 8),
                i.F.makeCodes(e.fltree, 9),
                i.F.codes2map(e.fltree, 9, e.flmap),
                i.F.revCodes(e.fltree, 9),
                s(e.fdtree, 32, 5),
                i.F.makeCodes(e.fdtree, 5),
                i.F.codes2map(e.fdtree, 5, e.fdmap),
                i.F.revCodes(e.fdtree, 5),
                s(e.itree, 19, 0),
                s(e.ltree, 286, 0),
                s(e.dtree, 30, 0),
                s(e.ttree, 320, 0);
            })();
        })();
        var k = E({ __proto__: null, default: A }, [A]);
        let _ = (function () {
          var e = {
            nextZero(e, r) {
              for (; 0 != e[r]; ) r++;
              return r;
            },
            readUshort: (e, r) => (e[r] << 8) | e[r + 1],
            writeUshort(e, r, n) {
              (e[r] = (n >> 8) & 255), (e[r + 1] = 255 & n);
            },
            readUint: (e, r) =>
              0x1000000 * e[r] +
              ((e[r + 1] << 16) | (e[r + 2] << 8) | e[r + 3]),
            writeUint(e, r, n) {
              (e[r] = (n >> 24) & 255),
                (e[r + 1] = (n >> 16) & 255),
                (e[r + 2] = (n >> 8) & 255),
                (e[r + 3] = 255 & n);
            },
            readASCII(e, r, n) {
              let i = "";
              for (let s = 0; s < n; s++) i += String.fromCharCode(e[r + s]);
              return i;
            },
            writeASCII(e, r, n) {
              for (let i = 0; i < n.length; i++) e[r + i] = n.charCodeAt(i);
            },
            readBytes(e, r, n) {
              let i = [];
              for (let s = 0; s < n; s++) i.push(e[r + s]);
              return i;
            },
            pad: (e) => (e.length < 2 ? `0${e}` : e),
            readUTF8(r, n, i) {
              let s,
                a = "";
              for (let s = 0; s < i; s++)
                a += `%${e.pad(r[n + s].toString(16))}`;
              try {
                s = decodeURIComponent(a);
              } catch (s) {
                return e.readASCII(r, n, i);
              }
              return s;
            },
          };
          function r(r, n, i, s) {
            let o = n * i,
              l = Math.ceil((n * a(s)) / 8),
              u = new Uint8Array(4 * o),
              c = new Uint32Array(u.buffer),
              { ctype: d } = s,
              { depth: h } = s,
              f = e.readUshort;
            if (6 == d) {
              let e = o << 2;
              if (8 == h)
                for (var p = 0; p < e; p += 4)
                  (u[p] = r[p]),
                    (u[p + 1] = r[p + 1]),
                    (u[p + 2] = r[p + 2]),
                    (u[p + 3] = r[p + 3]);
              if (16 == h) for (p = 0; p < e; p++) u[p] = r[p << 1];
            } else if (2 == d) {
              let e = s.tabs.tRNS;
              if (null == e) {
                if (8 == h)
                  for (p = 0; p < o; p++) {
                    var g = 3 * p;
                    c[p] =
                      -0x1000000 | (r[g + 2] << 16) | (r[g + 1] << 8) | r[g];
                  }
                if (16 == h)
                  for (p = 0; p < o; p++)
                    (g = 6 * p),
                      (c[p] =
                        -0x1000000 | (r[g + 4] << 16) | (r[g + 2] << 8) | r[g]);
              } else {
                var m = e[0];
                let n = e[1],
                  i = e[2];
                if (8 == h)
                  for (p = 0; p < o; p++) {
                    var y = p << 2;
                    (g = 3 * p),
                      (c[p] =
                        -0x1000000 | (r[g + 2] << 16) | (r[g + 1] << 8) | r[g]),
                      r[g] == m &&
                        r[g + 1] == n &&
                        r[g + 2] == i &&
                        (u[y + 3] = 0);
                  }
                if (16 == h)
                  for (p = 0; p < o; p++)
                    (y = p << 2),
                      (g = 6 * p),
                      (c[p] =
                        -0x1000000 | (r[g + 4] << 16) | (r[g + 2] << 8) | r[g]),
                      f(r, g) == m &&
                        f(r, g + 2) == n &&
                        f(r, g + 4) == i &&
                        (u[y + 3] = 0);
              }
            } else if (3 == d) {
              let e = s.tabs.PLTE,
                a = s.tabs.tRNS,
                c = a ? a.length : 0;
              if (1 == h)
                for (var v, b = 0; b < i; b++) {
                  var w = b * l,
                    T = b * n;
                  for (p = 0; p < n; p++) {
                    y = (T + p) << 2;
                    var S =
                      3 * (v = (r[w + (p >> 3)] >> (7 - ((7 & p) << 0))) & 1);
                    (u[y] = e[S]),
                      (u[y + 1] = e[S + 1]),
                      (u[y + 2] = e[S + 2]),
                      (u[y + 3] = v < c ? a[v] : 255);
                  }
                }
              if (2 == h)
                for (b = 0; b < i; b++)
                  for (w = b * l, T = b * n, p = 0; p < n; p++)
                    (y = (T + p) << 2),
                      (S =
                        3 *
                        (v = (r[w + (p >> 2)] >> (6 - ((3 & p) << 1))) & 3)),
                      (u[y] = e[S]),
                      (u[y + 1] = e[S + 1]),
                      (u[y + 2] = e[S + 2]),
                      (u[y + 3] = v < c ? a[v] : 255);
              if (4 == h)
                for (b = 0; b < i; b++)
                  for (w = b * l, T = b * n, p = 0; p < n; p++)
                    (y = (T + p) << 2),
                      (S =
                        3 *
                        (v = (r[w + (p >> 1)] >> (4 - ((1 & p) << 2))) & 15)),
                      (u[y] = e[S]),
                      (u[y + 1] = e[S + 1]),
                      (u[y + 2] = e[S + 2]),
                      (u[y + 3] = v < c ? a[v] : 255);
              if (8 == h)
                for (p = 0; p < o; p++)
                  (y = p << 2),
                    (S = 3 * (v = r[p])),
                    (u[y] = e[S]),
                    (u[y + 1] = e[S + 1]),
                    (u[y + 2] = e[S + 2]),
                    (u[y + 3] = v < c ? a[v] : 255);
            } else if (4 == d) {
              if (8 == h)
                for (p = 0; p < o; p++) {
                  y = p << 2;
                  var E,
                    C = r[(E = p << 1)];
                  (u[y] = C),
                    (u[y + 1] = C),
                    (u[y + 2] = C),
                    (u[y + 3] = r[E + 1]);
                }
              if (16 == h)
                for (p = 0; p < o; p++)
                  (y = p << 2),
                    (C = r[(E = p << 2)]),
                    (u[y] = C),
                    (u[y + 1] = C),
                    (u[y + 2] = C),
                    (u[y + 3] = r[E + 2]);
            } else if (0 == d)
              for (m = s.tabs.tRNS ? s.tabs.tRNS : -1, b = 0; b < i; b++) {
                let e = b * l,
                  i = b * n;
                if (1 == h)
                  for (var x = 0; x < n; x++) {
                    var A =
                      (C = 255 * ((r[e + (x >>> 3)] >>> (7 - (7 & x))) & 1)) ==
                      255 * m
                        ? 0
                        : 255;
                    c[i + x] = (A << 24) | (C << 16) | (C << 8) | C;
                  }
                else if (2 == h)
                  for (x = 0; x < n; x++)
                    (A =
                      (C =
                        85 *
                        ((r[e + (x >>> 2)] >>> (6 - ((3 & x) << 1))) & 3)) ==
                      85 * m
                        ? 0
                        : 255),
                      (c[i + x] = (A << 24) | (C << 16) | (C << 8) | C);
                else if (4 == h)
                  for (x = 0; x < n; x++)
                    (A =
                      (C =
                        17 *
                        ((r[e + (x >>> 1)] >>> (4 - ((1 & x) << 2))) & 15)) ==
                      17 * m
                        ? 0
                        : 255),
                      (c[i + x] = (A << 24) | (C << 16) | (C << 8) | C);
                else if (8 == h)
                  for (x = 0; x < n; x++)
                    (A = (C = r[e + x]) == m ? 0 : 255),
                      (c[i + x] = (A << 24) | (C << 16) | (C << 8) | C);
                else if (16 == h)
                  for (x = 0; x < n; x++)
                    (C = r[e + (x << 1)]),
                      (A = f(r, e + (x << 1)) == m ? 0 : 255),
                      (c[i + x] = (A << 24) | (C << 16) | (C << 8) | C);
              }
            return u;
          }
          function n(e, r, n, l) {
            let u = new Uint8Array(
              (Math.ceil((n * a(e)) / 8) + 1 + e.interlace) * l,
            );
            return (
              (r = e.tabs.CgBI ? s(r, u) : i(r, u)),
              0 == e.interlace
                ? (r = o(r, e, 0, n, l))
                : 1 == e.interlace &&
                  (r = (function (e, r) {
                    let n = r.width,
                      i = r.height,
                      s = a(r),
                      l = s >> 3,
                      u = Math.ceil((n * s) / 8),
                      c = new Uint8Array(i * u),
                      d = 0,
                      h = [0, 0, 4, 0, 2, 0, 1],
                      f = [0, 4, 0, 2, 0, 1, 0],
                      p = [8, 8, 8, 4, 4, 2, 2],
                      g = [8, 8, 4, 4, 2, 2, 1],
                      m = 0;
                    for (; m < 7; ) {
                      let a = p[m],
                        v = g[m],
                        b = 0,
                        w = 0,
                        T = h[m];
                      for (; T < i; ) (T += a), w++;
                      let S = f[m];
                      for (; S < n; ) (S += v), b++;
                      let E = Math.ceil((b * s) / 8);
                      o(e, r, d, b, w);
                      let C = 0,
                        x = h[m];
                      for (; x < i; ) {
                        let r = f[m],
                          i = (d + C * E) << 3;
                        for (; r < n; ) {
                          var y;
                          if (
                            (1 == s &&
                              ((y = ((y = e[i >> 3]) >> (7 - (7 & i))) & 1),
                              (c[x * u + (r >> 3)] |=
                                y << (7 - ((7 & r) << 0)))),
                            2 == s &&
                              ((y = ((y = e[i >> 3]) >> (6 - (7 & i))) & 3),
                              (c[x * u + (r >> 2)] |=
                                y << (6 - ((3 & r) << 1)))),
                            4 == s &&
                              ((y = ((y = e[i >> 3]) >> (4 - (7 & i))) & 15),
                              (c[x * u + (r >> 1)] |=
                                y << (4 - ((1 & r) << 2)))),
                            s >= 8)
                          ) {
                            let n = x * u + r * l;
                            for (let r = 0; r < l; r++)
                              c[n + r] = e[(i >> 3) + r];
                          }
                          (i += s), (r += v);
                        }
                        C++, (x += a);
                      }
                      b * w != 0 && (d += w * (1 + E)), (m += 1);
                    }
                    return c;
                  })(r, e)),
              r
            );
          }
          function i(e, r) {
            return s(new Uint8Array(e.buffer, 2, e.length - 6), r);
          }
          var s = (function () {
            let e = { H: {} };
            return (
              (e.H.N = function (r, n) {
                let i = Uint8Array,
                  s,
                  a,
                  o = 0,
                  l = 0,
                  u = 0,
                  c = 0,
                  d = 0,
                  h = 0,
                  f = 0,
                  p = 0,
                  g = 0;
                if (3 == r[0] && 0 == r[1]) return n || new i(0);
                let m = e.H,
                  y = m.b,
                  v = m.e,
                  b = m.R,
                  w = m.n,
                  T = m.A,
                  S = m.Z,
                  E = m.m,
                  C = null == n;
                for (C && (n = new i((r.length >>> 2) << 5)); 0 == o; )
                  if (
                    ((o = y(r, g, 1)), (l = y(r, g + 1, 2)), (g += 3), 0 != l)
                  ) {
                    if (
                      (C && (n = e.H.W(n, p + 131072)),
                      1 == l && ((s = E.J), (a = E.h), (h = 511), (f = 31)),
                      2 == l)
                    ) {
                      (u = v(r, g, 5) + 257),
                        (c = v(r, g + 5, 5) + 1),
                        (d = v(r, g + 10, 4) + 4),
                        (g += 14);
                      let e = 1;
                      for (var x = 0; x < 38; x += 2)
                        (E.Q[x] = 0), (E.Q[x + 1] = 0);
                      for (x = 0; x < d; x++) {
                        let n = v(r, g + 3 * x, 3);
                        (E.Q[1 + (E.X[x] << 1)] = n), n > e && (e = n);
                      }
                      (g += 3 * d),
                        w(E.Q, e),
                        T(E.Q, e, E.u),
                        (s = E.w),
                        (a = E.d),
                        (g = b(E.u, (1 << e) - 1, u + c, r, g, E.v));
                      let n = m.V(E.v, 0, u, E.C);
                      h = (1 << n) - 1;
                      let i = m.V(E.v, u, c, E.D);
                      (f = (1 << i) - 1),
                        w(E.C, n),
                        T(E.C, n, s),
                        w(E.D, i),
                        T(E.D, i, a);
                    }
                    for (;;) {
                      let e = s[S(r, g) & h];
                      g += 15 & e;
                      let i = e >>> 4;
                      if (i >>> 8 == 0) n[p++] = i;
                      else {
                        if (256 == i) break;
                        {
                          let e = p + i - 254;
                          if (i > 264) {
                            let n = E.q[i - 257];
                            (e = p + (n >>> 3) + v(r, g, 7 & n)), (g += 7 & n);
                          }
                          let s = a[S(r, g) & f];
                          g += 15 & s;
                          let o = s >>> 4,
                            l = E.c[o],
                            u = (l >>> 4) + y(r, g, 15 & l);
                          for (g += 15 & l; p < e; )
                            (n[p] = n[p++ - u]),
                              (n[p] = n[p++ - u]),
                              (n[p] = n[p++ - u]),
                              (n[p] = n[p++ - u]);
                          p = e;
                        }
                      }
                    }
                  } else {
                    0 != (7 & g) && (g += 8 - (7 & g));
                    let s = 4 + (g >>> 3),
                      a = r[s - 4] | (r[s - 3] << 8);
                    C && (n = e.H.W(n, p + a)),
                      n.set(new i(r.buffer, r.byteOffset + s, a), p),
                      (g = (s + a) << 3),
                      (p += a);
                  }
                return n.length == p ? n : n.slice(0, p);
              }),
              (e.H.W = function (e, r) {
                let n = e.length;
                if (r <= n) return e;
                let i = new Uint8Array(n << 1);
                return i.set(e, 0), i;
              }),
              (e.H.R = function (r, n, i, s, a, o) {
                let l = e.H.e,
                  u = e.H.Z,
                  c = 0;
                for (; c < i; ) {
                  let e = r[u(s, a) & n];
                  a += 15 & e;
                  let i = e >>> 4;
                  if (i <= 15) (o[c] = i), c++;
                  else {
                    let e = 0,
                      r = 0;
                    16 == i
                      ? ((r = 3 + l(s, a, 2)), (a += 2), (e = o[c - 1]))
                      : 17 == i
                        ? ((r = 3 + l(s, a, 3)), (a += 3))
                        : 18 == i && ((r = 11 + l(s, a, 7)), (a += 7));
                    let n = c + r;
                    for (; c < n; ) (o[c] = e), c++;
                  }
                }
                return a;
              }),
              (e.H.V = function (e, r, n, i) {
                let s = 0,
                  a = 0,
                  o = i.length >>> 1;
                for (; a < n; ) {
                  let n = e[a + r];
                  (i[a << 1] = 0), (i[1 + (a << 1)] = n), n > s && (s = n), a++;
                }
                for (; a < o; ) (i[a << 1] = 0), (i[1 + (a << 1)] = 0), a++;
                return s;
              }),
              (e.H.n = function (r, n) {
                let i, s, a, o;
                let l = e.H.m,
                  u = r.length,
                  c = l.j;
                for (var d = 0; d <= n; d++) c[d] = 0;
                for (d = 1; d < u; d += 2) c[r[d]]++;
                let h = l.K;
                for (i = 0, c[0] = 0, s = 1; s <= n; s++)
                  (i = (i + c[s - 1]) << 1), (h[s] = i);
                for (a = 0; a < u; a += 2)
                  0 != (o = r[a + 1]) && ((r[a] = h[o]), h[o]++);
              }),
              (e.H.A = function (r, n, i) {
                let s = r.length,
                  a = e.H.m.r;
                for (let e = 0; e < s; e += 2)
                  if (0 != r[e + 1]) {
                    let s = e >> 1,
                      o = r[e + 1],
                      l = (s << 4) | o,
                      u = n - o,
                      c = r[e] << u,
                      d = c + (1 << u);
                    for (; c != d; ) (i[a[c] >>> (15 - n)] = l), c++;
                  }
              }),
              (e.H.l = function (r, n) {
                let i = e.H.m.r,
                  s = 15 - n;
                for (let e = 0; e < r.length; e += 2) {
                  let a = r[e] << (n - r[e + 1]);
                  r[e] = i[a] >>> s;
                }
              }),
              (e.H.M = function (e, r, n) {
                n <<= 7 & r;
                let i = r >>> 3;
                (e[i] |= n), (e[i + 1] |= n >>> 8);
              }),
              (e.H.I = function (e, r, n) {
                n <<= 7 & r;
                let i = r >>> 3;
                (e[i] |= n), (e[i + 1] |= n >>> 8), (e[i + 2] |= n >>> 16);
              }),
              (e.H.e = function (e, r, n) {
                return (
                  ((e[r >>> 3] | (e[1 + (r >>> 3)] << 8)) >>> (7 & r)) &
                  ((1 << n) - 1)
                );
              }),
              (e.H.b = function (e, r, n) {
                return (
                  ((e[r >>> 3] |
                    (e[1 + (r >>> 3)] << 8) |
                    (e[2 + (r >>> 3)] << 16)) >>>
                    (7 & r)) &
                  ((1 << n) - 1)
                );
              }),
              (e.H.Z = function (e, r) {
                return (
                  (e[r >>> 3] |
                    (e[1 + (r >>> 3)] << 8) |
                    (e[2 + (r >>> 3)] << 16)) >>>
                  (7 & r)
                );
              }),
              (e.H.i = function (e, r) {
                return (
                  (e[r >>> 3] |
                    (e[1 + (r >>> 3)] << 8) |
                    (e[2 + (r >>> 3)] << 16) |
                    (e[3 + (r >>> 3)] << 24)) >>>
                  (7 & r)
                );
              }),
              (e.H.m = (function () {
                let e = Uint16Array,
                  r = Uint32Array;
                return {
                  K: new e(16),
                  j: new e(16),
                  X: [
                    16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14,
                    1, 15,
                  ],
                  S: [
                    3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35,
                    43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999,
                    999, 999,
                  ],
                  T: [
                    0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3,
                    4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0,
                  ],
                  q: new e(32),
                  p: [
                    1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
                    257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
                    8193, 12289, 16385, 24577, 65535, 65535,
                  ],
                  z: [
                    0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8,
                    9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0,
                  ],
                  c: new r(32),
                  J: new e(512),
                  _: [],
                  h: new e(32),
                  $: [],
                  w: new e(32768),
                  C: [],
                  v: [],
                  d: new e(32768),
                  D: [],
                  u: new e(512),
                  Q: [],
                  r: new e(32768),
                  s: new r(286),
                  Y: new r(30),
                  a: new r(19),
                  t: new r(15e3),
                  k: new e(65536),
                  g: new e(32768),
                };
              })()),
              (function () {
                let r = e.H.m;
                for (var n = 0; n < 32768; n++) {
                  let e = n;
                  (e =
                    ((0xff00ff00 &
                      (e =
                        ((0xf0f0f0f0 &
                          (e =
                            ((0xcccccccc &
                              (e =
                                ((0xaaaaaaaa & e) >>> 1) |
                                ((0x55555555 & e) << 1))) >>>
                              2) |
                            ((0x33333333 & e) << 2))) >>>
                          4) |
                        ((0xf0f0f0f & e) << 4))) >>>
                      8) |
                    ((0xff00ff & e) << 8)),
                    (r.r[n] = ((e >>> 16) | (e << 16)) >>> 17);
                }
                function i(e, r, n) {
                  for (; 0 != r--; ) e.push(0, n);
                }
                for (n = 0; n < 32; n++)
                  (r.q[n] = (r.S[n] << 3) | r.T[n]),
                    (r.c[n] = (r.p[n] << 4) | r.z[n]);
                i(r._, 144, 8),
                  i(r._, 112, 9),
                  i(r._, 24, 7),
                  i(r._, 8, 8),
                  e.H.n(r._, 9),
                  e.H.A(r._, 9, r.J),
                  e.H.l(r._, 9),
                  i(r.$, 32, 5),
                  e.H.n(r.$, 5),
                  e.H.A(r.$, 5, r.h),
                  e.H.l(r.$, 5),
                  i(r.Q, 19, 0),
                  i(r.C, 286, 0),
                  i(r.D, 30, 0),
                  i(r.v, 320, 0);
              })(),
              e.H.N
            );
          })();
          function a(e) {
            return [1, null, 3, 1, 2, null, 4][e.ctype] * e.depth;
          }
          function o(e, r, n, i, s) {
            let o,
              u,
              c = a(r),
              d = Math.ceil((i * c) / 8);
            c = Math.ceil(c / 8);
            let h = e[n],
              f = 0;
            if ((h > 1 && (e[n] = [0, 0, 1][h - 2]), 3 == h))
              for (f = c; f < d; f++)
                e[f + 1] = (e[f + 1] + (e[f + 1 - c] >>> 1)) & 255;
            for (let r = 0; r < s; r++)
              if (((h = e[(u = (o = n + r * d) + r + 1) - 1]), (f = 0), 0 == h))
                for (; f < d; f++) e[o + f] = e[u + f];
              else if (1 == h) {
                for (; f < c; f++) e[o + f] = e[u + f];
                for (; f < d; f++) e[o + f] = e[u + f] + e[o + f - c];
              } else if (2 == h)
                for (; f < d; f++) e[o + f] = e[u + f] + e[o + f - d];
              else if (3 == h) {
                for (; f < c; f++) e[o + f] = e[u + f] + (e[o + f - d] >>> 1);
                for (; f < d; f++)
                  e[o + f] = e[u + f] + ((e[o + f - d] + e[o + f - c]) >>> 1);
              } else {
                for (; f < c; f++) e[o + f] = e[u + f] + l(0, e[o + f - d], 0);
                for (; f < d; f++)
                  e[o + f] =
                    e[u + f] + l(e[o + f - c], e[o + f - d], e[o + f - c - d]);
              }
            return e;
          }
          function l(e, r, n) {
            let i = e + r - n,
              s = i - e,
              a = i - r,
              o = i - n;
            return s * s <= a * a && s * s <= o * o
              ? e
              : a * a <= o * o
                ? r
                : n;
          }
          function u(r, n, i) {
            (i.width = e.readUint(r, n)),
              (n += 4),
              (i.height = e.readUint(r, n)),
              (n += 4),
              (i.depth = r[n]),
              n++,
              (i.ctype = r[n]),
              n++,
              (i.compress = r[n]),
              n++,
              (i.filter = r[n]),
              n++,
              (i.interlace = r[n]),
              n++;
          }
          function c(e, r, n, i, s, a, o, l, u) {
            let c = Math.min(r, s),
              d = Math.min(n, a),
              h = 0,
              f = 0;
            for (let n = 0; n < d; n++)
              for (let a = 0; a < c; a++)
                if (
                  (o >= 0 && l >= 0
                    ? ((h = (n * r + a) << 2), (f = ((l + n) * s + o + a) << 2))
                    : ((h = ((-l + n) * r - o + a) << 2),
                      (f = (n * s + a) << 2)),
                  0 == u)
                )
                  (i[f] = e[h]),
                    (i[f + 1] = e[h + 1]),
                    (i[f + 2] = e[h + 2]),
                    (i[f + 3] = e[h + 3]);
                else if (1 == u) {
                  var p = e[h + 3] * (1 / 255),
                    g = e[h] * p,
                    m = e[h + 1] * p,
                    y = e[h + 2] * p,
                    v = i[f + 3] * (1 / 255),
                    b = i[f] * v,
                    w = i[f + 1] * v,
                    T = i[f + 2] * v;
                  let r = 1 - p,
                    n = p + v * r,
                    s = 0 == n ? 0 : 1 / n;
                  (i[f + 3] = 255 * n),
                    (i[f + 0] = (g + b * r) * s),
                    (i[f + 1] = (m + w * r) * s),
                    (i[f + 2] = (y + T * r) * s);
                } else if (2 == u)
                  (p = e[h + 3]),
                    (g = e[h]),
                    (m = e[h + 1]),
                    (y = e[h + 2]),
                    (v = i[f + 3]),
                    (b = i[f]),
                    (w = i[f + 1]),
                    (T = i[f + 2]),
                    p == v && g == b && m == w && y == T
                      ? ((i[f] = 0),
                        (i[f + 1] = 0),
                        (i[f + 2] = 0),
                        (i[f + 3] = 0))
                      : ((i[f] = g),
                        (i[f + 1] = m),
                        (i[f + 2] = y),
                        (i[f + 3] = p));
                else if (3 == u) {
                  if (
                    ((p = e[h + 3]),
                    (g = e[h]),
                    (m = e[h + 1]),
                    (y = e[h + 2]),
                    (v = i[f + 3]),
                    (b = i[f]),
                    (w = i[f + 1]),
                    (T = i[f + 2]),
                    p == v && g == b && m == w && y == T)
                  )
                    continue;
                  if (p < 220 && v > 20) return !1;
                }
            return !0;
          }
          return {
            decode: function (r) {
              let a = new Uint8Array(r),
                o = 8,
                l = e,
                c = l.readUshort,
                d = l.readUint,
                h = { tabs: {}, frames: [] },
                f = new Uint8Array(a.length),
                p,
                g = 0,
                m = 0,
                y = [137, 80, 78, 71, 13, 10, 26, 10];
              for (var v, b = 0; b < 8; b++)
                if (a[b] != y[b]) throw "The input is not a PNG file!";
              for (; o < a.length; ) {
                let e = l.readUint(a, o);
                o += 4;
                let r = l.readASCII(a, o, 4);
                if (((o += 4), "IHDR" == r)) u(a, o, h);
                else if ("iCCP" == r) {
                  for (var w, T = o; 0 != a[T]; ) T++;
                  l.readASCII(a, o, T - o), a[T + 1];
                  let n = a.slice(T + 2, o + e),
                    u = null;
                  try {
                    u = i(n);
                  } catch (e) {
                    u = s(n);
                  }
                  h.tabs[r] = u;
                } else if ("CgBI" == r) h.tabs[r] = a.slice(o, o + 4);
                else if ("IDAT" == r) {
                  for (b = 0; b < e; b++) f[g + b] = a[o + b];
                  g += e;
                } else if ("acTL" == r)
                  (h.tabs[r] = { num_frames: d(a, o), num_plays: d(a, o + 4) }),
                    (p = new Uint8Array(a.length));
                else if ("fcTL" == r) {
                  0 != m &&
                    (((v = h.frames[h.frames.length - 1]).data = n(
                      h,
                      p.slice(0, m),
                      v.rect.width,
                      v.rect.height,
                    )),
                    (m = 0));
                  let e = {
                      x: d(a, o + 12),
                      y: d(a, o + 16),
                      width: d(a, o + 4),
                      height: d(a, o + 8),
                    },
                    r = c(a, o + 22),
                    i = {
                      rect: e,
                      delay: Math.round(
                        1e3 * (r = c(a, o + 20) / (0 == r ? 100 : r)),
                      ),
                      dispose: a[o + 24],
                      blend: a[o + 25],
                    };
                  h.frames.push(i);
                } else if ("fdAT" == r) {
                  for (b = 0; b < e - 4; b++) p[m + b] = a[o + b + 4];
                  m += e - 4;
                } else if ("pHYs" == r)
                  h.tabs[r] = [
                    l.readUint(a, o),
                    l.readUint(a, o + 4),
                    a[o + 8],
                  ];
                else if ("cHRM" == r)
                  for (b = 0, h.tabs[r] = []; b < 8; b++)
                    h.tabs[r].push(l.readUint(a, o + 4 * b));
                else if ("tEXt" == r || "zTXt" == r) {
                  null == h.tabs[r] && (h.tabs[r] = {});
                  var S = l.nextZero(a, o),
                    E = l.readASCII(a, o, S - o),
                    C = o + e - S - 1;
                  if ("tEXt" == r) w = l.readASCII(a, S + 1, C);
                  else {
                    var x = i(a.slice(S + 2, S + 2 + C));
                    w = l.readUTF8(x, 0, x.length);
                  }
                  h.tabs[r][E] = w;
                } else if ("iTXt" == r) {
                  null == h.tabs[r] && (h.tabs[r] = {}),
                    (S = 0),
                    (T = o),
                    (S = l.nextZero(a, T)),
                    (E = l.readASCII(a, T, S - T));
                  let n = a[(T = S + 1)];
                  a[T + 1],
                    (T += 2),
                    (S = l.nextZero(a, T)),
                    l.readASCII(a, T, S - T),
                    (T = S + 1),
                    (S = l.nextZero(a, T)),
                    l.readUTF8(a, T, S - T),
                    (C = e - ((T = S + 1) - o)),
                    0 == n
                      ? (w = l.readUTF8(a, T, C))
                      : ((x = i(a.slice(T, T + C))),
                        (w = l.readUTF8(x, 0, x.length))),
                    (h.tabs[r][E] = w);
                } else if ("PLTE" == r) h.tabs[r] = l.readBytes(a, o, e);
                else if ("hIST" == r) {
                  let e = h.tabs.PLTE.length / 3;
                  for (b = 0, h.tabs[r] = []; b < e; b++)
                    h.tabs[r].push(c(a, o + 2 * b));
                } else if ("tRNS" == r)
                  3 == h.ctype
                    ? (h.tabs[r] = l.readBytes(a, o, e))
                    : 0 == h.ctype
                      ? (h.tabs[r] = c(a, o))
                      : 2 == h.ctype &&
                        (h.tabs[r] = [c(a, o), c(a, o + 2), c(a, o + 4)]);
                else if ("gAMA" == r) h.tabs[r] = l.readUint(a, o) / 1e5;
                else if ("sRGB" == r) h.tabs[r] = a[o];
                else if ("bKGD" == r)
                  0 == h.ctype || 4 == h.ctype
                    ? (h.tabs[r] = [c(a, o)])
                    : 2 == h.ctype || 6 == h.ctype
                      ? (h.tabs[r] = [c(a, o), c(a, o + 2), c(a, o + 4)])
                      : 3 == h.ctype && (h.tabs[r] = a[o]);
                else if ("IEND" == r) break;
                (o += e), l.readUint(a, o), (o += 4);
              }
              return (
                0 != m &&
                  ((v = h.frames[h.frames.length - 1]).data = n(
                    h,
                    p.slice(0, m),
                    v.rect.width,
                    v.rect.height,
                  )),
                (h.data = n(h, f, h.width, h.height)),
                delete h.compress,
                delete h.interlace,
                delete h.filter,
                h
              );
            },
            toRGBA8: function (e) {
              let n = e.width,
                i = e.height;
              if (null == e.tabs.acTL) return [r(e.data, n, i, e).buffer];
              let s = [];
              null == e.frames[0].data && (e.frames[0].data = e.data);
              let a = n * i * 4,
                o = new Uint8Array(a),
                l = new Uint8Array(a),
                u = new Uint8Array(a);
              for (let h = 0; h < e.frames.length; h++) {
                let f = e.frames[h],
                  p = f.rect.x,
                  g = f.rect.y,
                  m = f.rect.width,
                  y = f.rect.height,
                  v = r(f.data, m, y, e);
                if (0 != h) for (var d = 0; d < a; d++) u[d] = o[d];
                if (
                  (0 == f.blend
                    ? c(v, m, y, o, n, i, p, g, 0)
                    : 1 == f.blend && c(v, m, y, o, n, i, p, g, 1),
                  s.push(o.buffer.slice(0)),
                  0 == f.dispose)
                );
                else if (1 == f.dispose) c(l, m, y, o, n, i, p, g, 0);
                else if (2 == f.dispose) for (d = 0; d < a; d++) o[d] = u[d];
              }
              return s;
            },
            _paeth: l,
            _copyTile: c,
            _bin: e,
          };
        })();
        !(function () {
          let { _copyTile: e } = _,
            { _bin: r } = _,
            n = _._paeth;
          var i = {
            table: (function () {
              let e = new Uint32Array(256);
              for (let r = 0; r < 256; r++) {
                let n = r;
                for (let e = 0; e < 8; e++)
                  1 & n ? (n = 0xedb88320 ^ (n >>> 1)) : (n >>>= 1);
                e[r] = n;
              }
              return e;
            })(),
            update(e, r, n, s) {
              for (let a = 0; a < s; a++)
                e = i.table[255 & (e ^ r[n + a])] ^ (e >>> 8);
              return e;
            },
            crc: (e, r, n) => 0xffffffff ^ i.update(0xffffffff, e, r, n),
          };
          function s(e, r, n, i) {
            (r[n] += (e[0] * i) >> 4),
              (r[n + 1] += (e[1] * i) >> 4),
              (r[n + 2] += (e[2] * i) >> 4),
              (r[n + 3] += (e[3] * i) >> 4);
          }
          function a(e) {
            return Math.max(0, Math.min(255, e));
          }
          function o(e, r) {
            let n = e[0] - r[0],
              i = e[1] - r[1],
              s = e[2] - r[2],
              a = e[3] - r[3];
            return n * n + i * i + s * s + a * a;
          }
          function l(e, r, n, i, l, u, c) {
            null == c && (c = 1);
            let d = i.length,
              h = [];
            for (var f, p = 0; p < d; p++) {
              let e = i[p];
              h.push([
                (e >>> 0) & 255,
                (e >>> 8) & 255,
                (e >>> 16) & 255,
                (e >>> 24) & 255,
              ]);
            }
            for (p = 0; p < d; p++) {
              let e = 0xffffffff;
              for (var g = 0, m = 0; m < d; m++) {
                var y = o(h[p], h[m]);
                m != p && y < e && ((e = y), (g = m));
              }
            }
            let v = new Uint32Array(l.buffer),
              b = new Int16Array(r * n * 4),
              w = [0, 8, 2, 10, 12, 4, 14, 6, 3, 11, 1, 9, 15, 7, 13, 5];
            for (p = 0; p < w.length; p++)
              w[p] = 255 * ((w[p] + 0.5) / 16 - 0.5);
            for (let l = 0; l < n; l++)
              for (let T = 0; T < r; T++) {
                (p = 4 * (l * r + T)),
                  2 != c
                    ? (f = [
                        a(e[p] + b[p]),
                        a(e[p + 1] + b[p + 1]),
                        a(e[p + 2] + b[p + 2]),
                        a(e[p + 3] + b[p + 3]),
                      ])
                    : ((y = w[4 * (3 & l) + (3 & T)]),
                      (f = [
                        a(e[p] + y),
                        a(e[p + 1] + y),
                        a(e[p + 2] + y),
                        a(e[p + 3] + y),
                      ])),
                  (g = 0);
                let S = 0xffffff;
                for (m = 0; m < d; m++) {
                  let e = o(f, h[m]);
                  e < S && ((S = e), (g = m));
                }
                let E = h[g],
                  C = [f[0] - E[0], f[1] - E[1], f[2] - E[2], f[3] - E[3]];
                1 == c &&
                  (T != r - 1 && s(C, b, p + 4, 7),
                  l != n - 1 &&
                    (0 != T && s(C, b, p + 4 * r - 4, 3),
                    s(C, b, p + 4 * r, 5),
                    T != r - 1 && s(C, b, p + 4 * r + 4, 1))),
                  (u[p >> 2] = g),
                  (v[p >> 2] = i[g]);
              }
          }
          function u(e, n, s, a, o) {
            null == o && (o = {});
            let { crc: l } = i,
              u = r.writeUint,
              c = r.writeUshort,
              d = r.writeASCII,
              h = 8,
              f = e.frames.length > 1,
              p,
              g = !1,
              m = 33 + (f ? 20 : 0);
            if (
              (null != o.sRGB && (m += 13),
              null != o.pHYs && (m += 21),
              null != o.iCCP &&
                (m += 21 + (p = pako.deflate(o.iCCP)).length + 4),
              3 == e.ctype)
            ) {
              for (var y = e.plte.length, v = 0; v < y; v++)
                e.plte[v] >>> 24 != 255 && (g = !0);
              m += 8 + 3 * y + 4 + (g ? 8 + 1 * y + 4 : 0);
            }
            for (var b = 0; b < e.frames.length; b++)
              f && (m += 38),
                (m += (E = e.frames[b]).cimg.length + 12),
                0 != b && (m += 4);
            let w = new Uint8Array((m += 12)),
              T = [137, 80, 78, 71, 13, 10, 26, 10];
            for (v = 0; v < 8; v++) w[v] = T[v];
            if (
              (u(w, h, 13),
              d(w, (h += 4), "IHDR"),
              u(w, (h += 4), n),
              u(w, (h += 4), s),
              (w[(h += 4)] = e.depth),
              (w[++h] = e.ctype),
              (w[++h] = 0),
              (w[++h] = 0),
              (w[++h] = 0),
              u(w, ++h, l(w, h - 17, 17)),
              (h += 4),
              null != o.sRGB &&
                (u(w, h, 1),
                d(w, (h += 4), "sRGB"),
                (w[(h += 4)] = o.sRGB),
                u(w, ++h, l(w, h - 5, 5)),
                (h += 4)),
              null != o.iCCP)
            ) {
              let e = 13 + p.length;
              u(w, h, e),
                d(w, (h += 4), "iCCP"),
                d(w, (h += 4), "ICC profile"),
                (h += 11),
                (h += 2),
                w.set(p, h),
                u(w, (h += p.length), l(w, h - (e + 4), e + 4)),
                (h += 4);
            }
            if (
              (null != o.pHYs &&
                (u(w, h, 9),
                d(w, (h += 4), "pHYs"),
                u(w, (h += 4), o.pHYs[0]),
                u(w, (h += 4), o.pHYs[1]),
                (w[(h += 4)] = o.pHYs[2]),
                u(w, ++h, l(w, h - 13, 13)),
                (h += 4)),
              f &&
                (u(w, h, 8),
                d(w, (h += 4), "acTL"),
                u(w, (h += 4), e.frames.length),
                u(w, (h += 4), null != o.loop ? o.loop : 0),
                u(w, (h += 4), l(w, h - 12, 12)),
                (h += 4)),
              3 == e.ctype)
            ) {
              for (
                u(w, h, 3 * (y = e.plte.length)),
                  d(w, (h += 4), "PLTE"),
                  h += 4,
                  v = 0;
                v < y;
                v++
              ) {
                let r = 3 * v,
                  n = e.plte[v],
                  i = 255 & n,
                  s = (n >>> 8) & 255,
                  a = (n >>> 16) & 255;
                (w[h + r + 0] = i), (w[h + r + 1] = s), (w[h + r + 2] = a);
              }
              if (
                (u(w, (h += 3 * y), l(w, h - 3 * y - 4, 3 * y + 4)),
                (h += 4),
                g)
              ) {
                for (
                  u(w, h, y), d(w, (h += 4), "tRNS"), h += 4, v = 0;
                  v < y;
                  v++
                )
                  w[h + v] = (e.plte[v] >>> 24) & 255;
                u(w, (h += y), l(w, h - y - 4, y + 4)), (h += 4);
              }
            }
            let S = 0;
            for (b = 0; b < e.frames.length; b++) {
              var E = e.frames[b];
              f &&
                (u(w, h, 26),
                d(w, (h += 4), "fcTL"),
                u(w, (h += 4), S++),
                u(w, (h += 4), E.rect.width),
                u(w, (h += 4), E.rect.height),
                u(w, (h += 4), E.rect.x),
                u(w, (h += 4), E.rect.y),
                c(w, (h += 4), a[b]),
                c(w, (h += 2), 1e3),
                (w[(h += 2)] = E.dispose),
                (w[++h] = E.blend),
                u(w, ++h, l(w, h - 30, 30)),
                (h += 4));
              let r = E.cimg;
              u(w, h, (y = r.length) + (0 == b ? 0 : 4));
              let n = (h += 4);
              d(w, h, 0 == b ? "IDAT" : "fdAT"),
                (h += 4),
                0 != b && (u(w, h, S++), (h += 4)),
                w.set(r, h),
                u(w, (h += y), l(w, n, h - n)),
                (h += 4);
            }
            return (
              u(w, h, 0),
              d(w, (h += 4), "IEND"),
              u(w, (h += 4), l(w, h - 4, 4)),
              (h += 4),
              w.buffer
            );
          }
          function c(e, r, n) {
            for (let i = 0; i < e.frames.length; i++) {
              let s = e.frames[i];
              s.rect.width;
              let a = s.rect.height,
                o = new Uint8Array(a * s.bpl + a);
              s.cimg = p(s.img, a, s.bpp, s.bpl, o, r, n);
            }
          }
          function d(r, n, i, s, a) {
            let o = a[0],
              u = a[1],
              c = a[2],
              d = a[3],
              p = a[4],
              g = a[5],
              y = 6,
              v = 8,
              b = 255;
            for (var w = 0; w < r.length; w++) {
              let e = new Uint8Array(r[w]);
              for (var T = e.length, S = 0; S < T; S += 4) b &= e[S + 3];
            }
            let E = 255 != b,
              C = (function (r, n, i, s, a, o) {
                let l = [];
                for (var u, c = 0; c < r.length; c++) {
                  let u = new Uint8Array(r[c]),
                    h = new Uint32Array(u.buffer),
                    g = 0,
                    y = 0,
                    v = n,
                    b = i,
                    w = s ? 1 : 0;
                  if (0 != c) {
                    let T = o || s || 1 == c || 0 != l[c - 2].dispose ? 1 : 2,
                      S = 0,
                      E = 1e9;
                    for (let e = 0; e < T; e++) {
                      var d,
                        p = new Uint8Array(r[c - 1 - e]);
                      let s = new Uint32Array(r[c - 1 - e]),
                        o = n,
                        l = i,
                        u = -1,
                        f = -1;
                      for (let e = 0; e < i; e++)
                        for (let r = 0; r < n; r++)
                          h[(m = e * n + r)] != s[m] &&
                            (r < o && (o = r),
                            r > u && (u = r),
                            e < l && (l = e),
                            e > f && (f = e));
                      -1 == u && (o = l = u = f = 0),
                        a && (1 == (1 & o) && o--, 1 == (1 & l) && l--);
                      let w = (u - o + 1) * (f - l + 1);
                      w < E &&
                        ((E = w),
                        (S = e),
                        (g = o),
                        (y = l),
                        (v = u - o + 1),
                        (b = f - l + 1));
                    }
                    (p = new Uint8Array(r[c - 1 - S])),
                      1 == S && (l[c - 1].dispose = 2),
                      e(
                        p,
                        n,
                        i,
                        (d = new Uint8Array(v * b * 4)),
                        v,
                        b,
                        -g,
                        -y,
                        0,
                      ),
                      1 == (w = e(u, n, i, d, v, b, -g, -y, 3) ? 1 : 0)
                        ? f(u, n, i, d, { x: g, y: y, width: v, height: b })
                        : e(u, n, i, d, v, b, -g, -y, 0);
                  } else d = u.slice(0);
                  l.push({
                    rect: { x: g, y: y, width: v, height: b },
                    img: d,
                    blend: w,
                    dispose: 0,
                  });
                }
                if (s)
                  for (c = 0; c < l.length; c++) {
                    if (1 == (u = l[c]).blend) continue;
                    let e = u.rect,
                      s = l[c - 1].rect,
                      o = Math.min(e.x, s.x),
                      d = Math.min(e.y, s.y),
                      f = {
                        x: o,
                        y: d,
                        width: Math.max(e.x + e.width, s.x + s.width) - o,
                        height: Math.max(e.y + e.height, s.y + s.height) - d,
                      };
                    (l[c - 1].dispose = 1),
                      c - 1 != 0 && h(r, n, i, l, c - 1, f, a),
                      h(r, n, i, l, c, f, a);
                  }
                let g = 0;
                if (1 != r.length)
                  for (var m = 0; m < l.length; m++)
                    g += (u = l[m]).rect.width * u.rect.height;
                return l;
              })(r, n, i, o, u, c),
              x = {},
              A = [],
              I = [];
            if (0 != s) {
              let e = [];
              for (S = 0; S < C.length; S++) e.push(C[S].img.buffer);
              let r = m(
                (function (e) {
                  let r = 0;
                  for (var n = 0; n < e.length; n++) r += e[n].byteLength;
                  let i = new Uint8Array(r),
                    s = 0;
                  for (n = 0; n < e.length; n++) {
                    let r = new Uint8Array(e[n]),
                      a = r.length;
                    for (let e = 0; e < a; e += 4) {
                      let n = r[e],
                        a = r[e + 1],
                        o = r[e + 2],
                        l = r[e + 3];
                      0 == l && (n = a = o = 0),
                        (i[s + e] = n),
                        (i[s + e + 1] = a),
                        (i[s + e + 2] = o),
                        (i[s + e + 3] = l);
                    }
                    s += a;
                  }
                  return i.buffer;
                })(e),
                s,
              );
              for (S = 0; S < r.plte.length; S++) A.push(r.plte[S].est.rgba);
              let n = 0;
              for (S = 0; S < C.length; S++) {
                let e = (_ = C[S]).img.length;
                var k = new Uint8Array(r.inds.buffer, n >> 2, e >> 2);
                I.push(k);
                let i = new Uint8Array(r.abuf, n, e);
                g && l(_.img, _.rect.width, _.rect.height, A, i, k),
                  _.img.set(i),
                  (n += e);
              }
            } else
              for (w = 0; w < C.length; w++) {
                var _ = C[w];
                let e = new Uint32Array(_.img.buffer);
                var R = _.rect.width;
                for (
                  k = new Uint8Array((T = e.length)), I.push(k), S = 0;
                  S < T;
                  S++
                ) {
                  let r = e[S];
                  if (0 != S && r == e[S - 1]) k[S] = k[S - 1];
                  else if (S > R && r == e[S - R]) k[S] = k[S - R];
                  else {
                    let e = x[r];
                    if (
                      null == e &&
                      ((x[r] = e = A.length), A.push(r), A.length >= 300)
                    )
                      break;
                    k[S] = e;
                  }
                }
              }
            let D = A.length;
            for (
              D <= 256 &&
                0 == p &&
                (v = Math.max(
                  (v = D <= 2 ? 1 : D <= 4 ? 2 : D <= 16 ? 4 : 8),
                  d,
                )),
                w = 0;
              w < C.length;
              w++
            ) {
              (_ = C[w]).rect.x, _.rect.y, (R = _.rect.width);
              let e = _.rect.height,
                r = _.img;
              new Uint32Array(r.buffer);
              let n = 4 * R,
                i = 4;
              if (D <= 256 && 0 == p) {
                var P = new Uint8Array((n = Math.ceil((v * R) / 8)) * e);
                let s = I[w];
                for (let r = 0; r < e; r++) {
                  S = r * n;
                  let e = r * R;
                  if (8 == v) for (var N = 0; N < R; N++) P[S + N] = s[e + N];
                  else if (4 == v)
                    for (N = 0; N < R; N++)
                      P[S + (N >> 1)] |= s[e + N] << (4 - 4 * (1 & N));
                  else if (2 == v)
                    for (N = 0; N < R; N++)
                      P[S + (N >> 2)] |= s[e + N] << (6 - 2 * (3 & N));
                  else if (1 == v)
                    for (N = 0; N < R; N++)
                      P[S + (N >> 3)] |= s[e + N] << (7 - 1 * (7 & N));
                }
                (r = P), (y = 3), (i = 1);
              } else if (0 == E && 1 == C.length) {
                P = new Uint8Array(R * e * 3);
                let s = R * e;
                for (S = 0; S < s; S++) {
                  let e = 3 * S,
                    n = 4 * S;
                  (P[e] = r[n]), (P[e + 1] = r[n + 1]), (P[e + 2] = r[n + 2]);
                }
                (r = P), (y = 2), (i = 3), (n = 3 * R);
              }
              (_.img = r), (_.bpl = n), (_.bpp = i);
            }
            return { ctype: y, depth: v, plte: A, frames: C };
          }
          function h(r, n, i, s, a, o, l) {
            let u = Uint8Array,
              c = Uint32Array,
              d = new u(r[a - 1]),
              h = new c(r[a - 1]),
              p = a + 1 < r.length ? new u(r[a + 1]) : null,
              g = new u(r[a]),
              m = new c(g.buffer),
              y = n,
              v = i,
              b = -1,
              w = -1;
            for (let e = 0; e < o.height; e++)
              for (let r = 0; r < o.width; r++) {
                let i = o.x + r,
                  l = o.y + e,
                  u = l * n + i,
                  c = m[u];
                0 == c ||
                  (0 == s[a - 1].dispose &&
                    h[u] == c &&
                    (null == p || 0 != p[4 * u + 3])) ||
                  (i < y && (y = i),
                  i > b && (b = i),
                  l < v && (v = l),
                  l > w && (w = l));
              }
            -1 == b && (y = v = b = w = 0),
              l && (1 == (1 & y) && y--, 1 == (1 & v) && v--),
              (o = { x: y, y: v, width: b - y + 1, height: w - v + 1 });
            let T = s[a];
            (T.rect = o),
              (T.blend = 1),
              (T.img = new Uint8Array(o.width * o.height * 4)),
              0 == s[a - 1].dispose
                ? (e(d, n, i, T.img, o.width, o.height, -o.x, -o.y, 0),
                  f(g, n, i, T.img, o))
                : e(g, n, i, T.img, o.width, o.height, -o.x, -o.y, 0);
          }
          function f(r, n, i, s, a) {
            e(r, n, i, s, a.width, a.height, -a.x, -a.y, 2);
          }
          function p(e, r, n, i, s, a, o) {
            let l = [],
              u,
              c = [0, 1, 2, 3, 4];
            -1 != a ? (c = [a]) : (r * i > 5e5 || 1 == n) && (c = [0]),
              o && (u = { level: 0 });
            let d = k;
            for (var h = 0; h < c.length; h++) {
              for (let a = 0; a < r; a++) g(s, e, a, i, n, c[h]);
              l.push(d.deflate(s, u));
            }
            let f,
              p = 1e9;
            for (h = 0; h < l.length; h++)
              l[h].length < p && ((f = h), (p = l[h].length));
            return l[f];
          }
          function g(e, r, i, s, a, o) {
            let l = i * s,
              u = l + i;
            if (((e[u] = o), u++, 0 == o)) {
              if (s < 500) for (var c = 0; c < s; c++) e[u + c] = r[l + c];
              else e.set(new Uint8Array(r.buffer, l, s), u);
            } else if (1 == o) {
              for (c = 0; c < a; c++) e[u + c] = r[l + c];
              for (c = a; c < s; c++)
                e[u + c] = (r[l + c] - r[l + c - a] + 256) & 255;
            } else if (0 == i) {
              for (c = 0; c < a; c++) e[u + c] = r[l + c];
              if (2 == o) for (c = a; c < s; c++) e[u + c] = r[l + c];
              if (3 == o)
                for (c = a; c < s; c++)
                  e[u + c] = (r[l + c] - (r[l + c - a] >> 1) + 256) & 255;
              if (4 == o)
                for (c = a; c < s; c++)
                  e[u + c] = (r[l + c] - n(r[l + c - a], 0, 0) + 256) & 255;
            } else {
              if (2 == o)
                for (c = 0; c < s; c++)
                  e[u + c] = (r[l + c] + 256 - r[l + c - s]) & 255;
              if (3 == o) {
                for (c = 0; c < a; c++)
                  e[u + c] = (r[l + c] + 256 - (r[l + c - s] >> 1)) & 255;
                for (c = a; c < s; c++)
                  e[u + c] =
                    (r[l + c] + 256 - ((r[l + c - s] + r[l + c - a]) >> 1)) &
                    255;
              }
              if (4 == o) {
                for (c = 0; c < a; c++)
                  e[u + c] = (r[l + c] + 256 - n(0, r[l + c - s], 0)) & 255;
                for (c = a; c < s; c++)
                  e[u + c] =
                    (r[l + c] +
                      256 -
                      n(r[l + c - a], r[l + c - s], r[l + c - a - s])) &
                    255;
              }
            }
          }
          function m(e, r) {
            let n;
            let i = new Uint8Array(e),
              s = i.slice(0),
              a = new Uint32Array(s.buffer),
              o = y(s, r),
              l = o[0],
              u = o[1],
              c = i.length,
              d = new Uint8Array(c >> 2);
            if (i.length < 2e7)
              for (var h = 0; h < c; h += 4)
                (n = v(
                  l,
                  (f = i[h] * (1 / 255)),
                  (p = i[h + 1] * (1 / 255)),
                  (g = i[h + 2] * (1 / 255)),
                  (m = i[h + 3] * (1 / 255)),
                )),
                  (d[h >> 2] = n.ind),
                  (a[h >> 2] = n.est.rgba);
            else
              for (h = 0; h < c; h += 4) {
                var f = i[h] * (1 / 255),
                  p = i[h + 1] * (1 / 255),
                  g = i[h + 2] * (1 / 255),
                  m = i[h + 3] * (1 / 255);
                for (n = l; n.left; )
                  n = 0 >= b(n.est, f, p, g, m) ? n.left : n.right;
                (d[h >> 2] = n.ind), (a[h >> 2] = n.est.rgba);
              }
            return { abuf: s.buffer, inds: d, plte: u };
          }
          function y(e, r, n) {
            null == n && (n = 1e-4);
            let i = new Uint32Array(e.buffer),
              s = {
                i0: 0,
                i1: e.length,
                bst: null,
                est: null,
                tdst: 0,
                left: null,
                right: null,
              };
            (s.bst = S(e, s.i0, s.i1)), (s.est = E(s.bst));
            let a = [s];
            for (; a.length < r; ) {
              let r = 0,
                s = 0;
              for (var o = 0; o < a.length; o++)
                a[o].est.L > r && ((r = a[o].est.L), (s = o));
              if (r < n) break;
              let l = a[s],
                u = w(e, i, l.i0, l.i1, l.est.e, l.est.eMq255);
              if (l.i0 >= u || l.i1 <= u) {
                l.est.L = 0;
                continue;
              }
              let c = {
                i0: l.i0,
                i1: u,
                bst: null,
                est: null,
                tdst: 0,
                left: null,
                right: null,
              };
              (c.bst = S(e, c.i0, c.i1)), (c.est = E(c.bst));
              let d = {
                i0: u,
                i1: l.i1,
                bst: null,
                est: null,
                tdst: 0,
                left: null,
                right: null,
              };
              for (
                o = 0, d.bst = { R: [], m: [], N: l.bst.N - c.bst.N };
                o < 16;
                o++
              )
                d.bst.R[o] = l.bst.R[o] - c.bst.R[o];
              for (o = 0; o < 4; o++) d.bst.m[o] = l.bst.m[o] - c.bst.m[o];
              (d.est = E(d.bst)),
                (l.left = c),
                (l.right = d),
                (a[s] = c),
                a.push(d);
            }
            for (a.sort((e, r) => r.bst.N - e.bst.N), o = 0; o < a.length; o++)
              a[o].ind = o;
            return [s, a];
          }
          function v(e, r, n, i, s) {
            if (null == e.left)
              return (
                (e.tdst = (function (e, r, n, i, s) {
                  let a = r - e[0],
                    o = n - e[1],
                    l = i - e[2],
                    u = s - e[3];
                  return a * a + o * o + l * l + u * u;
                })(e.est.q, r, n, i, s)),
                e
              );
            let a = b(e.est, r, n, i, s),
              o = e.left,
              l = e.right;
            a > 0 && ((o = e.right), (l = e.left));
            let u = v(o, r, n, i, s);
            if (u.tdst <= a * a) return u;
            let c = v(l, r, n, i, s);
            return c.tdst < u.tdst ? c : u;
          }
          function b(e, r, n, i, s) {
            let { e: a } = e;
            return a[0] * r + a[1] * n + a[2] * i + a[3] * s - e.eMq;
          }
          function w(e, r, n, i, s, a) {
            for (i -= 4; n < i; ) {
              for (; T(e, n, s) <= a; ) n += 4;
              for (; T(e, i, s) > a; ) i -= 4;
              if (n >= i) break;
              let o = r[n >> 2];
              (r[n >> 2] = r[i >> 2]), (r[i >> 2] = o), (n += 4), (i -= 4);
            }
            for (; T(e, n, s) > a; ) n -= 4;
            return n + 4;
          }
          function T(e, r, n) {
            return (
              e[r] * n[0] + e[r + 1] * n[1] + e[r + 2] * n[2] + e[r + 3] * n[3]
            );
          }
          function S(e, r, n) {
            let i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              s = [0, 0, 0, 0],
              a = (n - r) >> 2;
            for (let a = r; a < n; a += 4) {
              let r = e[a] * (1 / 255),
                n = e[a + 1] * (1 / 255),
                o = e[a + 2] * (1 / 255),
                l = e[a + 3] * (1 / 255);
              (s[0] += r),
                (s[1] += n),
                (s[2] += o),
                (s[3] += l),
                (i[0] += r * r),
                (i[1] += r * n),
                (i[2] += r * o),
                (i[3] += r * l),
                (i[5] += n * n),
                (i[6] += n * o),
                (i[7] += n * l),
                (i[10] += o * o),
                (i[11] += o * l),
                (i[15] += l * l);
            }
            return (
              (i[4] = i[1]),
              (i[8] = i[2]),
              (i[9] = i[6]),
              (i[12] = i[3]),
              (i[13] = i[7]),
              (i[14] = i[11]),
              { R: i, m: s, N: a }
            );
          }
          function E(e) {
            let { R: r } = e,
              { m: n } = e,
              { N: i } = e,
              s = n[0],
              a = n[1],
              o = n[2],
              l = n[3],
              u = 0 == i ? 0 : 1 / i,
              c = [
                r[0] - s * s * u,
                r[1] - s * a * u,
                r[2] - s * o * u,
                r[3] - s * l * u,
                r[4] - a * s * u,
                r[5] - a * a * u,
                r[6] - a * o * u,
                r[7] - a * l * u,
                r[8] - o * s * u,
                r[9] - o * a * u,
                r[10] - o * o * u,
                r[11] - o * l * u,
                r[12] - l * s * u,
                r[13] - l * a * u,
                r[14] - l * o * u,
                r[15] - l * l * u,
              ],
              d = c,
              h = C,
              f = [Math.random(), Math.random(), Math.random(), Math.random()],
              p = 0,
              g = 0;
            if (0 != i)
              for (
                let e = 0;
                e < 16 &&
                ((f = h.multVec(d, f)),
                (g = Math.sqrt(h.dot(f, f))),
                (f = h.sml(1 / g, f)),
                !(0 != e && 1e-9 > Math.abs(g - p)));
                e++
              )
                p = g;
            let m = [s * u, a * u, o * u, l * u];
            return {
              Cov: c,
              q: m,
              e: f,
              L: p,
              eMq255: h.dot(h.sml(255, m), f),
              eMq: h.dot(f, m),
              rgba:
                ((Math.round(255 * m[3]) << 24) |
                  (Math.round(255 * m[2]) << 16) |
                  (Math.round(255 * m[1]) << 8) |
                  (Math.round(255 * m[0]) << 0)) >>>
                0,
            };
          }
          var C = {
            multVec: (e, r) => [
              e[0] * r[0] + e[1] * r[1] + e[2] * r[2] + e[3] * r[3],
              e[4] * r[0] + e[5] * r[1] + e[6] * r[2] + e[7] * r[3],
              e[8] * r[0] + e[9] * r[1] + e[10] * r[2] + e[11] * r[3],
              e[12] * r[0] + e[13] * r[1] + e[14] * r[2] + e[15] * r[3],
            ],
            dot: (e, r) =>
              e[0] * r[0] + e[1] * r[1] + e[2] * r[2] + e[3] * r[3],
            sml: (e, r) => [e * r[0], e * r[1], e * r[2], e * r[3]],
          };
          (_.encode = function (e, r, n, i, s, a, o) {
            null == i && (i = 0), null == o && (o = !1);
            let l = d(e, r, n, i, [!1, !1, !1, 0, o, !1]);
            return c(l, -1), u(l, r, n, s, a);
          }),
            (_.encodeLL = function (e, r, n, i, s, a, o, l) {
              let d = {
                  ctype: 0 + (1 == i ? 0 : 2) + (0 == s ? 0 : 4),
                  depth: a,
                  frames: [],
                },
                h = (i + s) * a,
                f = h * r;
              for (let i = 0; i < e.length; i++)
                d.frames.push({
                  rect: { x: 0, y: 0, width: r, height: n },
                  img: new Uint8Array(e[i]),
                  blend: 0,
                  dispose: 1,
                  bpp: Math.ceil(h / 8),
                  bpl: Math.ceil(f / 8),
                });
              return c(d, 0, !0), u(d, r, n, o, l);
            }),
            (_.encode.compress = d),
            (_.encode.dither = l),
            (_.quantize = m),
            (_.quantize.getKDtree = y),
            (_.quantize.getNearest = v);
        })();
        let R = {
          toArrayBuffer(e, r) {
            let n = e.width,
              i = e.height,
              s = n << 2,
              a = new Uint32Array(
                e.getContext("2d").getImageData(0, 0, n, i).data.buffer,
              ),
              o = ((32 * n + 31) / 32) << 2,
              l = o * i,
              u = 122 + l,
              c = new ArrayBuffer(u),
              d = new DataView(c),
              h = 1048576,
              f,
              p,
              g,
              m,
              y = 1048576,
              v = 0,
              b = 0,
              w = 0;
            function T(e) {
              d.setUint16(b, e, !0), (b += 2);
            }
            function S(e) {
              d.setUint32(b, e, !0), (b += 4);
            }
            function E(e) {
              b += e;
            }
            T(19778),
              S(u),
              E(4),
              S(122),
              S(108),
              S(n),
              S(-i >>> 0),
              T(1),
              T(32),
              S(3),
              S(l),
              S(2835),
              S(2835),
              E(8),
              S(0xff0000),
              S(65280),
              S(255),
              S(0xff000000),
              S(0x57696e20),
              (function e() {
                for (; v < i && y > 0; ) {
                  for (m = 122 + v * o, f = 0; f < s; )
                    y--,
                      (g = (p = a[w++]) >>> 24),
                      d.setUint32(m + f, (p << 8) | g),
                      (f += 4);
                  v++;
                }
                w < a.length ? ((y = h), setTimeout(e, R._dly)) : r(c);
              })();
          },
          toBlob(e, r) {
            this.toArrayBuffer(e, (e) => {
              r(new Blob([e], { type: "image/bmp" }));
            });
          },
          _dly: 9,
        };
        var D = {
            CHROME: "CHROME",
            FIREFOX: "FIREFOX",
            DESKTOP_SAFARI: "DESKTOP_SAFARI",
            IE: "IE",
            IOS: "IOS",
            ETC: "ETC",
          },
          P = {
            [D.CHROME]: 16384,
            [D.FIREFOX]: 11180,
            [D.DESKTOP_SAFARI]: 16384,
            [D.IE]: 8192,
            [D.IOS]: 4096,
            [D.ETC]: 8192,
          };
        let N = "undefined" != typeof window,
          O =
            "undefined" != typeof WorkerGlobalScope &&
            self instanceof WorkerGlobalScope,
          M =
            N &&
            window.cordova &&
            window.cordova.require &&
            window.cordova.require("cordova/modulemapper"),
          L =
            (N || O) &&
            ((M && M.getOriginalSymbol(window, "File")) ||
              ("undefined" != typeof File && File)),
          B =
            (N || O) &&
            ((M && M.getOriginalSymbol(window, "FileReader")) ||
              ("undefined" != typeof FileReader && FileReader));
        function F(e, r, n = Date.now()) {
          return new Promise((i) => {
            let s = e.split(","),
              a = s[0].match(/:(.*?);/)[1],
              o = globalThis.atob(s[1]),
              l = o.length,
              u = new Uint8Array(l);
            for (; l--; ) u[l] = o.charCodeAt(l);
            let c = new Blob([u], { type: a });
            (c.name = r), (c.lastModified = n), i(c);
          });
        }
        function U(e) {
          return new Promise((r, n) => {
            let i = new B();
            (i.onload = () => r(i.result)),
              (i.onerror = (e) => n(e)),
              i.readAsDataURL(e);
          });
        }
        function j(e) {
          return new Promise((r, n) => {
            let i = new Image();
            (i.onload = () => r(i)), (i.onerror = (e) => n(e)), (i.src = e);
          });
        }
        function z() {
          if (void 0 !== z.cachedResult) return z.cachedResult;
          let e = D.ETC,
            { userAgent: r } = navigator;
          return (
            /Chrom(e|ium)/i.test(r)
              ? (e = D.CHROME)
              : /iP(ad|od|hone)/i.test(r) && /WebKit/i.test(r)
                ? (e = D.IOS)
                : /Safari/i.test(r)
                  ? (e = D.DESKTOP_SAFARI)
                  : /Firefox/i.test(r)
                    ? (e = D.FIREFOX)
                    : (/MSIE/i.test(r) || !0 == !!document.documentMode) &&
                      (e = D.IE),
            (z.cachedResult = e),
            z.cachedResult
          );
        }
        function V(e, r) {
          let n = P[z()],
            i = e,
            s = r,
            a = i * s,
            o = i > s ? s / i : i / s;
          for (; a > n * n; ) {
            let e = (n + i) / 2,
              r = (n + s) / 2;
            e < r ? ((s = r), (i = r * o)) : ((s = e * o), (i = e)),
              (a = i * s);
          }
          return { width: i, height: s };
        }
        function K(e, r) {
          let n, i;
          try {
            if (
              ((i = (n = new OffscreenCanvas(e, r)).getContext("2d")),
              null === i)
            )
              throw Error("getContext of OffscreenCanvas returns null");
          } catch (e) {
            i = (n = document.createElement("canvas")).getContext("2d");
          }
          return (n.width = e), (n.height = r), [n, i];
        }
        function q(e, r) {
          let { width: n, height: i } = V(e.width, e.height),
            [s, a] = K(n, i);
          return (
            r &&
              /jpe?g/.test(r) &&
              ((a.fillStyle = "white"), a.fillRect(0, 0, s.width, s.height)),
            a.drawImage(e, 0, 0, s.width, s.height),
            s
          );
        }
        function H() {
          return (
            void 0 !== H.cachedResult ||
              (H.cachedResult =
                [
                  "iPad Simulator",
                  "iPhone Simulator",
                  "iPod Simulator",
                  "iPad",
                  "iPhone",
                  "iPod",
                ].includes(navigator.platform) ||
                (navigator.userAgent.includes("Mac") &&
                  "undefined" != typeof document &&
                  "ontouchend" in document)),
            H.cachedResult
          );
        }
        function $(e, r = {}) {
          return new Promise(function (n, i) {
            let s, a;
            var o = function () {
                try {
                  return (a = q(s, r.fileType || e.type)), n([s, a]);
                } catch (e) {
                  return i(e);
                }
              },
              l = function (r) {
                try {
                  var n = function (e) {
                    try {
                      throw e;
                    } catch (e) {
                      return i(e);
                    }
                  };
                  try {
                    let r;
                    return U(e).then(function (e) {
                      try {
                        return (
                          (r = e),
                          j(r).then(function (e) {
                            try {
                              return (
                                (s = e),
                                (function () {
                                  try {
                                    return o();
                                  } catch (e) {
                                    return i(e);
                                  }
                                })()
                              );
                            } catch (e) {
                              return n(e);
                            }
                          }, n)
                        );
                      } catch (e) {
                        return n(e);
                      }
                    }, n);
                  } catch (e) {
                    n(e);
                  }
                } catch (e) {
                  return i(e);
                }
              };
            try {
              if (H() || [D.DESKTOP_SAFARI, D.MOBILE_SAFARI].includes(z()))
                throw Error("Skip createImageBitmap on IOS and Safari");
              return createImageBitmap(e).then(function (e) {
                try {
                  return (s = e), o();
                } catch (e) {
                  return l();
                }
              }, l);
            } catch (e) {
              l();
            }
          });
        }
        function W(e, r, n, i, s = 1) {
          return new Promise(function (a, o) {
            let l;
            if ("image/png" === r) {
              let a, o;
              return (
                (a = e.getContext("2d")),
                ({ data: o } = a.getImageData(0, 0, e.width, e.height)),
                ((l = new Blob(
                  [_.encode([o.buffer], e.width, e.height, 4096 * s)],
                  { type: r },
                )).name = n),
                (l.lastModified = i),
                d.call(this)
              );
            }
            if ("image/bmp" === r)
              return new Promise((r) => R.toBlob(e, r)).then(
                function (e) {
                  try {
                    return (
                      ((l = e).name = n), (l.lastModified = i), c.call(this)
                    );
                  } catch (e) {
                    return o(e);
                  }
                }.bind(this),
                o,
              );
            if (
              "function" == typeof OffscreenCanvas &&
              e instanceof OffscreenCanvas
            )
              return e.convertToBlob({ type: r, quality: s }).then(
                function (e) {
                  try {
                    return (
                      ((l = e).name = n), (l.lastModified = i), u.call(this)
                    );
                  } catch (e) {
                    return o(e);
                  }
                }.bind(this),
                o,
              );
            return F(e.toDataURL(r, s), n, i).then(
              function (e) {
                try {
                  return (l = e), u.call(this);
                } catch (e) {
                  return o(e);
                }
              }.bind(this),
              o,
            );
            function u() {
              return c.call(this);
            }
            function c() {
              return d.call(this);
            }
            function d() {
              return a(l);
            }
          });
        }
        function G(e) {
          (e.width = 0), (e.height = 0);
        }
        function Q() {
          return new Promise(function (e, r) {
            let n, i, s, a, o;
            return void 0 !== Q.cachedResult
              ? e(Q.cachedResult)
              : ((n =
                  "data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="),
                F(
                  "data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",
                  "test.jpg",
                  Date.now(),
                ).then(function (n) {
                  try {
                    return (
                      (i = n),
                      $(i).then(function (n) {
                        try {
                          return (
                            (s = n[1]),
                            W(s, i.type, i.name, i.lastModified).then(function (
                              n,
                            ) {
                              try {
                                return (
                                  (a = n),
                                  G(s),
                                  $(a).then(function (n) {
                                    try {
                                      return (
                                        (o = n[0]),
                                        (Q.cachedResult =
                                          1 === o.width && 2 === o.height),
                                        e(Q.cachedResult)
                                      );
                                    } catch (e) {
                                      return r(e);
                                    }
                                  }, r)
                                );
                              } catch (e) {
                                return r(e);
                              }
                            }, r)
                          );
                        } catch (e) {
                          return r(e);
                        }
                      }, r)
                    );
                  } catch (e) {
                    return r(e);
                  }
                }, r));
          });
        }
        function Y(e) {
          return new Promise((r, n) => {
            let i = new B();
            (i.onload = (e) => {
              let n = new DataView(e.target.result);
              if (65496 != n.getUint16(0, !1)) return r(-2);
              let i = n.byteLength,
                s = 2;
              for (; s < i && !(8 >= n.getUint16(s + 2, !1)); ) {
                let e = n.getUint16(s, !1);
                if (((s += 2), 65505 == e)) {
                  if (0x45786966 != n.getUint32((s += 2), !1)) return r(-1);
                  let e = 18761 == n.getUint16((s += 6), !1);
                  s += n.getUint32(s + 4, e);
                  let i = n.getUint16(s, e);
                  s += 2;
                  for (let a = 0; a < i; a++)
                    if (274 == n.getUint16(s + 12 * a, e))
                      return r(n.getUint16(s + 12 * a + 8, e));
                } else {
                  if (65280 != (65280 & e)) break;
                  s += n.getUint16(s, !1);
                }
              }
              return r(-1);
            }),
              (i.onerror = (e) => n(e)),
              i.readAsArrayBuffer(e);
          });
        }
        function X(e, r) {
          let { width: n } = e,
            { height: i } = e,
            { maxWidthOrHeight: s } = r,
            a,
            o = e;
          return (
            isFinite(s) &&
              (n > s || i > s) &&
              (([o, a] = K(n, i)),
              n > i
                ? ((o.width = s), (o.height = (i / n) * s))
                : ((o.width = (n / i) * s), (o.height = s)),
              a.drawImage(e, 0, 0, o.width, o.height),
              G(e)),
            o
          );
        }
        function J(e, r) {
          let { width: n } = e,
            { height: i } = e,
            [s, a] = K(n, i);
          switch (
            (r > 4 && r < 9
              ? ((s.width = i), (s.height = n))
              : ((s.width = n), (s.height = i)),
            r)
          ) {
            case 2:
              a.transform(-1, 0, 0, 1, n, 0);
              break;
            case 3:
              a.transform(-1, 0, 0, -1, n, i);
              break;
            case 4:
              a.transform(1, 0, 0, -1, 0, i);
              break;
            case 5:
              a.transform(0, 1, 1, 0, 0, 0);
              break;
            case 6:
              a.transform(0, 1, -1, 0, i, 0);
              break;
            case 7:
              a.transform(0, -1, -1, 0, i, n);
              break;
            case 8:
              a.transform(0, -1, 1, 0, 0, n);
          }
          return a.drawImage(e, 0, 0, n, i), G(e), s;
        }
        function Z(e, r, n = 0) {
          return new Promise(function (i, s) {
            let a, o, l, u, c, d, h, f, p, g, m, y, v, b, w, T, S, E, C, x;
            function A(e = 5) {
              if (r.signal && r.signal.aborted) throw r.signal.reason;
              (a += e), r.onProgress(Math.min(a, 100));
            }
            function I(e) {
              if (r.signal && r.signal.aborted) throw r.signal.reason;
              (a = Math.min(Math.max(e, a), 100)), r.onProgress(a);
            }
            return (
              (a = n),
              (o = r.maxIteration || 10),
              (l = 1024 * r.maxSizeMB * 1024),
              A(),
              $(e, r).then(
                function (n) {
                  try {
                    return (
                      ([, u] = n),
                      A(),
                      (c = X(u, r)),
                      A(),
                      new Promise(function (n, i) {
                        var s;
                        if (!(s = r.exifOrientation))
                          return Y(e).then(
                            function (e) {
                              try {
                                return (s = e), a.call(this);
                              } catch (e) {
                                return i(e);
                              }
                            }.bind(this),
                            i,
                          );
                        function a() {
                          return n(s);
                        }
                        return a.call(this);
                      }).then(
                        function (n) {
                          try {
                            return (
                              (d = n),
                              A(),
                              Q().then(
                                function (n) {
                                  try {
                                    return (
                                      (h = n ? c : J(c, d)),
                                      A(),
                                      (f = r.initialQuality || 1),
                                      (p = r.fileType || e.type),
                                      W(h, p, e.name, e.lastModified, f).then(
                                        function (n) {
                                          try {
                                            var a;
                                            if (
                                              ((g = n),
                                              A(),
                                              (m = g.size > l),
                                              (y = g.size > e.size),
                                              !m && !y)
                                            )
                                              return I(100), i(g);
                                            function d() {
                                              if (o-- && (w > l || w > v)) {
                                                let r, n;
                                                return (
                                                  (r = x
                                                    ? 0.95 * C.width
                                                    : C.width),
                                                  (n = x
                                                    ? 0.95 * C.height
                                                    : C.height),
                                                  ([S, E] = K(r, n)),
                                                  E.drawImage(C, 0, 0, r, n),
                                                  (f *=
                                                    "image/png" === p
                                                      ? 0.85
                                                      : 0.95),
                                                  W(
                                                    S,
                                                    p,
                                                    e.name,
                                                    e.lastModified,
                                                    f,
                                                  ).then(function (e) {
                                                    try {
                                                      return (
                                                        (T = e),
                                                        G(C),
                                                        (C = S),
                                                        (w = T.size),
                                                        I(
                                                          Math.min(
                                                            99,
                                                            Math.floor(
                                                              ((b - w) /
                                                                (b - l)) *
                                                                100,
                                                            ),
                                                          ),
                                                        ),
                                                        d
                                                      );
                                                    } catch (e) {
                                                      return s(e);
                                                    }
                                                  }, s)
                                                );
                                              }
                                              return [1];
                                            }
                                            return (
                                              (v = e.size),
                                              (w = b = g.size),
                                              (C = h),
                                              (x =
                                                !r.alwaysKeepResolution && m),
                                              (a = function (e) {
                                                for (; e; ) {
                                                  if (e.then)
                                                    return void e.then(a, s);
                                                  try {
                                                    if (e.pop) {
                                                      if (e.length)
                                                        return e.pop()
                                                          ? k.call(this)
                                                          : e;
                                                      e = d;
                                                    } else e = e.call(this);
                                                  } catch (e) {
                                                    return s(e);
                                                  }
                                                }
                                              }.bind(this))(d)
                                            );
                                            function k() {
                                              return (
                                                G(C),
                                                G(S),
                                                G(c),
                                                G(h),
                                                G(u),
                                                I(100),
                                                i(T)
                                              );
                                            }
                                          } catch (e) {
                                            return s(e);
                                          }
                                        }.bind(this),
                                        s,
                                      )
                                    );
                                  } catch (e) {
                                    return s(e);
                                  }
                                }.bind(this),
                                s,
                              )
                            );
                          } catch (e) {
                            return s(e);
                          }
                        }.bind(this),
                        s,
                      )
                    );
                  } catch (e) {
                    return s(e);
                  }
                }.bind(this),
                s,
              )
            );
          });
        }
        let ee =
          "\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";
        function et(e, r) {
          return new Promise((n, s) => {
            i ||
              (i = (function (e) {
                let r = [];
                return (
                  "function" == typeof e ? r.push(`(${e})()`) : r.push(e),
                  URL.createObjectURL(new Blob(r))
                );
              })(ee));
            let a = new Worker(i);
            a.addEventListener("message", function (e) {
              if (r.signal && r.signal.aborted) a.terminate();
              else if (void 0 === e.data.progress) {
                if (e.data.error)
                  return s(Error(e.data.error)), void a.terminate();
                n(e.data.file), a.terminate();
              } else r.onProgress(e.data.progress);
            }),
              a.addEventListener("error", s),
              r.signal &&
                r.signal.addEventListener("abort", () => {
                  s(r.signal.reason), a.terminate();
                }),
              a.postMessage({
                file: e,
                imageCompressionLibUrl: r.libURL,
                options: { ...r, onProgress: void 0, signal: void 0 },
              });
          });
        }
        function er(e, r) {
          return new Promise(function (n, i) {
            let s, a, o, l, u, c;
            if (
              ((s = { ...r }),
              (o = 0),
              ({ onProgress: l } = s),
              (s.maxSizeMB = s.maxSizeMB || Number.POSITIVE_INFINITY),
              (u = "boolean" != typeof s.useWebWorker || s.useWebWorker),
              delete s.useWebWorker,
              (s.onProgress = (e) => {
                (o = e), "function" == typeof l && l(o);
              }),
              !(e instanceof Blob || e instanceof L))
            )
              return i(
                Error("The file given is not an instance of Blob or File"),
              );
            if (!/^image/.test(e.type))
              return i(Error("The file given is not an image"));
            if (
              ((c =
                "undefined" != typeof WorkerGlobalScope &&
                self instanceof WorkerGlobalScope),
              !u || "function" != typeof Worker || c)
            )
              return Z(e, s).then(
                function (e) {
                  try {
                    return (a = e), f.call(this);
                  } catch (e) {
                    return i(e);
                  }
                }.bind(this),
                i,
              );
            var d = function () {
                try {
                  return f.call(this);
                } catch (e) {
                  return i(e);
                }
              }.bind(this),
              h = function (r) {
                try {
                  return Z(e, s).then(function (e) {
                    try {
                      return (a = e), d();
                    } catch (e) {
                      return i(e);
                    }
                  }, i);
                } catch (e) {
                  return i(e);
                }
              };
            try {
              return (
                (s.libURL =
                  s.libURL ||
                  "https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"),
                et(e, s).then(function (e) {
                  try {
                    return (a = e), d();
                  } catch (e) {
                    return h();
                  }
                }, h)
              );
            } catch (e) {
              h();
            }
            function f() {
              try {
                (a.name = e.name), (a.lastModified = e.lastModified);
              } catch (e) {}
              try {
                s.preserveExif &&
                  "image/jpeg" === e.type &&
                  (!s.fileType || (s.fileType && s.fileType === e.type)) &&
                  (a = C(e, a));
              } catch (e) {}
              return n(a);
            }
          });
        }
        (er.getDataUrlFromFile = U),
          (er.getFilefromDataUrl = F),
          (er.loadImage = j),
          (er.drawImageInCanvas = q),
          (er.drawFileInCanvas = $),
          (er.canvasToFile = W),
          (er.getExifOrientation = Y),
          (er.handleMaxWidthOrHeight = X),
          (er.followExifOrientation = J),
          (er.cleanupCanvasMemory = G),
          (er.isAutoOrientationInBrowser = Q),
          (er.approximateBelowMaximumCanvasSizeOfBrowser = V),
          (er.copyExifWithoutOrientation = C),
          (er.getBrowserName = z),
          (er.version = "2.0.2");
        let en = { NODE_CLIENT: !1, SDK_VERSION: "${JSCORE_VERSION}" },
          ei = function (e) {
            let r = [],
              n = 0;
            for (let i = 0; i < e.length; i++) {
              let s = e.charCodeAt(i);
              s < 128
                ? (r[n++] = s)
                : (s < 2048
                    ? (r[n++] = (s >> 6) | 192)
                    : ((64512 & s) == 55296 &&
                      i + 1 < e.length &&
                      (64512 & e.charCodeAt(i + 1)) == 56320
                        ? ((s =
                            65536 +
                            ((1023 & s) << 10) +
                            (1023 & e.charCodeAt(++i))),
                          (r[n++] = (s >> 18) | 240),
                          (r[n++] = ((s >> 12) & 63) | 128))
                        : (r[n++] = (s >> 12) | 224),
                      (r[n++] = ((s >> 6) & 63) | 128)),
                  (r[n++] = (63 & s) | 128));
            }
            return r;
          },
          es = function (e) {
            let r = [],
              n = 0,
              i = 0;
            for (; n < e.length; ) {
              let s = e[n++];
              if (s < 128) r[i++] = String.fromCharCode(s);
              else if (s > 191 && s < 224) {
                let a = e[n++];
                r[i++] = String.fromCharCode(((31 & s) << 6) | (63 & a));
              } else if (s > 239 && s < 365) {
                let a =
                  (((7 & s) << 18) |
                    ((63 & e[n++]) << 12) |
                    ((63 & e[n++]) << 6) |
                    (63 & e[n++])) -
                  65536;
                (r[i++] = String.fromCharCode(55296 + (a >> 10))),
                  (r[i++] = String.fromCharCode(56320 + (1023 & a)));
              } else {
                let a = e[n++],
                  o = e[n++];
                r[i++] = String.fromCharCode(
                  ((15 & s) << 12) | ((63 & a) << 6) | (63 & o),
                );
              }
            }
            return r.join("");
          },
          ea = {
            byteToCharMap_: null,
            charToByteMap_: null,
            byteToCharMapWebSafe_: null,
            charToByteMapWebSafe_: null,
            ENCODED_VALS_BASE:
              "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
            get ENCODED_VALS() {
              return this.ENCODED_VALS_BASE + "+/=";
            },
            get ENCODED_VALS_WEBSAFE() {
              return this.ENCODED_VALS_BASE + "-_.";
            },
            HAS_NATIVE_SUPPORT: "function" == typeof atob,
            encodeByteArray(e, r) {
              if (!Array.isArray(e))
                throw Error("encodeByteArray takes an array as a parameter");
              this.init_();
              let n = r ? this.byteToCharMapWebSafe_ : this.byteToCharMap_,
                i = [];
              for (let r = 0; r < e.length; r += 3) {
                let s = e[r],
                  a = r + 1 < e.length,
                  o = a ? e[r + 1] : 0,
                  l = r + 2 < e.length,
                  u = l ? e[r + 2] : 0,
                  c = s >> 2,
                  d = ((3 & s) << 4) | (o >> 4),
                  h = ((15 & o) << 2) | (u >> 6),
                  f = 63 & u;
                l || ((f = 64), a || (h = 64)), i.push(n[c], n[d], n[h], n[f]);
              }
              return i.join("");
            },
            encodeString(e, r) {
              return this.HAS_NATIVE_SUPPORT && !r
                ? btoa(e)
                : this.encodeByteArray(ei(e), r);
            },
            decodeString(e, r) {
              return this.HAS_NATIVE_SUPPORT && !r
                ? atob(e)
                : es(this.decodeStringToByteArray(e, r));
            },
            decodeStringToByteArray(e, r) {
              this.init_();
              let n = r ? this.charToByteMapWebSafe_ : this.charToByteMap_,
                i = [];
              for (let r = 0; r < e.length; ) {
                let s = n[e.charAt(r++)],
                  a = r < e.length ? n[e.charAt(r)] : 0,
                  o = ++r < e.length ? n[e.charAt(r)] : 64,
                  l = ++r < e.length ? n[e.charAt(r)] : 64;
                if ((++r, null == s || null == a || null == o || null == l))
                  throw new eo();
                let u = (s << 2) | (a >> 4);
                if ((i.push(u), 64 !== o)) {
                  let e = ((a << 4) & 240) | (o >> 2);
                  if ((i.push(e), 64 !== l)) {
                    let e = ((o << 6) & 192) | l;
                    i.push(e);
                  }
                }
              }
              return i;
            },
            init_() {
              if (!this.byteToCharMap_) {
                (this.byteToCharMap_ = {}),
                  (this.charToByteMap_ = {}),
                  (this.byteToCharMapWebSafe_ = {}),
                  (this.charToByteMapWebSafe_ = {});
                for (let e = 0; e < this.ENCODED_VALS.length; e++)
                  (this.byteToCharMap_[e] = this.ENCODED_VALS.charAt(e)),
                    (this.charToByteMap_[this.byteToCharMap_[e]] = e),
                    (this.byteToCharMapWebSafe_[e] =
                      this.ENCODED_VALS_WEBSAFE.charAt(e)),
                    (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]] =
                      e),
                    e >= this.ENCODED_VALS_BASE.length &&
                      ((this.charToByteMap_[
                        this.ENCODED_VALS_WEBSAFE.charAt(e)
                      ] = e),
                      (this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)] =
                        e));
              }
            },
          };
        class eo extends Error {
          constructor() {
            super(...arguments), (this.name = "DecodeBase64StringError");
          }
        }
        let el = function (e) {
            let r = ei(e);
            return ea.encodeByteArray(r, !0);
          },
          eu = function (e) {
            return el(e).replace(/\./g, "");
          },
          ec = function (e) {
            try {
              return ea.decodeString(e, !0);
            } catch (e) {
              console.error("base64Decode failed: ", e);
            }
            return null;
          };
        function ed() {
          if ("undefined" != typeof self) return self;
          if ("undefined" != typeof window) return window;
          if ("undefined" != typeof global) return global;
          throw Error("Unable to locate global object.");
        }
        let eh = () => ed().__FIREBASE_DEFAULTS__,
          ef = () => {
            if ("undefined" == typeof process || void 0 === process.env) return;
            let e = process.env.__FIREBASE_DEFAULTS__;
            if (e) return JSON.parse(e);
          },
          ep = () => {
            let e;
            if ("undefined" == typeof document) return;
            try {
              e = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
            } catch (e) {
              return;
            }
            let r = e && ec(e[1]);
            return r && JSON.parse(r);
          },
          eg = () => {
            try {
              return eh() || ef() || ep();
            } catch (e) {
              console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);
              return;
            }
          },
          em = (e) => {
            var r, n;
            return null ===
              (n =
                null === (r = eg()) || void 0 === r
                  ? void 0
                  : r.emulatorHosts) || void 0 === n
              ? void 0
              : n[e];
          },
          ey = (e) => {
            let r = em(e);
            if (!r) return;
            let n = r.lastIndexOf(":");
            if (n <= 0 || n + 1 === r.length)
              throw Error(
                `Invalid host ${r} with no separate hostname and port!`,
              );
            let i = parseInt(r.substring(n + 1), 10);
            return "[" === r[0]
              ? [r.substring(1, n - 1), i]
              : [r.substring(0, n), i];
          },
          ev = () => {
            var e;
            return null === (e = eg()) || void 0 === e ? void 0 : e.config;
          };
        class eb {
          constructor() {
            (this.reject = () => {}),
              (this.resolve = () => {}),
              (this.promise = new Promise((e, r) => {
                (this.resolve = e), (this.reject = r);
              }));
          }
          wrapCallback(e) {
            return (r, n) => {
              r ? this.reject(r) : this.resolve(n),
                "function" == typeof e &&
                  (this.promise.catch(() => {}),
                  1 === e.length ? e(r) : e(r, n));
            };
          }
        }
        function ew(e, r) {
          if (e.uid)
            throw Error(
              'The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.',
            );
          let n = { alg: "none", type: "JWT" },
            i = r || "demo-project",
            s = e.iat || 0,
            a = e.sub || e.user_id;
          if (!a)
            throw Error("mockUserToken must contain 'sub' or 'user_id' field!");
          let o = Object.assign(
              {
                iss: `https://securetoken.google.com/${i}`,
                aud: i,
                iat: s,
                exp: s + 3600,
                auth_time: s,
                sub: a,
                user_id: a,
                firebase: { sign_in_provider: "custom", identities: {} },
              },
              e,
            ),
            l = "";
          return [eu(JSON.stringify(n)), eu(JSON.stringify(o)), l].join(".");
        }
        function eT() {
          return "undefined" != typeof navigator &&
            "string" == typeof navigator.userAgent
            ? navigator.userAgent
            : "";
        }
        function eS() {
          var e;
          let r =
            null === (e = eg()) || void 0 === e ? void 0 : e.forceEnvironment;
          if ("node" === r) return !0;
          if ("browser" === r) return !1;
          try {
            return (
              "[object process]" ===
              Object.prototype.toString.call(global.process)
            );
          } catch (e) {
            return !1;
          }
        }
        function eE() {
          let e =
            "object" == typeof chrome
              ? chrome.runtime
              : "object" == typeof browser
                ? browser.runtime
                : void 0;
          return "object" == typeof e && void 0 !== e.id;
        }
        function eC() {
          return (
            !eS() &&
            !!navigator.userAgent &&
            navigator.userAgent.includes("Safari") &&
            !navigator.userAgent.includes("Chrome")
          );
        }
        function ex() {
          try {
            return "object" == typeof indexedDB;
          } catch (e) {
            return !1;
          }
        }
        function eA() {
          return new Promise((e, r) => {
            try {
              let n = !0,
                i = "validate-browser-context-for-indexeddb-analytics-module",
                s = self.indexedDB.open(i);
              (s.onsuccess = () => {
                s.result.close(), n || self.indexedDB.deleteDatabase(i), e(!0);
              }),
                (s.onupgradeneeded = () => {
                  n = !1;
                }),
                (s.onerror = () => {
                  var e;
                  r(
                    (null === (e = s.error) || void 0 === e
                      ? void 0
                      : e.message) || "",
                  );
                });
            } catch (e) {
              r(e);
            }
          });
        }
        function eI() {
          return "undefined" != typeof navigator && !!navigator.cookieEnabled;
        }
        let ek = "FirebaseError";
        class e_ extends Error {
          constructor(e, r, n) {
            super(r),
              (this.code = e),
              (this.customData = n),
              (this.name = ek),
              Object.setPrototypeOf(this, e_.prototype),
              Error.captureStackTrace &&
                Error.captureStackTrace(this, eR.prototype.create);
          }
        }
        class eR {
          constructor(e, r, n) {
            (this.service = e), (this.serviceName = r), (this.errors = n);
          }
          create(e, ...r) {
            let n = r[0] || {},
              i = `${this.service}/${e}`,
              s = this.errors[e],
              a = s ? eD(s, n) : "Error",
              o = `${this.serviceName}: ${a} (${i}).`;
            return new e_(i, o, n);
          }
        }
        function eD(e, r) {
          return e.replace(eP, (e, n) => {
            let i = r[n];
            return null != i ? String(i) : `<${n}?>`;
          });
        }
        let eP = /\{\$([^}]+)}/g;
        function eN(e, r) {
          if (e === r) return !0;
          let n = Object.keys(e),
            i = Object.keys(r);
          for (let s of n) {
            if (!i.includes(s)) return !1;
            let n = e[s],
              a = r[s];
            if (eO(n) && eO(a)) {
              if (!eN(n, a)) return !1;
            } else if (n !== a) return !1;
          }
          for (let e of i) if (!n.includes(e)) return !1;
          return !0;
        }
        function eO(e) {
          return null !== e && "object" == typeof e;
        }
        let eM = 1e3,
          eL = 2,
          eB = 144e5,
          eF = 0.5;
        function eU(e, r = eM, n = eL) {
          let i = r * Math.pow(n, e),
            s = Math.round(eF * i * (Math.random() - 0.5) * 2);
          return Math.min(eB, i + s);
        }
        function ej(e) {
          return e && e._delegate ? e._delegate : e;
        }
        en.NODE_CLIENT = !0;
        class ez {
          constructor(e, r, n) {
            (this.name = e),
              (this.instanceFactory = r),
              (this.type = n),
              (this.multipleInstances = !1),
              (this.serviceProps = {}),
              (this.instantiationMode = "LAZY"),
              (this.onInstanceCreated = null);
          }
          setInstantiationMode(e) {
            return (this.instantiationMode = e), this;
          }
          setMultipleInstances(e) {
            return (this.multipleInstances = e), this;
          }
          setServiceProps(e) {
            return (this.serviceProps = e), this;
          }
          setInstanceCreatedCallback(e) {
            return (this.onInstanceCreated = e), this;
          }
        }
        let eV = "[DEFAULT]";
        class eK {
          constructor(e, r) {
            (this.name = e),
              (this.container = r),
              (this.component = null),
              (this.instances = new Map()),
              (this.instancesDeferred = new Map()),
              (this.instancesOptions = new Map()),
              (this.onInitCallbacks = new Map());
          }
          get(e) {
            let r = this.normalizeInstanceIdentifier(e);
            if (!this.instancesDeferred.has(r)) {
              let e = new eb();
              if (
                (this.instancesDeferred.set(r, e),
                this.isInitialized(r) || this.shouldAutoInitialize())
              )
                try {
                  let n = this.getOrInitializeService({
                    instanceIdentifier: r,
                  });
                  n && e.resolve(n);
                } catch (e) {}
            }
            return this.instancesDeferred.get(r).promise;
          }
          getImmediate(e) {
            var r;
            let n = this.normalizeInstanceIdentifier(
                null == e ? void 0 : e.identifier,
              ),
              i =
                null !== (r = null == e ? void 0 : e.optional) &&
                void 0 !== r &&
                r;
            if (this.isInitialized(n) || this.shouldAutoInitialize())
              try {
                return this.getOrInitializeService({ instanceIdentifier: n });
              } catch (e) {
                if (i) return null;
                throw e;
              }
            else {
              if (i) return null;
              throw Error(`Service ${this.name} is not available`);
            }
          }
          getComponent() {
            return this.component;
          }
          setComponent(e) {
            if (e.name !== this.name)
              throw Error(
                `Mismatching Component ${e.name} for Provider ${this.name}.`,
              );
            if (this.component)
              throw Error(
                `Component for ${this.name} has already been provided`,
              );
            if (((this.component = e), this.shouldAutoInitialize())) {
              if (eH(e))
                try {
                  this.getOrInitializeService({ instanceIdentifier: eV });
                } catch (e) {}
              for (let [e, r] of this.instancesDeferred.entries()) {
                let n = this.normalizeInstanceIdentifier(e);
                try {
                  let e = this.getOrInitializeService({
                    instanceIdentifier: n,
                  });
                  r.resolve(e);
                } catch (e) {}
              }
            }
          }
          clearInstance(e = eV) {
            this.instancesDeferred.delete(e),
              this.instancesOptions.delete(e),
              this.instances.delete(e);
          }
          async delete() {
            let e = Array.from(this.instances.values());
            await Promise.all([
              ...e
                .filter((e) => "INTERNAL" in e)
                .map((e) => e.INTERNAL.delete()),
              ...e.filter((e) => "_delete" in e).map((e) => e._delete()),
            ]);
          }
          isComponentSet() {
            return null != this.component;
          }
          isInitialized(e = eV) {
            return this.instances.has(e);
          }
          getOptions(e = eV) {
            return this.instancesOptions.get(e) || {};
          }
          initialize(e = {}) {
            let { options: r = {} } = e,
              n = this.normalizeInstanceIdentifier(e.instanceIdentifier);
            if (this.isInitialized(n))
              throw Error(`${this.name}(${n}) has already been initialized`);
            if (!this.isComponentSet())
              throw Error(`Component ${this.name} has not been registered yet`);
            let i = this.getOrInitializeService({
              instanceIdentifier: n,
              options: r,
            });
            for (let [e, r] of this.instancesDeferred.entries())
              n === this.normalizeInstanceIdentifier(e) && r.resolve(i);
            return i;
          }
          onInit(e, r) {
            var n;
            let i = this.normalizeInstanceIdentifier(r),
              s =
                null !== (n = this.onInitCallbacks.get(i)) && void 0 !== n
                  ? n
                  : new Set();
            s.add(e), this.onInitCallbacks.set(i, s);
            let a = this.instances.get(i);
            return (
              a && e(a, i),
              () => {
                s.delete(e);
              }
            );
          }
          invokeOnInitCallbacks(e, r) {
            let n = this.onInitCallbacks.get(r);
            if (n)
              for (let i of n)
                try {
                  i(e, r);
                } catch (e) {}
          }
          getOrInitializeService({ instanceIdentifier: e, options: r = {} }) {
            let n = this.instances.get(e);
            if (
              !n &&
              this.component &&
              ((n = this.component.instanceFactory(this.container, {
                instanceIdentifier: eq(e),
                options: r,
              })),
              this.instances.set(e, n),
              this.instancesOptions.set(e, r),
              this.invokeOnInitCallbacks(n, e),
              this.component.onInstanceCreated)
            )
              try {
                this.component.onInstanceCreated(this.container, e, n);
              } catch (e) {}
            return n || null;
          }
          normalizeInstanceIdentifier(e = eV) {
            return this.component
              ? this.component.multipleInstances
                ? e
                : eV
              : e;
          }
          shouldAutoInitialize() {
            return (
              !!this.component &&
              "EXPLICIT" !== this.component.instantiationMode
            );
          }
        }
        function eq(e) {
          return e === eV ? void 0 : e;
        }
        function eH(e) {
          return "EAGER" === e.instantiationMode;
        }
        class e$ {
          constructor(e) {
            (this.name = e), (this.providers = new Map());
          }
          addComponent(e) {
            let r = this.getProvider(e.name);
            if (r.isComponentSet())
              throw Error(
                `Component ${e.name} has already been registered with ${this.name}`,
              );
            r.setComponent(e);
          }
          addOrOverwriteComponent(e) {
            this.getProvider(e.name).isComponentSet() &&
              this.providers.delete(e.name),
              this.addComponent(e);
          }
          getProvider(e) {
            if (this.providers.has(e)) return this.providers.get(e);
            let r = new eK(e, this);
            return this.providers.set(e, r), r;
          }
          getProviders() {
            return Array.from(this.providers.values());
          }
        }
        let eW = [];
        !(function (e) {
          (e[(e.DEBUG = 0)] = "DEBUG"),
            (e[(e.VERBOSE = 1)] = "VERBOSE"),
            (e[(e.INFO = 2)] = "INFO"),
            (e[(e.WARN = 3)] = "WARN"),
            (e[(e.ERROR = 4)] = "ERROR"),
            (e[(e.SILENT = 5)] = "SILENT");
        })(f || (f = {}));
        let eG = {
            debug: f.DEBUG,
            verbose: f.VERBOSE,
            info: f.INFO,
            warn: f.WARN,
            error: f.ERROR,
            silent: f.SILENT,
          },
          eQ = f.INFO,
          eY = {
            [f.DEBUG]: "log",
            [f.VERBOSE]: "log",
            [f.INFO]: "info",
            [f.WARN]: "warn",
            [f.ERROR]: "error",
          },
          eX = (e, r, ...n) => {
            if (r < e.logLevel) return;
            let i = new Date().toISOString(),
              s = eY[r];
            if (s) console[s](`[${i}]  ${e.name}:`, ...n);
            else
              throw Error(
                `Attempted to log a message with an invalid logType (value: ${r})`,
              );
          };
        class eJ {
          constructor(e) {
            (this.name = e),
              (this._logLevel = eQ),
              (this._logHandler = eX),
              (this._userLogHandler = null),
              eW.push(this);
          }
          get logLevel() {
            return this._logLevel;
          }
          set logLevel(e) {
            if (!(e in f))
              throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
            this._logLevel = e;
          }
          setLogLevel(e) {
            this._logLevel = "string" == typeof e ? eG[e] : e;
          }
          get logHandler() {
            return this._logHandler;
          }
          set logHandler(e) {
            if ("function" != typeof e)
              throw TypeError(
                "Value assigned to `logHandler` must be a function",
              );
            this._logHandler = e;
          }
          get userLogHandler() {
            return this._userLogHandler;
          }
          set userLogHandler(e) {
            this._userLogHandler = e;
          }
          debug(...e) {
            this._userLogHandler && this._userLogHandler(this, f.DEBUG, ...e),
              this._logHandler(this, f.DEBUG, ...e);
          }
          log(...e) {
            this._userLogHandler && this._userLogHandler(this, f.VERBOSE, ...e),
              this._logHandler(this, f.VERBOSE, ...e);
          }
          info(...e) {
            this._userLogHandler && this._userLogHandler(this, f.INFO, ...e),
              this._logHandler(this, f.INFO, ...e);
          }
          warn(...e) {
            this._userLogHandler && this._userLogHandler(this, f.WARN, ...e),
              this._logHandler(this, f.WARN, ...e);
          }
          error(...e) {
            this._userLogHandler && this._userLogHandler(this, f.ERROR, ...e),
              this._logHandler(this, f.ERROR, ...e);
          }
        }
        let eZ = (e, r) => r.some((r) => e instanceof r);
        function e0() {
          return (
            s ||
            (s = [
              IDBDatabase,
              IDBObjectStore,
              IDBIndex,
              IDBCursor,
              IDBTransaction,
            ])
          );
        }
        function e1() {
          return (
            a ||
            (a = [
              IDBCursor.prototype.advance,
              IDBCursor.prototype.continue,
              IDBCursor.prototype.continuePrimaryKey,
            ])
          );
        }
        let e2 = new WeakMap(),
          e3 = new WeakMap(),
          e4 = new WeakMap(),
          e5 = new WeakMap(),
          e6 = new WeakMap();
        function e8(e) {
          let r = new Promise((r, n) => {
            let i = () => {
                e.removeEventListener("success", s),
                  e.removeEventListener("error", a);
              },
              s = () => {
                r(tn(e.result)), i();
              },
              a = () => {
                n(e.error), i();
              };
            e.addEventListener("success", s), e.addEventListener("error", a);
          });
          return (
            r
              .then((r) => {
                r instanceof IDBCursor && e2.set(r, e);
              })
              .catch(() => {}),
            e6.set(r, e),
            r
          );
        }
        function e7(e) {
          if (e3.has(e)) return;
          let r = new Promise((r, n) => {
            let i = () => {
                e.removeEventListener("complete", s),
                  e.removeEventListener("error", a),
                  e.removeEventListener("abort", a);
              },
              s = () => {
                r(), i();
              },
              a = () => {
                n(e.error || new DOMException("AbortError", "AbortError")), i();
              };
            e.addEventListener("complete", s),
              e.addEventListener("error", a),
              e.addEventListener("abort", a);
          });
          e3.set(e, r);
        }
        let e9 = {
          get(e, r, n) {
            if (e instanceof IDBTransaction) {
              if ("done" === r) return e3.get(e);
              if ("objectStoreNames" === r)
                return e.objectStoreNames || e4.get(e);
              if ("store" === r)
                return n.objectStoreNames[1]
                  ? void 0
                  : n.objectStore(n.objectStoreNames[0]);
            }
            return tn(e[r]);
          },
          set: (e, r, n) => ((e[r] = n), !0),
          has: (e, r) =>
            (e instanceof IDBTransaction && ("done" === r || "store" === r)) ||
            r in e,
        };
        function te(e) {
          e9 = e(e9);
        }
        function tt(e) {
          return e !== IDBDatabase.prototype.transaction ||
            "objectStoreNames" in IDBTransaction.prototype
            ? e1().includes(e)
              ? function (...r) {
                  return e.apply(ti(this), r), tn(e2.get(this));
                }
              : function (...r) {
                  return tn(e.apply(ti(this), r));
                }
            : function (r, ...n) {
                let i = e.call(ti(this), r, ...n);
                return e4.set(i, r.sort ? r.sort() : [r]), tn(i);
              };
        }
        function tr(e) {
          return "function" == typeof e
            ? tt(e)
            : (e instanceof IDBTransaction && e7(e), eZ(e, e0()))
              ? new Proxy(e, e9)
              : e;
        }
        function tn(e) {
          if (e instanceof IDBRequest) return e8(e);
          if (e5.has(e)) return e5.get(e);
          let r = tr(e);
          return r !== e && (e5.set(e, r), e6.set(r, e)), r;
        }
        let ti = (e) => e6.get(e);
        function ts(
          e,
          r,
          { blocked: n, upgrade: i, blocking: s, terminated: a } = {},
        ) {
          let o = indexedDB.open(e, r),
            l = tn(o);
          return (
            i &&
              o.addEventListener("upgradeneeded", (e) => {
                i(
                  tn(o.result),
                  e.oldVersion,
                  e.newVersion,
                  tn(o.transaction),
                  e,
                );
              }),
            n &&
              o.addEventListener("blocked", (e) =>
                n(e.oldVersion, e.newVersion, e),
              ),
            l
              .then((e) => {
                a && e.addEventListener("close", () => a()),
                  s &&
                    e.addEventListener("versionchange", (e) =>
                      s(e.oldVersion, e.newVersion, e),
                    );
              })
              .catch(() => {}),
            l
          );
        }
        let ta = ["get", "getKey", "getAll", "getAllKeys", "count"],
          to = ["put", "add", "delete", "clear"],
          tl = new Map();
        function tu(e, r) {
          if (!(e instanceof IDBDatabase && !(r in e) && "string" == typeof r))
            return;
          if (tl.get(r)) return tl.get(r);
          let n = r.replace(/FromIndex$/, ""),
            i = r !== n,
            s = to.includes(n);
          if (
            !(n in (i ? IDBIndex : IDBObjectStore).prototype) ||
            !(s || ta.includes(n))
          )
            return;
          let a = async function (e, ...r) {
            let a = this.transaction(e, s ? "readwrite" : "readonly"),
              o = a.store;
            return (
              i && (o = o.index(r.shift())),
              (await Promise.all([o[n](...r), s && a.done]))[0]
            );
          };
          return tl.set(r, a), a;
        }
        te((e) => ({
          ...e,
          get: (r, n, i) => tu(r, n) || e.get(r, n, i),
          has: (r, n) => !!tu(r, n) || e.has(r, n),
        }));
        class tc {
          constructor(e) {
            this.container = e;
          }
          getPlatformInfoString() {
            return this.container
              .getProviders()
              .map((e) => {
                if (!td(e)) return null;
                {
                  let r = e.getImmediate();
                  return `${r.library}/${r.version}`;
                }
              })
              .filter((e) => e)
              .join(" ");
          }
        }
        function td(e) {
          let r = e.getComponent();
          return (null == r ? void 0 : r.type) === "VERSION";
        }
        let th = "@firebase/app",
          tf = "0.11.1",
          tp = new eJ("@firebase/app"),
          tg = "11.3.1",
          tm = "[DEFAULT]",
          ty = {
            [th]: "fire-core",
            "@firebase/app-compat": "fire-core-compat",
            "@firebase/analytics": "fire-analytics",
            "@firebase/analytics-compat": "fire-analytics-compat",
            "@firebase/app-check": "fire-app-check",
            "@firebase/app-check-compat": "fire-app-check-compat",
            "@firebase/auth": "fire-auth",
            "@firebase/auth-compat": "fire-auth-compat",
            "@firebase/database": "fire-rtdb",
            "@firebase/data-connect": "fire-data-connect",
            "@firebase/database-compat": "fire-rtdb-compat",
            "@firebase/functions": "fire-fn",
            "@firebase/functions-compat": "fire-fn-compat",
            "@firebase/installations": "fire-iid",
            "@firebase/installations-compat": "fire-iid-compat",
            "@firebase/messaging": "fire-fcm",
            "@firebase/messaging-compat": "fire-fcm-compat",
            "@firebase/performance": "fire-perf",
            "@firebase/performance-compat": "fire-perf-compat",
            "@firebase/remote-config": "fire-rc",
            "@firebase/remote-config-compat": "fire-rc-compat",
            "@firebase/storage": "fire-gcs",
            "@firebase/storage-compat": "fire-gcs-compat",
            "@firebase/firestore": "fire-fst",
            "@firebase/firestore-compat": "fire-fst-compat",
            "@firebase/vertexai": "fire-vertex",
            "fire-js": "fire-js",
            firebase: "fire-js-all",
          },
          tv = new Map(),
          tb = new Map(),
          tw = new Map();
        function tT(e, r) {
          try {
            e.container.addComponent(r);
          } catch (n) {
            tp.debug(
              `Component ${r.name} failed to register with FirebaseApp ${e.name}`,
              n,
            );
          }
        }
        function tS(e) {
          let r = e.name;
          if (tw.has(r))
            return (
              tp.debug(
                `There were multiple attempts to register component ${r}.`,
              ),
              !1
            );
          for (let n of (tw.set(r, e), tv.values())) tT(n, e);
          for (let r of tb.values()) tT(r, e);
          return !0;
        }
        function tE(e, r) {
          let n = e.container
            .getProvider("heartbeat")
            .getImmediate({ optional: !0 });
          return n && n.triggerHeartbeat(), e.container.getProvider(r);
        }
        function tC(e) {
          return null != e && void 0 !== e.settings;
        }
        let tx = new eR("app", "Firebase", {
          "no-app":
            "No Firebase App '{$appName}' has been created - call initializeApp() first",
          "bad-app-name": "Illegal App name: '{$appName}'",
          "duplicate-app":
            "Firebase App named '{$appName}' already exists with different options or config",
          "app-deleted": "Firebase App named '{$appName}' already deleted",
          "server-app-deleted": "Firebase Server App has been deleted",
          "no-options":
            "Need to provide options, when not being deployed to hosting via source.",
          "invalid-app-argument":
            "firebase.{$appName}() takes either no argument or a Firebase App instance.",
          "invalid-log-argument":
            "First argument to `onLog` must be null or a function.",
          "idb-open":
            "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
          "idb-get":
            "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
          "idb-set":
            "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
          "idb-delete":
            "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
          "finalization-registry-not-supported":
            "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
          "invalid-server-app-environment":
            "FirebaseServerApp is not for use in browser environments.",
        });
        class tA {
          constructor(e, r, n) {
            (this._isDeleted = !1),
              (this._options = Object.assign({}, e)),
              (this._config = Object.assign({}, r)),
              (this._name = r.name),
              (this._automaticDataCollectionEnabled =
                r.automaticDataCollectionEnabled),
              (this._container = n),
              this.container.addComponent(new ez("app", () => this, "PUBLIC"));
          }
          get automaticDataCollectionEnabled() {
            return this.checkDestroyed(), this._automaticDataCollectionEnabled;
          }
          set automaticDataCollectionEnabled(e) {
            this.checkDestroyed(), (this._automaticDataCollectionEnabled = e);
          }
          get name() {
            return this.checkDestroyed(), this._name;
          }
          get options() {
            return this.checkDestroyed(), this._options;
          }
          get config() {
            return this.checkDestroyed(), this._config;
          }
          get container() {
            return this._container;
          }
          get isDeleted() {
            return this._isDeleted;
          }
          set isDeleted(e) {
            this._isDeleted = e;
          }
          checkDestroyed() {
            if (this.isDeleted)
              throw tx.create("app-deleted", { appName: this._name });
          }
        }
        let tI = tg;
        function tk(e, r = {}) {
          let n = e;
          "object" != typeof r && (r = { name: r });
          let i = Object.assign(
              { name: tm, automaticDataCollectionEnabled: !1 },
              r,
            ),
            s = i.name;
          if ("string" != typeof s || !s)
            throw tx.create("bad-app-name", { appName: String(s) });
          if ((n || (n = ev()), !n)) throw tx.create("no-options");
          let a = tv.get(s);
          if (a) {
            if (eN(n, a.options) && eN(i, a.config)) return a;
            throw tx.create("duplicate-app", { appName: s });
          }
          let o = new e$(s);
          for (let e of tw.values()) o.addComponent(e);
          let l = new tA(n, i, o);
          return tv.set(s, l), l;
        }
        function t_(e = tm) {
          let r = tv.get(e);
          if (!r && e === tm && ev()) return tk();
          if (!r) throw tx.create("no-app", { appName: e });
          return r;
        }
        function tR(e, r, n) {
          var i;
          let s = null !== (i = ty[e]) && void 0 !== i ? i : e;
          n && (s += `-${n}`);
          let a = s.match(/\s|\//),
            o = r.match(/\s|\//);
          if (a || o) {
            let e = [`Unable to register library "${s}" with version "${r}":`];
            a &&
              e.push(
                `library name "${s}" contains illegal characters (whitespace or "/")`,
              ),
              a && o && e.push("and"),
              o &&
                e.push(
                  `version name "${r}" contains illegal characters (whitespace or "/")`,
                ),
              tp.warn(e.join(" "));
            return;
          }
          tS(
            new ez(
              `${s}-version`,
              () => ({ library: s, version: r }),
              "VERSION",
            ),
          );
        }
        let tD = "firebase-heartbeat-database",
          tP = 1,
          tN = "firebase-heartbeat-store",
          tO = null;
        function tM() {
          return (
            tO ||
              (tO = ts(tD, tP, {
                upgrade: (e, r) => {
                  if (0 === r)
                    try {
                      e.createObjectStore(tN);
                    } catch (e) {
                      console.warn(e);
                    }
                },
              }).catch((e) => {
                throw tx.create("idb-open", {
                  originalErrorMessage: e.message,
                });
              })),
            tO
          );
        }
        async function tL(e) {
          try {
            let r = (await tM()).transaction(tN),
              n = await r.objectStore(tN).get(tF(e));
            return await r.done, n;
          } catch (e) {
            if (e instanceof e_) tp.warn(e.message);
            else {
              let r = tx.create("idb-get", {
                originalErrorMessage: null == e ? void 0 : e.message,
              });
              tp.warn(r.message);
            }
          }
        }
        async function tB(e, r) {
          try {
            let n = (await tM()).transaction(tN, "readwrite"),
              i = n.objectStore(tN);
            await i.put(r, tF(e)), await n.done;
          } catch (e) {
            if (e instanceof e_) tp.warn(e.message);
            else {
              let r = tx.create("idb-set", {
                originalErrorMessage: null == e ? void 0 : e.message,
              });
              tp.warn(r.message);
            }
          }
        }
        function tF(e) {
          return `${e.name}!${e.options.appId}`;
        }
        let tU = 1024,
          tj = 30;
        class tz {
          constructor(e) {
            (this.container = e), (this._heartbeatsCache = null);
            let r = this.container.getProvider("app").getImmediate();
            (this._storage = new tq(r)),
              (this._heartbeatsCachePromise = this._storage
                .read()
                .then((e) => ((this._heartbeatsCache = e), e)));
          }
          async triggerHeartbeat() {
            var e, r;
            try {
              let n = this.container
                  .getProvider("platform-logger")
                  .getImmediate()
                  .getPlatformInfoString(),
                i = tV();
              if (
                ((null === (e = this._heartbeatsCache) || void 0 === e
                  ? void 0
                  : e.heartbeats) == null &&
                  ((this._heartbeatsCache = await this._heartbeatsCachePromise),
                  (null === (r = this._heartbeatsCache) || void 0 === r
                    ? void 0
                    : r.heartbeats) == null)) ||
                this._heartbeatsCache.lastSentHeartbeatDate === i ||
                this._heartbeatsCache.heartbeats.some((e) => e.date === i)
              )
                return;
              if (
                (this._heartbeatsCache.heartbeats.push({ date: i, agent: n }),
                this._heartbeatsCache.heartbeats.length > tj)
              ) {
                let e = t$(this._heartbeatsCache.heartbeats);
                this._heartbeatsCache.heartbeats.splice(e, 1);
              }
              return this._storage.overwrite(this._heartbeatsCache);
            } catch (e) {
              tp.warn(e);
            }
          }
          async getHeartbeatsHeader() {
            var e;
            try {
              if (
                (null === this._heartbeatsCache &&
                  (await this._heartbeatsCachePromise),
                (null === (e = this._heartbeatsCache) || void 0 === e
                  ? void 0
                  : e.heartbeats) == null ||
                  0 === this._heartbeatsCache.heartbeats.length)
              )
                return "";
              let r = tV(),
                { heartbeatsToSend: n, unsentEntries: i } = tK(
                  this._heartbeatsCache.heartbeats,
                ),
                s = eu(JSON.stringify({ version: 2, heartbeats: n }));
              return (
                (this._heartbeatsCache.lastSentHeartbeatDate = r),
                i.length > 0
                  ? ((this._heartbeatsCache.heartbeats = i),
                    await this._storage.overwrite(this._heartbeatsCache))
                  : ((this._heartbeatsCache.heartbeats = []),
                    this._storage.overwrite(this._heartbeatsCache)),
                s
              );
            } catch (e) {
              return tp.warn(e), "";
            }
          }
        }
        function tV() {
          return new Date().toISOString().substring(0, 10);
        }
        function tK(e, r = tU) {
          let n = [],
            i = e.slice();
          for (let s of e) {
            let e = n.find((e) => e.agent === s.agent);
            if (e) {
              if ((e.dates.push(s.date), tH(n) > r)) {
                e.dates.pop();
                break;
              }
            } else if (
              (n.push({ agent: s.agent, dates: [s.date] }), tH(n) > r)
            ) {
              n.pop();
              break;
            }
            i = i.slice(1);
          }
          return { heartbeatsToSend: n, unsentEntries: i };
        }
        class tq {
          constructor(e) {
            (this.app = e),
              (this._canUseIndexedDBPromise =
                this.runIndexedDBEnvironmentCheck());
          }
          async runIndexedDBEnvironmentCheck() {
            return (
              !!ex() &&
              eA()
                .then(() => !0)
                .catch(() => !1)
            );
          }
          async read() {
            if (!(await this._canUseIndexedDBPromise))
              return { heartbeats: [] };
            {
              let e = await tL(this.app);
              return (null == e ? void 0 : e.heartbeats)
                ? e
                : { heartbeats: [] };
            }
          }
          async overwrite(e) {
            var r;
            if (await this._canUseIndexedDBPromise) {
              let n = await this.read();
              return tB(this.app, {
                lastSentHeartbeatDate:
                  null !== (r = e.lastSentHeartbeatDate) && void 0 !== r
                    ? r
                    : n.lastSentHeartbeatDate,
                heartbeats: e.heartbeats,
              });
            }
          }
          async add(e) {
            var r;
            if (await this._canUseIndexedDBPromise) {
              let n = await this.read();
              return tB(this.app, {
                lastSentHeartbeatDate:
                  null !== (r = e.lastSentHeartbeatDate) && void 0 !== r
                    ? r
                    : n.lastSentHeartbeatDate,
                heartbeats: [...n.heartbeats, ...e.heartbeats],
              });
            }
          }
        }
        function tH(e) {
          return eu(JSON.stringify({ version: 2, heartbeats: e })).length;
        }
        function t$(e) {
          if (0 === e.length) return -1;
          let r = 0,
            n = e[0].date;
          for (let i = 1; i < e.length; i++)
            e[i].date < n && ((n = e[i].date), (r = i));
          return r;
        }
        (function (e) {
          tS(new ez("platform-logger", (e) => new tc(e), "PRIVATE")),
            tS(new ez("heartbeat", (e) => new tz(e), "PRIVATE")),
            tR(th, tf, ""),
            tR(th, tf, "esm2017"),
            tR("fire-js", "");
        })(0);
        var tW = n(28354),
          tG = n(55511),
          tQ =
            "undefined" != typeof globalThis
              ? globalThis
              : "undefined" != typeof window
                ? window
                : "undefined" != typeof global
                  ? global
                  : "undefined" != typeof self
                    ? self
                    : {},
          tY = {};
        (function () {
          function e() {
            (this.blockSize = -1),
              (this.blockSize = 64),
              (this.g = [, , , ,]),
              (this.B = Array(this.blockSize)),
              (this.o = this.h = 0),
              this.s();
          }
          function r(e, r, n) {
            n || (n = 0);
            var i = Array(16);
            if ("string" == typeof r)
              for (var s = 0; 16 > s; ++s)
                i[s] =
                  r.charCodeAt(n++) |
                  (r.charCodeAt(n++) << 8) |
                  (r.charCodeAt(n++) << 16) |
                  (r.charCodeAt(n++) << 24);
            else
              for (s = 0; 16 > s; ++s)
                i[s] = r[n++] | (r[n++] << 8) | (r[n++] << 16) | (r[n++] << 24);
            (r = e.g[0]), (n = e.g[1]), (s = e.g[2]);
            var a = e.g[3],
              o = (r + (a ^ (n & (s ^ a))) + i[0] + 0xd76aa478) & 0xffffffff;
            (o =
              (a +
                (s ^
                  ((r = n + (((o << 7) & 0xffffffff) | (o >>> 25))) &
                    (n ^ s))) +
                i[1] +
                0xe8c7b756) &
              0xffffffff),
              (o =
                (s +
                  (n ^
                    ((a = r + (((o << 12) & 0xffffffff) | (o >>> 20))) &
                      (r ^ n))) +
                  i[2] +
                  0x242070db) &
                0xffffffff),
              (o =
                (n +
                  (r ^
                    ((s = a + (((o << 17) & 0xffffffff) | (o >>> 15))) &
                      (a ^ r))) +
                  i[3] +
                  0xc1bdceee) &
                0xffffffff),
              (o =
                (r +
                  (a ^
                    ((n = s + (((o << 22) & 0xffffffff) | (o >>> 10))) &
                      (s ^ a))) +
                  i[4] +
                  0xf57c0faf) &
                0xffffffff),
              (o =
                (a +
                  (s ^
                    ((r = n + (((o << 7) & 0xffffffff) | (o >>> 25))) &
                      (n ^ s))) +
                  i[5] +
                  0x4787c62a) &
                0xffffffff),
              (o =
                (s +
                  (n ^
                    ((a = r + (((o << 12) & 0xffffffff) | (o >>> 20))) &
                      (r ^ n))) +
                  i[6] +
                  0xa8304613) &
                0xffffffff),
              (o =
                (n +
                  (r ^
                    ((s = a + (((o << 17) & 0xffffffff) | (o >>> 15))) &
                      (a ^ r))) +
                  i[7] +
                  0xfd469501) &
                0xffffffff),
              (o =
                (r +
                  (a ^
                    ((n = s + (((o << 22) & 0xffffffff) | (o >>> 10))) &
                      (s ^ a))) +
                  i[8] +
                  0x698098d8) &
                0xffffffff),
              (o =
                (a +
                  (s ^
                    ((r = n + (((o << 7) & 0xffffffff) | (o >>> 25))) &
                      (n ^ s))) +
                  i[9] +
                  0x8b44f7af) &
                0xffffffff),
              (o =
                (s +
                  (n ^
                    ((a = r + (((o << 12) & 0xffffffff) | (o >>> 20))) &
                      (r ^ n))) +
                  i[10] +
                  0xffff5bb1) &
                0xffffffff),
              (o =
                (n +
                  (r ^
                    ((s = a + (((o << 17) & 0xffffffff) | (o >>> 15))) &
                      (a ^ r))) +
                  i[11] +
                  0x895cd7be) &
                0xffffffff),
              (o =
                (r +
                  (a ^
                    ((n = s + (((o << 22) & 0xffffffff) | (o >>> 10))) &
                      (s ^ a))) +
                  i[12] +
                  0x6b901122) &
                0xffffffff),
              (o =
                (a +
                  (s ^
                    ((r = n + (((o << 7) & 0xffffffff) | (o >>> 25))) &
                      (n ^ s))) +
                  i[13] +
                  0xfd987193) &
                0xffffffff),
              (o =
                (s +
                  (n ^
                    ((a = r + (((o << 12) & 0xffffffff) | (o >>> 20))) &
                      (r ^ n))) +
                  i[14] +
                  0xa679438e) &
                0xffffffff),
              (o =
                (n +
                  (r ^
                    ((s = a + (((o << 17) & 0xffffffff) | (o >>> 15))) &
                      (a ^ r))) +
                  i[15] +
                  0x49b40821) &
                0xffffffff),
              (n = s + (((o << 22) & 0xffffffff) | (o >>> 10))),
              (o = (r + (s ^ (a & (n ^ s))) + i[1] + 0xf61e2562) & 0xffffffff),
              (r = n + (((o << 5) & 0xffffffff) | (o >>> 27))),
              (o = (a + (n ^ (s & (r ^ n))) + i[6] + 0xc040b340) & 0xffffffff),
              (a = r + (((o << 9) & 0xffffffff) | (o >>> 23))),
              (o = (s + (r ^ (n & (a ^ r))) + i[11] + 0x265e5a51) & 0xffffffff),
              (s = a + (((o << 14) & 0xffffffff) | (o >>> 18))),
              (o = (n + (a ^ (r & (s ^ a))) + i[0] + 0xe9b6c7aa) & 0xffffffff),
              (n = s + (((o << 20) & 0xffffffff) | (o >>> 12))),
              (o = (r + (s ^ (a & (n ^ s))) + i[5] + 0xd62f105d) & 0xffffffff),
              (r = n + (((o << 5) & 0xffffffff) | (o >>> 27))),
              (o = (a + (n ^ (s & (r ^ n))) + i[10] + 0x2441453) & 0xffffffff),
              (a = r + (((o << 9) & 0xffffffff) | (o >>> 23))),
              (o = (s + (r ^ (n & (a ^ r))) + i[15] + 0xd8a1e681) & 0xffffffff),
              (s = a + (((o << 14) & 0xffffffff) | (o >>> 18))),
              (o = (n + (a ^ (r & (s ^ a))) + i[4] + 0xe7d3fbc8) & 0xffffffff),
              (n = s + (((o << 20) & 0xffffffff) | (o >>> 12))),
              (o = (r + (s ^ (a & (n ^ s))) + i[9] + 0x21e1cde6) & 0xffffffff),
              (r = n + (((o << 5) & 0xffffffff) | (o >>> 27))),
              (o = (a + (n ^ (s & (r ^ n))) + i[14] + 0xc33707d6) & 0xffffffff),
              (a = r + (((o << 9) & 0xffffffff) | (o >>> 23))),
              (o = (s + (r ^ (n & (a ^ r))) + i[3] + 0xf4d50d87) & 0xffffffff),
              (s = a + (((o << 14) & 0xffffffff) | (o >>> 18))),
              (o = (n + (a ^ (r & (s ^ a))) + i[8] + 0x455a14ed) & 0xffffffff),
              (n = s + (((o << 20) & 0xffffffff) | (o >>> 12))),
              (o = (r + (s ^ (a & (n ^ s))) + i[13] + 0xa9e3e905) & 0xffffffff),
              (r = n + (((o << 5) & 0xffffffff) | (o >>> 27))),
              (o = (a + (n ^ (s & (r ^ n))) + i[2] + 0xfcefa3f8) & 0xffffffff),
              (a = r + (((o << 9) & 0xffffffff) | (o >>> 23))),
              (o = (s + (r ^ (n & (a ^ r))) + i[7] + 0x676f02d9) & 0xffffffff),
              (s = a + (((o << 14) & 0xffffffff) | (o >>> 18))),
              (o = (n + (a ^ (r & (s ^ a))) + i[12] + 0x8d2a4c8a) & 0xffffffff),
              (o =
                (r +
                  ((n = s + (((o << 20) & 0xffffffff) | (o >>> 12))) ^ s ^ a) +
                  i[5] +
                  0xfffa3942) &
                0xffffffff),
              (o =
                (a +
                  ((r = n + (((o << 4) & 0xffffffff) | (o >>> 28))) ^ n ^ s) +
                  i[8] +
                  0x8771f681) &
                0xffffffff),
              (o =
                (s +
                  ((a = r + (((o << 11) & 0xffffffff) | (o >>> 21))) ^ r ^ n) +
                  i[11] +
                  0x6d9d6122) &
                0xffffffff),
              (o =
                (n +
                  ((s = a + (((o << 16) & 0xffffffff) | (o >>> 16))) ^ a ^ r) +
                  i[14] +
                  0xfde5380c) &
                0xffffffff),
              (o =
                (r +
                  ((n = s + (((o << 23) & 0xffffffff) | (o >>> 9))) ^ s ^ a) +
                  i[1] +
                  0xa4beea44) &
                0xffffffff),
              (o =
                (a +
                  ((r = n + (((o << 4) & 0xffffffff) | (o >>> 28))) ^ n ^ s) +
                  i[4] +
                  0x4bdecfa9) &
                0xffffffff),
              (o =
                (s +
                  ((a = r + (((o << 11) & 0xffffffff) | (o >>> 21))) ^ r ^ n) +
                  i[7] +
                  0xf6bb4b60) &
                0xffffffff),
              (o =
                (n +
                  ((s = a + (((o << 16) & 0xffffffff) | (o >>> 16))) ^ a ^ r) +
                  i[10] +
                  0xbebfbc70) &
                0xffffffff),
              (o =
                (r +
                  ((n = s + (((o << 23) & 0xffffffff) | (o >>> 9))) ^ s ^ a) +
                  i[13] +
                  0x289b7ec6) &
                0xffffffff),
              (o =
                (a +
                  ((r = n + (((o << 4) & 0xffffffff) | (o >>> 28))) ^ n ^ s) +
                  i[0] +
                  0xeaa127fa) &
                0xffffffff),
              (o =
                (s +
                  ((a = r + (((o << 11) & 0xffffffff) | (o >>> 21))) ^ r ^ n) +
                  i[3] +
                  0xd4ef3085) &
                0xffffffff),
              (o =
                (n +
                  ((s = a + (((o << 16) & 0xffffffff) | (o >>> 16))) ^ a ^ r) +
                  i[6] +
                  0x4881d05) &
                0xffffffff),
              (o =
                (r +
                  ((n = s + (((o << 23) & 0xffffffff) | (o >>> 9))) ^ s ^ a) +
                  i[9] +
                  0xd9d4d039) &
                0xffffffff),
              (o =
                (a +
                  ((r = n + (((o << 4) & 0xffffffff) | (o >>> 28))) ^ n ^ s) +
                  i[12] +
                  0xe6db99e5) &
                0xffffffff),
              (o =
                (s +
                  ((a = r + (((o << 11) & 0xffffffff) | (o >>> 21))) ^ r ^ n) +
                  i[15] +
                  0x1fa27cf8) &
                0xffffffff),
              (o =
                (n +
                  ((s = a + (((o << 16) & 0xffffffff) | (o >>> 16))) ^ a ^ r) +
                  i[2] +
                  0xc4ac5665) &
                0xffffffff),
              (n = s + (((o << 23) & 0xffffffff) | (o >>> 9))),
              (o = (r + (s ^ (n | ~a)) + i[0] + 0xf4292244) & 0xffffffff),
              (r = n + (((o << 6) & 0xffffffff) | (o >>> 26))),
              (o = (a + (n ^ (r | ~s)) + i[7] + 0x432aff97) & 0xffffffff),
              (a = r + (((o << 10) & 0xffffffff) | (o >>> 22))),
              (o = (s + (r ^ (a | ~n)) + i[14] + 0xab9423a7) & 0xffffffff),
              (s = a + (((o << 15) & 0xffffffff) | (o >>> 17))),
              (o = (n + (a ^ (s | ~r)) + i[5] + 0xfc93a039) & 0xffffffff),
              (n = s + (((o << 21) & 0xffffffff) | (o >>> 11))),
              (o = (r + (s ^ (n | ~a)) + i[12] + 0x655b59c3) & 0xffffffff),
              (r = n + (((o << 6) & 0xffffffff) | (o >>> 26))),
              (o = (a + (n ^ (r | ~s)) + i[3] + 0x8f0ccc92) & 0xffffffff),
              (a = r + (((o << 10) & 0xffffffff) | (o >>> 22))),
              (o = (s + (r ^ (a | ~n)) + i[10] + 0xffeff47d) & 0xffffffff),
              (s = a + (((o << 15) & 0xffffffff) | (o >>> 17))),
              (o = (n + (a ^ (s | ~r)) + i[1] + 0x85845dd1) & 0xffffffff),
              (n = s + (((o << 21) & 0xffffffff) | (o >>> 11))),
              (o = (r + (s ^ (n | ~a)) + i[8] + 0x6fa87e4f) & 0xffffffff),
              (r = n + (((o << 6) & 0xffffffff) | (o >>> 26))),
              (o = (a + (n ^ (r | ~s)) + i[15] + 0xfe2ce6e0) & 0xffffffff),
              (a = r + (((o << 10) & 0xffffffff) | (o >>> 22))),
              (o = (s + (r ^ (a | ~n)) + i[6] + 0xa3014314) & 0xffffffff),
              (s = a + (((o << 15) & 0xffffffff) | (o >>> 17))),
              (o = (n + (a ^ (s | ~r)) + i[13] + 0x4e0811a1) & 0xffffffff),
              (n = s + (((o << 21) & 0xffffffff) | (o >>> 11))),
              (o = (r + (s ^ (n | ~a)) + i[4] + 0xf7537e82) & 0xffffffff),
              (r = n + (((o << 6) & 0xffffffff) | (o >>> 26))),
              (o = (a + (n ^ (r | ~s)) + i[11] + 0xbd3af235) & 0xffffffff),
              (a = r + (((o << 10) & 0xffffffff) | (o >>> 22))),
              (o = (s + (r ^ (a | ~n)) + i[2] + 0x2ad7d2bb) & 0xffffffff),
              (s = a + (((o << 15) & 0xffffffff) | (o >>> 17))),
              (o = (n + (a ^ (s | ~r)) + i[9] + 0xeb86d391) & 0xffffffff),
              (e.g[0] = (e.g[0] + r) & 0xffffffff),
              (e.g[1] =
                (e.g[1] + (s + (((o << 21) & 0xffffffff) | (o >>> 11)))) &
                0xffffffff),
              (e.g[2] = (e.g[2] + s) & 0xffffffff),
              (e.g[3] = (e.g[3] + a) & 0xffffffff);
          }
          function n(e, r) {
            var n = a;
            return Object.prototype.hasOwnProperty.call(n, e)
              ? n[e]
              : (n[e] = r(e));
          }
          function i(e, r) {
            this.h = r;
            for (var n = [], i = !0, s = e.length - 1; 0 <= s; s--) {
              var a = 0 | e[s];
              (i && a == r) || ((n[s] = a), (i = !1));
            }
            this.g = n;
          }
          (function (e, r) {
            function n() {}
            (n.prototype = r.prototype),
              (e.D = r.prototype),
              (e.prototype = new n()),
              (e.prototype.constructor = e),
              (e.C = function (e, n, i) {
                for (
                  var s = Array(arguments.length - 2), a = 2;
                  a < arguments.length;
                  a++
                )
                  s[a - 2] = arguments[a];
                return r.prototype[n].apply(e, s);
              });
          })(e, function () {
            this.blockSize = -1;
          }),
            (e.prototype.s = function () {
              (this.g[0] = 0x67452301),
                (this.g[1] = 0xefcdab89),
                (this.g[2] = 0x98badcfe),
                (this.g[3] = 0x10325476),
                (this.o = this.h = 0);
            }),
            (e.prototype.u = function (e, n) {
              void 0 === n && (n = e.length);
              for (
                var i = n - this.blockSize, s = this.B, a = this.h, o = 0;
                o < n;

              ) {
                if (0 == a)
                  for (; o <= i; ) r(this, e, o), (o += this.blockSize);
                if ("string" == typeof e) {
                  for (; o < n; )
                    if (((s[a++] = e.charCodeAt(o++)), a == this.blockSize)) {
                      r(this, s), (a = 0);
                      break;
                    }
                } else
                  for (; o < n; )
                    if (((s[a++] = e[o++]), a == this.blockSize)) {
                      r(this, s), (a = 0);
                      break;
                    }
              }
              (this.h = a), (this.o += n);
            }),
            (e.prototype.v = function () {
              var e = Array(
                (56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h,
              );
              e[0] = 128;
              for (var r = 1; r < e.length - 8; ++r) e[r] = 0;
              var n = 8 * this.o;
              for (r = e.length - 8; r < e.length; ++r)
                (e[r] = 255 & n), (n /= 256);
              for (this.u(e), e = Array(16), r = n = 0; 4 > r; ++r)
                for (var i = 0; 32 > i; i += 8)
                  e[n++] = (this.g[r] >>> i) & 255;
              return e;
            });
          var s,
            a = {};
          function o(e) {
            return -128 <= e && 128 > e
              ? n(e, function (e) {
                  return new i([0 | e], 0 > e ? -1 : 0);
                })
              : new i([0 | e], 0 > e ? -1 : 0);
          }
          function l(e) {
            if (isNaN(e) || !isFinite(e)) return c;
            if (0 > e) return y(l(-e));
            for (var r = [], n = 1, s = 0; e >= n; s++)
              (r[s] = (e / n) | 0), (n *= 0x100000000);
            return new i(r, 0);
          }
          function u(e, r) {
            if (0 == e.length) throw Error("number format error: empty string");
            if (2 > (r = r || 10) || 36 < r)
              throw Error("radix out of range: " + r);
            if ("-" == e.charAt(0)) return y(u(e.substring(1), r));
            if (0 <= e.indexOf("-"))
              throw Error('number format error: interior "-" character');
            for (
              var n = l(Math.pow(r, 8)), i = c, s = 0;
              s < e.length;
              s += 8
            ) {
              var a = Math.min(8, e.length - s),
                o = parseInt(e.substring(s, s + a), r);
              8 > a
                ? ((a = l(Math.pow(r, a))), (i = i.j(a).add(l(o))))
                : (i = (i = i.j(n)).add(l(o)));
            }
            return i;
          }
          var c = o(0),
            d = o(1),
            h = o(0x1000000);
          function f(e) {
            if (0 != e.h) return !1;
            for (var r = 0; r < e.g.length; r++) if (0 != e.g[r]) return !1;
            return !0;
          }
          function m(e) {
            return -1 == e.h;
          }
          function y(e) {
            for (var r = e.g.length, n = [], s = 0; s < r; s++) n[s] = ~e.g[s];
            return new i(n, ~e.h).add(d);
          }
          function v(e, r) {
            return e.add(y(r));
          }
          function b(e, r) {
            for (; (65535 & e[r]) != e[r]; )
              (e[r + 1] += e[r] >>> 16), (e[r] &= 65535), r++;
          }
          function w(e, r) {
            (this.g = e), (this.h = r);
          }
          function T(e, r) {
            if (f(r)) throw Error("division by zero");
            if (f(e)) return new w(c, c);
            if (m(e)) return (r = T(y(e), r)), new w(y(r.g), y(r.h));
            if (m(r)) return (r = T(e, y(r))), new w(y(r.g), r.h);
            if (30 < e.g.length) {
              if (m(e) || m(r))
                throw Error("slowDivide_ only works with positive integers.");
              for (var n = d, i = r; 0 >= i.l(e); ) (n = S(n)), (i = S(i));
              var s = E(n, 1),
                a = E(i, 1);
              for (i = E(i, 2), n = E(n, 2); !f(i); ) {
                var o = a.add(i);
                0 >= o.l(e) && ((s = s.add(n)), (a = o)),
                  (i = E(i, 1)),
                  (n = E(n, 1));
              }
              return (r = v(e, s.j(r))), new w(s, r);
            }
            for (s = c; 0 <= e.l(r); ) {
              for (
                i =
                  48 >=
                  (i = Math.ceil(
                    Math.log((n = Math.max(1, Math.floor(e.m() / r.m())))) /
                      Math.LN2,
                  ))
                    ? 1
                    : Math.pow(2, i - 48),
                  o = (a = l(n)).j(r);
                m(o) || 0 < o.l(e);

              )
                (n -= i), (o = (a = l(n)).j(r));
              f(a) && (a = d), (s = s.add(a)), (e = v(e, o));
            }
            return new w(s, e);
          }
          function S(e) {
            for (var r = e.g.length + 1, n = [], s = 0; s < r; s++)
              n[s] = (e.i(s) << 1) | (e.i(s - 1) >>> 31);
            return new i(n, e.h);
          }
          function E(e, r) {
            var n = r >> 5;
            r %= 32;
            for (var s = e.g.length - n, a = [], o = 0; o < s; o++)
              a[o] =
                0 < r
                  ? (e.i(o + n) >>> r) | (e.i(o + n + 1) << (32 - r))
                  : e.i(o + n);
            return new i(a, e.h);
          }
          ((s = i.prototype).m = function () {
            if (m(this)) return -y(this).m();
            for (var e = 0, r = 1, n = 0; n < this.g.length; n++) {
              var i = this.i(n);
              (e += (0 <= i ? i : 0x100000000 + i) * r), (r *= 0x100000000);
            }
            return e;
          }),
            (s.toString = function (e) {
              if (2 > (e = e || 10) || 36 < e)
                throw Error("radix out of range: " + e);
              if (f(this)) return "0";
              if (m(this)) return "-" + y(this).toString(e);
              for (var r = l(Math.pow(e, 6)), n = this, i = ""; ; ) {
                var s = T(n, r).g,
                  a = (
                    (0 < (n = v(n, s.j(r))).g.length ? n.g[0] : n.h) >>> 0
                  ).toString(e);
                if (f((n = s))) return a + i;
                for (; 6 > a.length; ) a = "0" + a;
                i = a + i;
              }
            }),
            (s.i = function (e) {
              return 0 > e ? 0 : e < this.g.length ? this.g[e] : this.h;
            }),
            (s.l = function (e) {
              return m((e = v(this, e))) ? -1 : f(e) ? 0 : 1;
            }),
            (s.abs = function () {
              return m(this) ? y(this) : this;
            }),
            (s.add = function (e) {
              for (
                var r = Math.max(this.g.length, e.g.length),
                  n = [],
                  s = 0,
                  a = 0;
                a <= r;
                a++
              ) {
                var o = s + (65535 & this.i(a)) + (65535 & e.i(a)),
                  l = (o >>> 16) + (this.i(a) >>> 16) + (e.i(a) >>> 16);
                (s = l >>> 16),
                  (o &= 65535),
                  (l &= 65535),
                  (n[a] = (l << 16) | o);
              }
              return new i(n, -0x80000000 & n[n.length - 1] ? -1 : 0);
            }),
            (s.j = function (e) {
              if (f(this) || f(e)) return c;
              if (m(this)) return m(e) ? y(this).j(y(e)) : y(y(this).j(e));
              if (m(e)) return y(this.j(y(e)));
              if (0 > this.l(h) && 0 > e.l(h)) return l(this.m() * e.m());
              for (
                var r = this.g.length + e.g.length, n = [], s = 0;
                s < 2 * r;
                s++
              )
                n[s] = 0;
              for (s = 0; s < this.g.length; s++)
                for (var a = 0; a < e.g.length; a++) {
                  var o = this.i(s) >>> 16,
                    u = 65535 & this.i(s),
                    d = e.i(a) >>> 16,
                    p = 65535 & e.i(a);
                  (n[2 * s + 2 * a] += u * p),
                    b(n, 2 * s + 2 * a),
                    (n[2 * s + 2 * a + 1] += o * p),
                    b(n, 2 * s + 2 * a + 1),
                    (n[2 * s + 2 * a + 1] += u * d),
                    b(n, 2 * s + 2 * a + 1),
                    (n[2 * s + 2 * a + 2] += o * d),
                    b(n, 2 * s + 2 * a + 2);
                }
              for (s = 0; s < r; s++) n[s] = (n[2 * s + 1] << 16) | n[2 * s];
              for (s = r; s < 2 * r; s++) n[s] = 0;
              return new i(n, 0);
            }),
            (s.A = function (e) {
              return T(this, e).h;
            }),
            (s.and = function (e) {
              for (
                var r = Math.max(this.g.length, e.g.length), n = [], s = 0;
                s < r;
                s++
              )
                n[s] = this.i(s) & e.i(s);
              return new i(n, this.h & e.h);
            }),
            (s.or = function (e) {
              for (
                var r = Math.max(this.g.length, e.g.length), n = [], s = 0;
                s < r;
                s++
              )
                n[s] = this.i(s) | e.i(s);
              return new i(n, this.h | e.h);
            }),
            (s.xor = function (e) {
              for (
                var r = Math.max(this.g.length, e.g.length), n = [], s = 0;
                s < r;
                s++
              )
                n[s] = this.i(s) ^ e.i(s);
              return new i(n, this.h ^ e.h);
            }),
            (e.prototype.digest = e.prototype.v),
            (e.prototype.reset = e.prototype.s),
            (e.prototype.update = e.prototype.u),
            (g = tY.Md5 = e),
            (i.prototype.add = i.prototype.add),
            (i.prototype.multiply = i.prototype.j),
            (i.prototype.modulo = i.prototype.A),
            (i.prototype.compare = i.prototype.l),
            (i.prototype.toNumber = i.prototype.m),
            (i.prototype.toString = i.prototype.toString),
            (i.prototype.getBits = i.prototype.i),
            (i.fromNumber = l),
            (i.fromString = u),
            (p = tY.Integer = i);
        }).apply(
          void 0 !== tQ
            ? tQ
            : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
                ? window
                : {},
        );
        var tX = n(74122),
          tJ = n(26880);
        let tZ = "@firebase/firestore",
          t0 = "4.7.8";
        class t1 {
          constructor(e) {
            this.uid = e;
          }
          isAuthenticated() {
            return null != this.uid;
          }
          toKey() {
            return this.isAuthenticated()
              ? "uid:" + this.uid
              : "anonymous-user";
          }
          isEqual(e) {
            return e.uid === this.uid;
          }
        }
        (t1.UNAUTHENTICATED = new t1(null)),
          (t1.GOOGLE_CREDENTIALS = new t1("google-credentials-uid")),
          (t1.FIRST_PARTY = new t1("first-party-uid")),
          (t1.MOCK_USER = new t1("mock-user"));
        let t2 = "11.3.1";
        function t3(e) {
          t2 = e;
        }
        function t4(e) {
          return (0, tW.inspect)(e, { depth: 100 });
        }
        let t5 = new eJ("@firebase/firestore");
        function t6() {
          return t5.logLevel;
        }
        function t8(e, ...r) {
          if (t5.logLevel <= f.DEBUG) {
            let n = r.map(re);
            t5.debug(`Firestore (${t2}): ${e}`, ...n);
          }
        }
        function t7(e, ...r) {
          if (t5.logLevel <= f.ERROR) {
            let n = r.map(re);
            t5.error(`Firestore (${t2}): ${e}`, ...n);
          }
        }
        function t9(e, ...r) {
          if (t5.logLevel <= f.WARN) {
            let n = r.map(re);
            t5.warn(`Firestore (${t2}): ${e}`, ...n);
          }
        }
        function re(e) {
          if ("string" == typeof e) return e;
          try {
            return t4(e);
          } catch (r) {
            return e;
          }
        }
        function rt(e = "Unexpected state") {
          let r = `FIRESTORE (${t2}) INTERNAL ASSERTION FAILED: ` + e;
          throw (t7(r), Error(r));
        }
        function rr(e, r) {
          e || rt();
        }
        function rn(e, r) {
          return e;
        }
        let ri = {
          OK: "ok",
          CANCELLED: "cancelled",
          UNKNOWN: "unknown",
          INVALID_ARGUMENT: "invalid-argument",
          DEADLINE_EXCEEDED: "deadline-exceeded",
          NOT_FOUND: "not-found",
          ALREADY_EXISTS: "already-exists",
          PERMISSION_DENIED: "permission-denied",
          UNAUTHENTICATED: "unauthenticated",
          RESOURCE_EXHAUSTED: "resource-exhausted",
          FAILED_PRECONDITION: "failed-precondition",
          ABORTED: "aborted",
          OUT_OF_RANGE: "out-of-range",
          UNIMPLEMENTED: "unimplemented",
          INTERNAL: "internal",
          UNAVAILABLE: "unavailable",
          DATA_LOSS: "data-loss",
        };
        class rs extends e_ {
          constructor(e, r) {
            super(e, r),
              (this.code = e),
              (this.message = r),
              (this.toString = () =>
                `${this.name}: [code=${this.code}]: ${this.message}`);
          }
        }
        class ra {
          constructor() {
            this.promise = new Promise((e, r) => {
              (this.resolve = e), (this.reject = r);
            });
          }
        }
        class ro {
          constructor(e, r) {
            (this.user = r),
              (this.type = "OAuth"),
              (this.headers = new Map()),
              this.headers.set("Authorization", `Bearer ${e}`);
          }
        }
        class rl {
          getToken() {
            return Promise.resolve(null);
          }
          invalidateToken() {}
          start(e, r) {
            e.enqueueRetryable(() => r(t1.UNAUTHENTICATED));
          }
          shutdown() {}
        }
        class ru {
          constructor(e) {
            (this.token = e), (this.changeListener = null);
          }
          getToken() {
            return Promise.resolve(this.token);
          }
          invalidateToken() {}
          start(e, r) {
            (this.changeListener = r),
              e.enqueueRetryable(() => r(this.token.user));
          }
          shutdown() {
            this.changeListener = null;
          }
        }
        class rc {
          constructor(e) {
            (this.authProvider = e),
              (this.currentUser = t1.UNAUTHENTICATED),
              (this.tokenCounter = 0),
              (this.forceRefresh = !1),
              (this.auth = null);
          }
          start(e, r) {
            rr(void 0 === this.tokenListener);
            let n = this.tokenCounter,
              i = (e) =>
                this.tokenCounter !== n
                  ? ((n = this.tokenCounter), r(e))
                  : Promise.resolve(),
              s = new ra();
            this.tokenListener = () => {
              this.tokenCounter++,
                (this.currentUser = this.getUser()),
                s.resolve(),
                (s = new ra()),
                e.enqueueRetryable(() => i(this.currentUser));
            };
            let a = () => {
                let r = s;
                e.enqueueRetryable(async () => {
                  await r.promise, await i(this.currentUser);
                });
              },
              o = (e) => {
                t8("FirebaseAuthCredentialsProvider", "Auth detected"),
                  (this.auth = e),
                  this.tokenListener &&
                    (this.auth.addAuthTokenListener(this.tokenListener), a());
              };
            this.authProvider.onInit((e) => o(e)),
              setTimeout(() => {
                if (!this.auth) {
                  let e = this.authProvider.getImmediate({ optional: !0 });
                  e
                    ? o(e)
                    : (t8(
                        "FirebaseAuthCredentialsProvider",
                        "Auth not yet detected",
                      ),
                      s.resolve(),
                      (s = new ra()));
                }
              }, 0),
              a();
          }
          getToken() {
            let e = this.tokenCounter,
              r = this.forceRefresh;
            return ((this.forceRefresh = !1), this.auth)
              ? this.auth
                  .getToken(r)
                  .then((r) =>
                    this.tokenCounter !== e
                      ? (t8(
                          "FirebaseAuthCredentialsProvider",
                          "getToken aborted due to token change.",
                        ),
                        this.getToken())
                      : r
                        ? (rr("string" == typeof r.accessToken),
                          new ro(r.accessToken, this.currentUser))
                        : null,
                  )
              : Promise.resolve(null);
          }
          invalidateToken() {
            this.forceRefresh = !0;
          }
          shutdown() {
            this.auth &&
              this.tokenListener &&
              this.auth.removeAuthTokenListener(this.tokenListener),
              (this.tokenListener = void 0);
          }
          getUser() {
            let e = this.auth && this.auth.getUid();
            return rr(null === e || "string" == typeof e), new t1(e);
          }
        }
        class rd {
          constructor(e, r, n) {
            (this.sessionIndex = e),
              (this.iamToken = r),
              (this.authTokenFactory = n),
              (this.type = "FirstParty"),
              (this.user = t1.FIRST_PARTY),
              (this._headers = new Map());
          }
          getAuthToken() {
            return this.authTokenFactory ? this.authTokenFactory() : null;
          }
          get headers() {
            this._headers.set("X-Goog-AuthUser", this.sessionIndex);
            let e = this.getAuthToken();
            return (
              e && this._headers.set("Authorization", e),
              this.iamToken &&
                this._headers.set(
                  "X-Goog-Iam-Authorization-Token",
                  this.iamToken,
                ),
              this._headers
            );
          }
        }
        class rh {
          constructor(e, r, n) {
            (this.sessionIndex = e),
              (this.iamToken = r),
              (this.authTokenFactory = n);
          }
          getToken() {
            return Promise.resolve(
              new rd(this.sessionIndex, this.iamToken, this.authTokenFactory),
            );
          }
          start(e, r) {
            e.enqueueRetryable(() => r(t1.FIRST_PARTY));
          }
          shutdown() {}
          invalidateToken() {}
        }
        class rf {
          constructor(e) {
            (this.value = e),
              (this.type = "AppCheck"),
              (this.headers = new Map()),
              e &&
                e.length > 0 &&
                this.headers.set("x-firebase-appcheck", this.value);
          }
        }
        class rp {
          constructor(e, r) {
            (this.appCheckProvider = r),
              (this.forceRefresh = !1),
              (this.appCheck = null),
              (this.latestAppCheckToken = null),
              (this.serverAppAppCheckToken = null),
              tC(e) &&
                e.settings.appCheckToken &&
                (this.serverAppAppCheckToken = e.settings.appCheckToken);
          }
          start(e, r) {
            rr(void 0 === this.tokenListener);
            let n = (e) => {
              null != e.error &&
                t8(
                  "FirebaseAppCheckTokenProvider",
                  `Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`,
                );
              let n = e.token !== this.latestAppCheckToken;
              return (
                (this.latestAppCheckToken = e.token),
                t8(
                  "FirebaseAppCheckTokenProvider",
                  `Received ${n ? "new" : "existing"} token.`,
                ),
                n ? r(e.token) : Promise.resolve()
              );
            };
            this.tokenListener = (r) => {
              e.enqueueRetryable(() => n(r));
            };
            let i = (e) => {
              t8("FirebaseAppCheckTokenProvider", "AppCheck detected"),
                (this.appCheck = e),
                this.tokenListener &&
                  this.appCheck.addTokenListener(this.tokenListener);
            };
            this.appCheckProvider.onInit((e) => i(e)),
              setTimeout(() => {
                if (!this.appCheck) {
                  let e = this.appCheckProvider.getImmediate({ optional: !0 });
                  e
                    ? i(e)
                    : t8(
                        "FirebaseAppCheckTokenProvider",
                        "AppCheck not yet detected",
                      );
                }
              }, 0);
          }
          getToken() {
            if (this.serverAppAppCheckToken)
              return Promise.resolve(new rf(this.serverAppAppCheckToken));
            let e = this.forceRefresh;
            return ((this.forceRefresh = !1), this.appCheck)
              ? this.appCheck
                  .getToken(e)
                  .then((e) =>
                    e
                      ? (rr("string" == typeof e.token),
                        (this.latestAppCheckToken = e.token),
                        new rf(e.token))
                      : null,
                  )
              : Promise.resolve(null);
          }
          invalidateToken() {
            this.forceRefresh = !0;
          }
          shutdown() {
            this.appCheck &&
              this.tokenListener &&
              this.appCheck.removeTokenListener(this.tokenListener),
              (this.tokenListener = void 0);
          }
        }
        function rg(e) {
          if (!e) return new rl();
          switch (e.type) {
            case "firstParty":
              return new rh(
                e.sessionIndex || "0",
                e.iamToken || null,
                e.authTokenFactory || null,
              );
            case "provider":
              return e.client;
            default:
              throw new rs(
                ri.INVALID_ARGUMENT,
                "makeAuthCredentialsProvider failed due to invalid credential type",
              );
          }
        }
        function rm(e) {
          return (0, tG.randomBytes)(e);
        }
        class ry {
          static newId() {
            let e =
                "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
              r = Math.floor(256 / e.length) * e.length,
              n = "",
              i = 20;
            for (; n.length < i; ) {
              let s = rm(40);
              for (let a = 0; a < s.length; ++a)
                n.length < i && s[a] < r && (n += e.charAt(s[a] % e.length));
            }
            return n;
          }
        }
        function rv(e, r) {
          return e < r ? -1 : e > r ? 1 : 0;
        }
        function rb(e, r, n) {
          return e.length === r.length && e.every((e, i) => n(e, r[i]));
        }
        function rw(e) {
          return e + "\0";
        }
        let rT = -0xe7791f700,
          rS = 1e6;
        class rE {
          static now() {
            return rE.fromMillis(Date.now());
          }
          static fromDate(e) {
            return rE.fromMillis(e.getTime());
          }
          static fromMillis(e) {
            let r = Math.floor(e / 1e3),
              n = Math.floor((e - 1e3 * r) * rS);
            return new rE(r, n);
          }
          constructor(e, r) {
            if (((this.seconds = e), (this.nanoseconds = r), r < 0 || r >= 1e9))
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Timestamp nanoseconds out of range: " + r,
              );
            if (e < rT || e >= 0x3afff44180)
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Timestamp seconds out of range: " + e,
              );
          }
          toDate() {
            return new Date(this.toMillis());
          }
          toMillis() {
            return 1e3 * this.seconds + this.nanoseconds / rS;
          }
          _compareTo(e) {
            return this.seconds === e.seconds
              ? rv(this.nanoseconds, e.nanoseconds)
              : rv(this.seconds, e.seconds);
          }
          isEqual(e) {
            return (
              e.seconds === this.seconds && e.nanoseconds === this.nanoseconds
            );
          }
          toString() {
            return (
              "Timestamp(seconds=" +
              this.seconds +
              ", nanoseconds=" +
              this.nanoseconds +
              ")"
            );
          }
          toJSON() {
            return { seconds: this.seconds, nanoseconds: this.nanoseconds };
          }
          valueOf() {
            return (
              String(this.seconds - rT).padStart(12, "0") +
              "." +
              String(this.nanoseconds).padStart(9, "0")
            );
          }
        }
        class rC {
          static fromTimestamp(e) {
            return new rC(e);
          }
          static min() {
            return new rC(new rE(0, 0));
          }
          static max() {
            return new rC(new rE(0x3afff4417f, 1e9 - 1));
          }
          constructor(e) {
            this.timestamp = e;
          }
          compareTo(e) {
            return this.timestamp._compareTo(e.timestamp);
          }
          isEqual(e) {
            return this.timestamp.isEqual(e.timestamp);
          }
          toMicroseconds() {
            return (
              1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3
            );
          }
          toString() {
            return "SnapshotVersion(" + this.timestamp.toString() + ")";
          }
          toTimestamp() {
            return this.timestamp;
          }
        }
        let rx = "__name__";
        class rA {
          constructor(e, r, n) {
            void 0 === r ? (r = 0) : r > e.length && rt(),
              void 0 === n ? (n = e.length - r) : n > e.length - r && rt(),
              (this.segments = e),
              (this.offset = r),
              (this.len = n);
          }
          get length() {
            return this.len;
          }
          isEqual(e) {
            return 0 === rA.comparator(this, e);
          }
          child(e) {
            let r = this.segments.slice(this.offset, this.limit());
            return (
              e instanceof rA
                ? e.forEach((e) => {
                    r.push(e);
                  })
                : r.push(e),
              this.construct(r)
            );
          }
          limit() {
            return this.offset + this.length;
          }
          popFirst(e) {
            return (
              (e = void 0 === e ? 1 : e),
              this.construct(this.segments, this.offset + e, this.length - e)
            );
          }
          popLast() {
            return this.construct(this.segments, this.offset, this.length - 1);
          }
          firstSegment() {
            return this.segments[this.offset];
          }
          lastSegment() {
            return this.get(this.length - 1);
          }
          get(e) {
            return this.segments[this.offset + e];
          }
          isEmpty() {
            return 0 === this.length;
          }
          isPrefixOf(e) {
            if (e.length < this.length) return !1;
            for (let r = 0; r < this.length; r++)
              if (this.get(r) !== e.get(r)) return !1;
            return !0;
          }
          isImmediateParentOf(e) {
            if (this.length + 1 !== e.length) return !1;
            for (let r = 0; r < this.length; r++)
              if (this.get(r) !== e.get(r)) return !1;
            return !0;
          }
          forEach(e) {
            for (let r = this.offset, n = this.limit(); r < n; r++)
              e(this.segments[r]);
          }
          toArray() {
            return this.segments.slice(this.offset, this.limit());
          }
          static comparator(e, r) {
            let n = Math.min(e.length, r.length);
            for (let i = 0; i < n; i++) {
              let n = rA.compareSegments(e.get(i), r.get(i));
              if (0 !== n) return n;
            }
            return Math.sign(e.length - r.length);
          }
          static compareSegments(e, r) {
            let n = rA.isNumericId(e),
              i = rA.isNumericId(r);
            return n && !i
              ? -1
              : !n && i
                ? 1
                : n && i
                  ? rA.extractNumericId(e).compare(rA.extractNumericId(r))
                  : e < r
                    ? -1
                    : e > r
                      ? 1
                      : 0;
          }
          static isNumericId(e) {
            return e.startsWith("__id") && e.endsWith("__");
          }
          static extractNumericId(e) {
            return p.fromString(e.substring(4, e.length - 2));
          }
        }
        class rI extends rA {
          construct(e, r, n) {
            return new rI(e, r, n);
          }
          canonicalString() {
            return this.toArray().join("/");
          }
          toString() {
            return this.canonicalString();
          }
          toUriEncodedString() {
            return this.toArray().map(encodeURIComponent).join("/");
          }
          static fromString(...e) {
            let r = [];
            for (let n of e) {
              if (n.indexOf("//") >= 0)
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `Invalid segment (${n}). Paths must not contain // in them.`,
                );
              r.push(...n.split("/").filter((e) => e.length > 0));
            }
            return new rI(r);
          }
          static emptyPath() {
            return new rI([]);
          }
        }
        let rk = /^[_a-zA-Z][_a-zA-Z0-9]*$/;
        class r_ extends rA {
          construct(e, r, n) {
            return new r_(e, r, n);
          }
          static isValidIdentifier(e) {
            return rk.test(e);
          }
          canonicalString() {
            return this.toArray()
              .map(
                (e) => (
                  (e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`")),
                  r_.isValidIdentifier(e) || (e = "`" + e + "`"),
                  e
                ),
              )
              .join(".");
          }
          toString() {
            return this.canonicalString();
          }
          isKeyField() {
            return 1 === this.length && this.get(0) === rx;
          }
          static keyField() {
            return new r_([rx]);
          }
          static fromServerFormat(e) {
            let r = [],
              n = "",
              i = 0,
              s = () => {
                if (0 === n.length)
                  throw new rs(
                    ri.INVALID_ARGUMENT,
                    `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
                  );
                r.push(n), (n = "");
              },
              a = !1;
            for (; i < e.length; ) {
              let r = e[i];
              if ("\\" === r) {
                if (i + 1 === e.length)
                  throw new rs(
                    ri.INVALID_ARGUMENT,
                    "Path has trailing escape character: " + e,
                  );
                let r = e[i + 1];
                if (!("\\" === r || "." === r || "`" === r))
                  throw new rs(
                    ri.INVALID_ARGUMENT,
                    "Path has invalid escape sequence: " + e,
                  );
                (n += r), (i += 2);
              } else
                "`" === r ? (a = !a) : "." !== r || a ? (n += r) : s(), i++;
            }
            if ((s(), a))
              throw new rs(ri.INVALID_ARGUMENT, "Unterminated ` in path: " + e);
            return new r_(r);
          }
          static emptyPath() {
            return new r_([]);
          }
        }
        class rR {
          constructor(e) {
            this.path = e;
          }
          static fromPath(e) {
            return new rR(rI.fromString(e));
          }
          static fromName(e) {
            return new rR(rI.fromString(e).popFirst(5));
          }
          static empty() {
            return new rR(rI.emptyPath());
          }
          get collectionGroup() {
            return this.path.popLast().lastSegment();
          }
          hasCollectionId(e) {
            return (
              this.path.length >= 2 && this.path.get(this.path.length - 2) === e
            );
          }
          getCollectionGroup() {
            return this.path.get(this.path.length - 2);
          }
          getCollectionPath() {
            return this.path.popLast();
          }
          isEqual(e) {
            return null !== e && 0 === rI.comparator(this.path, e.path);
          }
          toString() {
            return this.path.toString();
          }
          static comparator(e, r) {
            return rI.comparator(e.path, r.path);
          }
          static isDocumentKey(e) {
            return e.length % 2 == 0;
          }
          static fromSegments(e) {
            return new rR(new rI(e.slice()));
          }
        }
        let rD = -1,
          rP = 0;
        class rN {
          constructor(e, r, n, i) {
            (this.indexId = e),
              (this.collectionGroup = r),
              (this.fields = n),
              (this.indexState = i);
          }
        }
        function rO(e) {
          return e.fields.find((e) => 2 === e.kind);
        }
        function rM(e) {
          return e.fields.filter((e) => 2 !== e.kind);
        }
        function rL(e) {
          let r = rM(e);
          return 0 === r.length ? 0 : r[r.length - 1].kind;
        }
        function rB(e, r) {
          let n = rv(e.collectionGroup, r.collectionGroup);
          if (0 !== n) return n;
          for (let i = 0; i < Math.min(e.fields.length, r.fields.length); ++i)
            if (0 !== (n = rj(e.fields[i], r.fields[i]))) return n;
          return rv(e.fields.length, r.fields.length);
        }
        function rF(e) {
          return `id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e) => `${e.fieldPath}:${e.kind}`).join(",")}`;
        }
        rN.UNKNOWN_ID = -1;
        class rU {
          constructor(e, r) {
            (this.fieldPath = e), (this.kind = r);
          }
        }
        function rj(e, r) {
          let n = r_.comparator(e.fieldPath, r.fieldPath);
          return 0 !== n ? n : rv(e.kind, r.kind);
        }
        class rz {
          constructor(e, r) {
            (this.sequenceNumber = e), (this.offset = r);
          }
          static empty() {
            return new rz(rP, rq.min());
          }
        }
        function rV(e, r) {
          let n = e.toTimestamp().seconds,
            i = e.toTimestamp().nanoseconds + 1;
          return new rq(
            rC.fromTimestamp(1e9 === i ? new rE(n + 1, 0) : new rE(n, i)),
            rR.empty(),
            r,
          );
        }
        function rK(e) {
          return new rq(e.readTime, e.key, rD);
        }
        class rq {
          constructor(e, r, n) {
            (this.readTime = e),
              (this.documentKey = r),
              (this.largestBatchId = n);
          }
          static min() {
            return new rq(rC.min(), rR.empty(), rD);
          }
          static max() {
            return new rq(rC.max(), rR.empty(), rD);
          }
        }
        function rH(e, r) {
          let n = e.readTime.compareTo(r.readTime);
          return 0 !== n ||
            0 !== (n = rR.comparator(e.documentKey, r.documentKey))
            ? n
            : rv(e.largestBatchId, r.largestBatchId);
        }
        let r$ =
          "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
        class rW {
          constructor() {
            this.onCommittedListeners = [];
          }
          addOnCommittedListener(e) {
            this.onCommittedListeners.push(e);
          }
          raiseOnCommittedEvent() {
            this.onCommittedListeners.forEach((e) => e());
          }
        }
        async function rG(e) {
          if (e.code === ri.FAILED_PRECONDITION && e.message === r$)
            t8("LocalStore", "Unexpectedly lost primary lease");
          else throw e;
        }
        class rQ {
          constructor(e) {
            (this.nextCallback = null),
              (this.catchCallback = null),
              (this.result = void 0),
              (this.error = void 0),
              (this.isDone = !1),
              (this.callbackAttached = !1),
              e(
                (e) => {
                  (this.isDone = !0),
                    (this.result = e),
                    this.nextCallback && this.nextCallback(e);
                },
                (e) => {
                  (this.isDone = !0),
                    (this.error = e),
                    this.catchCallback && this.catchCallback(e);
                },
              );
          }
          catch(e) {
            return this.next(void 0, e);
          }
          next(e, r) {
            return (this.callbackAttached && rt(),
            (this.callbackAttached = !0),
            this.isDone)
              ? this.error
                ? this.wrapFailure(r, this.error)
                : this.wrapSuccess(e, this.result)
              : new rQ((n, i) => {
                  (this.nextCallback = (r) => {
                    this.wrapSuccess(e, r).next(n, i);
                  }),
                    (this.catchCallback = (e) => {
                      this.wrapFailure(r, e).next(n, i);
                    });
                });
          }
          toPromise() {
            return new Promise((e, r) => {
              this.next(e, r);
            });
          }
          wrapUserFunction(e) {
            try {
              let r = e();
              if (r instanceof rQ) return r;
              return rQ.resolve(r);
            } catch (e) {
              return rQ.reject(e);
            }
          }
          wrapSuccess(e, r) {
            return e ? this.wrapUserFunction(() => e(r)) : rQ.resolve(r);
          }
          wrapFailure(e, r) {
            return e ? this.wrapUserFunction(() => e(r)) : rQ.reject(r);
          }
          static resolve(e) {
            return new rQ((r, n) => {
              r(e);
            });
          }
          static reject(e) {
            return new rQ((r, n) => {
              n(e);
            });
          }
          static waitFor(e) {
            return new rQ((r, n) => {
              let i = 0,
                s = 0,
                a = !1;
              e.forEach((e) => {
                ++i,
                  e.next(
                    () => {
                      ++s, a && s === i && r();
                    },
                    (e) => n(e),
                  );
              }),
                (a = !0),
                s === i && r();
            });
          }
          static or(e) {
            let r = rQ.resolve(!1);
            for (let n of e) r = r.next((e) => (e ? rQ.resolve(e) : n()));
            return r;
          }
          static forEach(e, r) {
            let n = [];
            return (
              e.forEach((e, i) => {
                n.push(r.call(this, e, i));
              }),
              this.waitFor(n)
            );
          }
          static mapArray(e, r) {
            return new rQ((n, i) => {
              let s = e.length,
                a = Array(s),
                o = 0;
              for (let l = 0; l < s; l++) {
                let u = l;
                r(e[u]).next(
                  (e) => {
                    (a[u] = e), ++o === s && n(a);
                  },
                  (e) => i(e),
                );
              }
            });
          }
          static doWhile(e, r) {
            return new rQ((n, i) => {
              let s = () => {
                !0 === e()
                  ? r().next(() => {
                      s();
                    }, i)
                  : n();
              };
              s();
            });
          }
        }
        let rY = "SimpleDb",
          rX = 3;
        class rJ {
          static open(e, r, n, i) {
            try {
              return new rJ(r, e.transaction(i, n));
            } catch (e) {
              throw new r2(r, e);
            }
          }
          constructor(e, r) {
            (this.action = e),
              (this.transaction = r),
              (this.aborted = !1),
              (this.completionDeferred = new ra()),
              (this.transaction.oncomplete = () => {
                this.completionDeferred.resolve();
              }),
              (this.transaction.onabort = () => {
                r.error
                  ? this.completionDeferred.reject(new r2(e, r.error))
                  : this.completionDeferred.resolve();
              }),
              (this.transaction.onerror = (r) => {
                let n = r8(r.target.error);
                this.completionDeferred.reject(new r2(e, n));
              });
          }
          get completionPromise() {
            return this.completionDeferred.promise;
          }
          abort(e) {
            e && this.completionDeferred.reject(e),
              this.aborted ||
                (t8(
                  rY,
                  "Aborting transaction:",
                  e ? e.message : "Client-initiated abort",
                ),
                (this.aborted = !0),
                this.transaction.abort());
          }
          maybeCommit() {
            let e = this.transaction;
            this.aborted || "function" != typeof e.commit || e.commit();
          }
          store(e) {
            return new r4(this.transaction.objectStore(e));
          }
        }
        class rZ {
          static delete(e) {
            return (
              t8(rY, "Removing database:", e),
              r5(window.indexedDB.deleteDatabase(e)).toPromise()
            );
          }
          static isAvailable() {
            if (!ex()) return !1;
            if (rZ.isMockPersistence()) return !0;
            let e = eT(),
              r = rZ.getIOSVersion(e),
              n = 0 < r && r < 10,
              i = r0(e),
              s = 0 < i && i < 4.5;
            return (
              !(
                e.indexOf("MSIE ") > 0 ||
                e.indexOf("Trident/") > 0 ||
                e.indexOf("Edge/") > 0
              ) &&
              !n &&
              !s
            );
          }
          static isMockPersistence() {
            var e;
            return (
              "undefined" != typeof process &&
              (null === (e = process.env) || void 0 === e
                ? void 0
                : e.USE_MOCK_PERSISTENCE) === "YES"
            );
          }
          static getStore(e, r) {
            return e.store(r);
          }
          static getIOSVersion(e) {
            let r = e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);
            return Number(r ? r[1].split("_").slice(0, 2).join(".") : "-1");
          }
          constructor(e, r, n) {
            (this.name = e),
              (this.version = r),
              (this.schemaConverter = n),
              12.2 === rZ.getIOSVersion(eT()) &&
                t7(
                  "Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.",
                );
          }
          async ensureDb(e) {
            return (
              this.db ||
                (t8(rY, "Opening database:", this.name),
                (this.db = await new Promise((r, n) => {
                  let i = indexedDB.open(this.name, this.version);
                  (i.onsuccess = (e) => {
                    r(e.target.result);
                  }),
                    (i.onblocked = () => {
                      n(
                        new r2(
                          e,
                          "Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.",
                        ),
                      );
                    }),
                    (i.onerror = (r) => {
                      let i = r.target.error;
                      "VersionError" === i.name
                        ? n(
                            new rs(
                              ri.FAILED_PRECONDITION,
                              "A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.",
                            ),
                          )
                        : "InvalidStateError" === i.name
                          ? n(
                              new rs(
                                ri.FAILED_PRECONDITION,
                                "Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: " +
                                  i,
                              ),
                            )
                          : n(new r2(e, i));
                    }),
                    (i.onupgradeneeded = (e) => {
                      t8(
                        rY,
                        'Database "' +
                          this.name +
                          '" requires upgrade from version:',
                        e.oldVersion,
                      );
                      let r = e.target.result;
                      this.schemaConverter
                        .createOrUpgrade(
                          r,
                          i.transaction,
                          e.oldVersion,
                          this.version,
                        )
                        .next(() => {
                          t8(
                            rY,
                            "Database upgrade to version " +
                              this.version +
                              " complete",
                          );
                        });
                    });
                }))),
              this.versionchangelistener &&
                (this.db.onversionchange = (e) =>
                  this.versionchangelistener(e)),
              this.db
            );
          }
          setVersionChangeListener(e) {
            (this.versionchangelistener = e),
              this.db && (this.db.onversionchange = (r) => e(r));
          }
          async runTransaction(e, r, n, i) {
            let s = "readonly" === r,
              a = 0;
            for (;;) {
              ++a;
              try {
                this.db = await this.ensureDb(e);
                let r = rJ.open(this.db, e, s ? "readonly" : "readwrite", n),
                  a = i(r)
                    .next((e) => (r.maybeCommit(), e))
                    .catch((e) => (r.abort(e), rQ.reject(e)))
                    .toPromise();
                return a.catch(() => {}), await r.completionPromise, a;
              } catch (n) {
                let e = n,
                  r = "FirebaseError" !== e.name && a < rX;
                if (
                  (t8(
                    rY,
                    "Transaction failed with error:",
                    e.message,
                    "Retrying:",
                    r,
                  ),
                  this.close(),
                  !r)
                )
                  return Promise.reject(e);
              }
            }
          }
          close() {
            this.db && this.db.close(), (this.db = void 0);
          }
        }
        function r0(e) {
          let r = e.match(/Android ([\d.]+)/i);
          return Number(r ? r[1].split(".").slice(0, 2).join(".") : "-1");
        }
        class r1 {
          constructor(e) {
            (this.dbCursor = e), (this.shouldStop = !1), (this.nextKey = null);
          }
          get isDone() {
            return this.shouldStop;
          }
          get skipToKey() {
            return this.nextKey;
          }
          set cursor(e) {
            this.dbCursor = e;
          }
          done() {
            this.shouldStop = !0;
          }
          skip(e) {
            this.nextKey = e;
          }
          delete() {
            return r5(this.dbCursor.delete());
          }
        }
        class r2 extends rs {
          constructor(e, r) {
            super(ri.UNAVAILABLE, `IndexedDB transaction '${e}' failed: ${r}`),
              (this.name = "IndexedDbTransactionError");
          }
        }
        function r3(e) {
          return "IndexedDbTransactionError" === e.name;
        }
        class r4 {
          constructor(e) {
            this.store = e;
          }
          put(e, r) {
            let n;
            return (
              void 0 !== r
                ? (t8(rY, "PUT", this.store.name, e, r),
                  (n = this.store.put(r, e)))
                : (t8(rY, "PUT", this.store.name, "<auto-key>", e),
                  (n = this.store.put(e))),
              r5(n)
            );
          }
          add(e) {
            return t8(rY, "ADD", this.store.name, e, e), r5(this.store.add(e));
          }
          get(e) {
            return r5(this.store.get(e)).next(
              (r) => (
                void 0 === r && (r = null),
                t8(rY, "GET", this.store.name, e, r),
                r
              ),
            );
          }
          delete(e) {
            return (
              t8(rY, "DELETE", this.store.name, e), r5(this.store.delete(e))
            );
          }
          count() {
            return t8(rY, "COUNT", this.store.name), r5(this.store.count());
          }
          loadAll(e, r) {
            let n = this.options(e, r),
              i = n.index ? this.store.index(n.index) : this.store;
            if ("function" == typeof i.getAll) {
              let e = i.getAll(n.range);
              return new rQ((r, n) => {
                (e.onerror = (e) => {
                  n(e.target.error);
                }),
                  (e.onsuccess = (e) => {
                    r(e.target.result);
                  });
              });
            }
            {
              let e = this.cursor(n),
                r = [];
              return this.iterateCursor(e, (e, n) => {
                r.push(n);
              }).next(() => r);
            }
          }
          loadFirst(e, r) {
            let n = this.store.getAll(e, null === r ? void 0 : r);
            return new rQ((e, r) => {
              (n.onerror = (e) => {
                r(e.target.error);
              }),
                (n.onsuccess = (r) => {
                  e(r.target.result);
                });
            });
          }
          deleteAll(e, r) {
            t8(rY, "DELETE ALL", this.store.name);
            let n = this.options(e, r);
            n.keysOnly = !1;
            let i = this.cursor(n);
            return this.iterateCursor(i, (e, r, n) => n.delete());
          }
          iterate(e, r) {
            let n;
            r ? (n = e) : ((n = {}), (r = e));
            let i = this.cursor(n);
            return this.iterateCursor(i, r);
          }
          iterateSerial(e) {
            let r = this.cursor({});
            return new rQ((n, i) => {
              (r.onerror = (e) => {
                i(r8(e.target.error));
              }),
                (r.onsuccess = (r) => {
                  let i = r.target.result;
                  if (!i) {
                    n();
                    return;
                  }
                  e(i.primaryKey, i.value).next((e) => {
                    e ? i.continue() : n();
                  });
                });
            });
          }
          iterateCursor(e, r) {
            let n = [];
            return new rQ((i, s) => {
              (e.onerror = (e) => {
                s(e.target.error);
              }),
                (e.onsuccess = (e) => {
                  let s = e.target.result;
                  if (!s) {
                    i();
                    return;
                  }
                  let a = new r1(s),
                    o = r(s.primaryKey, s.value, a);
                  if (o instanceof rQ) {
                    let e = o.catch((e) => (a.done(), rQ.reject(e)));
                    n.push(e);
                  }
                  a.isDone
                    ? i()
                    : null === a.skipToKey
                      ? s.continue()
                      : s.continue(a.skipToKey);
                });
            }).next(() => rQ.waitFor(n));
          }
          options(e, r) {
            let n;
            return (
              void 0 !== e && ("string" == typeof e ? (n = e) : (r = e)),
              { index: n, range: r }
            );
          }
          cursor(e) {
            let r = "next";
            if ((e.reverse && (r = "prev"), !e.index))
              return this.store.openCursor(e.range, r);
            {
              let n = this.store.index(e.index);
              return e.keysOnly
                ? n.openKeyCursor(e.range, r)
                : n.openCursor(e.range, r);
            }
          }
        }
        function r5(e) {
          return new rQ((r, n) => {
            (e.onsuccess = (e) => {
              r(e.target.result);
            }),
              (e.onerror = (e) => {
                n(r8(e.target.error));
              });
          });
        }
        let r6 = !1;
        function r8(e) {
          let r = rZ.getIOSVersion(eT());
          if (r >= 12.2 && r < 13) {
            let r =
              "An internal error was encountered in the Indexed Database server";
            if (e.message.indexOf(r) >= 0) {
              let e = new rs(
                "internal",
                `IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`,
              );
              return (
                r6 ||
                  ((r6 = !0),
                  setTimeout(() => {
                    throw e;
                  }, 0)),
                e
              );
            }
          }
          return e;
        }
        let r7 = "IndexBackfiller",
          r9 = 15e3,
          ne = 6e4,
          nt = 50;
        class nr {
          constructor(e, r) {
            (this.asyncQueue = e), (this.backfiller = r), (this.task = null);
          }
          start() {
            this.schedule(r9);
          }
          stop() {
            this.task && (this.task.cancel(), (this.task = null));
          }
          get started() {
            return null !== this.task;
          }
          schedule(e) {
            t8(r7, `Scheduled in ${e}ms`),
              (this.task = this.asyncQueue.enqueueAfterDelay(
                "index_backfill",
                e,
                async () => {
                  this.task = null;
                  try {
                    let e = await this.backfiller.backfill();
                    t8(r7, `Documents written: ${e}`);
                  } catch (e) {
                    r3(e)
                      ? t8(
                          r7,
                          "Ignoring IndexedDB error during index backfill: ",
                          e,
                        )
                      : await rG(e);
                  }
                  await this.schedule(ne);
                },
              ));
          }
        }
        class nn {
          constructor(e, r) {
            (this.localStore = e), (this.persistence = r);
          }
          async backfill(e = nt) {
            return this.persistence.runTransaction(
              "Backfill Indexes",
              "readwrite-primary",
              (r) => this.writeIndexEntries(r, e),
            );
          }
          writeIndexEntries(e, r) {
            let n = new Set(),
              i = r,
              s = !0;
            return rQ
              .doWhile(
                () => !0 === s && i > 0,
                () =>
                  this.localStore.indexManager
                    .getNextCollectionGroupToUpdate(e)
                    .next((r) => {
                      if (!(null === r || n.has(r)))
                        return (
                          t8(r7, `Processing collection: ${r}`),
                          this.writeEntriesForCollectionGroup(e, r, i).next(
                            (e) => {
                              (i -= e), n.add(r);
                            },
                          )
                        );
                      s = !1;
                    }),
              )
              .next(() => r - i);
          }
          writeEntriesForCollectionGroup(e, r, n) {
            return this.localStore.indexManager
              .getMinOffsetFromCollectionGroup(e, r)
              .next((i) =>
                this.localStore.localDocuments
                  .getNextDocuments(e, r, i, n)
                  .next((n) => {
                    let s = n.changes;
                    return this.localStore.indexManager
                      .updateIndexEntries(e, s)
                      .next(() => this.getNewOffset(i, n))
                      .next(
                        (n) => (
                          t8(r7, `Updating offset: ${n}`),
                          this.localStore.indexManager.updateCollectionGroup(
                            e,
                            r,
                            n,
                          )
                        ),
                      )
                      .next(() => s.size);
                  }),
              );
          }
          getNewOffset(e, r) {
            let n = e;
            return (
              r.changes.forEach((e, r) => {
                let i = rK(r);
                rH(i, n) > 0 && (n = i);
              }),
              new rq(
                n.readTime,
                n.documentKey,
                Math.max(r.batchId, e.largestBatchId),
              )
            );
          }
        }
        class ni {
          constructor(e, r) {
            (this.previousValue = e),
              r &&
                ((r.sequenceNumberHandler = (e) => this.setPreviousValue(e)),
                (this.writeNewSequenceNumber = (e) =>
                  r.writeSequenceNumber(e)));
          }
          setPreviousValue(e) {
            return (
              (this.previousValue = Math.max(e, this.previousValue)),
              this.previousValue
            );
          }
          next() {
            let e = ++this.previousValue;
            return (
              this.writeNewSequenceNumber && this.writeNewSequenceNumber(e), e
            );
          }
        }
        ni.INVALID = -1;
        let ns = "\x01",
          na = "\x01",
          no = "\x10",
          nl = "\x11";
        function nu(e) {
          let r = "";
          for (let n = 0; n < e.length; n++)
            r.length > 0 && (r = nd(r)), (r = nc(e.get(n), r));
          return nd(r);
        }
        function nc(e, r) {
          let n = r,
            i = e.length;
          for (let r = 0; r < i; r++) {
            let i = e.charAt(r);
            switch (i) {
              case "\0":
                n += ns + no;
                break;
              case ns:
                n += ns + nl;
                break;
              default:
                n += i;
            }
          }
          return n;
        }
        function nd(e) {
          return e + ns + na;
        }
        function nh(e) {
          let r = e.length;
          if ((rr(r >= 2), 2 === r))
            return rr(e.charAt(0) === ns && e.charAt(1) === na), rI.emptyPath();
          let n = r - 2,
            i = [],
            s = "";
          for (let a = 0; a < r; ) {
            let r = e.indexOf(ns, a);
            switch (((r < 0 || r > n) && rt(), e.charAt(r + 1))) {
              case na:
                let o;
                let l = e.substring(a, r);
                0 === s.length ? (o = l) : ((s += l), (o = s), (s = "")),
                  i.push(o);
                break;
              case no:
                (s += e.substring(a, r)), (s += "\0");
                break;
              case nl:
                s += e.substring(a, r + 1);
                break;
              default:
                rt();
            }
            a = r + 2;
          }
          return new rI(i);
        }
        let nf = "remoteDocuments",
          np = "owner",
          ng = "owner",
          nm = "mutationQueues",
          ny = "userId",
          nv = "mutations",
          nb = "batchId",
          nw = "userMutationsIndex",
          nT = ["userId", "batchId"];
        function nS(e) {
          return [e];
        }
        function nE(e, r) {
          return [e, nu(r)];
        }
        function nC(e, r, n) {
          return [e, nu(r), n];
        }
        let nx = {},
          nA = "documentMutations",
          nI = "remoteDocumentsV14",
          nk = ["prefixPath", "collectionGroup", "readTime", "documentId"],
          n_ = "documentKeyIndex",
          nR = ["prefixPath", "collectionGroup", "documentId"],
          nD = "collectionGroupIndex",
          nP = ["collectionGroup", "readTime", "prefixPath", "documentId"],
          nN = "remoteDocumentGlobal",
          nO = "remoteDocumentGlobalKey",
          nM = "targets",
          nL = "targetId",
          nB = "queryTargetsIndex",
          nF = ["canonicalId", "targetId"],
          nU = "targetDocuments",
          nj = ["targetId", "path"],
          nz = "documentTargetsIndex",
          nV = ["path", "targetId"],
          nK = "targetGlobalKey",
          nq = "targetGlobal",
          nH = "collectionParents",
          n$ = ["collectionId", "parent"],
          nW = "clientMetadata",
          nG = "clientId",
          nQ = "bundles",
          nY = "bundleId",
          nX = "namedQueries",
          nJ = "name",
          nZ = "indexConfiguration",
          n0 = "indexId",
          n1 = "collectionGroupIndex",
          n2 = "collectionGroup",
          n3 = "indexState",
          n4 = ["indexId", "uid"],
          n5 = "sequenceNumberIndex",
          n6 = ["uid", "sequenceNumber"],
          n8 = "indexEntries",
          n7 = [
            "indexId",
            "uid",
            "arrayValue",
            "directionalValue",
            "orderedDocumentKey",
            "documentKey",
          ],
          n9 = "documentKeyIndex",
          ie = ["indexId", "uid", "orderedDocumentKey"],
          it = "documentOverlays",
          ir = ["userId", "collectionPath", "documentId"],
          ii = "collectionPathOverlayIndex",
          is = ["userId", "collectionPath", "largestBatchId"],
          ia = "collectionGroupOverlayIndex",
          io = ["userId", "collectionGroup", "largestBatchId"],
          il = "globals",
          iu = "name",
          ic = [nm, nv, nA, nf, nM, np, nq, nU, nW, nN, nH, nQ, nX],
          id = [...ic, it],
          ih = [nm, nv, nA, nI, nM, np, nq, nU, nW, nN, nH, nQ, nX, it],
          ip = ih,
          ig = [...ip, nZ, n3, n8],
          im = ig,
          iy = [...ig, il];
        function iv(e) {
          return 17 === e
            ? iy
            : 16 === e
              ? im
              : 15 === e
                ? ig
                : 14 === e
                  ? ip
                  : 13 === e
                    ? ih
                    : 12 === e
                      ? id
                      : 11 === e
                        ? ic
                        : void rt();
        }
        class ib extends rW {
          constructor(e, r) {
            super(),
              (this.simpleDbTransaction = e),
              (this.currentSequenceNumber = r);
          }
        }
        function iw(e, r) {
          let n = rn(e);
          return rZ.getStore(n.simpleDbTransaction, r);
        }
        function iT(e) {
          let r = 0;
          for (let n in e) Object.prototype.hasOwnProperty.call(e, n) && r++;
          return r;
        }
        function iS(e, r) {
          for (let n in e)
            Object.prototype.hasOwnProperty.call(e, n) && r(n, e[n]);
        }
        function iE(e) {
          for (let r in e)
            if (Object.prototype.hasOwnProperty.call(e, r)) return !1;
          return !0;
        }
        class iC {
          constructor(e, r) {
            (this.comparator = e), (this.root = r || iA.EMPTY);
          }
          insert(e, r) {
            return new iC(
              this.comparator,
              this.root
                .insert(e, r, this.comparator)
                .copy(null, null, iA.BLACK, null, null),
            );
          }
          remove(e) {
            return new iC(
              this.comparator,
              this.root
                .remove(e, this.comparator)
                .copy(null, null, iA.BLACK, null, null),
            );
          }
          get(e) {
            let r = this.root;
            for (; !r.isEmpty(); ) {
              let n = this.comparator(e, r.key);
              if (0 === n) return r.value;
              n < 0 ? (r = r.left) : n > 0 && (r = r.right);
            }
            return null;
          }
          indexOf(e) {
            let r = 0,
              n = this.root;
            for (; !n.isEmpty(); ) {
              let i = this.comparator(e, n.key);
              if (0 === i) return r + n.left.size;
              i < 0 ? (n = n.left) : ((r += n.left.size + 1), (n = n.right));
            }
            return -1;
          }
          isEmpty() {
            return this.root.isEmpty();
          }
          get size() {
            return this.root.size;
          }
          minKey() {
            return this.root.minKey();
          }
          maxKey() {
            return this.root.maxKey();
          }
          inorderTraversal(e) {
            return this.root.inorderTraversal(e);
          }
          forEach(e) {
            this.inorderTraversal((r, n) => (e(r, n), !1));
          }
          toString() {
            let e = [];
            return (
              this.inorderTraversal((r, n) => (e.push(`${r}:${n}`), !1)),
              `{${e.join(", ")}}`
            );
          }
          reverseTraversal(e) {
            return this.root.reverseTraversal(e);
          }
          getIterator() {
            return new ix(this.root, null, this.comparator, !1);
          }
          getIteratorFrom(e) {
            return new ix(this.root, e, this.comparator, !1);
          }
          getReverseIterator() {
            return new ix(this.root, null, this.comparator, !0);
          }
          getReverseIteratorFrom(e) {
            return new ix(this.root, e, this.comparator, !0);
          }
        }
        class ix {
          constructor(e, r, n, i) {
            (this.isReverse = i), (this.nodeStack = []);
            let s = 1;
            for (; !e.isEmpty(); )
              if (((s = r ? n(e.key, r) : 1), r && i && (s *= -1), s < 0))
                e = this.isReverse ? e.left : e.right;
              else if (0 === s) {
                this.nodeStack.push(e);
                break;
              } else
                this.nodeStack.push(e), (e = this.isReverse ? e.right : e.left);
          }
          getNext() {
            let e = this.nodeStack.pop(),
              r = { key: e.key, value: e.value };
            if (this.isReverse)
              for (e = e.left; !e.isEmpty(); )
                this.nodeStack.push(e), (e = e.right);
            else
              for (e = e.right; !e.isEmpty(); )
                this.nodeStack.push(e), (e = e.left);
            return r;
          }
          hasNext() {
            return this.nodeStack.length > 0;
          }
          peek() {
            if (0 === this.nodeStack.length) return null;
            let e = this.nodeStack[this.nodeStack.length - 1];
            return { key: e.key, value: e.value };
          }
        }
        class iA {
          constructor(e, r, n, i, s) {
            (this.key = e),
              (this.value = r),
              (this.color = null != n ? n : iA.RED),
              (this.left = null != i ? i : iA.EMPTY),
              (this.right = null != s ? s : iA.EMPTY),
              (this.size = this.left.size + 1 + this.right.size);
          }
          copy(e, r, n, i, s) {
            return new iA(
              null != e ? e : this.key,
              null != r ? r : this.value,
              null != n ? n : this.color,
              null != i ? i : this.left,
              null != s ? s : this.right,
            );
          }
          isEmpty() {
            return !1;
          }
          inorderTraversal(e) {
            return (
              this.left.inorderTraversal(e) ||
              e(this.key, this.value) ||
              this.right.inorderTraversal(e)
            );
          }
          reverseTraversal(e) {
            return (
              this.right.reverseTraversal(e) ||
              e(this.key, this.value) ||
              this.left.reverseTraversal(e)
            );
          }
          min() {
            return this.left.isEmpty() ? this : this.left.min();
          }
          minKey() {
            return this.min().key;
          }
          maxKey() {
            return this.right.isEmpty() ? this.key : this.right.maxKey();
          }
          insert(e, r, n) {
            let i = this,
              s = n(e, i.key);
            return (i =
              s < 0
                ? i.copy(null, null, null, i.left.insert(e, r, n), null)
                : 0 === s
                  ? i.copy(null, r, null, null, null)
                  : i.copy(
                      null,
                      null,
                      null,
                      null,
                      i.right.insert(e, r, n),
                    )).fixUp();
          }
          removeMin() {
            if (this.left.isEmpty()) return iA.EMPTY;
            let e = this;
            return (
              e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()),
              (e = e.copy(null, null, null, e.left.removeMin(), null)).fixUp()
            );
          }
          remove(e, r) {
            let n;
            let i = this;
            if (0 > r(e, i.key))
              i.left.isEmpty() ||
                i.left.isRed() ||
                i.left.left.isRed() ||
                (i = i.moveRedLeft()),
                (i = i.copy(null, null, null, i.left.remove(e, r), null));
            else {
              if (
                (i.left.isRed() && (i = i.rotateRight()),
                i.right.isEmpty() ||
                  i.right.isRed() ||
                  i.right.left.isRed() ||
                  (i = i.moveRedRight()),
                0 === r(e, i.key))
              ) {
                if (i.right.isEmpty()) return iA.EMPTY;
                (n = i.right.min()),
                  (i = i.copy(n.key, n.value, null, null, i.right.removeMin()));
              }
              i = i.copy(null, null, null, null, i.right.remove(e, r));
            }
            return i.fixUp();
          }
          isRed() {
            return this.color;
          }
          fixUp() {
            let e = this;
            return (
              e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()),
              e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()),
              e.left.isRed() && e.right.isRed() && (e = e.colorFlip()),
              e
            );
          }
          moveRedLeft() {
            let e = this.colorFlip();
            return (
              e.right.left.isRed() &&
                (e = (e = (e = e.copy(
                  null,
                  null,
                  null,
                  null,
                  e.right.rotateRight(),
                )).rotateLeft()).colorFlip()),
              e
            );
          }
          moveRedRight() {
            let e = this.colorFlip();
            return (
              e.left.left.isRed() && (e = (e = e.rotateRight()).colorFlip()), e
            );
          }
          rotateLeft() {
            let e = this.copy(null, null, iA.RED, null, this.right.left);
            return this.right.copy(null, null, this.color, e, null);
          }
          rotateRight() {
            let e = this.copy(null, null, iA.RED, this.left.right, null);
            return this.left.copy(null, null, this.color, null, e);
          }
          colorFlip() {
            let e = this.left.copy(null, null, !this.left.color, null, null),
              r = this.right.copy(null, null, !this.right.color, null, null);
            return this.copy(null, null, !this.color, e, r);
          }
          checkMaxDepth() {
            return Math.pow(2, this.check()) <= this.size + 1;
          }
          check() {
            if ((this.isRed() && this.left.isRed()) || this.right.isRed())
              throw rt();
            let e = this.left.check();
            if (e === this.right.check()) return e + (this.isRed() ? 0 : 1);
            throw rt();
          }
        }
        (iA.EMPTY = null), (iA.RED = !0), (iA.BLACK = !1);
        class iI {
          constructor() {
            this.size = 0;
          }
          get key() {
            throw rt();
          }
          get value() {
            throw rt();
          }
          get color() {
            throw rt();
          }
          get left() {
            throw rt();
          }
          get right() {
            throw rt();
          }
          copy(e, r, n, i, s) {
            return this;
          }
          insert(e, r, n) {
            return new iA(e, r);
          }
          remove(e, r) {
            return this;
          }
          isEmpty() {
            return !0;
          }
          inorderTraversal(e) {
            return !1;
          }
          reverseTraversal(e) {
            return !1;
          }
          minKey() {
            return null;
          }
          maxKey() {
            return null;
          }
          isRed() {
            return !1;
          }
          checkMaxDepth() {
            return !0;
          }
          check() {
            return 0;
          }
        }
        iA.EMPTY = new iI();
        class ik {
          constructor(e) {
            (this.comparator = e), (this.data = new iC(this.comparator));
          }
          has(e) {
            return null !== this.data.get(e);
          }
          first() {
            return this.data.minKey();
          }
          last() {
            return this.data.maxKey();
          }
          get size() {
            return this.data.size;
          }
          indexOf(e) {
            return this.data.indexOf(e);
          }
          forEach(e) {
            this.data.inorderTraversal((r, n) => (e(r), !1));
          }
          forEachInRange(e, r) {
            let n = this.data.getIteratorFrom(e[0]);
            for (; n.hasNext(); ) {
              let i = n.getNext();
              if (this.comparator(i.key, e[1]) >= 0) return;
              r(i.key);
            }
          }
          forEachWhile(e, r) {
            let n;
            for (
              n =
                void 0 !== r
                  ? this.data.getIteratorFrom(r)
                  : this.data.getIterator();
              n.hasNext();

            )
              if (!e(n.getNext().key)) return;
          }
          firstAfterOrEqual(e) {
            let r = this.data.getIteratorFrom(e);
            return r.hasNext() ? r.getNext().key : null;
          }
          getIterator() {
            return new i_(this.data.getIterator());
          }
          getIteratorFrom(e) {
            return new i_(this.data.getIteratorFrom(e));
          }
          add(e) {
            return this.copy(this.data.remove(e).insert(e, !0));
          }
          delete(e) {
            return this.has(e) ? this.copy(this.data.remove(e)) : this;
          }
          isEmpty() {
            return this.data.isEmpty();
          }
          unionWith(e) {
            let r = this;
            return (
              r.size < e.size && ((r = e), (e = this)),
              e.forEach((e) => {
                r = r.add(e);
              }),
              r
            );
          }
          isEqual(e) {
            if (!(e instanceof ik) || this.size !== e.size) return !1;
            let r = this.data.getIterator(),
              n = e.data.getIterator();
            for (; r.hasNext(); ) {
              let e = r.getNext().key,
                i = n.getNext().key;
              if (0 !== this.comparator(e, i)) return !1;
            }
            return !0;
          }
          toArray() {
            let e = [];
            return (
              this.forEach((r) => {
                e.push(r);
              }),
              e
            );
          }
          toString() {
            let e = [];
            return (
              this.forEach((r) => e.push(r)), "SortedSet(" + e.toString() + ")"
            );
          }
          copy(e) {
            let r = new ik(this.comparator);
            return (r.data = e), r;
          }
        }
        class i_ {
          constructor(e) {
            this.iter = e;
          }
          getNext() {
            return this.iter.getNext().key;
          }
          hasNext() {
            return this.iter.hasNext();
          }
        }
        function iR(e, r, n, i, s) {
          let a = e.getIterator(),
            o = r.getIterator(),
            l = iD(a),
            u = iD(o);
          for (; l || u; ) {
            let e = !1,
              r = !1;
            if (l && u) {
              let i = n(l, u);
              i < 0 ? (r = !0) : i > 0 && (e = !0);
            } else null != l ? (r = !0) : (e = !0);
            e
              ? (i(u), (u = iD(o)))
              : r
                ? (s(l), (l = iD(a)))
                : ((l = iD(a)), (u = iD(o)));
          }
        }
        function iD(e) {
          return e.hasNext() ? e.getNext() : void 0;
        }
        class iP {
          constructor(e) {
            (this.fields = e), e.sort(r_.comparator);
          }
          static empty() {
            return new iP([]);
          }
          unionWith(e) {
            let r = new ik(r_.comparator);
            for (let e of this.fields) r = r.add(e);
            for (let n of e) r = r.add(n);
            return new iP(r.toArray());
          }
          covers(e) {
            for (let r of this.fields) if (r.isPrefixOf(e)) return !0;
            return !1;
          }
          isEqual(e) {
            return rb(this.fields, e.fields, (e, r) => e.isEqual(r));
          }
        }
        function iN(e) {
          return Buffer.from(e, "base64").toString("binary");
        }
        function iO(e) {
          return Buffer.from(e, "binary").toString("base64");
        }
        class iM {
          constructor(e) {
            this.binaryString = e;
          }
          static fromBase64String(e) {
            return new iM(iN(e));
          }
          static fromUint8Array(e) {
            return new iM(iL(e));
          }
          [Symbol.iterator]() {
            let e = 0;
            return {
              next: () =>
                e < this.binaryString.length
                  ? { value: this.binaryString.charCodeAt(e++), done: !1 }
                  : { value: void 0, done: !0 },
            };
          }
          toBase64() {
            return iO(this.binaryString);
          }
          toUint8Array() {
            return iB(this.binaryString);
          }
          approximateByteSize() {
            return 2 * this.binaryString.length;
          }
          compareTo(e) {
            return rv(this.binaryString, e.binaryString);
          }
          isEqual(e) {
            return this.binaryString === e.binaryString;
          }
        }
        function iL(e) {
          let r = "";
          for (let n = 0; n < e.length; ++n) r += String.fromCharCode(e[n]);
          return r;
        }
        function iB(e) {
          let r = new Uint8Array(e.length);
          for (let n = 0; n < e.length; n++) r[n] = e.charCodeAt(n);
          return r;
        }
        iM.EMPTY_BYTE_STRING = new iM("");
        let iF = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
        function iU(e) {
          if ((rr(!!e), "string" == typeof e)) {
            let r = 0,
              n = iF.exec(e);
            if ((rr(!!n), n[1])) {
              let e = n[1];
              r = Number((e = (e + "000000000").substr(0, 9)));
            }
            return {
              seconds: Math.floor(new Date(e).getTime() / 1e3),
              nanos: r,
            };
          }
          return { seconds: ij(e.seconds), nanos: ij(e.nanos) };
        }
        function ij(e) {
          return "number" == typeof e
            ? e
            : "string" == typeof e
              ? Number(e)
              : 0;
        }
        function iz(e) {
          return "string" == typeof e
            ? iM.fromBase64String(e)
            : iM.fromUint8Array(e);
        }
        let iV = "server_timestamp",
          iK = "__type__",
          iq = "__previous_value__",
          iH = "__local_write_time__";
        function i$(e) {
          var r, n;
          return (
            (null ===
              (n = ((null === (r = null == e ? void 0 : e.mapValue) ||
              void 0 === r
                ? void 0
                : r.fields) || {})[iK]) || void 0 === n
              ? void 0
              : n.stringValue) === iV
          );
        }
        function iW(e, r) {
          let n = {
            fields: {
              [iK]: { stringValue: iV },
              [iH]: {
                timestampValue: { seconds: e.seconds, nanos: e.nanoseconds },
              },
            },
          };
          return (
            r && i$(r) && (r = iG(r)), r && (n.fields[iq] = r), { mapValue: n }
          );
        }
        function iG(e) {
          let r = e.mapValue.fields[iq];
          return i$(r) ? iG(r) : r;
        }
        function iQ(e) {
          let r = iU(e.mapValue.fields[iH].timestampValue);
          return new rE(r.seconds, r.nanos);
        }
        class iY {
          constructor(e, r, n, i, s, a, o, l, u) {
            (this.databaseId = e),
              (this.appId = r),
              (this.persistenceKey = n),
              (this.host = i),
              (this.ssl = s),
              (this.forceLongPolling = a),
              (this.autoDetectLongPolling = o),
              (this.longPollingOptions = l),
              (this.useFetchStreams = u);
          }
        }
        let iX = "(default)";
        class iJ {
          constructor(e, r) {
            (this.projectId = e), (this.database = r || iX);
          }
          static empty() {
            return new iJ("", "");
          }
          get isDefaultDatabase() {
            return this.database === iX;
          }
          isEqual(e) {
            return (
              e instanceof iJ &&
              e.projectId === this.projectId &&
              e.database === this.database
            );
          }
        }
        function iZ(e, r) {
          if (!Object.prototype.hasOwnProperty.apply(e.options, ["projectId"]))
            throw new rs(
              ri.INVALID_ARGUMENT,
              '"projectId" not provided in firebase.initializeApp.',
            );
          return new iJ(e.options.projectId, r);
        }
        let i0 = -1;
        function i1(e) {
          return null == e;
        }
        function i2(e) {
          return 0 === e && 1 / e == -1 / 0;
        }
        function i3(e) {
          return (
            "number" == typeof e &&
            Number.isInteger(e) &&
            !i2(e) &&
            e <= Number.MAX_SAFE_INTEGER &&
            e >= Number.MIN_SAFE_INTEGER
          );
        }
        let i4 = "__type__",
          i5 = "__max__",
          i6 = { mapValue: { fields: { __type__: { stringValue: i5 } } } },
          i8 = "__vector__",
          i7 = "value",
          i9 = { nullValue: "NULL_VALUE" };
        function se(e) {
          return "nullValue" in e
            ? 0
            : "booleanValue" in e
              ? 1
              : "integerValue" in e || "doubleValue" in e
                ? 2
                : "timestampValue" in e
                  ? 3
                  : "stringValue" in e
                    ? 5
                    : "bytesValue" in e
                      ? 6
                      : "referenceValue" in e
                        ? 7
                        : "geoPointValue" in e
                          ? 8
                          : "arrayValue" in e
                            ? 9
                            : "mapValue" in e
                              ? i$(e)
                                ? 4
                                : sF(e)
                                  ? 0x1fffffffffffff
                                  : sL(e)
                                    ? 10
                                    : 11
                              : rt();
        }
        function st(e, r) {
          if (e === r) return !0;
          let n = se(e);
          if (n !== se(r)) return !1;
          switch (n) {
            case 0:
            case 0x1fffffffffffff:
              return !0;
            case 1:
              return e.booleanValue === r.booleanValue;
            case 4:
              return iQ(e).isEqual(iQ(r));
            case 3:
              return sr(e, r);
            case 5:
              return e.stringValue === r.stringValue;
            case 6:
              return si(e, r);
            case 7:
              return e.referenceValue === r.referenceValue;
            case 8:
              return sn(e, r);
            case 2:
              return ss(e, r);
            case 9:
              return rb(
                e.arrayValue.values || [],
                r.arrayValue.values || [],
                st,
              );
            case 10:
            case 11:
              return sa(e, r);
            default:
              return rt();
          }
        }
        function sr(e, r) {
          if (
            "string" == typeof e.timestampValue &&
            "string" == typeof r.timestampValue &&
            e.timestampValue.length === r.timestampValue.length
          )
            return e.timestampValue === r.timestampValue;
          let n = iU(e.timestampValue),
            i = iU(r.timestampValue);
          return n.seconds === i.seconds && n.nanos === i.nanos;
        }
        function sn(e, r) {
          return (
            ij(e.geoPointValue.latitude) === ij(r.geoPointValue.latitude) &&
            ij(e.geoPointValue.longitude) === ij(r.geoPointValue.longitude)
          );
        }
        function si(e, r) {
          return iz(e.bytesValue).isEqual(iz(r.bytesValue));
        }
        function ss(e, r) {
          if ("integerValue" in e && "integerValue" in r)
            return ij(e.integerValue) === ij(r.integerValue);
          if ("doubleValue" in e && "doubleValue" in r) {
            let n = ij(e.doubleValue),
              i = ij(r.doubleValue);
            return n === i ? i2(n) === i2(i) : isNaN(n) && isNaN(i);
          }
          return !1;
        }
        function sa(e, r) {
          let n = e.mapValue.fields || {},
            i = r.mapValue.fields || {};
          if (iT(n) !== iT(i)) return !1;
          for (let e in n)
            if (n.hasOwnProperty(e) && (void 0 === i[e] || !st(n[e], i[e])))
              return !1;
          return !0;
        }
        function so(e, r) {
          return void 0 !== (e.values || []).find((e) => st(e, r));
        }
        function sl(e, r) {
          if (e === r) return 0;
          let n = se(e),
            i = se(r);
          if (n !== i) return rv(n, i);
          switch (n) {
            case 0:
            case 0x1fffffffffffff:
              return 0;
            case 1:
              return rv(e.booleanValue, r.booleanValue);
            case 2:
              return su(e, r);
            case 3:
              return sc(e.timestampValue, r.timestampValue);
            case 4:
              return sc(iQ(e), iQ(r));
            case 5:
              return rv(e.stringValue, r.stringValue);
            case 6:
              return sf(e.bytesValue, r.bytesValue);
            case 7:
              return sd(e.referenceValue, r.referenceValue);
            case 8:
              return sh(e.geoPointValue, r.geoPointValue);
            case 9:
              return sp(e.arrayValue, r.arrayValue);
            case 10:
              return sg(e.mapValue, r.mapValue);
            case 11:
              return sm(e.mapValue, r.mapValue);
            default:
              throw rt();
          }
        }
        function su(e, r) {
          let n = ij(e.integerValue || e.doubleValue),
            i = ij(r.integerValue || r.doubleValue);
          return n < i
            ? -1
            : n > i
              ? 1
              : n === i
                ? 0
                : isNaN(n)
                  ? isNaN(i)
                    ? 0
                    : -1
                  : 1;
        }
        function sc(e, r) {
          if (
            "string" == typeof e &&
            "string" == typeof r &&
            e.length === r.length
          )
            return rv(e, r);
          let n = iU(e),
            i = iU(r),
            s = rv(n.seconds, i.seconds);
          return 0 !== s ? s : rv(n.nanos, i.nanos);
        }
        function sd(e, r) {
          let n = e.split("/"),
            i = r.split("/");
          for (let e = 0; e < n.length && e < i.length; e++) {
            let r = rv(n[e], i[e]);
            if (0 !== r) return r;
          }
          return rv(n.length, i.length);
        }
        function sh(e, r) {
          let n = rv(ij(e.latitude), ij(r.latitude));
          return 0 !== n ? n : rv(ij(e.longitude), ij(r.longitude));
        }
        function sf(e, r) {
          let n = iz(e),
            i = iz(r);
          return n.compareTo(i);
        }
        function sp(e, r) {
          let n = e.values || [],
            i = r.values || [];
          for (let e = 0; e < n.length && e < i.length; ++e) {
            let r = sl(n[e], i[e]);
            if (r) return r;
          }
          return rv(n.length, i.length);
        }
        function sg(e, r) {
          var n, i, s, a;
          let o = e.fields || {},
            l = r.fields || {},
            u = null === (n = o[i7]) || void 0 === n ? void 0 : n.arrayValue,
            c = null === (i = l[i7]) || void 0 === i ? void 0 : i.arrayValue,
            d = rv(
              (null === (s = null == u ? void 0 : u.values) || void 0 === s
                ? void 0
                : s.length) || 0,
              (null === (a = null == c ? void 0 : c.values) || void 0 === a
                ? void 0
                : a.length) || 0,
            );
          return 0 !== d ? d : sp(u, c);
        }
        function sm(e, r) {
          if (e === i6.mapValue && r === i6.mapValue) return 0;
          if (e === i6.mapValue) return 1;
          if (r === i6.mapValue) return -1;
          let n = e.fields || {},
            i = Object.keys(n),
            s = r.fields || {},
            a = Object.keys(s);
          i.sort(), a.sort();
          for (let e = 0; e < i.length && e < a.length; ++e) {
            let r = rv(i[e], a[e]);
            if (0 !== r) return r;
            let o = sl(n[i[e]], s[a[e]]);
            if (0 !== o) return o;
          }
          return rv(i.length, a.length);
        }
        function sy(e) {
          return sv(e);
        }
        function sv(e) {
          if ("nullValue" in e) return "null";
          if ("booleanValue" in e) return "" + e.booleanValue;
          if ("integerValue" in e) return "" + e.integerValue;
          if ("doubleValue" in e) return "" + e.doubleValue;
          if ("timestampValue" in e) return sw(e.timestampValue);
          if ("stringValue" in e) return e.stringValue;
          if ("bytesValue" in e) return sb(e.bytesValue);
          else if ("referenceValue" in e) return sS(e.referenceValue);
          else if ("geoPointValue" in e) return sT(e.geoPointValue);
          else if ("arrayValue" in e) return sC(e.arrayValue);
          else if ("mapValue" in e) return sE(e.mapValue);
          else return rt();
        }
        function sb(e) {
          return iz(e).toBase64();
        }
        function sw(e) {
          let r = iU(e);
          return `time(${r.seconds},${r.nanos})`;
        }
        function sT(e) {
          return `geo(${e.latitude},${e.longitude})`;
        }
        function sS(e) {
          return rR.fromName(e).toString();
        }
        function sE(e) {
          let r = Object.keys(e.fields || {}).sort(),
            n = "{",
            i = !0;
          for (let s of r)
            i ? (i = !1) : (n += ","), (n += `${s}:${sv(e.fields[s])}`);
          return n + "}";
        }
        function sC(e) {
          let r = "[",
            n = !0;
          for (let i of e.values || []) n ? (n = !1) : (r += ","), (r += sv(i));
          return r + "]";
        }
        function sx(e) {
          switch (se(e)) {
            case 0:
            case 1:
              return 4;
            case 2:
              return 8;
            case 3:
            case 8:
              return 16;
            case 4:
              let r = iG(e);
              return r ? 16 + sx(r) : 16;
            case 5:
              return 2 * e.stringValue.length;
            case 6:
              return iz(e.bytesValue).approximateByteSize();
            case 7:
              return e.referenceValue.length;
            case 9:
              return sI(e.arrayValue);
            case 10:
            case 11:
              return sA(e.mapValue);
            default:
              throw rt();
          }
        }
        function sA(e) {
          let r = 0;
          return (
            iS(e.fields, (e, n) => {
              r += e.length + sx(n);
            }),
            r
          );
        }
        function sI(e) {
          return (e.values || []).reduce((e, r) => e + sx(r), 0);
        }
        function sk(e, r) {
          return {
            referenceValue: `projects/${e.projectId}/databases/${e.database}/documents/${r.path.canonicalString()}`,
          };
        }
        function s_(e) {
          return !!e && "integerValue" in e;
        }
        function sR(e) {
          return !!e && "doubleValue" in e;
        }
        function sD(e) {
          return s_(e) || sR(e);
        }
        function sP(e) {
          return !!e && "arrayValue" in e;
        }
        function sN(e) {
          return !!e && "nullValue" in e;
        }
        function sO(e) {
          return !!e && "doubleValue" in e && isNaN(Number(e.doubleValue));
        }
        function sM(e) {
          return !!e && "mapValue" in e;
        }
        function sL(e) {
          var r, n;
          return (
            (null ===
              (n = ((null === (r = null == e ? void 0 : e.mapValue) ||
              void 0 === r
                ? void 0
                : r.fields) || {})[i4]) || void 0 === n
              ? void 0
              : n.stringValue) === i8
          );
        }
        function sB(e) {
          if (e.geoPointValue)
            return { geoPointValue: Object.assign({}, e.geoPointValue) };
          if (e.timestampValue && "object" == typeof e.timestampValue)
            return { timestampValue: Object.assign({}, e.timestampValue) };
          if (e.mapValue) {
            let r = { mapValue: { fields: {} } };
            return (
              iS(e.mapValue.fields, (e, n) => (r.mapValue.fields[e] = sB(n))), r
            );
          }
          {
            if (!e.arrayValue) return Object.assign({}, e);
            let r = { arrayValue: { values: [] } };
            for (let n = 0; n < (e.arrayValue.values || []).length; ++n)
              r.arrayValue.values[n] = sB(e.arrayValue.values[n]);
            return r;
          }
        }
        function sF(e) {
          return (
            (((e.mapValue || {}).fields || {}).__type__ || {}).stringValue ===
            i5
          );
        }
        let sU = {
          mapValue: {
            fields: { [i4]: { stringValue: i8 }, [i7]: { arrayValue: {} } },
          },
        };
        function sj(e) {
          if ("nullValue" in e) return i9;
          if ("booleanValue" in e) return { booleanValue: !1 };
          if ("integerValue" in e || "doubleValue" in e)
            return { doubleValue: NaN };
          if ("timestampValue" in e)
            return { timestampValue: { seconds: Number.MIN_SAFE_INTEGER } };
          if ("stringValue" in e) return { stringValue: "" };
          if ("bytesValue" in e) return { bytesValue: "" };
          if ("referenceValue" in e) return sk(iJ.empty(), rR.empty());
          else if ("geoPointValue" in e)
            return { geoPointValue: { latitude: -90, longitude: -180 } };
          else if ("arrayValue" in e) return { arrayValue: {} };
          else if (!("mapValue" in e)) return rt();
          else return sL(e) ? sU : { mapValue: {} };
        }
        function sz(e) {
          if ("nullValue" in e) return { booleanValue: !1 };
          if ("booleanValue" in e) return { doubleValue: NaN };
          if ("integerValue" in e || "doubleValue" in e)
            return { timestampValue: { seconds: Number.MIN_SAFE_INTEGER } };
          if ("timestampValue" in e) return { stringValue: "" };
          if ("stringValue" in e) return { bytesValue: "" };
          if ("bytesValue" in e) return sk(iJ.empty(), rR.empty());
          if ("referenceValue" in e)
            return { geoPointValue: { latitude: -90, longitude: -180 } };
          else if ("geoPointValue" in e) return { arrayValue: {} };
          else if ("arrayValue" in e) return sU;
          else if (!("mapValue" in e)) return rt();
          else return sL(e) ? { mapValue: {} } : i6;
        }
        function sV(e, r) {
          let n = sl(e.value, r.value);
          return 0 !== n
            ? n
            : e.inclusive && !r.inclusive
              ? -1
              : !e.inclusive && r.inclusive
                ? 1
                : 0;
        }
        function sK(e, r) {
          let n = sl(e.value, r.value);
          return 0 !== n
            ? n
            : e.inclusive && !r.inclusive
              ? 1
              : !e.inclusive && r.inclusive
                ? -1
                : 0;
        }
        class sq {
          constructor(e) {
            this.value = e;
          }
          static empty() {
            return new sq({ mapValue: {} });
          }
          field(e) {
            if (e.isEmpty()) return this.value;
            {
              let r = this.value;
              for (let n = 0; n < e.length - 1; ++n)
                if (!sM((r = (r.mapValue.fields || {})[e.get(n)]))) return null;
              return (r = (r.mapValue.fields || {})[e.lastSegment()]) || null;
            }
          }
          set(e, r) {
            this.getFieldsMap(e.popLast())[e.lastSegment()] = sB(r);
          }
          setAll(e) {
            let r = r_.emptyPath(),
              n = {},
              i = [];
            e.forEach((e, s) => {
              if (!r.isImmediateParentOf(s)) {
                let e = this.getFieldsMap(r);
                this.applyChanges(e, n, i),
                  (n = {}),
                  (i = []),
                  (r = s.popLast());
              }
              e ? (n[s.lastSegment()] = sB(e)) : i.push(s.lastSegment());
            });
            let s = this.getFieldsMap(r);
            this.applyChanges(s, n, i);
          }
          delete(e) {
            let r = this.field(e.popLast());
            sM(r) &&
              r.mapValue.fields &&
              delete r.mapValue.fields[e.lastSegment()];
          }
          isEqual(e) {
            return st(this.value, e.value);
          }
          getFieldsMap(e) {
            let r = this.value;
            r.mapValue.fields || (r.mapValue = { fields: {} });
            for (let n = 0; n < e.length; ++n) {
              let i = r.mapValue.fields[e.get(n)];
              (sM(i) && i.mapValue.fields) ||
                ((i = { mapValue: { fields: {} } }),
                (r.mapValue.fields[e.get(n)] = i)),
                (r = i);
            }
            return r.mapValue.fields;
          }
          applyChanges(e, r, n) {
            for (let i of (iS(r, (r, n) => (e[r] = n)), n)) delete e[i];
          }
          clone() {
            return new sq(sB(this.value));
          }
        }
        function sH(e) {
          let r = [];
          return (
            iS(e.fields, (e, n) => {
              let i = new r_([e]);
              if (sM(n)) {
                let e = sH(n.mapValue).fields;
                if (0 === e.length) r.push(i);
                else for (let n of e) r.push(i.child(n));
              } else r.push(i);
            }),
            new iP(r)
          );
        }
        class s$ {
          constructor(e, r, n, i, s, a, o) {
            (this.key = e),
              (this.documentType = r),
              (this.version = n),
              (this.readTime = i),
              (this.createTime = s),
              (this.data = a),
              (this.documentState = o);
          }
          static newInvalidDocument(e) {
            return new s$(e, 0, rC.min(), rC.min(), rC.min(), sq.empty(), 0);
          }
          static newFoundDocument(e, r, n, i) {
            return new s$(e, 1, r, rC.min(), n, i, 0);
          }
          static newNoDocument(e, r) {
            return new s$(e, 2, r, rC.min(), rC.min(), sq.empty(), 0);
          }
          static newUnknownDocument(e, r) {
            return new s$(e, 3, r, rC.min(), rC.min(), sq.empty(), 2);
          }
          convertToFoundDocument(e, r) {
            return (
              this.createTime.isEqual(rC.min()) &&
                (2 === this.documentType || 0 === this.documentType) &&
                (this.createTime = e),
              (this.version = e),
              (this.documentType = 1),
              (this.data = r),
              (this.documentState = 0),
              this
            );
          }
          convertToNoDocument(e) {
            return (
              (this.version = e),
              (this.documentType = 2),
              (this.data = sq.empty()),
              (this.documentState = 0),
              this
            );
          }
          convertToUnknownDocument(e) {
            return (
              (this.version = e),
              (this.documentType = 3),
              (this.data = sq.empty()),
              (this.documentState = 2),
              this
            );
          }
          setHasCommittedMutations() {
            return (this.documentState = 2), this;
          }
          setHasLocalMutations() {
            return (this.documentState = 1), (this.version = rC.min()), this;
          }
          setReadTime(e) {
            return (this.readTime = e), this;
          }
          get hasLocalMutations() {
            return 1 === this.documentState;
          }
          get hasCommittedMutations() {
            return 2 === this.documentState;
          }
          get hasPendingWrites() {
            return this.hasLocalMutations || this.hasCommittedMutations;
          }
          isValidDocument() {
            return 0 !== this.documentType;
          }
          isFoundDocument() {
            return 1 === this.documentType;
          }
          isNoDocument() {
            return 2 === this.documentType;
          }
          isUnknownDocument() {
            return 3 === this.documentType;
          }
          isEqual(e) {
            return (
              e instanceof s$ &&
              this.key.isEqual(e.key) &&
              this.version.isEqual(e.version) &&
              this.documentType === e.documentType &&
              this.documentState === e.documentState &&
              this.data.isEqual(e.data)
            );
          }
          mutableCopy() {
            return new s$(
              this.key,
              this.documentType,
              this.version,
              this.readTime,
              this.createTime,
              this.data.clone(),
              this.documentState,
            );
          }
          toString() {
            return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`;
          }
        }
        function sW(e, r, n) {
          let i = r.data.field(e),
            s = n.data.field(e);
          return null !== i && null !== s ? sl(i, s) : rt();
        }
        class sG {
          constructor(e, r) {
            (this.position = e), (this.inclusive = r);
          }
        }
        function sQ(e, r, n) {
          let i = 0;
          for (let s = 0; s < e.position.length; s++) {
            let a = r[s],
              o = e.position[s];
            if (
              ((i = a.field.isKeyField()
                ? rR.comparator(rR.fromName(o.referenceValue), n.key)
                : sl(o, n.data.field(a.field))),
              "desc" === a.dir && (i *= -1),
              0 !== i)
            )
              break;
          }
          return i;
        }
        function sY(e, r, n) {
          let i = sQ(e, r, n);
          return e.inclusive ? i >= 0 : i > 0;
        }
        function sX(e, r, n) {
          let i = sQ(e, r, n);
          return e.inclusive ? i <= 0 : i < 0;
        }
        function sJ(e, r) {
          if (null === e) return null === r;
          if (
            null === r ||
            e.inclusive !== r.inclusive ||
            e.position.length !== r.position.length
          )
            return !1;
          for (let n = 0; n < e.position.length; n++)
            if (!st(e.position[n], r.position[n])) return !1;
          return !0;
        }
        class sZ {
          constructor(e, r = "asc") {
            (this.field = e), (this.dir = r);
          }
        }
        function s0(e) {
          return e.field.canonicalString() + e.dir;
        }
        function s1(e) {
          return `${e.field.canonicalString()} (${e.dir})`;
        }
        function s2(e, r) {
          return e.dir === r.dir && e.field.isEqual(r.field);
        }
        class s3 {}
        class s4 extends s3 {
          constructor(e, r, n) {
            super(), (this.field = e), (this.op = r), (this.value = n);
          }
          static create(e, r, n) {
            return e.isKeyField()
              ? "in" === r || "not-in" === r
                ? this.createKeyFieldInFilter(e, r, n)
                : new al(e, r, n)
              : "array-contains" === r
                ? new ah(e, n)
                : "in" === r
                  ? new af(e, n)
                  : "not-in" === r
                    ? new ap(e, n)
                    : "array-contains-any" === r
                      ? new ag(e, n)
                      : new s4(e, r, n);
          }
          static createKeyFieldInFilter(e, r, n) {
            return "in" === r ? new au(e, n) : new ac(e, n);
          }
          matches(e) {
            let r = e.data.field(this.field);
            return "!=" === this.op
              ? null !== r && this.matchesComparison(sl(r, this.value))
              : null !== r &&
                  se(this.value) === se(r) &&
                  this.matchesComparison(sl(r, this.value));
          }
          matchesComparison(e) {
            switch (this.op) {
              case "<":
                return e < 0;
              case "<=":
                return e <= 0;
              case "==":
                return 0 === e;
              case "!=":
                return 0 !== e;
              case ">":
                return e > 0;
              case ">=":
                return e >= 0;
              default:
                return rt();
            }
          }
          isInequality() {
            return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
          }
          getFlattenedFilters() {
            return [this];
          }
          getFilters() {
            return [this];
          }
        }
        class s5 extends s3 {
          constructor(e, r) {
            super(),
              (this.filters = e),
              (this.op = r),
              (this.memoizedFlattenedFilters = null);
          }
          static create(e, r) {
            return new s5(e, r);
          }
          matches(e) {
            return s6(this)
              ? void 0 === this.filters.find((r) => !r.matches(e))
              : void 0 !== this.filters.find((r) => r.matches(e));
          }
          getFlattenedFilters() {
            return (
              null !== this.memoizedFlattenedFilters ||
                (this.memoizedFlattenedFilters = this.filters.reduce(
                  (e, r) => e.concat(r.getFlattenedFilters()),
                  [],
                )),
              this.memoizedFlattenedFilters
            );
          }
          getFilters() {
            return Object.assign([], this.filters);
          }
        }
        function s6(e) {
          return "and" === e.op;
        }
        function s8(e) {
          return "or" === e.op;
        }
        function s7(e) {
          return s9(e) && s6(e);
        }
        function s9(e) {
          for (let r of e.filters) if (r instanceof s5) return !1;
          return !0;
        }
        function ae(e) {
          if (e instanceof s4)
            return e.field.canonicalString() + e.op.toString() + sy(e.value);
          if (s7(e)) return e.filters.map((e) => ae(e)).join(",");
          {
            let r = e.filters.map((e) => ae(e)).join(",");
            return `${e.op}(${r})`;
          }
        }
        function at(e, r) {
          return e instanceof s4
            ? ar(e, r)
            : e instanceof s5
              ? an(e, r)
              : void rt();
        }
        function ar(e, r) {
          return (
            r instanceof s4 &&
            e.op === r.op &&
            e.field.isEqual(r.field) &&
            st(e.value, r.value)
          );
        }
        function an(e, r) {
          return (
            r instanceof s5 &&
            e.op === r.op &&
            e.filters.length === r.filters.length &&
            e.filters.reduce((e, n, i) => e && at(n, r.filters[i]), !0)
          );
        }
        function ai(e, r) {
          let n = e.filters.concat(r);
          return s5.create(n, e.op);
        }
        function as(e) {
          return e instanceof s4 ? ao(e) : e instanceof s5 ? aa(e) : "Filter";
        }
        function aa(e) {
          return (
            e.op.toString() + " {" + e.getFilters().map(as).join(" ,") + "}"
          );
        }
        function ao(e) {
          return `${e.field.canonicalString()} ${e.op} ${sy(e.value)}`;
        }
        class al extends s4 {
          constructor(e, r, n) {
            super(e, r, n), (this.key = rR.fromName(n.referenceValue));
          }
          matches(e) {
            let r = rR.comparator(e.key, this.key);
            return this.matchesComparison(r);
          }
        }
        class au extends s4 {
          constructor(e, r) {
            super(e, "in", r), (this.keys = ad("in", r));
          }
          matches(e) {
            return this.keys.some((r) => r.isEqual(e.key));
          }
        }
        class ac extends s4 {
          constructor(e, r) {
            super(e, "not-in", r), (this.keys = ad("not-in", r));
          }
          matches(e) {
            return !this.keys.some((r) => r.isEqual(e.key));
          }
        }
        function ad(e, r) {
          var n;
          return (
            (null === (n = r.arrayValue) || void 0 === n ? void 0 : n.values) ||
            []
          ).map((e) => rR.fromName(e.referenceValue));
        }
        class ah extends s4 {
          constructor(e, r) {
            super(e, "array-contains", r);
          }
          matches(e) {
            let r = e.data.field(this.field);
            return sP(r) && so(r.arrayValue, this.value);
          }
        }
        class af extends s4 {
          constructor(e, r) {
            super(e, "in", r);
          }
          matches(e) {
            let r = e.data.field(this.field);
            return null !== r && so(this.value.arrayValue, r);
          }
        }
        class ap extends s4 {
          constructor(e, r) {
            super(e, "not-in", r);
          }
          matches(e) {
            if (so(this.value.arrayValue, { nullValue: "NULL_VALUE" }))
              return !1;
            let r = e.data.field(this.field);
            return null !== r && !so(this.value.arrayValue, r);
          }
        }
        class ag extends s4 {
          constructor(e, r) {
            super(e, "array-contains-any", r);
          }
          matches(e) {
            let r = e.data.field(this.field);
            return (
              !!sP(r) &&
              !!r.arrayValue.values &&
              r.arrayValue.values.some((e) => so(this.value.arrayValue, e))
            );
          }
        }
        class am {
          constructor(
            e,
            r = null,
            n = [],
            i = [],
            s = null,
            a = null,
            o = null,
          ) {
            (this.path = e),
              (this.collectionGroup = r),
              (this.orderBy = n),
              (this.filters = i),
              (this.limit = s),
              (this.startAt = a),
              (this.endAt = o),
              (this.memoizedCanonicalId = null);
          }
        }
        function ay(e, r = null, n = [], i = [], s = null, a = null, o = null) {
          return new am(e, r, n, i, s, a, o);
        }
        function av(e) {
          let r = rn(e);
          if (null === r.memoizedCanonicalId) {
            let e = r.path.canonicalString();
            null !== r.collectionGroup && (e += "|cg:" + r.collectionGroup),
              (e += "|f:"),
              (e += r.filters.map((e) => ae(e)).join(",")),
              (e += "|ob:"),
              (e += r.orderBy.map((e) => s0(e)).join(",")),
              i1(r.limit) || ((e += "|l:"), (e += r.limit)),
              r.startAt &&
                ((e += "|lb:"),
                (e += r.startAt.inclusive ? "b:" : "a:"),
                (e += r.startAt.position.map((e) => sy(e)).join(","))),
              r.endAt &&
                ((e += "|ub:"),
                (e += r.endAt.inclusive ? "a:" : "b:"),
                (e += r.endAt.position.map((e) => sy(e)).join(","))),
              (r.memoizedCanonicalId = e);
          }
          return r.memoizedCanonicalId;
        }
        function ab(e) {
          let r = e.path.canonicalString();
          return (
            null !== e.collectionGroup &&
              (r += " collectionGroup=" + e.collectionGroup),
            e.filters.length > 0 &&
              (r += `, filters: [${e.filters.map((e) => as(e)).join(", ")}]`),
            i1(e.limit) || (r += ", limit: " + e.limit),
            e.orderBy.length > 0 &&
              (r += `, orderBy: [${e.orderBy.map((e) => s1(e)).join(", ")}]`),
            e.startAt &&
              ((r += ", startAt: "),
              (r += e.startAt.inclusive ? "b:" : "a:"),
              (r += e.startAt.position.map((e) => sy(e)).join(","))),
            e.endAt &&
              ((r += ", endAt: "),
              (r += e.endAt.inclusive ? "a:" : "b:"),
              (r += e.endAt.position.map((e) => sy(e)).join(","))),
            `Target(${r})`
          );
        }
        function aw(e, r) {
          if (e.limit !== r.limit || e.orderBy.length !== r.orderBy.length)
            return !1;
          for (let n = 0; n < e.orderBy.length; n++)
            if (!s2(e.orderBy[n], r.orderBy[n])) return !1;
          if (e.filters.length !== r.filters.length) return !1;
          for (let n = 0; n < e.filters.length; n++)
            if (!at(e.filters[n], r.filters[n])) return !1;
          return (
            !!(
              e.collectionGroup === r.collectionGroup &&
              e.path.isEqual(r.path) &&
              sJ(e.startAt, r.startAt)
            ) && sJ(e.endAt, r.endAt)
          );
        }
        function aT(e) {
          return (
            rR.isDocumentKey(e.path) &&
            null === e.collectionGroup &&
            0 === e.filters.length
          );
        }
        function aS(e, r) {
          return e.filters.filter((e) => e instanceof s4 && e.field.isEqual(r));
        }
        function aE(e, r) {
          let n = rO(r);
          if (void 0 === n) return null;
          for (let r of aS(e, n.fieldPath))
            switch (r.op) {
              case "array-contains-any":
                return r.value.arrayValue.values || [];
              case "array-contains":
                return [r.value];
            }
          return null;
        }
        function aC(e, r) {
          let n = new Map();
          for (let i of rM(r))
            for (let r of aS(e, i.fieldPath))
              switch (r.op) {
                case "==":
                case "in":
                  n.set(i.fieldPath.canonicalString(), r.value);
                  break;
                case "not-in":
                case "!=":
                  return (
                    n.set(i.fieldPath.canonicalString(), r.value),
                    Array.from(n.values())
                  );
              }
          return null;
        }
        function ax(e, r) {
          let n = [],
            i = !0;
          for (let s of rM(r)) {
            let r =
              0 === s.kind
                ? aI(e, s.fieldPath, e.startAt)
                : ak(e, s.fieldPath, e.startAt);
            n.push(r.value), i && (i = r.inclusive);
          }
          return new sG(n, i);
        }
        function aA(e, r) {
          let n = [],
            i = !0;
          for (let s of rM(r)) {
            let r =
              0 === s.kind
                ? ak(e, s.fieldPath, e.endAt)
                : aI(e, s.fieldPath, e.endAt);
            n.push(r.value), i && (i = r.inclusive);
          }
          return new sG(n, i);
        }
        function aI(e, r, n) {
          let i = i9,
            s = !0;
          for (let n of aS(e, r)) {
            let e = i9,
              r = !0;
            switch (n.op) {
              case "<":
              case "<=":
                e = sj(n.value);
                break;
              case "==":
              case "in":
              case ">=":
                e = n.value;
                break;
              case ">":
                (e = n.value), (r = !1);
                break;
              case "!=":
              case "not-in":
                e = i9;
            }
            0 > sV({ value: i, inclusive: s }, { value: e, inclusive: r }) &&
              ((i = e), (s = r));
          }
          if (null !== n) {
            for (let a = 0; a < e.orderBy.length; ++a)
              if (e.orderBy[a].field.isEqual(r)) {
                let e = n.position[a];
                0 >
                  sV(
                    { value: i, inclusive: s },
                    { value: e, inclusive: n.inclusive },
                  ) && ((i = e), (s = n.inclusive));
                break;
              }
          }
          return { value: i, inclusive: s };
        }
        function ak(e, r, n) {
          let i = i6,
            s = !0;
          for (let n of aS(e, r)) {
            let e = i6,
              r = !0;
            switch (n.op) {
              case ">=":
              case ">":
                (e = sz(n.value)), (r = !1);
                break;
              case "==":
              case "in":
              case "<=":
                e = n.value;
                break;
              case "<":
                (e = n.value), (r = !1);
                break;
              case "!=":
              case "not-in":
                e = i6;
            }
            sK({ value: i, inclusive: s }, { value: e, inclusive: r }) > 0 &&
              ((i = e), (s = r));
          }
          if (null !== n) {
            for (let a = 0; a < e.orderBy.length; ++a)
              if (e.orderBy[a].field.isEqual(r)) {
                let e = n.position[a];
                sK(
                  { value: i, inclusive: s },
                  { value: e, inclusive: n.inclusive },
                ) > 0 && ((i = e), (s = n.inclusive));
                break;
              }
          }
          return { value: i, inclusive: s };
        }
        function a_(e) {
          let r = new ik(r_.comparator),
            n = !1;
          for (let i of e.filters)
            for (let e of i.getFlattenedFilters())
              e.field.isKeyField() ||
                ("array-contains" === e.op || "array-contains-any" === e.op
                  ? (n = !0)
                  : (r = r.add(e.field)));
          for (let n of e.orderBy) n.field.isKeyField() || (r = r.add(n.field));
          return r.size + (n ? 1 : 0);
        }
        function aR(e) {
          return null !== e.limit;
        }
        class aD {
          constructor(
            e,
            r = null,
            n = [],
            i = [],
            s = null,
            a = "F",
            o = null,
            l = null,
          ) {
            (this.path = e),
              (this.collectionGroup = r),
              (this.explicitOrderBy = n),
              (this.filters = i),
              (this.limit = s),
              (this.limitType = a),
              (this.startAt = o),
              (this.endAt = l),
              (this.memoizedNormalizedOrderBy = null),
              (this.memoizedTarget = null),
              (this.memoizedAggregateTarget = null),
              this.startAt,
              this.endAt;
          }
        }
        function aP(e, r, n, i, s, a, o, l) {
          return new aD(e, r, n, i, s, a, o, l);
        }
        function aN(e) {
          return new aD(e);
        }
        function aO(e, r) {
          return new aD(
            r,
            null,
            e.explicitOrderBy.slice(),
            e.filters.slice(),
            e.limit,
            e.limitType,
            e.startAt,
            e.endAt,
          );
        }
        function aM(e) {
          return (
            0 === e.filters.length &&
            null === e.limit &&
            null == e.startAt &&
            null == e.endAt &&
            (0 === e.explicitOrderBy.length ||
              (1 === e.explicitOrderBy.length &&
                e.explicitOrderBy[0].field.isKeyField()))
          );
        }
        function aL(e) {
          let r = new ik(r_.comparator);
          return (
            e.filters.forEach((e) => {
              e.getFlattenedFilters().forEach((e) => {
                e.isInequality() && (r = r.add(e.field));
              });
            }),
            r
          );
        }
        function aB(e) {
          return (
            rR.isDocumentKey(e.path) &&
            null === e.collectionGroup &&
            0 === e.filters.length
          );
        }
        function aF(e) {
          return null !== e.collectionGroup;
        }
        function aU(e) {
          let r = rn(e);
          if (null === r.memoizedNormalizedOrderBy) {
            r.memoizedNormalizedOrderBy = [];
            let e = new Set();
            for (let n of r.explicitOrderBy)
              r.memoizedNormalizedOrderBy.push(n),
                e.add(n.field.canonicalString());
            let n =
              r.explicitOrderBy.length > 0
                ? r.explicitOrderBy[r.explicitOrderBy.length - 1].dir
                : "asc";
            aL(r).forEach((i) => {
              e.has(i.canonicalString()) ||
                i.isKeyField() ||
                r.memoizedNormalizedOrderBy.push(new sZ(i, n));
            }),
              e.has(r_.keyField().canonicalString()) ||
                r.memoizedNormalizedOrderBy.push(new sZ(r_.keyField(), n));
          }
          return r.memoizedNormalizedOrderBy;
        }
        function aj(e) {
          let r = rn(e);
          return (
            r.memoizedTarget || (r.memoizedTarget = aV(r, aU(e))),
            r.memoizedTarget
          );
        }
        function az(e) {
          let r = rn(e);
          return (
            r.memoizedAggregateTarget ||
              (r.memoizedAggregateTarget = aV(r, e.explicitOrderBy)),
            r.memoizedAggregateTarget
          );
        }
        function aV(e, r) {
          if ("F" === e.limitType)
            return ay(
              e.path,
              e.collectionGroup,
              r,
              e.filters,
              e.limit,
              e.startAt,
              e.endAt,
            );
          {
            r = r.map((e) => {
              let r = "desc" === e.dir ? "asc" : "desc";
              return new sZ(e.field, r);
            });
            let n = e.endAt
                ? new sG(e.endAt.position, e.endAt.inclusive)
                : null,
              i = e.startAt
                ? new sG(e.startAt.position, e.startAt.inclusive)
                : null;
            return ay(e.path, e.collectionGroup, r, e.filters, e.limit, n, i);
          }
        }
        function aK(e, r) {
          let n = e.filters.concat([r]);
          return new aD(
            e.path,
            e.collectionGroup,
            e.explicitOrderBy.slice(),
            n,
            e.limit,
            e.limitType,
            e.startAt,
            e.endAt,
          );
        }
        function aq(e, r) {
          let n = e.explicitOrderBy.concat([r]);
          return new aD(
            e.path,
            e.collectionGroup,
            n,
            e.filters.slice(),
            e.limit,
            e.limitType,
            e.startAt,
            e.endAt,
          );
        }
        function aH(e, r, n) {
          return new aD(
            e.path,
            e.collectionGroup,
            e.explicitOrderBy.slice(),
            e.filters.slice(),
            r,
            n,
            e.startAt,
            e.endAt,
          );
        }
        function a$(e, r) {
          return new aD(
            e.path,
            e.collectionGroup,
            e.explicitOrderBy.slice(),
            e.filters.slice(),
            e.limit,
            e.limitType,
            r,
            e.endAt,
          );
        }
        function aW(e, r) {
          return new aD(
            e.path,
            e.collectionGroup,
            e.explicitOrderBy.slice(),
            e.filters.slice(),
            e.limit,
            e.limitType,
            e.startAt,
            r,
          );
        }
        function aG(e, r) {
          return aw(aj(e), aj(r)) && e.limitType === r.limitType;
        }
        function aQ(e) {
          return `${av(aj(e))}|lt:${e.limitType}`;
        }
        function aY(e) {
          return `Query(target=${ab(aj(e))}; limitType=${e.limitType})`;
        }
        function aX(e, r) {
          return (
            r.isFoundDocument() && aJ(e, r) && aZ(e, r) && a0(e, r) && a1(e, r)
          );
        }
        function aJ(e, r) {
          let n = r.key.path;
          return null !== e.collectionGroup
            ? r.key.hasCollectionId(e.collectionGroup) && e.path.isPrefixOf(n)
            : rR.isDocumentKey(e.path)
              ? e.path.isEqual(n)
              : e.path.isImmediateParentOf(n);
        }
        function aZ(e, r) {
          for (let n of aU(e))
            if (!n.field.isKeyField() && null === r.data.field(n.field))
              return !1;
          return !0;
        }
        function a0(e, r) {
          for (let n of e.filters) if (!n.matches(r)) return !1;
          return !0;
        }
        function a1(e, r) {
          return (
            (!e.startAt || !!sX(e.startAt, aU(e), r)) &&
            (!e.endAt || !!sY(e.endAt, aU(e), r))
          );
        }
        function a2(e) {
          return (
            e.collectionGroup ||
            (e.path.length % 2 == 1
              ? e.path.lastSegment()
              : e.path.get(e.path.length - 2))
          );
        }
        function a3(e) {
          return (r, n) => {
            let i = !1;
            for (let s of aU(e)) {
              let e = a4(s, r, n);
              if (0 !== e) return e;
              i = i || s.field.isKeyField();
            }
            return 0;
          };
        }
        function a4(e, r, n) {
          let i = e.field.isKeyField()
            ? rR.comparator(r.key, n.key)
            : sW(e.field, r, n);
          switch (e.dir) {
            case "asc":
              return i;
            case "desc":
              return -1 * i;
            default:
              return rt();
          }
        }
        class a5 {
          constructor(e, r) {
            (this.mapKeyFn = e),
              (this.equalsFn = r),
              (this.inner = {}),
              (this.innerSize = 0);
          }
          get(e) {
            let r = this.mapKeyFn(e),
              n = this.inner[r];
            if (void 0 !== n) {
              for (let [r, i] of n) if (this.equalsFn(r, e)) return i;
            }
          }
          has(e) {
            return void 0 !== this.get(e);
          }
          set(e, r) {
            let n = this.mapKeyFn(e),
              i = this.inner[n];
            if (void 0 === i) {
              (this.inner[n] = [[e, r]]), this.innerSize++;
              return;
            }
            for (let n = 0; n < i.length; n++)
              if (this.equalsFn(i[n][0], e)) {
                i[n] = [e, r];
                return;
              }
            i.push([e, r]), this.innerSize++;
          }
          delete(e) {
            let r = this.mapKeyFn(e),
              n = this.inner[r];
            if (void 0 === n) return !1;
            for (let i = 0; i < n.length; i++)
              if (this.equalsFn(n[i][0], e))
                return (
                  1 === n.length ? delete this.inner[r] : n.splice(i, 1),
                  this.innerSize--,
                  !0
                );
            return !1;
          }
          forEach(e) {
            iS(this.inner, (r, n) => {
              for (let [r, i] of n) e(r, i);
            });
          }
          isEmpty() {
            return iE(this.inner);
          }
          size() {
            return this.innerSize;
          }
        }
        let a6 = new iC(rR.comparator);
        function a8() {
          return a6;
        }
        let a7 = new iC(rR.comparator);
        function a9(...e) {
          let r = a7;
          for (let n of e) r = r.insert(n.key, n);
          return r;
        }
        function oe() {
          return oi();
        }
        function ot(e) {
          let r = a7;
          return e.forEach((e, n) => (r = r.insert(e, n.overlayedDocument))), r;
        }
        function or() {
          return oi();
        }
        function on() {
          return oi();
        }
        function oi() {
          return new a5(
            (e) => e.toString(),
            (e, r) => e.isEqual(r),
          );
        }
        let os = new iC(rR.comparator);
        function oa() {
          return os;
        }
        let oo = new ik(rR.comparator);
        function ol(...e) {
          let r = oo;
          for (let n of e) r = r.add(n);
          return r;
        }
        let ou = new ik(rv);
        function oc() {
          return ou;
        }
        function od(e, r) {
          if (e.useProto3Json) {
            if (isNaN(r)) return { doubleValue: "NaN" };
            if (r === 1 / 0) return { doubleValue: "Infinity" };
            if (r === -1 / 0) return { doubleValue: "-Infinity" };
          }
          return { doubleValue: i2(r) ? "-0" : r };
        }
        function oh(e) {
          return { integerValue: "" + e };
        }
        function of(e, r) {
          return i3(r) ? oh(r) : od(e, r);
        }
        class op {
          constructor() {
            this._ = void 0;
          }
        }
        function og(e, r, n) {
          return e instanceof ob
            ? iW(n, r)
            : e instanceof ow
              ? oT(e, r)
              : e instanceof oS
                ? oE(e, r)
                : ox(e, r);
        }
        function om(e, r, n) {
          return e instanceof ow ? oT(e, r) : e instanceof oS ? oE(e, r) : n;
        }
        function oy(e, r) {
          return e instanceof oC ? (sD(r) ? r : { integerValue: 0 }) : null;
        }
        function ov(e, r) {
          return (e instanceof ow && r instanceof ow) ||
            (e instanceof oS && r instanceof oS)
            ? rb(e.elements, r.elements, st)
            : e instanceof oC && r instanceof oC
              ? st(e.operand, r.operand)
              : e instanceof ob && r instanceof ob;
        }
        class ob extends op {}
        class ow extends op {
          constructor(e) {
            super(), (this.elements = e);
          }
        }
        function oT(e, r) {
          let n = oI(r);
          for (let r of e.elements) n.some((e) => st(e, r)) || n.push(r);
          return { arrayValue: { values: n } };
        }
        class oS extends op {
          constructor(e) {
            super(), (this.elements = e);
          }
        }
        function oE(e, r) {
          let n = oI(r);
          for (let r of e.elements) n = n.filter((e) => !st(e, r));
          return { arrayValue: { values: n } };
        }
        class oC extends op {
          constructor(e, r) {
            super(), (this.serializer = e), (this.operand = r);
          }
        }
        function ox(e, r) {
          let n = oy(e, r),
            i = oA(n) + oA(e.operand);
          return s_(n) && s_(e.operand) ? oh(i) : od(e.serializer, i);
        }
        function oA(e) {
          return ij(e.integerValue || e.doubleValue);
        }
        function oI(e) {
          return sP(e) && e.arrayValue.values
            ? e.arrayValue.values.slice()
            : [];
        }
        class ok {
          constructor(e, r) {
            (this.field = e), (this.transform = r);
          }
        }
        function o_(e, r) {
          return e.field.isEqual(r.field) && ov(e.transform, r.transform);
        }
        function oR(e, r) {
          return (
            (void 0 === e && void 0 === r) ||
            (!!e && !!r && rb(e, r, (e, r) => o_(e, r)))
          );
        }
        class oD {
          constructor(e, r) {
            (this.version = e), (this.transformResults = r);
          }
        }
        class oP {
          constructor(e, r) {
            (this.updateTime = e), (this.exists = r);
          }
          static none() {
            return new oP();
          }
          static exists(e) {
            return new oP(void 0, e);
          }
          static updateTime(e) {
            return new oP(e);
          }
          get isNone() {
            return void 0 === this.updateTime && void 0 === this.exists;
          }
          isEqual(e) {
            return (
              this.exists === e.exists &&
              (this.updateTime
                ? !!e.updateTime && this.updateTime.isEqual(e.updateTime)
                : !e.updateTime)
            );
          }
        }
        function oN(e, r) {
          return void 0 !== e.updateTime
            ? r.isFoundDocument() && r.version.isEqual(e.updateTime)
            : void 0 === e.exists || e.exists === r.isFoundDocument();
        }
        class oO {}
        function oM(e, r) {
          if (!e.hasLocalMutations || (r && 0 === r.fields.length)) return null;
          if (null === r)
            return e.isNoDocument()
              ? new oQ(e.key, oP.none())
              : new oj(e.key, e.data, oP.none());
          {
            let n = e.data,
              i = sq.empty(),
              s = new ik(r_.comparator);
            for (let e of r.fields)
              if (!s.has(e)) {
                let r = n.field(e);
                null === r &&
                  e.length > 1 &&
                  ((e = e.popLast()), (r = n.field(e))),
                  null === r ? i.delete(e) : i.set(e, r),
                  (s = s.add(e));
              }
            return new oK(e.key, i, new iP(s.toArray()), oP.none());
          }
        }
        function oL(e, r, n) {
          e instanceof oj
            ? oz(e, r, n)
            : e instanceof oK
              ? oq(e, r, n)
              : oY(e, r, n);
        }
        function oB(e, r, n, i) {
          return e instanceof oj
            ? oV(e, r, n, i)
            : e instanceof oK
              ? oH(e, r, n, i)
              : oX(e, r, n);
        }
        function oF(e, r) {
          let n = null;
          for (let i of e.fieldTransforms) {
            let e = r.data.field(i.field),
              s = oy(i.transform, e || null);
            null != s && (null === n && (n = sq.empty()), n.set(i.field, s));
          }
          return n || null;
        }
        function oU(e, r) {
          return (
            !!(
              e.type === r.type &&
              e.key.isEqual(r.key) &&
              e.precondition.isEqual(r.precondition) &&
              oR(e.fieldTransforms, r.fieldTransforms)
            ) &&
            (0 === e.type
              ? e.value.isEqual(r.value)
              : 1 !== e.type ||
                (e.data.isEqual(r.data) && e.fieldMask.isEqual(r.fieldMask)))
          );
        }
        class oj extends oO {
          constructor(e, r, n, i = []) {
            super(),
              (this.key = e),
              (this.value = r),
              (this.precondition = n),
              (this.fieldTransforms = i),
              (this.type = 0);
          }
          getFieldMask() {
            return null;
          }
        }
        function oz(e, r, n) {
          let i = e.value.clone(),
            s = oW(e.fieldTransforms, r, n.transformResults);
          i.setAll(s),
            r.convertToFoundDocument(n.version, i).setHasCommittedMutations();
        }
        function oV(e, r, n, i) {
          if (!oN(e.precondition, r)) return n;
          let s = e.value.clone(),
            a = oG(e.fieldTransforms, i, r);
          return (
            s.setAll(a),
            r.convertToFoundDocument(r.version, s).setHasLocalMutations(),
            null
          );
        }
        class oK extends oO {
          constructor(e, r, n, i, s = []) {
            super(),
              (this.key = e),
              (this.data = r),
              (this.fieldMask = n),
              (this.precondition = i),
              (this.fieldTransforms = s),
              (this.type = 1);
          }
          getFieldMask() {
            return this.fieldMask;
          }
        }
        function oq(e, r, n) {
          if (!oN(e.precondition, r)) {
            r.convertToUnknownDocument(n.version);
            return;
          }
          let i = oW(e.fieldTransforms, r, n.transformResults),
            s = r.data;
          s.setAll(o$(e)),
            s.setAll(i),
            r.convertToFoundDocument(n.version, s).setHasCommittedMutations();
        }
        function oH(e, r, n, i) {
          if (!oN(e.precondition, r)) return n;
          let s = oG(e.fieldTransforms, i, r),
            a = r.data;
          return (a.setAll(o$(e)),
          a.setAll(s),
          r.convertToFoundDocument(r.version, a).setHasLocalMutations(),
          null === n)
            ? null
            : n
                .unionWith(e.fieldMask.fields)
                .unionWith(e.fieldTransforms.map((e) => e.field));
        }
        function o$(e) {
          let r = new Map();
          return (
            e.fieldMask.fields.forEach((n) => {
              if (!n.isEmpty()) {
                let i = e.data.field(n);
                r.set(n, i);
              }
            }),
            r
          );
        }
        function oW(e, r, n) {
          let i = new Map();
          rr(e.length === n.length);
          for (let s = 0; s < n.length; s++) {
            let a = e[s],
              o = a.transform,
              l = r.data.field(a.field);
            i.set(a.field, om(o, l, n[s]));
          }
          return i;
        }
        function oG(e, r, n) {
          let i = new Map();
          for (let s of e) {
            let e = s.transform,
              a = n.data.field(s.field);
            i.set(s.field, og(e, a, r));
          }
          return i;
        }
        class oQ extends oO {
          constructor(e, r) {
            super(),
              (this.key = e),
              (this.precondition = r),
              (this.type = 2),
              (this.fieldTransforms = []);
          }
          getFieldMask() {
            return null;
          }
        }
        function oY(e, r, n) {
          r.convertToNoDocument(n.version).setHasCommittedMutations();
        }
        function oX(e, r, n) {
          return oN(e.precondition, r)
            ? (r.convertToNoDocument(r.version).setHasLocalMutations(), null)
            : n;
        }
        class oJ extends oO {
          constructor(e, r) {
            super(),
              (this.key = e),
              (this.precondition = r),
              (this.type = 3),
              (this.fieldTransforms = []);
          }
          getFieldMask() {
            return null;
          }
        }
        class oZ {
          constructor(e, r, n, i) {
            (this.batchId = e),
              (this.localWriteTime = r),
              (this.baseMutations = n),
              (this.mutations = i);
          }
          applyToRemoteDocument(e, r) {
            let n = r.mutationResults;
            for (let r = 0; r < this.mutations.length; r++) {
              let i = this.mutations[r];
              i.key.isEqual(e.key) && oL(i, e, n[r]);
            }
          }
          applyToLocalView(e, r) {
            for (let n of this.baseMutations)
              n.key.isEqual(e.key) && (r = oB(n, e, r, this.localWriteTime));
            for (let n of this.mutations)
              n.key.isEqual(e.key) && (r = oB(n, e, r, this.localWriteTime));
            return r;
          }
          applyToLocalDocumentSet(e, r) {
            let n = on();
            return (
              this.mutations.forEach((i) => {
                let s = e.get(i.key),
                  a = s.overlayedDocument,
                  o = this.applyToLocalView(a, s.mutatedFields),
                  l = oM(a, (o = r.has(i.key) ? null : o));
                null !== l && n.set(i.key, l),
                  a.isValidDocument() || a.convertToNoDocument(rC.min());
              }),
              n
            );
          }
          keys() {
            return this.mutations.reduce((e, r) => e.add(r.key), ol());
          }
          isEqual(e) {
            return (
              this.batchId === e.batchId &&
              rb(this.mutations, e.mutations, (e, r) => oU(e, r)) &&
              rb(this.baseMutations, e.baseMutations, (e, r) => oU(e, r))
            );
          }
        }
        class o0 {
          constructor(e, r, n, i) {
            (this.batch = e),
              (this.commitVersion = r),
              (this.mutationResults = n),
              (this.docVersions = i);
          }
          static from(e, r, n) {
            rr(e.mutations.length === n.length);
            let i = oa(),
              s = e.mutations;
            for (let e = 0; e < s.length; e++)
              i = i.insert(s[e].key, n[e].version);
            return new o0(e, r, n, i);
          }
        }
        class o1 {
          constructor(e, r) {
            (this.largestBatchId = e), (this.mutation = r);
          }
          getKey() {
            return this.mutation.key;
          }
          isEqual(e) {
            return null !== e && this.mutation === e.mutation;
          }
          toString() {
            return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`;
          }
        }
        class o2 {
          constructor(e, r) {
            (this.count = e), (this.unchangedNames = r);
          }
        }
        function o3(e) {
          switch (e) {
            case ri.OK:
              return rt();
            case ri.CANCELLED:
            case ri.UNKNOWN:
            case ri.DEADLINE_EXCEEDED:
            case ri.RESOURCE_EXHAUSTED:
            case ri.INTERNAL:
            case ri.UNAVAILABLE:
            case ri.UNAUTHENTICATED:
              return !1;
            case ri.INVALID_ARGUMENT:
            case ri.NOT_FOUND:
            case ri.ALREADY_EXISTS:
            case ri.PERMISSION_DENIED:
            case ri.FAILED_PRECONDITION:
            case ri.ABORTED:
            case ri.OUT_OF_RANGE:
            case ri.UNIMPLEMENTED:
            case ri.DATA_LOSS:
              return !0;
            default:
              return rt();
          }
        }
        function o4(e) {
          return o3(e) && e !== ri.ABORTED;
        }
        function o5(e) {
          if (void 0 === e) return t7("GRPC error has no .code"), ri.UNKNOWN;
          switch (e) {
            case m.OK:
              return ri.OK;
            case m.CANCELLED:
              return ri.CANCELLED;
            case m.UNKNOWN:
              return ri.UNKNOWN;
            case m.DEADLINE_EXCEEDED:
              return ri.DEADLINE_EXCEEDED;
            case m.RESOURCE_EXHAUSTED:
              return ri.RESOURCE_EXHAUSTED;
            case m.INTERNAL:
              return ri.INTERNAL;
            case m.UNAVAILABLE:
              return ri.UNAVAILABLE;
            case m.UNAUTHENTICATED:
              return ri.UNAUTHENTICATED;
            case m.INVALID_ARGUMENT:
              return ri.INVALID_ARGUMENT;
            case m.NOT_FOUND:
              return ri.NOT_FOUND;
            case m.ALREADY_EXISTS:
              return ri.ALREADY_EXISTS;
            case m.PERMISSION_DENIED:
              return ri.PERMISSION_DENIED;
            case m.FAILED_PRECONDITION:
              return ri.FAILED_PRECONDITION;
            case m.ABORTED:
              return ri.ABORTED;
            case m.OUT_OF_RANGE:
              return ri.OUT_OF_RANGE;
            case m.UNIMPLEMENTED:
              return ri.UNIMPLEMENTED;
            case m.DATA_LOSS:
              return ri.DATA_LOSS;
            default:
              return rt();
          }
        }
        !(function (e) {
          (e[(e.OK = 0)] = "OK"),
            (e[(e.CANCELLED = 1)] = "CANCELLED"),
            (e[(e.UNKNOWN = 2)] = "UNKNOWN"),
            (e[(e.INVALID_ARGUMENT = 3)] = "INVALID_ARGUMENT"),
            (e[(e.DEADLINE_EXCEEDED = 4)] = "DEADLINE_EXCEEDED"),
            (e[(e.NOT_FOUND = 5)] = "NOT_FOUND"),
            (e[(e.ALREADY_EXISTS = 6)] = "ALREADY_EXISTS"),
            (e[(e.PERMISSION_DENIED = 7)] = "PERMISSION_DENIED"),
            (e[(e.UNAUTHENTICATED = 16)] = "UNAUTHENTICATED"),
            (e[(e.RESOURCE_EXHAUSTED = 8)] = "RESOURCE_EXHAUSTED"),
            (e[(e.FAILED_PRECONDITION = 9)] = "FAILED_PRECONDITION"),
            (e[(e.ABORTED = 10)] = "ABORTED"),
            (e[(e.OUT_OF_RANGE = 11)] = "OUT_OF_RANGE"),
            (e[(e.UNIMPLEMENTED = 12)] = "UNIMPLEMENTED"),
            (e[(e.INTERNAL = 13)] = "INTERNAL"),
            (e[(e.UNAVAILABLE = 14)] = "UNAVAILABLE"),
            (e[(e.DATA_LOSS = 15)] = "DATA_LOSS");
        })(m || (m = {}));
        class o6 extends Error {
          constructor() {
            super(...arguments), (this.name = "Base64DecodeError");
          }
        }
        let o8 = null;
        function o7(e) {
          if (o8) throw Error("a TestingHooksSpi instance is already set");
          o8 = e;
        }
        function o9() {
          return new tW.TextEncoder();
        }
        function le() {
          return new TextDecoder("utf-8");
        }
        let lt = new p([0xffffffff, 0xffffffff], 0);
        function lr(e) {
          let r = o9().encode(e),
            n = new g();
          return n.update(r), new Uint8Array(n.digest());
        }
        function ln(e) {
          let r = new DataView(e.buffer),
            n = r.getUint32(0, !0),
            i = r.getUint32(4, !0),
            s = r.getUint32(8, !0),
            a = r.getUint32(12, !0);
          return [new p([n, i], 0), new p([s, a], 0)];
        }
        class li {
          constructor(e, r, n) {
            if (
              ((this.bitmap = e),
              (this.padding = r),
              (this.hashCount = n),
              r < 0 || r >= 8)
            )
              throw new ls(`Invalid padding: ${r}`);
            if (n < 0 || (e.length > 0 && 0 === this.hashCount))
              throw new ls(`Invalid hash count: ${n}`);
            if (0 === e.length && 0 !== r)
              throw new ls(`Invalid padding when bitmap length is 0: ${r}`);
            (this.bitCount = 8 * e.length - r),
              (this.bitCountInInteger = p.fromNumber(this.bitCount));
          }
          getBitIndex(e, r, n) {
            let i = e.add(r.multiply(p.fromNumber(n)));
            return (
              1 === i.compare(lt) &&
                (i = new p([i.getBits(0), i.getBits(1)], 0)),
              i.modulo(this.bitCountInInteger).toNumber()
            );
          }
          isBitSet(e) {
            return (this.bitmap[Math.floor(e / 8)] & (1 << e % 8)) != 0;
          }
          mightContain(e) {
            if (0 === this.bitCount) return !1;
            let [r, n] = ln(lr(e));
            for (let e = 0; e < this.hashCount; e++) {
              let i = this.getBitIndex(r, n, e);
              if (!this.isBitSet(i)) return !1;
            }
            return !0;
          }
          static create(e, r, n) {
            let i = e % 8 == 0 ? 0 : 8 - (e % 8),
              s = new li(new Uint8Array(Math.ceil(e / 8)), i, r);
            return n.forEach((e) => s.insert(e)), s;
          }
          insert(e) {
            if (0 === this.bitCount) return;
            let [r, n] = ln(lr(e));
            for (let e = 0; e < this.hashCount; e++) {
              let i = this.getBitIndex(r, n, e);
              this.setBit(i);
            }
          }
          setBit(e) {
            let r = Math.floor(e / 8),
              n = e % 8;
            this.bitmap[r] |= 1 << n;
          }
        }
        class ls extends Error {
          constructor() {
            super(...arguments), (this.name = "BloomFilterError");
          }
        }
        class la {
          constructor(e, r, n, i, s) {
            (this.snapshotVersion = e),
              (this.targetChanges = r),
              (this.targetMismatches = n),
              (this.documentUpdates = i),
              (this.resolvedLimboDocuments = s);
          }
          static createSynthesizedRemoteEventForCurrentChange(e, r, n) {
            let i = new Map();
            return (
              i.set(
                e,
                lo.createSynthesizedTargetChangeForCurrentChange(e, r, n),
              ),
              new la(rC.min(), i, new iC(rv), a8(), ol())
            );
          }
        }
        class lo {
          constructor(e, r, n, i, s) {
            (this.resumeToken = e),
              (this.current = r),
              (this.addedDocuments = n),
              (this.modifiedDocuments = i),
              (this.removedDocuments = s);
          }
          static createSynthesizedTargetChangeForCurrentChange(e, r, n) {
            return new lo(n, r, ol(), ol(), ol());
          }
        }
        class ll {
          constructor(e, r, n, i) {
            (this.updatedTargetIds = e),
              (this.removedTargetIds = r),
              (this.key = n),
              (this.newDoc = i);
          }
        }
        class lu {
          constructor(e, r) {
            (this.targetId = e), (this.existenceFilter = r);
          }
        }
        class lc {
          constructor(e, r, n = iM.EMPTY_BYTE_STRING, i = null) {
            (this.state = e),
              (this.targetIds = r),
              (this.resumeToken = n),
              (this.cause = i);
          }
        }
        class ld {
          constructor() {
            (this.pendingResponses = 0),
              (this.documentChanges = lg()),
              (this._resumeToken = iM.EMPTY_BYTE_STRING),
              (this._current = !1),
              (this._hasPendingChanges = !0);
          }
          get current() {
            return this._current;
          }
          get resumeToken() {
            return this._resumeToken;
          }
          get isPending() {
            return 0 !== this.pendingResponses;
          }
          get hasPendingChanges() {
            return this._hasPendingChanges;
          }
          updateResumeToken(e) {
            e.approximateByteSize() > 0 &&
              ((this._hasPendingChanges = !0), (this._resumeToken = e));
          }
          toTargetChange() {
            let e = ol(),
              r = ol(),
              n = ol();
            return (
              this.documentChanges.forEach((i, s) => {
                switch (s) {
                  case 0:
                    e = e.add(i);
                    break;
                  case 2:
                    r = r.add(i);
                    break;
                  case 1:
                    n = n.add(i);
                    break;
                  default:
                    rt();
                }
              }),
              new lo(this._resumeToken, this._current, e, r, n)
            );
          }
          clearPendingChanges() {
            (this._hasPendingChanges = !1), (this.documentChanges = lg());
          }
          addDocumentChange(e, r) {
            (this._hasPendingChanges = !0),
              (this.documentChanges = this.documentChanges.insert(e, r));
          }
          removeDocumentChange(e) {
            (this._hasPendingChanges = !0),
              (this.documentChanges = this.documentChanges.remove(e));
          }
          recordPendingTargetRequest() {
            this.pendingResponses += 1;
          }
          recordTargetResponse() {
            (this.pendingResponses -= 1), rr(this.pendingResponses >= 0);
          }
          markCurrent() {
            (this._hasPendingChanges = !0), (this._current = !0);
          }
        }
        let lh = "WatchChangeAggregator";
        class lf {
          constructor(e) {
            (this.metadataProvider = e),
              (this.targetStates = new Map()),
              (this.pendingDocumentUpdates = a8()),
              (this.pendingDocumentUpdatesByTarget = lp()),
              (this.pendingDocumentTargetMapping = lp()),
              (this.pendingTargetResets = new iC(rv));
          }
          handleDocumentChange(e) {
            for (let r of e.updatedTargetIds)
              e.newDoc && e.newDoc.isFoundDocument()
                ? this.addDocumentToTarget(r, e.newDoc)
                : this.removeDocumentFromTarget(r, e.key, e.newDoc);
            for (let r of e.removedTargetIds)
              this.removeDocumentFromTarget(r, e.key, e.newDoc);
          }
          handleTargetChange(e) {
            this.forEachTarget(e, (r) => {
              let n = this.ensureTargetState(r);
              switch (e.state) {
                case 0:
                  this.isActiveTarget(r) && n.updateResumeToken(e.resumeToken);
                  break;
                case 1:
                  n.recordTargetResponse(),
                    n.isPending || n.clearPendingChanges(),
                    n.updateResumeToken(e.resumeToken);
                  break;
                case 2:
                  n.recordTargetResponse(), n.isPending || this.removeTarget(r);
                  break;
                case 3:
                  this.isActiveTarget(r) &&
                    (n.markCurrent(), n.updateResumeToken(e.resumeToken));
                  break;
                case 4:
                  this.isActiveTarget(r) &&
                    (this.resetTarget(r), n.updateResumeToken(e.resumeToken));
                  break;
                default:
                  rt();
              }
            });
          }
          forEachTarget(e, r) {
            e.targetIds.length > 0
              ? e.targetIds.forEach(r)
              : this.targetStates.forEach((e, n) => {
                  this.isActiveTarget(n) && r(n);
                });
          }
          handleExistenceFilter(e) {
            let r = e.targetId,
              n = e.existenceFilter.count,
              i = this.targetDataForActiveTarget(r);
            if (i) {
              let s = i.target;
              if (aT(s)) {
                if (0 === n) {
                  let e = new rR(s.path);
                  this.removeDocumentFromTarget(
                    r,
                    e,
                    s$.newNoDocument(e, rC.min()),
                  );
                } else rr(1 === n);
              } else {
                let i = this.getCurrentDocumentCountForTarget(r);
                if (i !== n) {
                  let n = this.parseBloomFilter(e),
                    s = n ? this.applyBloomFilter(n, e, i) : 1;
                  if (0 !== s) {
                    this.resetTarget(r);
                    let e =
                      2 === s
                        ? "TargetPurposeExistenceFilterMismatchBloom"
                        : "TargetPurposeExistenceFilterMismatch";
                    this.pendingTargetResets = this.pendingTargetResets.insert(
                      r,
                      e,
                    );
                  }
                  null == o8 ||
                    o8.notifyOnExistenceFilterMismatch(
                      lm(
                        i,
                        e.existenceFilter,
                        this.metadataProvider.getDatabaseId(),
                        n,
                        s,
                      ),
                    );
                }
              }
            }
          }
          parseBloomFilter(e) {
            let r, n;
            let i = e.existenceFilter.unchangedNames;
            if (!i || !i.bits) return null;
            let {
              bits: { bitmap: s = "", padding: a = 0 },
              hashCount: o = 0,
            } = i;
            try {
              r = iz(s).toUint8Array();
            } catch (e) {
              if (e instanceof o6)
                return (
                  t9(
                    "Decoding the base64 bloom filter in existence filter failed (" +
                      e.message +
                      "); ignoring the bloom filter and falling back to full re-query.",
                  ),
                  null
                );
              throw e;
            }
            try {
              n = new li(r, a, o);
            } catch (e) {
              return (
                e instanceof ls
                  ? t9("BloomFilter error: ", e)
                  : t9("Applying bloom filter failed: ", e),
                null
              );
            }
            return 0 === n.bitCount ? null : n;
          }
          applyBloomFilter(e, r, n) {
            return r.existenceFilter.count ===
              n - this.filterRemovedDocuments(e, r.targetId)
              ? 0
              : 2;
          }
          filterRemovedDocuments(e, r) {
            let n = this.metadataProvider.getRemoteKeysForTarget(r),
              i = 0;
            return (
              n.forEach((n) => {
                let s = this.metadataProvider.getDatabaseId(),
                  a = `projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;
                !e.mightContain(a) &&
                  (this.removeDocumentFromTarget(r, n, null), i++);
              }),
              i
            );
          }
          createRemoteEvent(e) {
            let r = new Map();
            this.targetStates.forEach((n, i) => {
              let s = this.targetDataForActiveTarget(i);
              if (s) {
                if (n.current && aT(s.target)) {
                  let r = new rR(s.target.path);
                  this.ensureDocumentUpdateByTarget(r).has(i) ||
                    this.targetContainsDocument(i, r) ||
                    this.removeDocumentFromTarget(i, r, s$.newNoDocument(r, e));
                }
                n.hasPendingChanges &&
                  (r.set(i, n.toTargetChange()), n.clearPendingChanges());
              }
            });
            let n = ol();
            this.pendingDocumentTargetMapping.forEach((e, r) => {
              let i = !0;
              r.forEachWhile((e) => {
                let r = this.targetDataForActiveTarget(e);
                return (
                  !r ||
                  "TargetPurposeLimboResolution" === r.purpose ||
                  ((i = !1), !1)
                );
              }),
                i && (n = n.add(e));
            }),
              this.pendingDocumentUpdates.forEach((r, n) => n.setReadTime(e));
            let i = new la(
              e,
              r,
              this.pendingTargetResets,
              this.pendingDocumentUpdates,
              n,
            );
            return (
              (this.pendingDocumentUpdates = a8()),
              (this.pendingDocumentUpdatesByTarget = lp()),
              (this.pendingDocumentTargetMapping = lp()),
              (this.pendingTargetResets = new iC(rv)),
              i
            );
          }
          addDocumentToTarget(e, r) {
            if (!this.isActiveTarget(e)) return;
            let n = this.targetContainsDocument(e, r.key) ? 2 : 0;
            this.ensureTargetState(e).addDocumentChange(r.key, n),
              (this.pendingDocumentUpdates = this.pendingDocumentUpdates.insert(
                r.key,
                r,
              )),
              (this.pendingDocumentUpdatesByTarget =
                this.pendingDocumentUpdatesByTarget.insert(
                  r.key,
                  this.ensureDocumentUpdateByTarget(r.key).add(e),
                )),
              (this.pendingDocumentTargetMapping =
                this.pendingDocumentTargetMapping.insert(
                  r.key,
                  this.ensureDocumentTargetMapping(r.key).add(e),
                ));
          }
          removeDocumentFromTarget(e, r, n) {
            if (!this.isActiveTarget(e)) return;
            let i = this.ensureTargetState(e);
            this.targetContainsDocument(e, r)
              ? i.addDocumentChange(r, 1)
              : i.removeDocumentChange(r),
              (this.pendingDocumentTargetMapping =
                this.pendingDocumentTargetMapping.insert(
                  r,
                  this.ensureDocumentTargetMapping(r).delete(e),
                )),
              (this.pendingDocumentTargetMapping =
                this.pendingDocumentTargetMapping.insert(
                  r,
                  this.ensureDocumentTargetMapping(r).add(e),
                )),
              n &&
                (this.pendingDocumentUpdates =
                  this.pendingDocumentUpdates.insert(r, n));
          }
          removeTarget(e) {
            this.targetStates.delete(e);
          }
          getCurrentDocumentCountForTarget(e) {
            let r = this.ensureTargetState(e).toTargetChange();
            return (
              this.metadataProvider.getRemoteKeysForTarget(e).size +
              r.addedDocuments.size -
              r.removedDocuments.size
            );
          }
          recordPendingTargetRequest(e) {
            this.ensureTargetState(e).recordPendingTargetRequest();
          }
          ensureTargetState(e) {
            let r = this.targetStates.get(e);
            return r || ((r = new ld()), this.targetStates.set(e, r)), r;
          }
          ensureDocumentTargetMapping(e) {
            let r = this.pendingDocumentTargetMapping.get(e);
            return (
              r ||
                ((r = new ik(rv)),
                (this.pendingDocumentTargetMapping =
                  this.pendingDocumentTargetMapping.insert(e, r))),
              r
            );
          }
          ensureDocumentUpdateByTarget(e) {
            let r = this.pendingDocumentUpdatesByTarget.get(e);
            return (
              r ||
                ((r = new ik(rv)),
                (this.pendingDocumentUpdatesByTarget =
                  this.pendingDocumentUpdatesByTarget.insert(e, r))),
              r
            );
          }
          isActiveTarget(e) {
            let r = null !== this.targetDataForActiveTarget(e);
            return r || t8(lh, "Detected inactive target", e), r;
          }
          targetDataForActiveTarget(e) {
            let r = this.targetStates.get(e);
            return r && r.isPending
              ? null
              : this.metadataProvider.getTargetDataForTarget(e);
          }
          resetTarget(e) {
            this.targetStates.set(e, new ld()),
              this.metadataProvider.getRemoteKeysForTarget(e).forEach((r) => {
                this.removeDocumentFromTarget(e, r, null);
              });
          }
          targetContainsDocument(e, r) {
            return this.metadataProvider.getRemoteKeysForTarget(e).has(r);
          }
        }
        function lp() {
          return new iC(rR.comparator);
        }
        function lg() {
          return new iC(rR.comparator);
        }
        function lm(e, r, n, i, s) {
          var a, o, l, u, c, d;
          let h = {
              localCacheCount: e,
              existenceFilterCount: r.count,
              databaseId: n.database,
              projectId: n.projectId,
            },
            f = r.unchangedNames;
          return (
            f &&
              (h.bloomFilter = {
                applied: 0 === s,
                hashCount:
                  null !== (a = null == f ? void 0 : f.hashCount) &&
                  void 0 !== a
                    ? a
                    : 0,
                bitmapLength:
                  null !==
                    (u =
                      null ===
                        (l =
                          null === (o = null == f ? void 0 : f.bits) ||
                          void 0 === o
                            ? void 0
                            : o.bitmap) || void 0 === l
                        ? void 0
                        : l.length) && void 0 !== u
                    ? u
                    : 0,
                padding:
                  null !==
                    (d =
                      null === (c = null == f ? void 0 : f.bits) || void 0 === c
                        ? void 0
                        : c.padding) && void 0 !== d
                    ? d
                    : 0,
                mightContain: (e) => {
                  var r;
                  return (
                    null !== (r = null == i ? void 0 : i.mightContain(e)) &&
                    void 0 !== r &&
                    r
                  );
                },
              }),
            h
          );
        }
        let ly = (() => {
            let e = {};
            return (e.asc = "ASCENDING"), (e.desc = "DESCENDING"), e;
          })(),
          lv = (() => {
            let e = {};
            return (
              (e["<"] = "LESS_THAN"),
              (e["<="] = "LESS_THAN_OR_EQUAL"),
              (e[">"] = "GREATER_THAN"),
              (e[">="] = "GREATER_THAN_OR_EQUAL"),
              (e["=="] = "EQUAL"),
              (e["!="] = "NOT_EQUAL"),
              (e["array-contains"] = "ARRAY_CONTAINS"),
              (e.in = "IN"),
              (e["not-in"] = "NOT_IN"),
              (e["array-contains-any"] = "ARRAY_CONTAINS_ANY"),
              e
            );
          })(),
          lb = (() => {
            let e = {};
            return (e.and = "AND"), (e.or = "OR"), e;
          })();
        class lw {
          constructor(e, r) {
            (this.databaseId = e), (this.useProto3Json = r);
          }
        }
        function lT(e) {
          return new rs(
            void 0 === e.code ? ri.UNKNOWN : o5(e.code),
            e.message || "",
          );
        }
        function lS(e, r) {
          return e.useProto3Json || i1(r) ? r : { value: r };
        }
        function lE(e) {
          let r;
          return i1((r = "object" == typeof e ? e.value : e)) ? null : r;
        }
        function lC(e, r) {
          if (!e.useProto3Json)
            return { seconds: "" + r.seconds, nanos: r.nanoseconds };
          {
            let e = new Date(1e3 * r.seconds)
                .toISOString()
                .replace(/\.\d*/, "")
                .replace("Z", ""),
              n = ("000000000" + r.nanoseconds).slice(-9);
            return `${e}.${n}Z`;
          }
        }
        function lx(e) {
          let r = iU(e);
          return new rE(r.seconds, r.nanos);
        }
        function lA(e, r) {
          return e.useProto3Json ? r.toBase64() : r.toUint8Array();
        }
        function lI(e, r) {
          return e.useProto3Json
            ? (rr(void 0 === r || "string" == typeof r),
              iM.fromBase64String(r || ""))
            : (rr(
                void 0 === r || r instanceof Buffer || r instanceof Uint8Array,
              ),
              iM.fromUint8Array(r || new Uint8Array()));
        }
        function lk(e, r) {
          return lC(e, r.toTimestamp());
        }
        function l_(e) {
          return rr(!!e), rC.fromTimestamp(lx(e));
        }
        function lR(e, r) {
          return lD(e, r).canonicalString();
        }
        function lD(e, r) {
          let n = lF(e).child("documents");
          return void 0 === r ? n : n.child(r);
        }
        function lP(e) {
          let r = rI.fromString(e);
          return rr(u_(r)), r;
        }
        function lN(e, r) {
          return lR(e.databaseId, r.path);
        }
        function lO(e, r) {
          let n = lP(r);
          if (n.get(1) !== e.databaseId.projectId)
            throw new rs(
              ri.INVALID_ARGUMENT,
              "Tried to deserialize key from different project: " +
                n.get(1) +
                " vs " +
                e.databaseId.projectId,
            );
          if (n.get(3) !== e.databaseId.database)
            throw new rs(
              ri.INVALID_ARGUMENT,
              "Tried to deserialize key from different database: " +
                n.get(3) +
                " vs " +
                e.databaseId.database,
            );
          return new rR(lU(n));
        }
        function lM(e, r) {
          return lR(e.databaseId, r);
        }
        function lL(e) {
          let r = lP(e);
          return 4 === r.length ? rI.emptyPath() : lU(r);
        }
        function lB(e) {
          return new rI([
            "projects",
            e.databaseId.projectId,
            "databases",
            e.databaseId.database,
          ]).canonicalString();
        }
        function lF(e) {
          return new rI(["projects", e.projectId, "databases", e.database]);
        }
        function lU(e) {
          return rr(e.length > 4 && "documents" === e.get(4)), e.popFirst(5);
        }
        function lj(e, r, n) {
          return { name: lN(e, r), fields: n.value.mapValue.fields };
        }
        function lz(e, r) {
          return {
            name: lN(e, r.key),
            fields: r.data.value.mapValue.fields,
            updateTime: lC(e, r.version.toTimestamp()),
            createTime: lC(e, r.createTime.toTimestamp()),
          };
        }
        function lV(e, r, n) {
          let i = lO(e, r.name),
            s = l_(r.updateTime),
            a = r.createTime ? l_(r.createTime) : rC.min(),
            o = new sq({ mapValue: { fields: r.fields } }),
            l = s$.newFoundDocument(i, s, a, o);
          return (
            n && l.setHasCommittedMutations(),
            n ? l.setHasCommittedMutations() : l
          );
        }
        function lK(e, r) {
          rr(!!r.found), r.found.name, r.found.updateTime;
          let n = lO(e, r.found.name),
            i = l_(r.found.updateTime),
            s = r.found.createTime ? l_(r.found.createTime) : rC.min(),
            a = new sq({ mapValue: { fields: r.found.fields } });
          return s$.newFoundDocument(n, i, s, a);
        }
        function lq(e, r) {
          rr(!!r.missing), rr(!!r.readTime);
          let n = lO(e, r.missing),
            i = l_(r.readTime);
          return s$.newNoDocument(n, i);
        }
        function lH(e, r) {
          return "found" in r ? lK(e, r) : "missing" in r ? lq(e, r) : rt();
        }
        function l$(e, r) {
          let n;
          if ("targetChange" in r) {
            r.targetChange;
            let i = lW(r.targetChange.targetChangeType || "NO_CHANGE"),
              s = r.targetChange.targetIds || [],
              a = lI(e, r.targetChange.resumeToken),
              o = r.targetChange.cause;
            n = new lc(i, s, a, (o && lT(o)) || null);
          } else if ("documentChange" in r) {
            r.documentChange;
            let i = r.documentChange;
            i.document, i.document.name, i.document.updateTime;
            let s = lO(e, i.document.name),
              a = l_(i.document.updateTime),
              o = i.document.createTime ? l_(i.document.createTime) : rC.min(),
              l = new sq({ mapValue: { fields: i.document.fields } }),
              u = s$.newFoundDocument(s, a, o, l);
            n = new ll(i.targetIds || [], i.removedTargetIds || [], u.key, u);
          } else if ("documentDelete" in r) {
            r.documentDelete;
            let i = r.documentDelete;
            i.document;
            let s = lO(e, i.document),
              a = i.readTime ? l_(i.readTime) : rC.min(),
              o = s$.newNoDocument(s, a);
            n = new ll([], i.removedTargetIds || [], o.key, o);
          } else if ("documentRemove" in r) {
            r.documentRemove;
            let i = r.documentRemove;
            i.document;
            let s = lO(e, i.document);
            n = new ll([], i.removedTargetIds || [], s, null);
          } else {
            if (!("filter" in r)) return rt();
            r.filter;
            let e = r.filter;
            e.targetId;
            let { count: i = 0, unchangedNames: s } = e,
              a = new o2(i, s);
            n = new lu(e.targetId, a);
          }
          return n;
        }
        function lW(e) {
          return "NO_CHANGE" === e
            ? 0
            : "ADD" === e
              ? 1
              : "REMOVE" === e
                ? 2
                : "CURRENT" === e
                  ? 3
                  : "RESET" === e
                    ? 4
                    : rt();
        }
        function lG(e) {
          if (!("targetChange" in e)) return rC.min();
          let r = e.targetChange;
          return (r.targetIds && r.targetIds.length) || !r.readTime
            ? rC.min()
            : l_(r.readTime);
        }
        function lQ(e, r) {
          let n;
          if (r instanceof oj) n = { update: lj(e, r.key, r.value) };
          else if (r instanceof oQ) n = { delete: lN(e, r.key) };
          else if (r instanceof oK)
            n = { update: lj(e, r.key, r.data), updateMask: uI(r.fieldMask) };
          else {
            if (!(r instanceof oJ)) return rt();
            n = { verify: lN(e, r.key) };
          }
          return (
            r.fieldTransforms.length > 0 &&
              (n.updateTransforms = r.fieldTransforms.map((r) => l1(e, r))),
            r.precondition.isNone ||
              (n.currentDocument = lX(e, r.precondition)),
            n
          );
        }
        function lY(e, r) {
          let n = r.currentDocument ? lJ(r.currentDocument) : oP.none(),
            i = r.updateTransforms
              ? r.updateTransforms.map((r) => l2(e, r))
              : [];
          if (r.update) {
            r.update.name;
            let s = lO(e, r.update.name),
              a = new sq({ mapValue: { fields: r.update.fields } });
            return r.updateMask
              ? new oK(s, a, uk(r.updateMask), n, i)
              : new oj(s, a, n, i);
          }
          return r.delete
            ? new oQ(lO(e, r.delete), n)
            : r.verify
              ? new oJ(lO(e, r.verify), n)
              : rt();
        }
        function lX(e, r) {
          return void 0 !== r.updateTime
            ? { updateTime: lk(e, r.updateTime) }
            : void 0 !== r.exists
              ? { exists: r.exists }
              : rt();
        }
        function lJ(e) {
          return void 0 !== e.updateTime
            ? oP.updateTime(l_(e.updateTime))
            : void 0 !== e.exists
              ? oP.exists(e.exists)
              : oP.none();
        }
        function lZ(e, r) {
          let n = e.updateTime ? l_(e.updateTime) : l_(r);
          return (
            n.isEqual(rC.min()) && (n = l_(r)),
            new oD(n, e.transformResults || [])
          );
        }
        function l0(e, r) {
          return e && e.length > 0
            ? (rr(void 0 !== r), e.map((e) => lZ(e, r)))
            : [];
        }
        function l1(e, r) {
          let n = r.transform;
          if (n instanceof ob)
            return {
              fieldPath: r.field.canonicalString(),
              setToServerValue: "REQUEST_TIME",
            };
          if (n instanceof ow)
            return {
              fieldPath: r.field.canonicalString(),
              appendMissingElements: { values: n.elements },
            };
          if (n instanceof oS)
            return {
              fieldPath: r.field.canonicalString(),
              removeAllFromArray: { values: n.elements },
            };
          if (n instanceof oC)
            return {
              fieldPath: r.field.canonicalString(),
              increment: n.operand,
            };
          throw rt();
        }
        function l2(e, r) {
          let n = null;
          return (
            "setToServerValue" in r
              ? (rr("REQUEST_TIME" === r.setToServerValue), (n = new ob()))
              : "appendMissingElements" in r
                ? (n = new ow(r.appendMissingElements.values || []))
                : "removeAllFromArray" in r
                  ? (n = new oS(r.removeAllFromArray.values || []))
                  : "increment" in r
                    ? (n = new oC(e, r.increment))
                    : rt(),
            new ok(r_.fromServerFormat(r.fieldPath), n)
          );
        }
        function l3(e, r) {
          return { documents: [lM(e, r.path)] };
        }
        function l4(e) {
          return rr(1 === e.documents.length), aj(aN(lL(e.documents[0])));
        }
        function l5(e, r) {
          let n;
          let i = { structuredQuery: {} },
            s = r.path;
          null !== r.collectionGroup
            ? ((n = s),
              (i.structuredQuery.from = [
                { collectionId: r.collectionGroup, allDescendants: !0 },
              ]))
            : ((n = s.popLast()),
              (i.structuredQuery.from = [{ collectionId: s.lastSegment() }])),
            (i.parent = lM(e, n));
          let a = ur(r.filters);
          a && (i.structuredQuery.where = a);
          let o = us(r.orderBy);
          o && (i.structuredQuery.orderBy = o);
          let l = lS(e, r.limit);
          return (
            null !== l && (i.structuredQuery.limit = l),
            r.startAt && (i.structuredQuery.startAt = uo(r.startAt)),
            r.endAt && (i.structuredQuery.endAt = ul(r.endAt)),
            { queryTarget: i, parent: n }
          );
        }
        function l6(e, r, n, i) {
          let { queryTarget: s, parent: a } = l5(e, r),
            o = {},
            l = [],
            u = 0;
          return (
            n.forEach((e) => {
              let r = i ? e.alias : `aggregate_${u++}`;
              (o[r] = e.alias),
                "count" === e.aggregateType
                  ? l.push({ alias: r, count: {} })
                  : "avg" === e.aggregateType
                    ? l.push({ alias: r, avg: { field: uy(e.fieldPath) } })
                    : "sum" === e.aggregateType &&
                      l.push({ alias: r, sum: { field: uy(e.fieldPath) } });
            }),
            {
              request: {
                structuredAggregationQuery: {
                  aggregations: l,
                  structuredQuery: s.structuredQuery,
                },
                parent: s.parent,
              },
              aliasMap: o,
              parent: a,
            }
          );
        }
        function l8(e) {
          let r = lL(e.parent),
            n = e.structuredQuery,
            i = n.from ? n.from.length : 0,
            s = null;
          if (i > 0) {
            rr(1 === i);
            let e = n.from[0];
            e.allDescendants
              ? (s = e.collectionId)
              : (r = r.child(e.collectionId));
          }
          let a = [];
          n.where && (a = un(n.where));
          let o = [];
          n.orderBy && (o = ua(n.orderBy));
          let l = null;
          n.limit && (l = lE(n.limit));
          let u = null;
          n.startAt && (u = uu(n.startAt));
          let c = null;
          return n.endAt && (c = uc(n.endAt)), aP(r, s, o, a, l, "F", u, c);
        }
        function l7(e) {
          return aj(l8(e));
        }
        function l9(e, r) {
          let n = ue(r.purpose);
          return null == n ? null : { "goog-listen-tags": n };
        }
        function ue(e) {
          switch (e) {
            case "TargetPurposeListen":
              return null;
            case "TargetPurposeExistenceFilterMismatch":
              return "existence-filter-mismatch";
            case "TargetPurposeExistenceFilterMismatchBloom":
              return "existence-filter-mismatch-bloom";
            case "TargetPurposeLimboResolution":
              return "limbo-document";
            default:
              return rt();
          }
        }
        function ut(e, r) {
          let n;
          let i = r.target;
          if (
            (((n = aT(i)
              ? { documents: l3(e, i) }
              : { query: l5(e, i).queryTarget }).targetId = r.targetId),
            r.resumeToken.approximateByteSize() > 0)
          ) {
            n.resumeToken = lA(e, r.resumeToken);
            let i = lS(e, r.expectedCount);
            null !== i && (n.expectedCount = i);
          } else if (r.snapshotVersion.compareTo(rC.min()) > 0) {
            n.readTime = lC(e, r.snapshotVersion.toTimestamp());
            let i = lS(e, r.expectedCount);
            null !== i && (n.expectedCount = i);
          }
          return n;
        }
        function ur(e) {
          if (0 !== e.length) return uT(s5.create(e, "and"));
        }
        function un(e) {
          let r = ui(e);
          return r instanceof s5 && s7(r) ? r.getFilters() : [r];
        }
        function ui(e) {
          return void 0 !== e.unaryFilter
            ? uC(e)
            : void 0 !== e.fieldFilter
              ? ux(e)
              : void 0 !== e.compositeFilter
                ? uA(e)
                : rt();
        }
        function us(e) {
          if (0 !== e.length) return e.map((e) => ub(e));
        }
        function ua(e) {
          return e.map((e) => uw(e));
        }
        function uo(e) {
          return { before: e.inclusive, values: e.position };
        }
        function ul(e) {
          return { before: !e.inclusive, values: e.position };
        }
        function uu(e) {
          let r = !!e.before;
          return new sG(e.values || [], r);
        }
        function uc(e) {
          let r = !e.before;
          return new sG(e.values || [], r);
        }
        function ud(e) {
          return ly[e];
        }
        function uh(e) {
          switch (e) {
            case "ASCENDING":
              return "asc";
            case "DESCENDING":
              return "desc";
            default:
              return;
          }
        }
        function uf(e) {
          return lv[e];
        }
        function up(e) {
          return lb[e];
        }
        function ug(e) {
          switch (e) {
            case "EQUAL":
              return "==";
            case "NOT_EQUAL":
              return "!=";
            case "GREATER_THAN":
              return ">";
            case "GREATER_THAN_OR_EQUAL":
              return ">=";
            case "LESS_THAN":
              return "<";
            case "LESS_THAN_OR_EQUAL":
              return "<=";
            case "ARRAY_CONTAINS":
              return "array-contains";
            case "IN":
              return "in";
            case "NOT_IN":
              return "not-in";
            case "ARRAY_CONTAINS_ANY":
              return "array-contains-any";
            default:
              return rt();
          }
        }
        function um(e) {
          switch (e) {
            case "AND":
              return "and";
            case "OR":
              return "or";
            default:
              return rt();
          }
        }
        function uy(e) {
          return { fieldPath: e.canonicalString() };
        }
        function uv(e) {
          return r_.fromServerFormat(e.fieldPath);
        }
        function ub(e) {
          return { field: uy(e.field), direction: ud(e.dir) };
        }
        function uw(e) {
          return new sZ(uv(e.field), uh(e.direction));
        }
        function uT(e) {
          return e instanceof s4 ? uE(e) : e instanceof s5 ? uS(e) : rt();
        }
        function uS(e) {
          let r = e.getFilters().map((e) => uT(e));
          return 1 === r.length
            ? r[0]
            : { compositeFilter: { op: up(e.op), filters: r } };
        }
        function uE(e) {
          if ("==" === e.op) {
            if (sO(e.value))
              return { unaryFilter: { field: uy(e.field), op: "IS_NAN" } };
            if (sN(e.value))
              return { unaryFilter: { field: uy(e.field), op: "IS_NULL" } };
          } else if ("!=" === e.op) {
            if (sO(e.value))
              return { unaryFilter: { field: uy(e.field), op: "IS_NOT_NAN" } };
            if (sN(e.value))
              return { unaryFilter: { field: uy(e.field), op: "IS_NOT_NULL" } };
          }
          return {
            fieldFilter: { field: uy(e.field), op: uf(e.op), value: e.value },
          };
        }
        function uC(e) {
          switch (e.unaryFilter.op) {
            case "IS_NAN":
              let r = uv(e.unaryFilter.field);
              return s4.create(r, "==", { doubleValue: NaN });
            case "IS_NULL":
              let n = uv(e.unaryFilter.field);
              return s4.create(n, "==", { nullValue: "NULL_VALUE" });
            case "IS_NOT_NAN":
              let i = uv(e.unaryFilter.field);
              return s4.create(i, "!=", { doubleValue: NaN });
            case "IS_NOT_NULL":
              let s = uv(e.unaryFilter.field);
              return s4.create(s, "!=", { nullValue: "NULL_VALUE" });
            default:
              return rt();
          }
        }
        function ux(e) {
          return s4.create(
            uv(e.fieldFilter.field),
            ug(e.fieldFilter.op),
            e.fieldFilter.value,
          );
        }
        function uA(e) {
          return s5.create(
            e.compositeFilter.filters.map((e) => ui(e)),
            um(e.compositeFilter.op),
          );
        }
        function uI(e) {
          let r = [];
          return (
            e.fields.forEach((e) => r.push(e.canonicalString())),
            { fieldPaths: r }
          );
        }
        function uk(e) {
          return new iP(
            (e.fieldPaths || []).map((e) => r_.fromServerFormat(e)),
          );
        }
        function u_(e) {
          return (
            e.length >= 4 && "projects" === e.get(0) && "databases" === e.get(2)
          );
        }
        class uR {
          constructor(
            e,
            r,
            n,
            i,
            s = rC.min(),
            a = rC.min(),
            o = iM.EMPTY_BYTE_STRING,
            l = null,
          ) {
            (this.target = e),
              (this.targetId = r),
              (this.purpose = n),
              (this.sequenceNumber = i),
              (this.snapshotVersion = s),
              (this.lastLimboFreeSnapshotVersion = a),
              (this.resumeToken = o),
              (this.expectedCount = l);
          }
          withSequenceNumber(e) {
            return new uR(
              this.target,
              this.targetId,
              this.purpose,
              e,
              this.snapshotVersion,
              this.lastLimboFreeSnapshotVersion,
              this.resumeToken,
              this.expectedCount,
            );
          }
          withResumeToken(e, r) {
            return new uR(
              this.target,
              this.targetId,
              this.purpose,
              this.sequenceNumber,
              r,
              this.lastLimboFreeSnapshotVersion,
              e,
              null,
            );
          }
          withExpectedCount(e) {
            return new uR(
              this.target,
              this.targetId,
              this.purpose,
              this.sequenceNumber,
              this.snapshotVersion,
              this.lastLimboFreeSnapshotVersion,
              this.resumeToken,
              e,
            );
          }
          withLastLimboFreeSnapshotVersion(e) {
            return new uR(
              this.target,
              this.targetId,
              this.purpose,
              this.sequenceNumber,
              this.snapshotVersion,
              e,
              this.resumeToken,
              this.expectedCount,
            );
          }
        }
        class uD {
          constructor(e) {
            this.remoteSerializer = e;
          }
        }
        function uP(e, r) {
          let n;
          if (r.document)
            n = lV(e.remoteSerializer, r.document, !!r.hasCommittedMutations);
          else if (r.noDocument) {
            let e = rR.fromSegments(r.noDocument.path),
              i = uB(r.noDocument.readTime);
            (n = s$.newNoDocument(e, i)),
              r.hasCommittedMutations && n.setHasCommittedMutations();
          } else {
            if (!r.unknownDocument) return rt();
            let e = rR.fromSegments(r.unknownDocument.path),
              i = uB(r.unknownDocument.version);
            n = s$.newUnknownDocument(e, i);
          }
          return r.readTime && n.setReadTime(uM(r.readTime)), n;
        }
        function uN(e, r) {
          let n = r.key,
            i = {
              prefixPath: n.getCollectionPath().popLast().toArray(),
              collectionGroup: n.collectionGroup,
              documentId: n.path.lastSegment(),
              readTime: uO(r.readTime),
              hasCommittedMutations: r.hasCommittedMutations,
            };
          if (r.isFoundDocument()) i.document = lz(e.remoteSerializer, r);
          else if (r.isNoDocument())
            i.noDocument = { path: n.path.toArray(), readTime: uL(r.version) };
          else {
            if (!r.isUnknownDocument()) return rt();
            i.unknownDocument = {
              path: n.path.toArray(),
              version: uL(r.version),
            };
          }
          return i;
        }
        function uO(e) {
          let r = e.toTimestamp();
          return [r.seconds, r.nanoseconds];
        }
        function uM(e) {
          let r = new rE(e[0], e[1]);
          return rC.fromTimestamp(r);
        }
        function uL(e) {
          let r = e.toTimestamp();
          return { seconds: r.seconds, nanoseconds: r.nanoseconds };
        }
        function uB(e) {
          let r = new rE(e.seconds, e.nanoseconds);
          return rC.fromTimestamp(r);
        }
        function uF(e, r, n) {
          let i = n.baseMutations.map((r) => lQ(e.remoteSerializer, r)),
            s = n.mutations.map((r) => lQ(e.remoteSerializer, r));
          return {
            userId: r,
            batchId: n.batchId,
            localWriteTimeMs: n.localWriteTime.toMillis(),
            baseMutations: i,
            mutations: s,
          };
        }
        function uU(e, r) {
          let n = (r.baseMutations || []).map((r) => lY(e.remoteSerializer, r));
          for (let e = 0; e < r.mutations.length - 1; ++e) {
            let n = r.mutations[e];
            if (
              e + 1 < r.mutations.length &&
              void 0 !== r.mutations[e + 1].transform
            ) {
              let i = r.mutations[e + 1];
              (n.updateTransforms = i.transform.fieldTransforms),
                r.mutations.splice(e + 1, 1),
                ++e;
            }
          }
          let i = r.mutations.map((r) => lY(e.remoteSerializer, r)),
            s = rE.fromMillis(r.localWriteTimeMs);
          return new oZ(r.batchId, s, n, i);
        }
        function uj(e) {
          let r;
          let n = uB(e.readTime),
            i =
              void 0 !== e.lastLimboFreeSnapshotVersion
                ? uB(e.lastLimboFreeSnapshotVersion)
                : rC.min();
          return new uR(
            (r = uV(e.query) ? l4(e.query) : l7(e.query)),
            e.targetId,
            "TargetPurposeListen",
            e.lastListenSequenceNumber,
            n,
            i,
            iM.fromBase64String(e.resumeToken),
          );
        }
        function uz(e, r) {
          let n;
          let i = uL(r.snapshotVersion),
            s = uL(r.lastLimboFreeSnapshotVersion);
          n = aT(r.target)
            ? l3(e.remoteSerializer, r.target)
            : l5(e.remoteSerializer, r.target).queryTarget;
          let a = r.resumeToken.toBase64();
          return {
            targetId: r.targetId,
            canonicalId: av(r.target),
            readTime: i,
            resumeToken: a,
            lastListenSequenceNumber: r.sequenceNumber,
            lastLimboFreeSnapshotVersion: s,
            query: n,
          };
        }
        function uV(e) {
          return void 0 !== e.documents;
        }
        function uK(e) {
          return {
            id: e.bundleId,
            createTime: uB(e.createTime),
            version: e.version,
          };
        }
        function uq(e) {
          return {
            bundleId: e.id,
            createTime: uL(l_(e.createTime)),
            version: e.version,
          };
        }
        function uH(e) {
          return {
            name: e.name,
            query: uW(e.bundledQuery),
            readTime: uB(e.readTime),
          };
        }
        function u$(e) {
          return {
            name: e.name,
            readTime: uL(l_(e.readTime)),
            bundledQuery: e.bundledQuery,
          };
        }
        function uW(e) {
          let r = l8({ parent: e.parent, structuredQuery: e.structuredQuery });
          return "LAST" === e.limitType ? aH(r, r.limit, "L") : r;
        }
        function uG(e) {
          return {
            name: e.name,
            query: uW(e.bundledQuery),
            readTime: l_(e.readTime),
          };
        }
        function uQ(e) {
          return { id: e.id, version: e.version, createTime: l_(e.createTime) };
        }
        function uY(e, r) {
          return new o1(
            r.largestBatchId,
            lY(e.remoteSerializer, r.overlayMutation),
          );
        }
        function uX(e, r, n) {
          let [i, s, a] = uJ(r, n.mutation.key);
          return {
            userId: r,
            collectionPath: s,
            documentId: a,
            collectionGroup: n.mutation.key.getCollectionGroup(),
            largestBatchId: n.largestBatchId,
            overlayMutation: lQ(e.remoteSerializer, n.mutation),
          };
        }
        function uJ(e, r) {
          let n = r.path.lastSegment();
          return [e, nu(r.path.popLast()), n];
        }
        function uZ(e) {
          return {
            indexId: e.indexId,
            collectionGroup: e.collectionGroup,
            fields: e.fields.map((e) => [
              e.fieldPath.canonicalString(),
              e.kind,
            ]),
          };
        }
        function u0(e, r) {
          let n = r
              ? new rz(
                  r.sequenceNumber,
                  new rq(
                    uB(r.readTime),
                    new rR(nh(r.documentKey)),
                    r.largestBatchId,
                  ),
                )
              : rz.empty(),
            i = e.fields.map(([e, r]) => new rU(r_.fromServerFormat(e), r));
          return new rN(e.indexId, e.collectionGroup, i, n);
        }
        function u1(e, r, n, i) {
          return {
            indexId: e,
            uid: r,
            sequenceNumber: n,
            readTime: uL(i.readTime),
            documentKey: nu(i.documentKey.path),
            largestBatchId: i.largestBatchId,
          };
        }
        class u2 {
          getBundleMetadata(e, r) {
            return u3(e)
              .get(r)
              .next((e) => {
                if (e) return uK(e);
              });
          }
          saveBundleMetadata(e, r) {
            return u3(e).put(uq(r));
          }
          getNamedQuery(e, r) {
            return u4(e)
              .get(r)
              .next((e) => {
                if (e) return uH(e);
              });
          }
          saveNamedQuery(e, r) {
            return u4(e).put(u$(r));
          }
        }
        function u3(e) {
          return iw(e, nQ);
        }
        function u4(e) {
          return iw(e, nX);
        }
        class u5 {
          constructor(e, r) {
            (this.serializer = e), (this.userId = r);
          }
          static forUser(e, r) {
            return new u5(e, r.uid || "");
          }
          getOverlay(e, r) {
            return u6(e)
              .get(uJ(this.userId, r))
              .next((e) => (e ? uY(this.serializer, e) : null));
          }
          getOverlays(e, r) {
            let n = or();
            return rQ
              .forEach(r, (r) =>
                this.getOverlay(e, r).next((e) => {
                  null !== e && n.set(r, e);
                }),
              )
              .next(() => n);
          }
          saveOverlays(e, r, n) {
            let i = [];
            return (
              n.forEach((n, s) => {
                let a = new o1(r, s);
                i.push(this.saveOverlay(e, a));
              }),
              rQ.waitFor(i)
            );
          }
          removeOverlaysForBatchId(e, r, n) {
            let i = new Set();
            r.forEach((e) => i.add(nu(e.getCollectionPath())));
            let s = [];
            return (
              i.forEach((r) => {
                let i = IDBKeyRange.bound(
                  [this.userId, r, n],
                  [this.userId, r, n + 1],
                  !1,
                  !0,
                );
                s.push(u6(e).deleteAll(ii, i));
              }),
              rQ.waitFor(s)
            );
          }
          getOverlaysForCollection(e, r, n) {
            let i = or(),
              s = nu(r),
              a = IDBKeyRange.bound(
                [this.userId, s, n],
                [this.userId, s, Number.POSITIVE_INFINITY],
                !0,
              );
            return u6(e)
              .loadAll(ii, a)
              .next((e) => {
                for (let r of e) {
                  let e = uY(this.serializer, r);
                  i.set(e.getKey(), e);
                }
                return i;
              });
          }
          getOverlaysForCollectionGroup(e, r, n, i) {
            let s;
            let a = or(),
              o = IDBKeyRange.bound(
                [this.userId, r, n],
                [this.userId, r, Number.POSITIVE_INFINITY],
                !0,
              );
            return u6(e)
              .iterate({ index: ia, range: o }, (e, r, n) => {
                let o = uY(this.serializer, r);
                a.size() < i || o.largestBatchId === s
                  ? (a.set(o.getKey(), o), (s = o.largestBatchId))
                  : n.done();
              })
              .next(() => a);
          }
          saveOverlay(e, r) {
            return u6(e).put(uX(this.serializer, this.userId, r));
          }
        }
        function u6(e) {
          return iw(e, it);
        }
        class u8 {
          globalsStore(e) {
            return iw(e, il);
          }
          getSessionToken(e) {
            return this.globalsStore(e)
              .get("sessionToken")
              .next((e) => {
                let r = null == e ? void 0 : e.value;
                return r ? iM.fromUint8Array(r) : iM.EMPTY_BYTE_STRING;
              });
          }
          setSessionToken(e, r) {
            return this.globalsStore(e).put({
              name: "sessionToken",
              value: r.toUint8Array(),
            });
          }
        }
        let u7 = 5,
          u9 = 10,
          ce = 13,
          ct = 15,
          cr = 20,
          cn = 25,
          ci = 30,
          cs = 37,
          ca = 45,
          co = 50,
          cl = 53,
          cu = 55,
          cc = 60,
          cd = 2;
        class ch {
          constructor() {}
          writeIndexValue(e, r) {
            this.writeIndexValueAux(e, r), r.writeInfinity();
          }
          writeIndexValueAux(e, r) {
            if ("nullValue" in e) this.writeValueTypeLabel(r, u7);
            else if ("booleanValue" in e)
              this.writeValueTypeLabel(r, u9),
                r.writeNumber(e.booleanValue ? 1 : 0);
            else if ("integerValue" in e)
              this.writeValueTypeLabel(r, ct),
                r.writeNumber(ij(e.integerValue));
            else if ("doubleValue" in e) {
              let n = ij(e.doubleValue);
              isNaN(n)
                ? this.writeValueTypeLabel(r, ce)
                : (this.writeValueTypeLabel(r, ct),
                  i2(n) ? r.writeNumber(0) : r.writeNumber(n));
            } else if ("timestampValue" in e) {
              let n = e.timestampValue;
              this.writeValueTypeLabel(r, cr),
                "string" == typeof n && (n = iU(n)),
                r.writeString(`${n.seconds || ""}`),
                r.writeNumber(n.nanos || 0);
            } else if ("stringValue" in e)
              this.writeIndexString(e.stringValue, r),
                this.writeTruncationMarker(r);
            else if ("bytesValue" in e)
              this.writeValueTypeLabel(r, ci),
                r.writeBytes(iz(e.bytesValue)),
                this.writeTruncationMarker(r);
            else if ("referenceValue" in e)
              this.writeIndexEntityRef(e.referenceValue, r);
            else if ("geoPointValue" in e) {
              let n = e.geoPointValue;
              this.writeValueTypeLabel(r, ca),
                r.writeNumber(n.latitude || 0),
                r.writeNumber(n.longitude || 0);
            } else
              "mapValue" in e
                ? sF(e)
                  ? this.writeValueTypeLabel(r, Number.MAX_SAFE_INTEGER)
                  : sL(e)
                    ? this.writeIndexVector(e.mapValue, r)
                    : (this.writeIndexMap(e.mapValue, r),
                      this.writeTruncationMarker(r))
                : "arrayValue" in e
                  ? (this.writeIndexArray(e.arrayValue, r),
                    this.writeTruncationMarker(r))
                  : rt();
          }
          writeIndexString(e, r) {
            this.writeValueTypeLabel(r, cn),
              this.writeUnlabeledIndexString(e, r);
          }
          writeUnlabeledIndexString(e, r) {
            r.writeString(e);
          }
          writeIndexMap(e, r) {
            let n = e.fields || {};
            for (let e of (this.writeValueTypeLabel(r, cu), Object.keys(n)))
              this.writeIndexString(e, r), this.writeIndexValueAux(n[e], r);
          }
          writeIndexVector(e, r) {
            var n, i;
            let s = e.fields || {};
            this.writeValueTypeLabel(r, cl);
            let a = i7,
              o =
                (null ===
                  (i =
                    null === (n = s[a].arrayValue) || void 0 === n
                      ? void 0
                      : n.values) || void 0 === i
                  ? void 0
                  : i.length) || 0;
            this.writeValueTypeLabel(r, ct),
              r.writeNumber(ij(o)),
              this.writeIndexString(a, r),
              this.writeIndexValueAux(s[a], r);
          }
          writeIndexArray(e, r) {
            let n = e.values || [];
            for (let e of (this.writeValueTypeLabel(r, co), n))
              this.writeIndexValueAux(e, r);
          }
          writeIndexEntityRef(e, r) {
            this.writeValueTypeLabel(r, cs),
              rR.fromName(e).path.forEach((e) => {
                this.writeValueTypeLabel(r, cc),
                  this.writeUnlabeledIndexString(e, r);
              });
          }
          writeValueTypeLabel(e, r) {
            e.writeNumber(r);
          }
          writeTruncationMarker(e) {
            e.writeNumber(cd);
          }
        }
        ch.INSTANCE = new ch();
        let cf = "\uD800",
          cp = "\uDBFF",
          cg = 0,
          cm = 255,
          cy = 1,
          cv = 255,
          cb = 255,
          cw = 0,
          cT = 64,
          cS = 8,
          cE = 1024;
        function cC(e) {
          let r = new DataView(new ArrayBuffer(8));
          return r.setFloat64(0, e, !1), new Uint8Array(r.buffer);
        }
        function cx(e) {
          if (0 === e) return 8;
          let r = 0;
          return (
            e >> 4 == 0 && ((r += 4), (e <<= 4)),
            e >> 6 == 0 && ((r += 2), (e <<= 2)),
            e >> 7 == 0 && (r += 1),
            r
          );
        }
        function cA(e) {
          let r = 0;
          for (let n = 0; n < 8; ++n) {
            let i = cx(255 & e[n]);
            if (((r += i), 8 !== i)) break;
          }
          return r;
        }
        function cI(e) {
          return Math.ceil((cT - cA(e)) / cS);
        }
        class ck {
          constructor() {
            (this.buffer = new Uint8Array(cE)), (this.position = 0);
          }
          writeBytesAscending(e) {
            let r = e[Symbol.iterator](),
              n = r.next();
            for (; !n.done; ) this.writeByteAscending(n.value), (n = r.next());
            this.writeSeparatorAscending();
          }
          writeBytesDescending(e) {
            let r = e[Symbol.iterator](),
              n = r.next();
            for (; !n.done; ) this.writeByteDescending(n.value), (n = r.next());
            this.writeSeparatorDescending();
          }
          writeUtf8Ascending(e) {
            for (let r of e) {
              let e = r.charCodeAt(0);
              if (e < 128) this.writeByteAscending(e);
              else if (e < 2048)
                this.writeByteAscending(960 | (e >>> 6)),
                  this.writeByteAscending(128 | (63 & e));
              else if (r < cf || cp < r)
                this.writeByteAscending(480 | (e >>> 12)),
                  this.writeByteAscending(128 | (63 & (e >>> 6))),
                  this.writeByteAscending(128 | (63 & e));
              else {
                let e = r.codePointAt(0);
                this.writeByteAscending(240 | (e >>> 18)),
                  this.writeByteAscending(128 | (63 & (e >>> 12))),
                  this.writeByteAscending(128 | (63 & (e >>> 6))),
                  this.writeByteAscending(128 | (63 & e));
              }
            }
            this.writeSeparatorAscending();
          }
          writeUtf8Descending(e) {
            for (let r of e) {
              let e = r.charCodeAt(0);
              if (e < 128) this.writeByteDescending(e);
              else if (e < 2048)
                this.writeByteDescending(960 | (e >>> 6)),
                  this.writeByteDescending(128 | (63 & e));
              else if (r < cf || cp < r)
                this.writeByteDescending(480 | (e >>> 12)),
                  this.writeByteDescending(128 | (63 & (e >>> 6))),
                  this.writeByteDescending(128 | (63 & e));
              else {
                let e = r.codePointAt(0);
                this.writeByteDescending(240 | (e >>> 18)),
                  this.writeByteDescending(128 | (63 & (e >>> 12))),
                  this.writeByteDescending(128 | (63 & (e >>> 6))),
                  this.writeByteDescending(128 | (63 & e));
              }
            }
            this.writeSeparatorDescending();
          }
          writeNumberAscending(e) {
            let r = this.toOrderedBits(e),
              n = cI(r);
            this.ensureAvailable(1 + n),
              (this.buffer[this.position++] = 255 & n);
            for (let e = r.length - n; e < r.length; ++e)
              this.buffer[this.position++] = 255 & r[e];
          }
          writeNumberDescending(e) {
            let r = this.toOrderedBits(e),
              n = cI(r);
            this.ensureAvailable(1 + n),
              (this.buffer[this.position++] = ~(255 & n));
            for (let e = r.length - n; e < r.length; ++e)
              this.buffer[this.position++] = ~(255 & r[e]);
          }
          writeInfinityAscending() {
            this.writeEscapedByteAscending(cv),
              this.writeEscapedByteAscending(cb);
          }
          writeInfinityDescending() {
            this.writeEscapedByteDescending(cv),
              this.writeEscapedByteDescending(cb);
          }
          reset() {
            this.position = 0;
          }
          seed(e) {
            this.ensureAvailable(e.length),
              this.buffer.set(e, this.position),
              (this.position += e.length);
          }
          encodedBytes() {
            return this.buffer.slice(0, this.position);
          }
          toOrderedBits(e) {
            let r = cC(e),
              n = (128 & r[0]) != 0;
            r[0] ^= n ? 255 : 128;
            for (let e = 1; e < r.length; ++e) r[e] ^= n ? 255 : 0;
            return r;
          }
          writeByteAscending(e) {
            let r = 255 & e;
            r === cg
              ? (this.writeEscapedByteAscending(cg),
                this.writeEscapedByteAscending(cm))
              : r === cv
                ? (this.writeEscapedByteAscending(cv),
                  this.writeEscapedByteAscending(cw))
                : this.writeEscapedByteAscending(r);
          }
          writeByteDescending(e) {
            let r = 255 & e;
            r === cg
              ? (this.writeEscapedByteDescending(cg),
                this.writeEscapedByteDescending(cm))
              : r === cv
                ? (this.writeEscapedByteDescending(cv),
                  this.writeEscapedByteDescending(cw))
                : this.writeEscapedByteDescending(e);
          }
          writeSeparatorAscending() {
            this.writeEscapedByteAscending(cg),
              this.writeEscapedByteAscending(cy);
          }
          writeSeparatorDescending() {
            this.writeEscapedByteDescending(cg),
              this.writeEscapedByteDescending(cy);
          }
          writeEscapedByteAscending(e) {
            this.ensureAvailable(1), (this.buffer[this.position++] = e);
          }
          writeEscapedByteDescending(e) {
            this.ensureAvailable(1), (this.buffer[this.position++] = ~e);
          }
          ensureAvailable(e) {
            let r = e + this.position;
            if (r <= this.buffer.length) return;
            let n = 2 * this.buffer.length;
            n < r && (n = r);
            let i = new Uint8Array(n);
            i.set(this.buffer), (this.buffer = i);
          }
        }
        class c_ {
          constructor(e) {
            this.orderedCode = e;
          }
          writeBytes(e) {
            this.orderedCode.writeBytesAscending(e);
          }
          writeString(e) {
            this.orderedCode.writeUtf8Ascending(e);
          }
          writeNumber(e) {
            this.orderedCode.writeNumberAscending(e);
          }
          writeInfinity() {
            this.orderedCode.writeInfinityAscending();
          }
        }
        class cR {
          constructor(e) {
            this.orderedCode = e;
          }
          writeBytes(e) {
            this.orderedCode.writeBytesDescending(e);
          }
          writeString(e) {
            this.orderedCode.writeUtf8Descending(e);
          }
          writeNumber(e) {
            this.orderedCode.writeNumberDescending(e);
          }
          writeInfinity() {
            this.orderedCode.writeInfinityDescending();
          }
        }
        class cD {
          constructor() {
            (this.orderedCode = new ck()),
              (this.ascending = new c_(this.orderedCode)),
              (this.descending = new cR(this.orderedCode));
          }
          seed(e) {
            this.orderedCode.seed(e);
          }
          forKind(e) {
            return 0 === e ? this.ascending : this.descending;
          }
          encodedBytes() {
            return this.orderedCode.encodedBytes();
          }
          reset() {
            this.orderedCode.reset();
          }
        }
        class cP {
          constructor(e, r, n, i) {
            (this.indexId = e),
              (this.documentKey = r),
              (this.arrayValue = n),
              (this.directionalValue = i);
          }
          successor() {
            let e = this.directionalValue.length,
              r = 0 === e || 255 === this.directionalValue[e - 1] ? e + 1 : e,
              n = new Uint8Array(r);
            return (
              n.set(this.directionalValue, 0),
              r !== e
                ? n.set([0], this.directionalValue.length)
                : ++n[n.length - 1],
              new cP(this.indexId, this.documentKey, this.arrayValue, n)
            );
          }
        }
        function cN(e, r) {
          let n = e.indexId - r.indexId;
          return 0 !== n ||
            0 !== (n = cO(e.arrayValue, r.arrayValue)) ||
            0 !== (n = cO(e.directionalValue, r.directionalValue))
            ? n
            : rR.comparator(e.documentKey, r.documentKey);
        }
        function cO(e, r) {
          for (let n = 0; n < e.length && n < r.length; ++n) {
            let i = e[n] - r[n];
            if (0 !== i) return i;
          }
          return e.length - r.length;
        }
        class cM {
          constructor(e) {
            for (let r of ((this.inequalityFilters = new ik((e, r) =>
              r_.comparator(e.field, r.field),
            )),
            (this.collectionId =
              null != e.collectionGroup
                ? e.collectionGroup
                : e.path.lastSegment()),
            (this.orderBys = e.orderBy),
            (this.equalityFilters = []),
            e.filters)) {
              let e = r;
              e.isInequality()
                ? (this.inequalityFilters = this.inequalityFilters.add(e))
                : this.equalityFilters.push(e);
            }
          }
          get hasMultipleInequality() {
            return this.inequalityFilters.size > 1;
          }
          servedByIndex(e) {
            if (
              (rr(e.collectionGroup === this.collectionId),
              this.hasMultipleInequality)
            )
              return !1;
            let r = rO(e);
            if (void 0 !== r && !this.hasMatchingEqualityFilter(r)) return !1;
            let n = rM(e),
              i = new Set(),
              s = 0,
              a = 0;
            for (; s < n.length; ++s)
              if (this.hasMatchingEqualityFilter(n[s]))
                i = i.add(n[s].fieldPath.canonicalString());
              else break;
            if (s === n.length) return !0;
            if (this.inequalityFilters.size > 0) {
              let e = this.inequalityFilters.getIterator().getNext();
              if (!i.has(e.field.canonicalString())) {
                let r = n[s];
                if (
                  !this.matchesFilter(e, r) ||
                  !this.matchesOrderBy(this.orderBys[a++], r)
                )
                  return !1;
              }
              ++s;
            }
            for (; s < n.length; ++s) {
              let e = n[s];
              if (
                a >= this.orderBys.length ||
                !this.matchesOrderBy(this.orderBys[a++], e)
              )
                return !1;
            }
            return !0;
          }
          buildTargetIndex() {
            if (this.hasMultipleInequality) return null;
            let e = new ik(r_.comparator),
              r = [];
            for (let n of this.equalityFilters)
              if (!n.field.isKeyField()) {
                if ("array-contains" === n.op || "array-contains-any" === n.op)
                  r.push(new rU(n.field, 2));
                else {
                  if (e.has(n.field)) continue;
                  (e = e.add(n.field)), r.push(new rU(n.field, 0));
                }
              }
            for (let n of this.orderBys)
              n.field.isKeyField() ||
                e.has(n.field) ||
                ((e = e.add(n.field)),
                r.push(new rU(n.field, "asc" === n.dir ? 0 : 1)));
            return new rN(rN.UNKNOWN_ID, this.collectionId, r, rz.empty());
          }
          hasMatchingEqualityFilter(e) {
            for (let r of this.equalityFilters)
              if (this.matchesFilter(r, e)) return !0;
            return !1;
          }
          matchesFilter(e, r) {
            if (void 0 === e || !e.field.isEqual(r.fieldPath)) return !1;
            let n = "array-contains" === e.op || "array-contains-any" === e.op;
            return (2 === r.kind) === n;
          }
          matchesOrderBy(e, r) {
            return (
              !!e.field.isEqual(r.fieldPath) &&
              ((0 === r.kind && "asc" === e.dir) ||
                (1 === r.kind && "desc" === e.dir))
            );
          }
        }
        function cL(e) {
          var r, n;
          if ((rr(e instanceof s4 || e instanceof s5), e instanceof s4)) {
            if (!(e instanceof af)) return e;
            {
              let i =
                (null ===
                  (n =
                    null === (r = e.value.arrayValue) || void 0 === r
                      ? void 0
                      : r.values) || void 0 === n
                  ? void 0
                  : n.map((r) => s4.create(e.field, "==", r))) || [];
              return s5.create(i, "or");
            }
          }
          let i = e.filters.map((e) => cL(e));
          return s5.create(i, e.op);
        }
        function cB(e) {
          if (0 === e.getFilters().length) return [];
          let r = cV(cL(e));
          return (rr(cj(r)), cF(r) || cU(r)) ? [r] : r.getFilters();
        }
        function cF(e) {
          return e instanceof s4;
        }
        function cU(e) {
          return e instanceof s5 && s7(e);
        }
        function cj(e) {
          return cF(e) || cU(e) || cz(e);
        }
        function cz(e) {
          if (e instanceof s5 && s8(e)) {
            for (let r of e.getFilters()) if (!cF(r) && !cU(r)) return !1;
            return !0;
          }
          return !1;
        }
        function cV(e) {
          if ((rr(e instanceof s4 || e instanceof s5), e instanceof s4))
            return e;
          if (1 === e.filters.length) return cV(e.filters[0]);
          let r = e.filters.map((e) => cV(e)),
            n = s5.create(r, e.op);
          return cj((n = cW(n)))
            ? n
            : (rr(n instanceof s5),
              rr(s6(n)),
              rr(n.filters.length > 1),
              n.filters.reduce((e, r) => cK(e, r)));
        }
        function cK(e, r) {
          let n;
          return (
            rr(e instanceof s4 || e instanceof s5),
            rr(r instanceof s4 || r instanceof s5),
            cW(
              (n =
                e instanceof s4
                  ? r instanceof s4
                    ? cq(e, r)
                    : c$(e, r)
                  : r instanceof s4
                    ? c$(r, e)
                    : cH(e, r)),
            )
          );
        }
        function cq(e, r) {
          return s5.create([e, r], "and");
        }
        function cH(e, r) {
          if (
            (rr(e.filters.length > 0 && r.filters.length > 0), s6(e) && s6(r))
          )
            return ai(e, r.getFilters());
          let n = s8(e) ? e : r,
            i = s8(e) ? r : e,
            s = n.filters.map((e) => cK(e, i));
          return s5.create(s, "or");
        }
        function c$(e, r) {
          if (s6(r)) return ai(r, e.getFilters());
          {
            let n = r.filters.map((r) => cK(e, r));
            return s5.create(n, "or");
          }
        }
        function cW(e) {
          if ((rr(e instanceof s4 || e instanceof s5), e instanceof s4))
            return e;
          let r = e.getFilters();
          if (1 === r.length) return cW(r[0]);
          if (s9(e)) return e;
          let n = r.map((e) => cW(e)),
            i = [];
          return (n.forEach((r) => {
            r instanceof s4
              ? i.push(r)
              : r instanceof s5 &&
                (r.op === e.op ? i.push(...r.filters) : i.push(r));
          }),
          1 === i.length)
            ? i[0]
            : s5.create(i, e.op);
        }
        class cG {
          constructor() {
            this.collectionParentIndex = new cQ();
          }
          addToCollectionParentIndex(e, r) {
            return this.collectionParentIndex.add(r), rQ.resolve();
          }
          getCollectionParents(e, r) {
            return rQ.resolve(this.collectionParentIndex.getEntries(r));
          }
          addFieldIndex(e, r) {
            return rQ.resolve();
          }
          deleteFieldIndex(e, r) {
            return rQ.resolve();
          }
          deleteAllFieldIndexes(e) {
            return rQ.resolve();
          }
          createTargetIndexes(e, r) {
            return rQ.resolve();
          }
          getDocumentsMatchingTarget(e, r) {
            return rQ.resolve(null);
          }
          getIndexType(e, r) {
            return rQ.resolve(0);
          }
          getFieldIndexes(e, r) {
            return rQ.resolve([]);
          }
          getNextCollectionGroupToUpdate(e) {
            return rQ.resolve(null);
          }
          getMinOffset(e, r) {
            return rQ.resolve(rq.min());
          }
          getMinOffsetFromCollectionGroup(e, r) {
            return rQ.resolve(rq.min());
          }
          updateCollectionGroup(e, r, n) {
            return rQ.resolve();
          }
          updateIndexEntries(e, r) {
            return rQ.resolve();
          }
        }
        class cQ {
          constructor() {
            this.index = {};
          }
          add(e) {
            let r = e.lastSegment(),
              n = e.popLast(),
              i = this.index[r] || new ik(rI.comparator),
              s = !i.has(n);
            return (this.index[r] = i.add(n)), s;
          }
          has(e) {
            let r = e.lastSegment(),
              n = e.popLast(),
              i = this.index[r];
            return i && i.has(n);
          }
          getEntries(e) {
            return (this.index[e] || new ik(rI.comparator)).toArray();
          }
        }
        let cY = "IndexedDbIndexManager",
          cX = new Uint8Array(0);
        class cJ {
          constructor(e, r) {
            (this.databaseId = r),
              (this.collectionParentsCache = new cQ()),
              (this.targetToDnfSubTargets = new a5(
                (e) => av(e),
                (e, r) => aw(e, r),
              )),
              (this.uid = e.uid || "");
          }
          addToCollectionParentIndex(e, r) {
            if (!this.collectionParentsCache.has(r)) {
              let n = r.lastSegment(),
                i = r.popLast();
              e.addOnCommittedListener(() => {
                this.collectionParentsCache.add(r);
              });
              let s = { collectionId: n, parent: nu(i) };
              return cZ(e).put(s);
            }
            return rQ.resolve();
          }
          getCollectionParents(e, r) {
            let n = [],
              i = IDBKeyRange.bound([r, ""], [rw(r), ""], !1, !0);
            return cZ(e)
              .loadAll(i)
              .next((e) => {
                for (let i of e) {
                  if (i.collectionId !== r) break;
                  n.push(nh(i.parent));
                }
                return n;
              });
          }
          addFieldIndex(e, r) {
            let n = c1(e),
              i = uZ(r);
            delete i.indexId;
            let s = n.add(i);
            if (!r.indexState) return s.next();
            {
              let n = c2(e);
              return s.next((e) => {
                n.put(
                  u1(
                    e,
                    this.uid,
                    r.indexState.sequenceNumber,
                    r.indexState.offset,
                  ),
                );
              });
            }
          }
          deleteFieldIndex(e, r) {
            let n = c1(e),
              i = c2(e),
              s = c0(e);
            return n
              .delete(r.indexId)
              .next(() =>
                i.delete(
                  IDBKeyRange.bound([r.indexId], [r.indexId + 1], !1, !0),
                ),
              )
              .next(() =>
                s.delete(
                  IDBKeyRange.bound([r.indexId], [r.indexId + 1], !1, !0),
                ),
              );
          }
          deleteAllFieldIndexes(e) {
            let r = c1(e),
              n = c0(e),
              i = c2(e);
            return r
              .deleteAll()
              .next(() => n.deleteAll())
              .next(() => i.deleteAll());
          }
          createTargetIndexes(e, r) {
            return rQ.forEach(this.getSubTargets(r), (r) =>
              this.getIndexType(e, r).next((n) => {
                if (0 === n || 1 === n) {
                  let n = new cM(r).buildTargetIndex();
                  if (null != n) return this.addFieldIndex(e, n);
                }
              }),
            );
          }
          getDocumentsMatchingTarget(e, r) {
            let n = c0(e),
              i = !0,
              s = new Map();
            return rQ
              .forEach(this.getSubTargets(r), (r) =>
                this.getFieldIndex(e, r).next((e) => {
                  i && (i = !!e), s.set(r, e);
                }),
              )
              .next(() => {
                if (!i) return rQ.resolve(null);
                {
                  let e = ol(),
                    i = [];
                  return rQ
                    .forEach(s, (s, a) => {
                      t8(cY, `Using index ${rF(s)} to execute ${av(r)}`);
                      let o = aE(a, s),
                        l = aC(a, s),
                        u = ax(a, s),
                        c = aA(a, s),
                        d = this.encodeBound(s, a, u),
                        h = this.encodeBound(s, a, c),
                        f = this.encodeValues(s, a, l),
                        p = this.generateIndexRanges(
                          s.indexId,
                          o,
                          d,
                          u.inclusive,
                          h,
                          c.inclusive,
                          f,
                        );
                      return rQ.forEach(p, (s) =>
                        n.loadFirst(s, r.limit).next((r) => {
                          r.forEach((r) => {
                            let n = rR.fromSegments(r.documentKey);
                            e.has(n) || ((e = e.add(n)), i.push(n));
                          });
                        }),
                      );
                    })
                    .next(() => i);
                }
              });
          }
          getSubTargets(e) {
            let r = this.targetToDnfSubTargets.get(e);
            return (
              r ||
                ((r =
                  0 === e.filters.length
                    ? [e]
                    : cB(s5.create(e.filters, "and")).map((r) =>
                        ay(
                          e.path,
                          e.collectionGroup,
                          e.orderBy,
                          r.getFilters(),
                          e.limit,
                          e.startAt,
                          e.endAt,
                        ),
                      )),
                this.targetToDnfSubTargets.set(e, r)),
              r
            );
          }
          generateIndexRanges(e, r, n, i, s, a, o) {
            let l = (null != r ? r.length : 1) * Math.max(n.length, s.length),
              u = l / (null != r ? r.length : 1),
              c = [];
            for (let d = 0; d < l; ++d) {
              let l = r ? this.encodeSingleElement(r[d / u]) : cX,
                h = this.generateLowerBound(e, l, n[d % u], i),
                f = this.generateUpperBound(e, l, s[d % u], a),
                p = o.map((r) => this.generateLowerBound(e, l, r, !0));
              c.push(...this.createRange(h, f, p));
            }
            return c;
          }
          generateLowerBound(e, r, n, i) {
            let s = new cP(e, rR.empty(), r, n);
            return i ? s : s.successor();
          }
          generateUpperBound(e, r, n, i) {
            let s = new cP(e, rR.empty(), r, n);
            return i ? s.successor() : s;
          }
          getFieldIndex(e, r) {
            let n = new cM(r),
              i =
                null != r.collectionGroup
                  ? r.collectionGroup
                  : r.path.lastSegment();
            return this.getFieldIndexes(e, i).next((e) => {
              let r = null;
              for (let i of e)
                n.servedByIndex(i) &&
                  (!r || i.fields.length > r.fields.length) &&
                  (r = i);
              return r;
            });
          }
          getIndexType(e, r) {
            let n = 2,
              i = this.getSubTargets(r);
            return rQ
              .forEach(i, (r) =>
                this.getFieldIndex(e, r).next((e) => {
                  e ? 0 !== n && e.fields.length < a_(r) && (n = 1) : (n = 0);
                }),
              )
              .next(() => (aR(r) && i.length > 1 && 2 === n ? 1 : n));
          }
          encodeDirectionalElements(e, r) {
            let n = new cD();
            for (let i of rM(e)) {
              let e = r.data.field(i.fieldPath);
              if (null == e) return null;
              let s = n.forKind(i.kind);
              ch.INSTANCE.writeIndexValue(e, s);
            }
            return n.encodedBytes();
          }
          encodeSingleElement(e) {
            let r = new cD();
            return (
              ch.INSTANCE.writeIndexValue(e, r.forKind(0)), r.encodedBytes()
            );
          }
          encodeDirectionalKey(e, r) {
            let n = new cD();
            return (
              ch.INSTANCE.writeIndexValue(
                sk(this.databaseId, r),
                n.forKind(rL(e)),
              ),
              n.encodedBytes()
            );
          }
          encodeValues(e, r, n) {
            if (null === n) return [];
            let i = [];
            i.push(new cD());
            let s = 0;
            for (let a of rM(e)) {
              let e = n[s++];
              for (let n of i)
                if (this.isInFilter(r, a.fieldPath) && sP(e))
                  i = this.expandIndexValues(i, a, e);
                else {
                  let r = n.forKind(a.kind);
                  ch.INSTANCE.writeIndexValue(e, r);
                }
            }
            return this.getEncodedBytes(i);
          }
          encodeBound(e, r, n) {
            return this.encodeValues(e, r, n.position);
          }
          getEncodedBytes(e) {
            let r = [];
            for (let n = 0; n < e.length; ++n) r[n] = e[n].encodedBytes();
            return r;
          }
          expandIndexValues(e, r, n) {
            let i = [...e],
              s = [];
            for (let e of n.arrayValue.values || [])
              for (let n of i) {
                let i = new cD();
                i.seed(n.encodedBytes()),
                  ch.INSTANCE.writeIndexValue(e, i.forKind(r.kind)),
                  s.push(i);
              }
            return s;
          }
          isInFilter(e, r) {
            return !!e.filters.find(
              (e) =>
                e instanceof s4 &&
                e.field.isEqual(r) &&
                ("in" === e.op || "not-in" === e.op),
            );
          }
          getFieldIndexes(e, r) {
            let n = c1(e),
              i = c2(e);
            return (
              r ? n.loadAll(n1, IDBKeyRange.bound(r, r)) : n.loadAll()
            ).next((e) => {
              let r = [];
              return rQ
                .forEach(e, (e) =>
                  i.get([e.indexId, this.uid]).next((n) => {
                    r.push(u0(e, n));
                  }),
                )
                .next(() => r);
            });
          }
          getNextCollectionGroupToUpdate(e) {
            return this.getFieldIndexes(e).next((e) =>
              0 === e.length
                ? null
                : (e.sort((e, r) => {
                    let n =
                      e.indexState.sequenceNumber - r.indexState.sequenceNumber;
                    return 0 !== n
                      ? n
                      : rv(e.collectionGroup, r.collectionGroup);
                  }),
                  e[0].collectionGroup),
            );
          }
          updateCollectionGroup(e, r, n) {
            let i = c1(e),
              s = c2(e);
            return this.getNextSequenceNumber(e).next((e) =>
              i
                .loadAll(n1, IDBKeyRange.bound(r, r))
                .next((r) =>
                  rQ.forEach(r, (r) => s.put(u1(r.indexId, this.uid, e, n))),
                ),
            );
          }
          updateIndexEntries(e, r) {
            let n = new Map();
            return rQ.forEach(r, (r, i) => {
              let s = n.get(r.collectionGroup);
              return (
                s ? rQ.resolve(s) : this.getFieldIndexes(e, r.collectionGroup)
              ).next(
                (s) => (
                  n.set(r.collectionGroup, s),
                  rQ.forEach(s, (n) =>
                    this.getExistingIndexEntries(e, r, n).next((r) => {
                      let s = this.computeIndexEntries(i, n);
                      return r.isEqual(s)
                        ? rQ.resolve()
                        : this.updateEntries(e, i, n, r, s);
                    }),
                  )
                ),
              );
            });
          }
          addIndexEntry(e, r, n, i) {
            return c0(e).put({
              indexId: i.indexId,
              uid: this.uid,
              arrayValue: i.arrayValue,
              directionalValue: i.directionalValue,
              orderedDocumentKey: this.encodeDirectionalKey(n, r.key),
              documentKey: r.key.path.toArray(),
            });
          }
          deleteIndexEntry(e, r, n, i) {
            return c0(e).delete([
              i.indexId,
              this.uid,
              i.arrayValue,
              i.directionalValue,
              this.encodeDirectionalKey(n, r.key),
              r.key.path.toArray(),
            ]);
          }
          getExistingIndexEntries(e, r, n) {
            let i = c0(e),
              s = new ik(cN);
            return i
              .iterate(
                {
                  index: n9,
                  range: IDBKeyRange.only([
                    n.indexId,
                    this.uid,
                    this.encodeDirectionalKey(n, r),
                  ]),
                },
                (e, i) => {
                  s = s.add(
                    new cP(n.indexId, r, i.arrayValue, i.directionalValue),
                  );
                },
              )
              .next(() => s);
          }
          computeIndexEntries(e, r) {
            let n = new ik(cN),
              i = this.encodeDirectionalElements(r, e);
            if (null == i) return n;
            let s = rO(r);
            if (null != s) {
              let a = e.data.field(s.fieldPath);
              if (sP(a))
                for (let s of a.arrayValue.values || [])
                  n = n.add(
                    new cP(r.indexId, e.key, this.encodeSingleElement(s), i),
                  );
            } else n = n.add(new cP(r.indexId, e.key, cX, i));
            return n;
          }
          updateEntries(e, r, n, i, s) {
            t8(cY, "Updating index entries for document '%s'", r.key);
            let a = [];
            return (
              iR(
                i,
                s,
                cN,
                (i) => {
                  a.push(this.addIndexEntry(e, r, n, i));
                },
                (i) => {
                  a.push(this.deleteIndexEntry(e, r, n, i));
                },
              ),
              rQ.waitFor(a)
            );
          }
          getNextSequenceNumber(e) {
            let r = 1;
            return c2(e)
              .iterate(
                {
                  index: n5,
                  reverse: !0,
                  range: IDBKeyRange.upperBound([
                    this.uid,
                    Number.MAX_SAFE_INTEGER,
                  ]),
                },
                (e, n, i) => {
                  i.done(), (r = n.sequenceNumber + 1);
                },
              )
              .next(() => r);
          }
          createRange(e, r, n) {
            n = n
              .sort((e, r) => cN(e, r))
              .filter((e, r, n) => !r || 0 !== cN(e, n[r - 1]));
            let i = [];
            for (let s of (i.push(e), n)) {
              let n = cN(s, e),
                a = cN(s, r);
              if (0 === n) i[0] = e.successor();
              else if (n > 0 && a < 0) i.push(s), i.push(s.successor());
              else if (a > 0) break;
            }
            i.push(r);
            let s = [];
            for (let e = 0; e < i.length; e += 2) {
              if (this.isRangeMatchable(i[e], i[e + 1])) return [];
              let r = [
                  i[e].indexId,
                  this.uid,
                  i[e].arrayValue,
                  i[e].directionalValue,
                  cX,
                  [],
                ],
                n = [
                  i[e + 1].indexId,
                  this.uid,
                  i[e + 1].arrayValue,
                  i[e + 1].directionalValue,
                  cX,
                  [],
                ];
              s.push(IDBKeyRange.bound(r, n));
            }
            return s;
          }
          isRangeMatchable(e, r) {
            return cN(e, r) > 0;
          }
          getMinOffsetFromCollectionGroup(e, r) {
            return this.getFieldIndexes(e, r).next(c3);
          }
          getMinOffset(e, r) {
            return rQ
              .mapArray(this.getSubTargets(r), (r) =>
                this.getFieldIndex(e, r).next((e) => e || rt()),
              )
              .next(c3);
          }
        }
        function cZ(e) {
          return iw(e, nH);
        }
        function c0(e) {
          return iw(e, n8);
        }
        function c1(e) {
          return iw(e, nZ);
        }
        function c2(e) {
          return iw(e, n3);
        }
        function c3(e) {
          rr(0 !== e.length);
          let r = e[0].indexState.offset,
            n = r.largestBatchId;
          for (let i = 1; i < e.length; i++) {
            let s = e[i].indexState.offset;
            0 > rH(s, r) && (r = s),
              n < s.largestBatchId && (n = s.largestBatchId);
          }
          return new rq(r.readTime, r.documentKey, n);
        }
        function c4(e, r, n) {
          let i = e.store(nv),
            s = e.store(nA),
            a = [],
            o = IDBKeyRange.only(n.batchId),
            l = 0,
            u = i.iterate({ range: o }, (e, r, n) => (l++, n.delete()));
          a.push(
            u.next(() => {
              rr(1 === l);
            }),
          );
          let c = [];
          for (let e of n.mutations) {
            let i = nC(r, e.key.path, n.batchId);
            a.push(s.delete(i)), c.push(e.key);
          }
          return rQ.waitFor(a).next(() => c);
        }
        function c5(e) {
          let r;
          if (!e) return 0;
          if (e.document) r = e.document;
          else if (e.unknownDocument) r = e.unknownDocument;
          else if (e.noDocument) r = e.noDocument;
          else throw rt();
          return JSON.stringify(r).length;
        }
        class c6 {
          constructor(e, r, n, i) {
            (this.userId = e),
              (this.serializer = r),
              (this.indexManager = n),
              (this.referenceDelegate = i),
              (this.documentKeysByBatchId = {});
          }
          static forUser(e, r, n, i) {
            return (
              rr("" !== e.uid),
              new c6(e.isAuthenticated() ? e.uid : "", r, n, i)
            );
          }
          checkEmpty(e) {
            let r = !0,
              n = IDBKeyRange.bound(
                [this.userId, Number.NEGATIVE_INFINITY],
                [this.userId, Number.POSITIVE_INFINITY],
              );
            return c9(e)
              .iterate({ index: nw, range: n }, (e, n, i) => {
                (r = !1), i.done();
              })
              .next(() => r);
          }
          addMutationBatch(e, r, n, i) {
            let s = de(e),
              a = c9(e);
            return a.add({}).next((o) => {
              rr("number" == typeof o);
              let l = new oZ(o, r, n, i),
                u = uF(this.serializer, this.userId, l),
                c = [],
                d = new ik((e, r) =>
                  rv(e.canonicalString(), r.canonicalString()),
                );
              for (let e of i) {
                let r = nC(this.userId, e.key.path, o);
                (d = d.add(e.key.path.popLast())),
                  c.push(a.put(u)),
                  c.push(s.put(r, nx));
              }
              return (
                d.forEach((r) => {
                  c.push(this.indexManager.addToCollectionParentIndex(e, r));
                }),
                e.addOnCommittedListener(() => {
                  this.documentKeysByBatchId[o] = l.keys();
                }),
                rQ.waitFor(c).next(() => l)
              );
            });
          }
          lookupMutationBatch(e, r) {
            return c9(e)
              .get(r)
              .next((e) =>
                e
                  ? (rr(e.userId === this.userId), uU(this.serializer, e))
                  : null,
              );
          }
          lookupMutationKeys(e, r) {
            return this.documentKeysByBatchId[r]
              ? rQ.resolve(this.documentKeysByBatchId[r])
              : this.lookupMutationBatch(e, r).next((e) => {
                  if (!e) return null;
                  {
                    let n = e.keys();
                    return (this.documentKeysByBatchId[r] = n), n;
                  }
                });
          }
          getNextMutationBatchAfterBatchId(e, r) {
            let n = r + 1,
              i = IDBKeyRange.lowerBound([this.userId, n]),
              s = null;
            return c9(e)
              .iterate({ index: nw, range: i }, (e, r, i) => {
                r.userId === this.userId &&
                  (rr(r.batchId >= n), (s = uU(this.serializer, r))),
                  i.done();
              })
              .next(() => s);
          }
          getHighestUnacknowledgedBatchId(e) {
            let r = IDBKeyRange.upperBound([
                this.userId,
                Number.POSITIVE_INFINITY,
              ]),
              n = i0;
            return c9(e)
              .iterate({ index: nw, range: r, reverse: !0 }, (e, r, i) => {
                (n = r.batchId), i.done();
              })
              .next(() => n);
          }
          getAllMutationBatches(e) {
            let r = IDBKeyRange.bound(
              [this.userId, i0],
              [this.userId, Number.POSITIVE_INFINITY],
            );
            return c9(e)
              .loadAll(nw, r)
              .next((e) => e.map((e) => uU(this.serializer, e)));
          }
          getAllMutationBatchesAffectingDocumentKey(e, r) {
            let n = nE(this.userId, r.path),
              i = IDBKeyRange.lowerBound(n),
              s = [];
            return de(e)
              .iterate({ range: i }, (n, i, a) => {
                let [o, l, u] = n,
                  c = nh(l);
                if (o !== this.userId || !r.path.isEqual(c)) {
                  a.done();
                  return;
                }
                return c9(e)
                  .get(u)
                  .next((e) => {
                    if (!e) throw rt();
                    rr(e.userId === this.userId),
                      s.push(uU(this.serializer, e));
                  });
              })
              .next(() => s);
          }
          getAllMutationBatchesAffectingDocumentKeys(e, r) {
            let n = new ik(rv),
              i = [];
            return (
              r.forEach((r) => {
                let s = nE(this.userId, r.path),
                  a = IDBKeyRange.lowerBound(s),
                  o = de(e).iterate({ range: a }, (e, i, s) => {
                    let [a, o, l] = e,
                      u = nh(o);
                    if (a !== this.userId || !r.path.isEqual(u)) {
                      s.done();
                      return;
                    }
                    n = n.add(l);
                  });
                i.push(o);
              }),
              rQ.waitFor(i).next(() => this.lookupMutationBatches(e, n))
            );
          }
          getAllMutationBatchesAffectingQuery(e, r) {
            let n = r.path,
              i = n.length + 1,
              s = nE(this.userId, n),
              a = IDBKeyRange.lowerBound(s),
              o = new ik(rv);
            return de(e)
              .iterate({ range: a }, (e, r, s) => {
                let [a, l, u] = e,
                  c = nh(l);
                if (a !== this.userId || !n.isPrefixOf(c)) {
                  s.done();
                  return;
                }
                c.length === i && (o = o.add(u));
              })
              .next(() => this.lookupMutationBatches(e, o));
          }
          lookupMutationBatches(e, r) {
            let n = [],
              i = [];
            return (
              r.forEach((r) => {
                i.push(
                  c9(e)
                    .get(r)
                    .next((e) => {
                      if (null === e) throw rt();
                      rr(e.userId === this.userId),
                        n.push(uU(this.serializer, e));
                    }),
                );
              }),
              rQ.waitFor(i).next(() => n)
            );
          }
          removeMutationBatch(e, r) {
            return c4(e.simpleDbTransaction, this.userId, r).next(
              (n) => (
                e.addOnCommittedListener(() => {
                  this.removeCachedMutationKeys(r.batchId);
                }),
                rQ.forEach(n, (r) =>
                  this.referenceDelegate.markPotentiallyOrphaned(e, r),
                )
              ),
            );
          }
          removeCachedMutationKeys(e) {
            delete this.documentKeysByBatchId[e];
          }
          performConsistencyCheck(e) {
            return this.checkEmpty(e).next((r) => {
              if (!r) return rQ.resolve();
              let n = IDBKeyRange.lowerBound(nS(this.userId)),
                i = [];
              return de(e)
                .iterate({ range: n }, (e, r, n) => {
                  if (e[0] !== this.userId) {
                    n.done();
                    return;
                  }
                  {
                    let r = nh(e[1]);
                    i.push(r);
                  }
                })
                .next(() => {
                  rr(0 === i.length);
                });
            });
          }
          containsKey(e, r) {
            return c8(e, this.userId, r);
          }
          getMutationQueueMetadata(e) {
            return dt(e)
              .get(this.userId)
              .next(
                (e) =>
                  e || {
                    userId: this.userId,
                    lastAcknowledgedBatchId: i0,
                    lastStreamToken: "",
                  },
              );
          }
        }
        function c8(e, r, n) {
          let i = nE(r, n.path),
            s = i[1],
            a = IDBKeyRange.lowerBound(i),
            o = !1;
          return de(e)
            .iterate({ range: a, keysOnly: !0 }, (e, n, i) => {
              let [a, l, u] = e;
              a === r && l === s && (o = !0), i.done();
            })
            .next(() => o);
        }
        function c7(e, r) {
          let n = !1;
          return dt(e)
            .iterateSerial((i) =>
              c8(e, i, r).next((e) => (e && (n = !0), rQ.resolve(!e))),
            )
            .next(() => n);
        }
        function c9(e) {
          return iw(e, nv);
        }
        function de(e) {
          return iw(e, nA);
        }
        function dt(e) {
          return iw(e, nm);
        }
        let dr = 2;
        class dn {
          constructor(e) {
            this.lastId = e;
          }
          next() {
            return (this.lastId += dr), this.lastId;
          }
          static forTargetCache() {
            return new dn(2 - dr);
          }
          static forSyncEngine() {
            return new dn(1 - dr);
          }
        }
        class di {
          constructor(e, r) {
            (this.referenceDelegate = e), (this.serializer = r);
          }
          allocateTargetId(e) {
            return this.retrieveMetadata(e).next((r) => {
              let n = new dn(r.highestTargetId);
              return (
                (r.highestTargetId = n.next()),
                this.saveMetadata(e, r).next(() => r.highestTargetId)
              );
            });
          }
          getLastRemoteSnapshotVersion(e) {
            return this.retrieveMetadata(e).next((e) =>
              rC.fromTimestamp(
                new rE(
                  e.lastRemoteSnapshotVersion.seconds,
                  e.lastRemoteSnapshotVersion.nanoseconds,
                ),
              ),
            );
          }
          getHighestSequenceNumber(e) {
            return this.retrieveMetadata(e).next(
              (e) => e.highestListenSequenceNumber,
            );
          }
          setTargetsMetadata(e, r, n) {
            return this.retrieveMetadata(e).next(
              (i) => (
                (i.highestListenSequenceNumber = r),
                n && (i.lastRemoteSnapshotVersion = n.toTimestamp()),
                r > i.highestListenSequenceNumber &&
                  (i.highestListenSequenceNumber = r),
                this.saveMetadata(e, i)
              ),
            );
          }
          addTargetData(e, r) {
            return this.saveTargetData(e, r).next(() =>
              this.retrieveMetadata(e).next(
                (n) => (
                  (n.targetCount += 1),
                  this.updateMetadataFromTargetData(r, n),
                  this.saveMetadata(e, n)
                ),
              ),
            );
          }
          updateTargetData(e, r) {
            return this.saveTargetData(e, r);
          }
          removeTargetData(e, r) {
            return this.removeMatchingKeysForTargetId(e, r.targetId)
              .next(() => ds(e).delete(r.targetId))
              .next(() => this.retrieveMetadata(e))
              .next(
                (r) => (
                  rr(r.targetCount > 0),
                  (r.targetCount -= 1),
                  this.saveMetadata(e, r)
                ),
              );
          }
          removeTargets(e, r, n) {
            let i = 0,
              s = [];
            return ds(e)
              .iterate((a, o) => {
                let l = uj(o);
                l.sequenceNumber <= r &&
                  null === n.get(l.targetId) &&
                  (i++, s.push(this.removeTargetData(e, l)));
              })
              .next(() => rQ.waitFor(s))
              .next(() => i);
          }
          forEachTarget(e, r) {
            return ds(e).iterate((e, n) => {
              r(uj(n));
            });
          }
          retrieveMetadata(e) {
            return da(e)
              .get(nK)
              .next((e) => (rr(null !== e), e));
          }
          saveMetadata(e, r) {
            return da(e).put(nK, r);
          }
          saveTargetData(e, r) {
            return ds(e).put(uz(this.serializer, r));
          }
          updateMetadataFromTargetData(e, r) {
            let n = !1;
            return (
              e.targetId > r.highestTargetId &&
                ((r.highestTargetId = e.targetId), (n = !0)),
              e.sequenceNumber > r.highestListenSequenceNumber &&
                ((r.highestListenSequenceNumber = e.sequenceNumber), (n = !0)),
              n
            );
          }
          getTargetCount(e) {
            return this.retrieveMetadata(e).next((e) => e.targetCount);
          }
          getTargetData(e, r) {
            let n = av(r),
              i = IDBKeyRange.bound(
                [n, Number.NEGATIVE_INFINITY],
                [n, Number.POSITIVE_INFINITY],
              ),
              s = null;
            return ds(e)
              .iterate({ range: i, index: nB }, (e, n, i) => {
                let a = uj(n);
                aw(r, a.target) && ((s = a), i.done());
              })
              .next(() => s);
          }
          addMatchingKeys(e, r, n) {
            let i = [],
              s = dl(e);
            return (
              r.forEach((r) => {
                let a = nu(r.path);
                i.push(s.put({ targetId: n, path: a })),
                  i.push(this.referenceDelegate.addReference(e, n, r));
              }),
              rQ.waitFor(i)
            );
          }
          removeMatchingKeys(e, r, n) {
            let i = dl(e);
            return rQ.forEach(r, (r) => {
              let s = nu(r.path);
              return rQ.waitFor([
                i.delete([n, s]),
                this.referenceDelegate.removeReference(e, n, r),
              ]);
            });
          }
          removeMatchingKeysForTargetId(e, r) {
            let n = dl(e),
              i = IDBKeyRange.bound([r], [r + 1], !1, !0);
            return n.delete(i);
          }
          getMatchingKeysForTargetId(e, r) {
            let n = IDBKeyRange.bound([r], [r + 1], !1, !0),
              i = dl(e),
              s = ol();
            return i
              .iterate({ range: n, keysOnly: !0 }, (e, r, n) => {
                let i = new rR(nh(e[1]));
                s = s.add(i);
              })
              .next(() => s);
          }
          containsKey(e, r) {
            let n = nu(r.path),
              i = IDBKeyRange.bound([n], [rw(n)], !1, !0),
              s = 0;
            return dl(e)
              .iterate(
                { index: nz, keysOnly: !0, range: i },
                ([e, r], n, i) => {
                  0 !== e && (s++, i.done());
                },
              )
              .next(() => s > 0);
          }
          getTargetDataForTarget(e, r) {
            return ds(e)
              .get(r)
              .next((e) => (e ? uj(e) : null));
          }
        }
        function ds(e) {
          return iw(e, nM);
        }
        function da(e) {
          return iw(e, nq);
        }
        function dl(e) {
          return iw(e, nU);
        }
        let du = {
            didRun: !1,
            sequenceNumbersCollected: 0,
            targetsRemoved: 0,
            documentsRemoved: 0,
          },
          dc = -1,
          dd = 0x2800000;
        class dh {
          static withCacheSize(e) {
            return new dh(
              e,
              dh.DEFAULT_COLLECTION_PERCENTILE,
              dh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT,
            );
          }
          constructor(e, r, n) {
            (this.cacheSizeCollectionThreshold = e),
              (this.percentileToCollect = r),
              (this.maximumSequenceNumbersToCollect = n);
          }
        }
        (dh.DEFAULT_COLLECTION_PERCENTILE = 10),
          (dh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3),
          (dh.DEFAULT = new dh(
            dd,
            dh.DEFAULT_COLLECTION_PERCENTILE,
            dh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT,
          )),
          (dh.DISABLED = new dh(dc, 0, 0));
        let df = "LruGarbageCollector",
          dp = 1048576,
          dg = 6e4,
          dm = 3e5;
        function dy([e, r], [n, i]) {
          let s = rv(e, n);
          return 0 === s ? rv(r, i) : s;
        }
        class dv {
          constructor(e) {
            (this.maxElements = e),
              (this.buffer = new ik(dy)),
              (this.previousIndex = 0);
          }
          nextIndex() {
            return ++this.previousIndex;
          }
          addElement(e) {
            let r = [e, this.nextIndex()];
            if (this.buffer.size < this.maxElements)
              this.buffer = this.buffer.add(r);
            else {
              let e = this.buffer.last();
              0 > dy(r, e) && (this.buffer = this.buffer.delete(e).add(r));
            }
          }
          get maxValue() {
            return this.buffer.last()[0];
          }
        }
        class db {
          constructor(e, r, n) {
            (this.garbageCollector = e),
              (this.asyncQueue = r),
              (this.localStore = n),
              (this.gcTask = null);
          }
          start() {
            this.garbageCollector.params.cacheSizeCollectionThreshold !== dc &&
              this.scheduleGC(dg);
          }
          stop() {
            this.gcTask && (this.gcTask.cancel(), (this.gcTask = null));
          }
          get started() {
            return null !== this.gcTask;
          }
          scheduleGC(e) {
            t8(df, `Garbage collection scheduled in ${e}ms`),
              (this.gcTask = this.asyncQueue.enqueueAfterDelay(
                "lru_garbage_collection",
                e,
                async () => {
                  this.gcTask = null;
                  try {
                    await this.localStore.collectGarbage(this.garbageCollector);
                  } catch (e) {
                    r3(e)
                      ? t8(
                          df,
                          "Ignoring IndexedDB error during garbage collection: ",
                          e,
                        )
                      : await rG(e);
                  }
                  await this.scheduleGC(dm);
                },
              ));
          }
        }
        class dw {
          constructor(e, r) {
            (this.delegate = e), (this.params = r);
          }
          calculateTargetCount(e, r) {
            return this.delegate
              .getSequenceNumberCount(e)
              .next((e) => Math.floor((r / 100) * e));
          }
          nthSequenceNumber(e, r) {
            if (0 === r) return rQ.resolve(ni.INVALID);
            let n = new dv(r);
            return this.delegate
              .forEachTarget(e, (e) => n.addElement(e.sequenceNumber))
              .next(() =>
                this.delegate.forEachOrphanedDocumentSequenceNumber(e, (e) =>
                  n.addElement(e),
                ),
              )
              .next(() => n.maxValue);
          }
          removeTargets(e, r, n) {
            return this.delegate.removeTargets(e, r, n);
          }
          removeOrphanedDocuments(e, r) {
            return this.delegate.removeOrphanedDocuments(e, r);
          }
          collect(e, r) {
            return this.params.cacheSizeCollectionThreshold === dc
              ? (t8(
                  "LruGarbageCollector",
                  "Garbage collection skipped; disabled",
                ),
                rQ.resolve(du))
              : this.getCacheSize(e).next((n) =>
                  n < this.params.cacheSizeCollectionThreshold
                    ? (t8(
                        "LruGarbageCollector",
                        `Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`,
                      ),
                      du)
                    : this.runGarbageCollection(e, r),
                );
          }
          getCacheSize(e) {
            return this.delegate.getCacheSize(e);
          }
          runGarbageCollection(e, r) {
            let n, i, s, a, o, l, u;
            let c = Date.now();
            return this.calculateTargetCount(e, this.params.percentileToCollect)
              .next(
                (r) => (
                  r > this.params.maximumSequenceNumbersToCollect
                    ? (t8(
                        "LruGarbageCollector",
                        `Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${r}`,
                      ),
                      (i = this.params.maximumSequenceNumbersToCollect))
                    : (i = r),
                  (a = Date.now()),
                  this.nthSequenceNumber(e, i)
                ),
              )
              .next(
                (i) => ((n = i), (o = Date.now()), this.removeTargets(e, n, r)),
              )
              .next(
                (r) => (
                  (s = r), (l = Date.now()), this.removeOrphanedDocuments(e, n)
                ),
              )
              .next(
                (e) => (
                  (u = Date.now()),
                  t6() <= f.DEBUG &&
                    t8(
                      "LruGarbageCollector",
                      `LRU Garbage Collection
	Counted targets in ${a - c}ms
	Determined least recently used ${i} in ${o - a}ms
	Removed ${s} targets in ${l - o}ms
	Removed ${e} documents in ${u - l}ms
Total Duration: ${u - c}ms`,
                    ),
                  rQ.resolve({
                    didRun: !0,
                    sequenceNumbersCollected: i,
                    targetsRemoved: s,
                    documentsRemoved: e,
                  })
                ),
              );
          }
        }
        function dT(e, r) {
          return new dw(e, r);
        }
        class dS {
          constructor(e, r) {
            (this.db = e), (this.garbageCollector = dT(this, r));
          }
          getSequenceNumberCount(e) {
            let r = this.orphanedDocumentCount(e);
            return this.db
              .getTargetCache()
              .getTargetCount(e)
              .next((e) => r.next((r) => e + r));
          }
          orphanedDocumentCount(e) {
            let r = 0;
            return this.forEachOrphanedDocumentSequenceNumber(e, (e) => {
              r++;
            }).next(() => r);
          }
          forEachTarget(e, r) {
            return this.db.getTargetCache().forEachTarget(e, r);
          }
          forEachOrphanedDocumentSequenceNumber(e, r) {
            return this.forEachOrphanedDocument(e, (e, n) => r(n));
          }
          addReference(e, r, n) {
            return dx(e, n);
          }
          removeReference(e, r, n) {
            return dx(e, n);
          }
          removeTargets(e, r, n) {
            return this.db.getTargetCache().removeTargets(e, r, n);
          }
          markPotentiallyOrphaned(e, r) {
            return dx(e, r);
          }
          isPinned(e, r) {
            return c7(e, r);
          }
          removeOrphanedDocuments(e, r) {
            let n = this.db.getRemoteDocumentCache().newChangeBuffer(),
              i = [],
              s = 0;
            return this.forEachOrphanedDocument(e, (a, o) => {
              if (o <= r) {
                let r = this.isPinned(e, a).next((r) => {
                  if (!r)
                    return (
                      s++,
                      n
                        .getEntry(e, a)
                        .next(
                          () => (
                            n.removeEntry(a, rC.min()), dl(e).delete(dE(a))
                          ),
                        )
                    );
                });
                i.push(r);
              }
            })
              .next(() => rQ.waitFor(i))
              .next(() => n.apply(e))
              .next(() => s);
          }
          removeTarget(e, r) {
            let n = r.withSequenceNumber(e.currentSequenceNumber);
            return this.db.getTargetCache().updateTargetData(e, n);
          }
          updateLimboDocument(e, r) {
            return dx(e, r);
          }
          forEachOrphanedDocument(e, r) {
            let n;
            let i = dl(e),
              s = ni.INVALID;
            return i
              .iterate(
                { index: nz },
                ([e, i], { path: a, sequenceNumber: o }) => {
                  0 === e
                    ? (s !== ni.INVALID && r(new rR(nh(n)), s),
                      (s = o),
                      (n = a))
                    : (s = ni.INVALID);
                },
              )
              .next(() => {
                s !== ni.INVALID && r(new rR(nh(n)), s);
              });
          }
          getCacheSize(e) {
            return this.db.getRemoteDocumentCache().getSize(e);
          }
        }
        function dE(e) {
          return [0, nu(e.path)];
        }
        function dC(e, r) {
          return { targetId: 0, path: nu(e.path), sequenceNumber: r };
        }
        function dx(e, r) {
          return dl(e).put(dC(r, e.currentSequenceNumber));
        }
        class dA {
          constructor() {
            (this.changes = new a5(
              (e) => e.toString(),
              (e, r) => e.isEqual(r),
            )),
              (this.changesApplied = !1);
          }
          addEntry(e) {
            this.assertNotApplied(), this.changes.set(e.key, e);
          }
          removeEntry(e, r) {
            this.assertNotApplied(),
              this.changes.set(e, s$.newInvalidDocument(e).setReadTime(r));
          }
          getEntry(e, r) {
            this.assertNotApplied();
            let n = this.changes.get(r);
            return void 0 !== n ? rQ.resolve(n) : this.getFromCache(e, r);
          }
          getEntries(e, r) {
            return this.getAllFromCache(e, r);
          }
          apply(e) {
            return (
              this.assertNotApplied(),
              (this.changesApplied = !0),
              this.applyChanges(e)
            );
          }
          assertNotApplied() {}
        }
        class dI {
          constructor(e) {
            this.serializer = e;
          }
          setIndexManager(e) {
            this.indexManager = e;
          }
          addEntry(e, r, n) {
            return dD(e).put(n);
          }
          removeEntry(e, r, n) {
            return dD(e).delete(dN(r, n));
          }
          updateMetadata(e, r) {
            return this.getMetadata(e).next(
              (n) => ((n.byteSize += r), this.setMetadata(e, n)),
            );
          }
          getEntry(e, r) {
            let n = s$.newInvalidDocument(r);
            return dD(e)
              .iterate(
                { index: n_, range: IDBKeyRange.only(dP(r)) },
                (e, i) => {
                  n = this.maybeDecodeDocument(r, i);
                },
              )
              .next(() => n);
          }
          getSizedEntry(e, r) {
            let n = { size: 0, document: s$.newInvalidDocument(r) };
            return dD(e)
              .iterate(
                { index: n_, range: IDBKeyRange.only(dP(r)) },
                (e, i) => {
                  n = { document: this.maybeDecodeDocument(r, i), size: c5(i) };
                },
              )
              .next(() => n);
          }
          getEntries(e, r) {
            let n = a8();
            return this.forEachDbEntry(e, r, (e, r) => {
              let i = this.maybeDecodeDocument(e, r);
              n = n.insert(e, i);
            }).next(() => n);
          }
          getSizedEntries(e, r) {
            let n = a8(),
              i = new iC(rR.comparator);
            return this.forEachDbEntry(e, r, (e, r) => {
              let s = this.maybeDecodeDocument(e, r);
              (n = n.insert(e, s)), (i = i.insert(e, c5(r)));
            }).next(() => ({ documents: n, sizeMap: i }));
          }
          forEachDbEntry(e, r, n) {
            if (r.isEmpty()) return rQ.resolve();
            let i = new ik(dM);
            r.forEach((e) => (i = i.add(e)));
            let s = IDBKeyRange.bound(dP(i.first()), dP(i.last())),
              a = i.getIterator(),
              o = a.getNext();
            return dD(e)
              .iterate({ index: n_, range: s }, (e, r, i) => {
                let s = rR.fromSegments([
                  ...r.prefixPath,
                  r.collectionGroup,
                  r.documentId,
                ]);
                for (; o && 0 > dM(o, s); ) n(o, null), (o = a.getNext());
                o &&
                  o.isEqual(s) &&
                  (n(o, r), (o = a.hasNext() ? a.getNext() : null)),
                  o ? i.skip(dP(o)) : i.done();
              })
              .next(() => {
                for (; o; ) n(o, null), (o = a.hasNext() ? a.getNext() : null);
              });
          }
          getDocumentsMatchingQuery(e, r, n, i, s) {
            let a = r.path,
              o = [
                a.popLast().toArray(),
                a.lastSegment(),
                uO(n.readTime),
                n.documentKey.path.isEmpty()
                  ? ""
                  : n.documentKey.path.lastSegment(),
              ],
              l = [
                a.popLast().toArray(),
                a.lastSegment(),
                [Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],
                "",
              ];
            return dD(e)
              .loadAll(IDBKeyRange.bound(o, l, !0))
              .next((e) => {
                null == s || s.incrementDocumentReadCount(e.length);
                let n = a8();
                for (let s of e) {
                  let e = this.maybeDecodeDocument(
                    rR.fromSegments(
                      s.prefixPath.concat(s.collectionGroup, s.documentId),
                    ),
                    s,
                  );
                  e.isFoundDocument() &&
                    (aX(r, e) || i.has(e.key)) &&
                    (n = n.insert(e.key, e));
                }
                return n;
              });
          }
          getAllFromCollectionGroup(e, r, n, i) {
            let s = a8(),
              a = dO(r, n),
              o = dO(r, rq.max());
            return dD(e)
              .iterate(
                { index: nD, range: IDBKeyRange.bound(a, o, !0) },
                (e, r, n) => {
                  let a = this.maybeDecodeDocument(
                    rR.fromSegments(
                      r.prefixPath.concat(r.collectionGroup, r.documentId),
                    ),
                    r,
                  );
                  (s = s.insert(a.key, a)).size === i && n.done();
                },
              )
              .next(() => s);
          }
          newChangeBuffer(e) {
            return new d_(this, !!e && e.trackRemovals);
          }
          getSize(e) {
            return this.getMetadata(e).next((e) => e.byteSize);
          }
          getMetadata(e) {
            return dR(e)
              .get(nO)
              .next((e) => (rr(!!e), e));
          }
          setMetadata(e, r) {
            return dR(e).put(nO, r);
          }
          maybeDecodeDocument(e, r) {
            if (r) {
              let e = uP(this.serializer, r);
              if (!(e.isNoDocument() && e.version.isEqual(rC.min()))) return e;
            }
            return s$.newInvalidDocument(e);
          }
        }
        function dk(e) {
          return new dI(e);
        }
        class d_ extends dA {
          constructor(e, r) {
            super(),
              (this.documentCache = e),
              (this.trackRemovals = r),
              (this.documentStates = new a5(
                (e) => e.toString(),
                (e, r) => e.isEqual(r),
              ));
          }
          applyChanges(e) {
            let r = [],
              n = 0,
              i = new ik((e, r) =>
                rv(e.canonicalString(), r.canonicalString()),
              );
            return (
              this.changes.forEach((s, a) => {
                let o = this.documentStates.get(s);
                if (
                  (r.push(this.documentCache.removeEntry(e, s, o.readTime)),
                  a.isValidDocument())
                ) {
                  let l = uN(this.documentCache.serializer, a);
                  i = i.add(s.path.popLast());
                  let u = c5(l);
                  (n += u - o.size),
                    r.push(this.documentCache.addEntry(e, s, l));
                } else if (((n -= o.size), this.trackRemovals)) {
                  let n = uN(
                    this.documentCache.serializer,
                    a.convertToNoDocument(rC.min()),
                  );
                  r.push(this.documentCache.addEntry(e, s, n));
                }
              }),
              i.forEach((n) => {
                r.push(
                  this.documentCache.indexManager.addToCollectionParentIndex(
                    e,
                    n,
                  ),
                );
              }),
              r.push(this.documentCache.updateMetadata(e, n)),
              rQ.waitFor(r)
            );
          }
          getFromCache(e, r) {
            return this.documentCache
              .getSizedEntry(e, r)
              .next(
                (e) => (
                  this.documentStates.set(r, {
                    size: e.size,
                    readTime: e.document.readTime,
                  }),
                  e.document
                ),
              );
          }
          getAllFromCache(e, r) {
            return this.documentCache.getSizedEntries(e, r).next(
              ({ documents: e, sizeMap: r }) => (
                r.forEach((r, n) => {
                  this.documentStates.set(r, {
                    size: n,
                    readTime: e.get(r).readTime,
                  });
                }),
                e
              ),
            );
          }
        }
        function dR(e) {
          return iw(e, nN);
        }
        function dD(e) {
          return iw(e, nI);
        }
        function dP(e) {
          let r = e.path.toArray();
          return [r.slice(0, r.length - 2), r[r.length - 2], r[r.length - 1]];
        }
        function dN(e, r) {
          let n = e.path.toArray();
          return [
            n.slice(0, n.length - 2),
            n[n.length - 2],
            uO(r),
            n[n.length - 1],
          ];
        }
        function dO(e, r) {
          let n = r.documentKey.path.toArray();
          return [
            e,
            uO(r.readTime),
            n.slice(0, n.length - 2),
            n.length > 0 ? n[n.length - 1] : "",
          ];
        }
        function dM(e, r) {
          let n = e.path.toArray(),
            i = r.path.toArray(),
            s = 0;
          for (let e = 0; e < n.length - 2 && e < i.length - 2; ++e)
            if ((s = rv(n[e], i[e]))) return s;
          return (s = rv(n.length, i.length)) ||
            (s = rv(n[n.length - 2], i[i.length - 2]))
            ? s
            : rv(n[n.length - 1], i[i.length - 1]);
        }
        let dL = 17;
        class dB {
          constructor(e, r) {
            (this.overlayedDocument = e), (this.mutatedFields = r);
          }
        }
        class dF {
          constructor(e, r, n, i) {
            (this.remoteDocumentCache = e),
              (this.mutationQueue = r),
              (this.documentOverlayCache = n),
              (this.indexManager = i);
          }
          getDocument(e, r) {
            let n = null;
            return this.documentOverlayCache
              .getOverlay(e, r)
              .next((i) => ((n = i), this.remoteDocumentCache.getEntry(e, r)))
              .next(
                (e) => (
                  null !== n && oB(n.mutation, e, iP.empty(), rE.now()), e
                ),
              );
          }
          getDocuments(e, r) {
            return this.remoteDocumentCache
              .getEntries(e, r)
              .next((r) =>
                this.getLocalViewOfDocuments(e, r, ol()).next(() => r),
              );
          }
          getLocalViewOfDocuments(e, r, n = ol()) {
            let i = or();
            return this.populateOverlays(e, i, r).next(() =>
              this.computeViews(e, r, i, n).next((e) => {
                let r = a9();
                return (
                  e.forEach((e, n) => {
                    r = r.insert(e, n.overlayedDocument);
                  }),
                  r
                );
              }),
            );
          }
          getOverlayedDocuments(e, r) {
            let n = or();
            return this.populateOverlays(e, n, r).next(() =>
              this.computeViews(e, r, n, ol()),
            );
          }
          populateOverlays(e, r, n) {
            let i = [];
            return (
              n.forEach((e) => {
                r.has(e) || i.push(e);
              }),
              this.documentOverlayCache.getOverlays(e, i).next((e) => {
                e.forEach((e, n) => {
                  r.set(e, n);
                });
              })
            );
          }
          computeViews(e, r, n, i) {
            let s = a8(),
              a = oi(),
              o = oe();
            return (
              r.forEach((e, r) => {
                let o = n.get(r.key);
                i.has(r.key) && (void 0 === o || o.mutation instanceof oK)
                  ? (s = s.insert(r.key, r))
                  : void 0 !== o
                    ? (a.set(r.key, o.mutation.getFieldMask()),
                      oB(o.mutation, r, o.mutation.getFieldMask(), rE.now()))
                    : a.set(r.key, iP.empty());
              }),
              this.recalculateAndSaveOverlays(e, s).next(
                (e) => (
                  e.forEach((e, r) => a.set(e, r)),
                  r.forEach((e, r) => {
                    var n;
                    return o.set(
                      e,
                      new dB(
                        r,
                        null !== (n = a.get(e)) && void 0 !== n ? n : null,
                      ),
                    );
                  }),
                  o
                ),
              )
            );
          }
          recalculateAndSaveOverlays(e, r) {
            let n = oi(),
              i = new iC((e, r) => e - r),
              s = ol();
            return this.mutationQueue
              .getAllMutationBatchesAffectingDocumentKeys(e, r)
              .next((e) => {
                for (let s of e)
                  s.keys().forEach((e) => {
                    let a = r.get(e);
                    if (null === a) return;
                    let o = n.get(e) || iP.empty();
                    (o = s.applyToLocalView(a, o)), n.set(e, o);
                    let l = (i.get(s.batchId) || ol()).add(e);
                    i = i.insert(s.batchId, l);
                  });
              })
              .next(() => {
                let a = [],
                  o = i.getReverseIterator();
                for (; o.hasNext(); ) {
                  let i = o.getNext(),
                    l = i.key,
                    u = i.value,
                    c = on();
                  u.forEach((e) => {
                    if (!s.has(e)) {
                      let i = oM(r.get(e), n.get(e));
                      null !== i && c.set(e, i), (s = s.add(e));
                    }
                  }),
                    a.push(this.documentOverlayCache.saveOverlays(e, l, c));
                }
                return rQ.waitFor(a);
              })
              .next(() => n);
          }
          recalculateAndSaveOverlaysForDocumentKeys(e, r) {
            return this.remoteDocumentCache
              .getEntries(e, r)
              .next((r) => this.recalculateAndSaveOverlays(e, r));
          }
          getDocumentsMatchingQuery(e, r, n, i) {
            return aB(r)
              ? this.getDocumentsMatchingDocumentQuery(e, r.path)
              : aF(r)
                ? this.getDocumentsMatchingCollectionGroupQuery(e, r, n, i)
                : this.getDocumentsMatchingCollectionQuery(e, r, n, i);
          }
          getNextDocuments(e, r, n, i) {
            return this.remoteDocumentCache
              .getAllFromCollectionGroup(e, r, n, i)
              .next((s) => {
                let a =
                    i - s.size > 0
                      ? this.documentOverlayCache.getOverlaysForCollectionGroup(
                          e,
                          r,
                          n.largestBatchId,
                          i - s.size,
                        )
                      : rQ.resolve(or()),
                  o = rD,
                  l = s;
                return a.next((r) =>
                  rQ
                    .forEach(r, (r, n) =>
                      (o < n.largestBatchId && (o = n.largestBatchId), s.get(r))
                        ? rQ.resolve()
                        : this.remoteDocumentCache.getEntry(e, r).next((e) => {
                            l = l.insert(r, e);
                          }),
                    )
                    .next(() => this.populateOverlays(e, r, s))
                    .next(() => this.computeViews(e, l, r, ol()))
                    .next((e) => ({ batchId: o, changes: ot(e) })),
                );
              });
          }
          getDocumentsMatchingDocumentQuery(e, r) {
            return this.getDocument(e, new rR(r)).next((e) => {
              let r = a9();
              return e.isFoundDocument() && (r = r.insert(e.key, e)), r;
            });
          }
          getDocumentsMatchingCollectionGroupQuery(e, r, n, i) {
            let s = r.collectionGroup,
              a = a9();
            return this.indexManager.getCollectionParents(e, s).next((o) =>
              rQ
                .forEach(o, (o) => {
                  let l = aO(r, o.child(s));
                  return this.getDocumentsMatchingCollectionQuery(
                    e,
                    l,
                    n,
                    i,
                  ).next((e) => {
                    e.forEach((e, r) => {
                      a = a.insert(e, r);
                    });
                  });
                })
                .next(() => a),
            );
          }
          getDocumentsMatchingCollectionQuery(e, r, n, i) {
            let s;
            return this.documentOverlayCache
              .getOverlaysForCollection(e, r.path, n.largestBatchId)
              .next(
                (a) => (
                  (s = a),
                  this.remoteDocumentCache.getDocumentsMatchingQuery(
                    e,
                    r,
                    n,
                    s,
                    i,
                  )
                ),
              )
              .next((e) => {
                s.forEach((r, n) => {
                  let i = n.getKey();
                  null === e.get(i) &&
                    (e = e.insert(i, s$.newInvalidDocument(i)));
                });
                let n = a9();
                return (
                  e.forEach((e, i) => {
                    let a = s.get(e);
                    void 0 !== a && oB(a.mutation, i, iP.empty(), rE.now()),
                      aX(r, i) && (n = n.insert(e, i));
                  }),
                  n
                );
              });
          }
        }
        class dU {
          constructor(e) {
            (this.serializer = e),
              (this.bundles = new Map()),
              (this.namedQueries = new Map());
          }
          getBundleMetadata(e, r) {
            return rQ.resolve(this.bundles.get(r));
          }
          saveBundleMetadata(e, r) {
            return this.bundles.set(r.id, uQ(r)), rQ.resolve();
          }
          getNamedQuery(e, r) {
            return rQ.resolve(this.namedQueries.get(r));
          }
          saveNamedQuery(e, r) {
            return this.namedQueries.set(r.name, uG(r)), rQ.resolve();
          }
        }
        class dj {
          constructor() {
            (this.overlays = new iC(rR.comparator)),
              (this.overlayByBatchId = new Map());
          }
          getOverlay(e, r) {
            return rQ.resolve(this.overlays.get(r));
          }
          getOverlays(e, r) {
            let n = or();
            return rQ
              .forEach(r, (r) =>
                this.getOverlay(e, r).next((e) => {
                  null !== e && n.set(r, e);
                }),
              )
              .next(() => n);
          }
          saveOverlays(e, r, n) {
            return (
              n.forEach((n, i) => {
                this.saveOverlay(e, r, i);
              }),
              rQ.resolve()
            );
          }
          removeOverlaysForBatchId(e, r, n) {
            let i = this.overlayByBatchId.get(n);
            return (
              void 0 !== i &&
                (i.forEach((e) => (this.overlays = this.overlays.remove(e))),
                this.overlayByBatchId.delete(n)),
              rQ.resolve()
            );
          }
          getOverlaysForCollection(e, r, n) {
            let i = or(),
              s = r.length + 1,
              a = new rR(r.child("")),
              o = this.overlays.getIteratorFrom(a);
            for (; o.hasNext(); ) {
              let e = o.getNext().value,
                a = e.getKey();
              if (!r.isPrefixOf(a.path)) break;
              a.path.length === s &&
                e.largestBatchId > n &&
                i.set(e.getKey(), e);
            }
            return rQ.resolve(i);
          }
          getOverlaysForCollectionGroup(e, r, n, i) {
            let s = new iC((e, r) => e - r),
              a = this.overlays.getIterator();
            for (; a.hasNext(); ) {
              let e = a.getNext().value;
              if (
                e.getKey().getCollectionGroup() === r &&
                e.largestBatchId > n
              ) {
                let r = s.get(e.largestBatchId);
                null === r && ((r = or()), (s = s.insert(e.largestBatchId, r))),
                  r.set(e.getKey(), e);
              }
            }
            let o = or(),
              l = s.getIterator();
            for (
              ;
              l.hasNext() &&
              (l.getNext().value.forEach((e, r) => o.set(e, r)),
              !(o.size() >= i));

            );
            return rQ.resolve(o);
          }
          saveOverlay(e, r, n) {
            let i = this.overlays.get(n.key);
            if (null !== i) {
              let e = this.overlayByBatchId.get(i.largestBatchId).delete(n.key);
              this.overlayByBatchId.set(i.largestBatchId, e);
            }
            this.overlays = this.overlays.insert(n.key, new o1(r, n));
            let s = this.overlayByBatchId.get(r);
            void 0 === s && ((s = ol()), this.overlayByBatchId.set(r, s)),
              this.overlayByBatchId.set(r, s.add(n.key));
          }
        }
        class dz {
          constructor() {
            this.sessionToken = iM.EMPTY_BYTE_STRING;
          }
          getSessionToken(e) {
            return rQ.resolve(this.sessionToken);
          }
          setSessionToken(e, r) {
            return (this.sessionToken = r), rQ.resolve();
          }
        }
        class dV {
          constructor() {
            (this.refsByKey = new ik(dK.compareByKey)),
              (this.refsByTarget = new ik(dK.compareByTargetId));
          }
          isEmpty() {
            return this.refsByKey.isEmpty();
          }
          addReference(e, r) {
            let n = new dK(e, r);
            (this.refsByKey = this.refsByKey.add(n)),
              (this.refsByTarget = this.refsByTarget.add(n));
          }
          addReferences(e, r) {
            e.forEach((e) => this.addReference(e, r));
          }
          removeReference(e, r) {
            this.removeRef(new dK(e, r));
          }
          removeReferences(e, r) {
            e.forEach((e) => this.removeReference(e, r));
          }
          removeReferencesForId(e) {
            let r = new rR(new rI([])),
              n = new dK(r, e),
              i = new dK(r, e + 1),
              s = [];
            return (
              this.refsByTarget.forEachInRange([n, i], (e) => {
                this.removeRef(e), s.push(e.key);
              }),
              s
            );
          }
          removeAllReferences() {
            this.refsByKey.forEach((e) => this.removeRef(e));
          }
          removeRef(e) {
            (this.refsByKey = this.refsByKey.delete(e)),
              (this.refsByTarget = this.refsByTarget.delete(e));
          }
          referencesForId(e) {
            let r = new rR(new rI([])),
              n = new dK(r, e),
              i = new dK(r, e + 1),
              s = ol();
            return (
              this.refsByTarget.forEachInRange([n, i], (e) => {
                s = s.add(e.key);
              }),
              s
            );
          }
          containsKey(e) {
            let r = new dK(e, 0),
              n = this.refsByKey.firstAfterOrEqual(r);
            return null !== n && e.isEqual(n.key);
          }
        }
        class dK {
          constructor(e, r) {
            (this.key = e), (this.targetOrBatchId = r);
          }
          static compareByKey(e, r) {
            return (
              rR.comparator(e.key, r.key) ||
              rv(e.targetOrBatchId, r.targetOrBatchId)
            );
          }
          static compareByTargetId(e, r) {
            return (
              rv(e.targetOrBatchId, r.targetOrBatchId) ||
              rR.comparator(e.key, r.key)
            );
          }
        }
        class dq {
          constructor(e, r) {
            (this.indexManager = e),
              (this.referenceDelegate = r),
              (this.mutationQueue = []),
              (this.nextBatchId = 1),
              (this.batchesByDocumentKey = new ik(dK.compareByKey));
          }
          checkEmpty(e) {
            return rQ.resolve(0 === this.mutationQueue.length);
          }
          addMutationBatch(e, r, n, i) {
            let s = this.nextBatchId;
            this.nextBatchId++,
              this.mutationQueue.length > 0 &&
                this.mutationQueue[this.mutationQueue.length - 1];
            let a = new oZ(s, r, n, i);
            for (let r of (this.mutationQueue.push(a), i))
              (this.batchesByDocumentKey = this.batchesByDocumentKey.add(
                new dK(r.key, s),
              )),
                this.indexManager.addToCollectionParentIndex(
                  e,
                  r.key.path.popLast(),
                );
            return rQ.resolve(a);
          }
          lookupMutationBatch(e, r) {
            return rQ.resolve(this.findMutationBatch(r));
          }
          getNextMutationBatchAfterBatchId(e, r) {
            let n = r + 1,
              i = this.indexOfBatchId(n),
              s = i < 0 ? 0 : i;
            return rQ.resolve(
              this.mutationQueue.length > s ? this.mutationQueue[s] : null,
            );
          }
          getHighestUnacknowledgedBatchId() {
            return rQ.resolve(
              0 === this.mutationQueue.length ? i0 : this.nextBatchId - 1,
            );
          }
          getAllMutationBatches(e) {
            return rQ.resolve(this.mutationQueue.slice());
          }
          getAllMutationBatchesAffectingDocumentKey(e, r) {
            let n = new dK(r, 0),
              i = new dK(r, Number.POSITIVE_INFINITY),
              s = [];
            return (
              this.batchesByDocumentKey.forEachInRange([n, i], (e) => {
                let r = this.findMutationBatch(e.targetOrBatchId);
                s.push(r);
              }),
              rQ.resolve(s)
            );
          }
          getAllMutationBatchesAffectingDocumentKeys(e, r) {
            let n = new ik(rv);
            return (
              r.forEach((e) => {
                let r = new dK(e, 0),
                  i = new dK(e, Number.POSITIVE_INFINITY);
                this.batchesByDocumentKey.forEachInRange([r, i], (e) => {
                  n = n.add(e.targetOrBatchId);
                });
              }),
              rQ.resolve(this.findMutationBatches(n))
            );
          }
          getAllMutationBatchesAffectingQuery(e, r) {
            let n = r.path,
              i = n.length + 1,
              s = n;
            rR.isDocumentKey(s) || (s = s.child(""));
            let a = new dK(new rR(s), 0),
              o = new ik(rv);
            return (
              this.batchesByDocumentKey.forEachWhile((e) => {
                let r = e.key.path;
                return (
                  !!n.isPrefixOf(r) &&
                  (r.length === i && (o = o.add(e.targetOrBatchId)), !0)
                );
              }, a),
              rQ.resolve(this.findMutationBatches(o))
            );
          }
          findMutationBatches(e) {
            let r = [];
            return (
              e.forEach((e) => {
                let n = this.findMutationBatch(e);
                null !== n && r.push(n);
              }),
              r
            );
          }
          removeMutationBatch(e, r) {
            rr(0 === this.indexOfExistingBatchId(r.batchId, "removed")),
              this.mutationQueue.shift();
            let n = this.batchesByDocumentKey;
            return rQ
              .forEach(r.mutations, (i) => {
                let s = new dK(i.key, r.batchId);
                return (
                  (n = n.delete(s)),
                  this.referenceDelegate.markPotentiallyOrphaned(e, i.key)
                );
              })
              .next(() => {
                this.batchesByDocumentKey = n;
              });
          }
          removeCachedMutationKeys(e) {}
          containsKey(e, r) {
            let n = new dK(r, 0),
              i = this.batchesByDocumentKey.firstAfterOrEqual(n);
            return rQ.resolve(r.isEqual(i && i.key));
          }
          performConsistencyCheck(e) {
            return this.mutationQueue.length, rQ.resolve();
          }
          indexOfExistingBatchId(e, r) {
            return this.indexOfBatchId(e);
          }
          indexOfBatchId(e) {
            return 0 === this.mutationQueue.length
              ? 0
              : e - this.mutationQueue[0].batchId;
          }
          findMutationBatch(e) {
            let r = this.indexOfBatchId(e);
            return r < 0 || r >= this.mutationQueue.length
              ? null
              : this.mutationQueue[r];
          }
        }
        let dH = "-9223372036854775808";
        function d$() {
          return new iC(rR.comparator);
        }
        class dW {
          constructor(e) {
            (this.sizer = e), (this.docs = d$()), (this.size = 0);
          }
          setIndexManager(e) {
            this.indexManager = e;
          }
          addEntry(e, r) {
            let n = r.key,
              i = this.docs.get(n),
              s = i ? i.size : 0,
              a = this.sizer(r);
            return (
              (this.docs = this.docs.insert(n, {
                document: r.mutableCopy(),
                size: a,
              })),
              (this.size += a - s),
              this.indexManager.addToCollectionParentIndex(e, n.path.popLast())
            );
          }
          removeEntry(e) {
            let r = this.docs.get(e);
            r && ((this.docs = this.docs.remove(e)), (this.size -= r.size));
          }
          getEntry(e, r) {
            let n = this.docs.get(r);
            return rQ.resolve(
              n ? n.document.mutableCopy() : s$.newInvalidDocument(r),
            );
          }
          getEntries(e, r) {
            let n = a8();
            return (
              r.forEach((e) => {
                let r = this.docs.get(e);
                n = n.insert(
                  e,
                  r ? r.document.mutableCopy() : s$.newInvalidDocument(e),
                );
              }),
              rQ.resolve(n)
            );
          }
          getDocumentsMatchingQuery(e, r, n, i) {
            let s = a8(),
              a = r.path,
              o = new rR(a.child("__id" + dH + "__")),
              l = this.docs.getIteratorFrom(o);
            for (; l.hasNext(); ) {
              let {
                key: e,
                value: { document: o },
              } = l.getNext();
              if (!a.isPrefixOf(e.path)) break;
              !(e.path.length > a.length + 1 || 0 >= rH(rK(o), n)) &&
                (i.has(o.key) || aX(r, o)) &&
                (s = s.insert(o.key, o.mutableCopy()));
            }
            return rQ.resolve(s);
          }
          getAllFromCollectionGroup(e, r, n, i) {
            rt();
          }
          forEachDocumentKey(e, r) {
            return rQ.forEach(this.docs, (e) => r(e));
          }
          newChangeBuffer(e) {
            return new dQ(this);
          }
          getSize(e) {
            return rQ.resolve(this.size);
          }
        }
        function dG(e) {
          return new dW(e);
        }
        class dQ extends dA {
          constructor(e) {
            super(), (this.documentCache = e);
          }
          applyChanges(e) {
            let r = [];
            return (
              this.changes.forEach((n, i) => {
                i.isValidDocument()
                  ? r.push(this.documentCache.addEntry(e, i))
                  : this.documentCache.removeEntry(n);
              }),
              rQ.waitFor(r)
            );
          }
          getFromCache(e, r) {
            return this.documentCache.getEntry(e, r);
          }
          getAllFromCache(e, r) {
            return this.documentCache.getEntries(e, r);
          }
        }
        class dY {
          constructor(e) {
            (this.persistence = e),
              (this.targets = new a5((e) => av(e), aw)),
              (this.lastRemoteSnapshotVersion = rC.min()),
              (this.highestTargetId = 0),
              (this.highestSequenceNumber = 0),
              (this.references = new dV()),
              (this.targetCount = 0),
              (this.targetIdGenerator = dn.forTargetCache());
          }
          forEachTarget(e, r) {
            return this.targets.forEach((e, n) => r(n)), rQ.resolve();
          }
          getLastRemoteSnapshotVersion(e) {
            return rQ.resolve(this.lastRemoteSnapshotVersion);
          }
          getHighestSequenceNumber(e) {
            return rQ.resolve(this.highestSequenceNumber);
          }
          allocateTargetId(e) {
            return (
              (this.highestTargetId = this.targetIdGenerator.next()),
              rQ.resolve(this.highestTargetId)
            );
          }
          setTargetsMetadata(e, r, n) {
            return (
              n && (this.lastRemoteSnapshotVersion = n),
              r > this.highestSequenceNumber &&
                (this.highestSequenceNumber = r),
              rQ.resolve()
            );
          }
          saveTargetData(e) {
            this.targets.set(e.target, e);
            let r = e.targetId;
            r > this.highestTargetId &&
              ((this.targetIdGenerator = new dn(r)),
              (this.highestTargetId = r)),
              e.sequenceNumber > this.highestSequenceNumber &&
                (this.highestSequenceNumber = e.sequenceNumber);
          }
          addTargetData(e, r) {
            return (
              this.saveTargetData(r), (this.targetCount += 1), rQ.resolve()
            );
          }
          updateTargetData(e, r) {
            return this.saveTargetData(r), rQ.resolve();
          }
          removeTargetData(e, r) {
            return (
              this.targets.delete(r.target),
              this.references.removeReferencesForId(r.targetId),
              (this.targetCount -= 1),
              rQ.resolve()
            );
          }
          removeTargets(e, r, n) {
            let i = 0,
              s = [];
            return (
              this.targets.forEach((a, o) => {
                o.sequenceNumber <= r &&
                  null === n.get(o.targetId) &&
                  (this.targets.delete(a),
                  s.push(this.removeMatchingKeysForTargetId(e, o.targetId)),
                  i++);
              }),
              rQ.waitFor(s).next(() => i)
            );
          }
          getTargetCount(e) {
            return rQ.resolve(this.targetCount);
          }
          getTargetData(e, r) {
            let n = this.targets.get(r) || null;
            return rQ.resolve(n);
          }
          addMatchingKeys(e, r, n) {
            return this.references.addReferences(r, n), rQ.resolve();
          }
          removeMatchingKeys(e, r, n) {
            this.references.removeReferences(r, n);
            let i = this.persistence.referenceDelegate,
              s = [];
            return (
              i &&
                r.forEach((r) => {
                  s.push(i.markPotentiallyOrphaned(e, r));
                }),
              rQ.waitFor(s)
            );
          }
          removeMatchingKeysForTargetId(e, r) {
            return this.references.removeReferencesForId(r), rQ.resolve();
          }
          getMatchingKeysForTargetId(e, r) {
            let n = this.references.referencesForId(r);
            return rQ.resolve(n);
          }
          containsKey(e, r) {
            return rQ.resolve(this.references.containsKey(r));
          }
        }
        let dX = "MemoryPersistence";
        class dJ {
          constructor(e, r) {
            (this.mutationQueues = {}),
              (this.overlays = {}),
              (this.listenSequence = new ni(0)),
              (this._started = !1),
              (this._started = !0),
              (this.globalsCache = new dz()),
              (this.referenceDelegate = e(this)),
              (this.targetCache = new dY(this));
            let n = (e) => this.referenceDelegate.documentSize(e);
            (this.indexManager = new cG()),
              (this.remoteDocumentCache = dG(n)),
              (this.serializer = new uD(r)),
              (this.bundleCache = new dU(this.serializer));
          }
          start() {
            return Promise.resolve();
          }
          shutdown() {
            return (this._started = !1), Promise.resolve();
          }
          get started() {
            return this._started;
          }
          setDatabaseDeletedListener() {}
          setNetworkEnabled() {}
          getIndexManager(e) {
            return this.indexManager;
          }
          getDocumentOverlayCache(e) {
            let r = this.overlays[e.toKey()];
            return r || ((r = new dj()), (this.overlays[e.toKey()] = r)), r;
          }
          getMutationQueue(e, r) {
            let n = this.mutationQueues[e.toKey()];
            return (
              n ||
                ((n = new dq(r, this.referenceDelegate)),
                (this.mutationQueues[e.toKey()] = n)),
              n
            );
          }
          getGlobalsCache() {
            return this.globalsCache;
          }
          getTargetCache() {
            return this.targetCache;
          }
          getRemoteDocumentCache() {
            return this.remoteDocumentCache;
          }
          getBundleCache() {
            return this.bundleCache;
          }
          runTransaction(e, r, n) {
            t8(dX, "Starting transaction:", e);
            let i = new dZ(this.listenSequence.next());
            return (
              this.referenceDelegate.onTransactionStarted(),
              n(i)
                .next((e) =>
                  this.referenceDelegate
                    .onTransactionCommitted(i)
                    .next(() => e),
                )
                .toPromise()
                .then((e) => (i.raiseOnCommittedEvent(), e))
            );
          }
          mutationQueuesContainKey(e, r) {
            return rQ.or(
              Object.values(this.mutationQueues).map(
                (n) => () => n.containsKey(e, r),
              ),
            );
          }
        }
        class dZ extends rW {
          constructor(e) {
            super(), (this.currentSequenceNumber = e);
          }
        }
        class d0 {
          constructor(e) {
            (this.persistence = e),
              (this.localViewReferences = new dV()),
              (this._orphanedDocuments = null);
          }
          static factory(e) {
            return new d0(e);
          }
          get orphanedDocuments() {
            if (this._orphanedDocuments) return this._orphanedDocuments;
            throw rt();
          }
          addReference(e, r, n) {
            return (
              this.localViewReferences.addReference(n, r),
              this.orphanedDocuments.delete(n.toString()),
              rQ.resolve()
            );
          }
          removeReference(e, r, n) {
            return (
              this.localViewReferences.removeReference(n, r),
              this.orphanedDocuments.add(n.toString()),
              rQ.resolve()
            );
          }
          markPotentiallyOrphaned(e, r) {
            return this.orphanedDocuments.add(r.toString()), rQ.resolve();
          }
          removeTarget(e, r) {
            this.localViewReferences
              .removeReferencesForId(r.targetId)
              .forEach((e) => this.orphanedDocuments.add(e.toString()));
            let n = this.persistence.getTargetCache();
            return n
              .getMatchingKeysForTargetId(e, r.targetId)
              .next((e) => {
                e.forEach((e) => this.orphanedDocuments.add(e.toString()));
              })
              .next(() => n.removeTargetData(e, r));
          }
          onTransactionStarted() {
            this._orphanedDocuments = new Set();
          }
          onTransactionCommitted(e) {
            let r = this.persistence.getRemoteDocumentCache().newChangeBuffer();
            return rQ
              .forEach(this.orphanedDocuments, (n) => {
                let i = rR.fromPath(n);
                return this.isReferenced(e, i).next((e) => {
                  e || r.removeEntry(i, rC.min());
                });
              })
              .next(() => ((this._orphanedDocuments = null), r.apply(e)));
          }
          updateLimboDocument(e, r) {
            return this.isReferenced(e, r).next((e) => {
              e
                ? this.orphanedDocuments.delete(r.toString())
                : this.orphanedDocuments.add(r.toString());
            });
          }
          documentSize(e) {
            return 0;
          }
          isReferenced(e, r) {
            return rQ.or([
              () => rQ.resolve(this.localViewReferences.containsKey(r)),
              () => this.persistence.getTargetCache().containsKey(e, r),
              () => this.persistence.mutationQueuesContainKey(e, r),
            ]);
          }
        }
        class d1 {
          constructor(e, r) {
            (this.persistence = e),
              (this.orphanedSequenceNumbers = new a5(
                (e) => nu(e.path),
                (e, r) => e.isEqual(r),
              )),
              (this.garbageCollector = dT(this, r));
          }
          static factory(e, r) {
            return new d1(e, r);
          }
          onTransactionStarted() {}
          onTransactionCommitted(e) {
            return rQ.resolve();
          }
          forEachTarget(e, r) {
            return this.persistence.getTargetCache().forEachTarget(e, r);
          }
          getSequenceNumberCount(e) {
            let r = this.orphanedDocumentCount(e);
            return this.persistence
              .getTargetCache()
              .getTargetCount(e)
              .next((e) => r.next((r) => e + r));
          }
          orphanedDocumentCount(e) {
            let r = 0;
            return this.forEachOrphanedDocumentSequenceNumber(e, (e) => {
              r++;
            }).next(() => r);
          }
          forEachOrphanedDocumentSequenceNumber(e, r) {
            return rQ.forEach(this.orphanedSequenceNumbers, (n, i) =>
              this.isPinned(e, n, i).next((e) => (e ? rQ.resolve() : r(i))),
            );
          }
          removeTargets(e, r, n) {
            return this.persistence.getTargetCache().removeTargets(e, r, n);
          }
          removeOrphanedDocuments(e, r) {
            let n = 0,
              i = this.persistence.getRemoteDocumentCache(),
              s = i.newChangeBuffer();
            return i
              .forEachDocumentKey(e, (i) =>
                this.isPinned(e, i, r).next((e) => {
                  e || (n++, s.removeEntry(i, rC.min()));
                }),
              )
              .next(() => s.apply(e))
              .next(() => n);
          }
          markPotentiallyOrphaned(e, r) {
            return (
              this.orphanedSequenceNumbers.set(r, e.currentSequenceNumber),
              rQ.resolve()
            );
          }
          removeTarget(e, r) {
            let n = r.withSequenceNumber(e.currentSequenceNumber);
            return this.persistence.getTargetCache().updateTargetData(e, n);
          }
          addReference(e, r, n) {
            return (
              this.orphanedSequenceNumbers.set(n, e.currentSequenceNumber),
              rQ.resolve()
            );
          }
          removeReference(e, r, n) {
            return (
              this.orphanedSequenceNumbers.set(n, e.currentSequenceNumber),
              rQ.resolve()
            );
          }
          updateLimboDocument(e, r) {
            return (
              this.orphanedSequenceNumbers.set(r, e.currentSequenceNumber),
              rQ.resolve()
            );
          }
          documentSize(e) {
            let r = e.key.toString().length;
            return e.isFoundDocument() && (r += sx(e.data.value)), r;
          }
          isPinned(e, r, n) {
            return rQ.or([
              () => this.persistence.mutationQueuesContainKey(e, r),
              () => this.persistence.getTargetCache().containsKey(e, r),
              () => {
                let e = this.orphanedSequenceNumbers.get(r);
                return rQ.resolve(void 0 !== e && e > n);
              },
            ]);
          }
          getCacheSize(e) {
            return this.persistence.getRemoteDocumentCache().getSize(e);
          }
        }
        class d2 {
          constructor(e) {
            this.serializer = e;
          }
          createOrUpgrade(e, r, n, i) {
            let s = new rJ("createOrUpgrade", r);
            n < 1 && i >= 1 && (d4(e), d5(e), he(e), d8(e));
            let a = rQ.resolve();
            return (
              n < 3 &&
                i >= 3 &&
                (0 !== n && (ht(e), he(e)), (a = a.next(() => hn(s)))),
              n < 4 &&
                i >= 4 &&
                (0 !== n && (a = a.next(() => d6(e, s))),
                (a = a.next(() => {
                  hi(e);
                }))),
              n < 5 &&
                i >= 5 &&
                (a = a.next(() => this.removeAcknowledgedMutations(s))),
              n < 6 &&
                i >= 6 &&
                (a = a.next(() => (d9(e), this.addDocumentGlobal(s)))),
              n < 7 &&
                i >= 7 &&
                (a = a.next(() => this.ensureSequenceNumbers(s))),
              n < 8 &&
                i >= 8 &&
                (a = a.next(() => this.createCollectionParentIndex(e, s))),
              n < 9 &&
                i >= 9 &&
                (a = a.next(() => {
                  hr(e);
                })),
              n < 10 &&
                i >= 10 &&
                (a = a.next(() => this.rewriteCanonicalIds(s))),
              n < 11 &&
                i >= 11 &&
                (a = a.next(() => {
                  hs(e), ha(e);
                })),
              n < 12 &&
                i >= 12 &&
                (a = a.next(() => {
                  hl(e);
                })),
              n < 13 &&
                i >= 13 &&
                (a = a
                  .next(() => d7(e))
                  .next(() => this.rewriteRemoteDocumentCache(e, s))
                  .next(() => e.deleteObjectStore(nf))),
              n < 14 &&
                i >= 14 &&
                (a = a.next(() => this.runOverlayMigration(e, s))),
              n < 15 && i >= 15 && (a = a.next(() => ho(e))),
              n < 16 &&
                i >= 16 &&
                (a = a
                  .next(() => {
                    r.objectStore(n3).clear();
                  })
                  .next(() => {
                    r.objectStore(n8).clear();
                  })),
              n < 17 &&
                i >= 17 &&
                (a = a.next(() => {
                  hu(e);
                })),
              a
            );
          }
          addDocumentGlobal(e) {
            let r = 0;
            return e
              .store(nf)
              .iterate((e, n) => {
                r += c5(n);
              })
              .next(() => {
                let n = { byteSize: r };
                return e.store(nN).put(nO, n);
              });
          }
          removeAcknowledgedMutations(e) {
            let r = e.store(nm),
              n = e.store(nv);
            return r.loadAll().next((r) =>
              rQ.forEach(r, (r) => {
                let i = IDBKeyRange.bound(
                  [r.userId, i0],
                  [r.userId, r.lastAcknowledgedBatchId],
                );
                return n.loadAll(nw, i).next((n) =>
                  rQ.forEach(n, (n) => {
                    rr(n.userId === r.userId);
                    let i = uU(this.serializer, n);
                    return c4(e, r.userId, i).next(() => {});
                  }),
                );
              }),
            );
          }
          ensureSequenceNumbers(e) {
            let r = e.store(nU),
              n = e.store(nf);
            return e
              .store(nq)
              .get(nK)
              .next((e) => {
                let i = (n) =>
                    r.put({
                      targetId: 0,
                      path: nu(n),
                      sequenceNumber: e.highestListenSequenceNumber,
                    }),
                  s = [];
                return n
                  .iterate((e, n) => {
                    let a = new rI(e),
                      o = d3(a);
                    s.push(r.get(o).next((e) => (e ? rQ.resolve() : i(a))));
                  })
                  .next(() => rQ.waitFor(s));
              });
          }
          createCollectionParentIndex(e, r) {
            e.createObjectStore(nH, { keyPath: n$ });
            let n = r.store(nH),
              i = new cQ(),
              s = (e) => {
                if (i.add(e)) {
                  let r = e.lastSegment(),
                    i = e.popLast();
                  return n.put({ collectionId: r, parent: nu(i) });
                }
              };
            return r
              .store(nf)
              .iterate({ keysOnly: !0 }, (e, r) => s(new rI(e).popLast()))
              .next(() =>
                r
                  .store(nA)
                  .iterate({ keysOnly: !0 }, ([e, r, n], i) =>
                    s(nh(r).popLast()),
                  ),
              );
          }
          rewriteCanonicalIds(e) {
            let r = e.store(nM);
            return r.iterate((e, n) => {
              let i = uj(n),
                s = uz(this.serializer, i);
              return r.put(s);
            });
          }
          rewriteRemoteDocumentCache(e, r) {
            let n = r.store(nf),
              i = [];
            return n
              .iterate((e, n) => {
                let s = r.store(nI),
                  a = hc(n).path.toArray(),
                  o = {
                    prefixPath: a.slice(0, a.length - 2),
                    collectionGroup: a[a.length - 2],
                    documentId: a[a.length - 1],
                    readTime: n.readTime || [0, 0],
                    unknownDocument: n.unknownDocument,
                    noDocument: n.noDocument,
                    document: n.document,
                    hasCommittedMutations: !!n.hasCommittedMutations,
                  };
                i.push(s.put(o));
              })
              .next(() => rQ.waitFor(i));
          }
          runOverlayMigration(e, r) {
            let n = r.store(nv),
              i = dk(this.serializer),
              s = new dJ(d0.factory, this.serializer.remoteSerializer);
            return n.loadAll().next((e) => {
              let n = new Map();
              return (
                e.forEach((e) => {
                  var r;
                  let i =
                    null !== (r = n.get(e.userId)) && void 0 !== r ? r : ol();
                  uU(this.serializer, e)
                    .keys()
                    .forEach((e) => (i = i.add(e))),
                    n.set(e.userId, i);
                }),
                rQ.forEach(n, (e, n) => {
                  let a = new t1(n),
                    o = u5.forUser(this.serializer, a),
                    l = s.getIndexManager(a);
                  return new dF(
                    i,
                    c6.forUser(a, this.serializer, l, s.referenceDelegate),
                    o,
                    l,
                  )
                    .recalculateAndSaveOverlaysForDocumentKeys(
                      new ib(r, ni.INVALID),
                      e,
                    )
                    .next();
                })
              );
            });
          }
        }
        function d3(e) {
          return [0, nu(e)];
        }
        function d4(e) {
          e.createObjectStore(np);
        }
        function d5(e) {
          e.createObjectStore(nm, { keyPath: ny }),
            e
              .createObjectStore(nv, { keyPath: nb, autoIncrement: !0 })
              .createIndex(nw, nT, { unique: !0 }),
            e.createObjectStore(nA);
        }
        function d6(e, r) {
          return r
            .store(nv)
            .loadAll()
            .next((n) => {
              e.deleteObjectStore(nv),
                e
                  .createObjectStore(nv, { keyPath: nb, autoIncrement: !0 })
                  .createIndex(nw, nT, { unique: !0 });
              let i = r.store(nv),
                s = n.map((e) => i.put(e));
              return rQ.waitFor(s);
            });
        }
        function d8(e) {
          e.createObjectStore(nf);
        }
        function d7(e) {
          let r = e.createObjectStore(nI, { keyPath: nk });
          r.createIndex(n_, nR), r.createIndex(nD, nP);
        }
        function d9(e) {
          e.createObjectStore(nN);
        }
        function he(e) {
          e
            .createObjectStore(nU, { keyPath: nj })
            .createIndex(nz, nV, { unique: !0 }),
            e
              .createObjectStore(nM, { keyPath: nL })
              .createIndex(nB, nF, { unique: !0 }),
            e.createObjectStore(nq);
        }
        function ht(e) {
          e.deleteObjectStore(nU),
            e.deleteObjectStore(nM),
            e.deleteObjectStore(nq);
        }
        function hr(e) {
          e.objectStoreNames.contains("remoteDocumentChanges") &&
            e.deleteObjectStore("remoteDocumentChanges");
        }
        function hn(e) {
          let r = e.store(nq),
            n = {
              highestTargetId: 0,
              highestListenSequenceNumber: 0,
              lastRemoteSnapshotVersion: rC.min().toTimestamp(),
              targetCount: 0,
            };
          return r.put(nK, n);
        }
        function hi(e) {
          e.createObjectStore(nW, { keyPath: nG });
        }
        function hs(e) {
          e.createObjectStore(nQ, { keyPath: nY });
        }
        function ha(e) {
          e.createObjectStore(nX, { keyPath: nJ });
        }
        function ho(e) {
          e
            .createObjectStore(nZ, { keyPath: n0, autoIncrement: !0 })
            .createIndex(n1, n2, { unique: !1 }),
            e
              .createObjectStore(n3, { keyPath: n4 })
              .createIndex(n5, n6, { unique: !1 }),
            e
              .createObjectStore(n8, { keyPath: n7 })
              .createIndex(n9, ie, { unique: !1 });
        }
        function hl(e) {
          let r = e.createObjectStore(it, { keyPath: ir });
          r.createIndex(ii, is, { unique: !1 }),
            r.createIndex(ia, io, { unique: !1 });
        }
        function hu(e) {
          e.createObjectStore(il, { keyPath: iu });
        }
        function hc(e) {
          return e.document
            ? new rR(rI.fromString(e.document.name).popFirst(5))
            : e.noDocument
              ? rR.fromSegments(e.noDocument.path)
              : e.unknownDocument
                ? rR.fromSegments(e.unknownDocument.path)
                : rt();
        }
        let hd = "IndexedDbPersistence",
          hh = 18e5,
          hf = 5e3,
          hp = 4e3,
          hg =
            "Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",
          hm =
            "This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",
          hy = "firestore_zombie",
          hv = "main";
        class hb {
          constructor(e, r, n, i, s, a, o, l, u, c, d = dL) {
            if (
              ((this.allowTabSynchronization = e),
              (this.persistenceKey = r),
              (this.clientId = n),
              (this.queue = s),
              (this.window = a),
              (this.document = o),
              (this.sequenceNumberSyncer = u),
              (this.forceOwningTab = c),
              (this.schemaVersion = d),
              (this.listenSequence = null),
              (this._started = !1),
              (this.isPrimary = !1),
              (this.networkEnabled = !0),
              (this.windowUnloadHandler = null),
              (this.inForeground = !1),
              (this.documentVisibilityHandler = null),
              (this.clientMetadataRefresher = null),
              (this.lastGarbageCollectionTime = Number.NEGATIVE_INFINITY),
              (this.primaryStateListener = (e) => Promise.resolve()),
              !hb.isAvailable())
            )
              throw new rs(ri.UNIMPLEMENTED, hm);
            (this.referenceDelegate = new dS(this, i)),
              (this.dbName = r + hv),
              (this.serializer = new uD(l)),
              (this.simpleDb = new rZ(
                this.dbName,
                this.schemaVersion,
                new d2(this.serializer),
              )),
              (this.globalsCache = new u8()),
              (this.targetCache = new di(
                this.referenceDelegate,
                this.serializer,
              )),
              (this.remoteDocumentCache = dk(this.serializer)),
              (this.bundleCache = new u2()),
              this.window && this.window.localStorage
                ? (this.webStorage = this.window.localStorage)
                : ((this.webStorage = null),
                  !1 === c &&
                    t7(
                      hd,
                      "LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page.",
                    ));
          }
          start() {
            return this.updateClientMetadataAndTryBecomePrimary()
              .then(() => {
                if (!this.isPrimary && !this.allowTabSynchronization)
                  throw new rs(ri.FAILED_PRECONDITION, hg);
                return (
                  this.attachVisibilityHandler(),
                  this.attachWindowUnloadHook(),
                  this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),
                  this.runTransaction(
                    "getHighestListenSequenceNumber",
                    "readonly",
                    (e) => this.targetCache.getHighestSequenceNumber(e),
                  )
                );
              })
              .then((e) => {
                this.listenSequence = new ni(e, this.sequenceNumberSyncer);
              })
              .then(() => {
                this._started = !0;
              })
              .catch(
                (e) => (
                  this.simpleDb && this.simpleDb.close(), Promise.reject(e)
                ),
              );
          }
          setPrimaryStateListener(e) {
            return (
              (this.primaryStateListener = async (r) => {
                if (this.started) return e(r);
              }),
              e(this.isPrimary)
            );
          }
          setDatabaseDeletedListener(e) {
            this.simpleDb.setVersionChangeListener(async (r) => {
              null === r.newVersion && (await e());
            });
          }
          setNetworkEnabled(e) {
            this.networkEnabled !== e &&
              ((this.networkEnabled = e),
              this.queue.enqueueAndForget(async () => {
                this.started &&
                  (await this.updateClientMetadataAndTryBecomePrimary());
              }));
          }
          updateClientMetadataAndTryBecomePrimary() {
            return this.runTransaction(
              "updateClientMetadataAndTryBecomePrimary",
              "readwrite",
              (e) =>
                hT(e)
                  .put({
                    clientId: this.clientId,
                    updateTimeMs: Date.now(),
                    networkEnabled: this.networkEnabled,
                    inForeground: this.inForeground,
                  })
                  .next(() => {
                    if (this.isPrimary)
                      return this.verifyPrimaryLease(e).next((e) => {
                        e ||
                          ((this.isPrimary = !1),
                          this.queue.enqueueRetryable(() =>
                            this.primaryStateListener(!1),
                          ));
                      });
                  })
                  .next(() => this.canActAsPrimary(e))
                  .next((r) =>
                    this.isPrimary && !r
                      ? this.releasePrimaryLeaseIfHeld(e).next(() => !1)
                      : !!r &&
                        this.acquireOrExtendPrimaryLease(e).next(() => !0),
                  ),
            )
              .catch((e) => {
                if (r3(e))
                  return (
                    t8(hd, "Failed to extend owner lease: ", e), this.isPrimary
                  );
                if (!this.allowTabSynchronization) throw e;
                return (
                  t8(
                    hd,
                    "Releasing owner lease after error during lease refresh",
                    e,
                  ),
                  !1
                );
              })
              .then((e) => {
                this.isPrimary !== e &&
                  this.queue.enqueueRetryable(() =>
                    this.primaryStateListener(e),
                  ),
                  (this.isPrimary = e);
              });
          }
          verifyPrimaryLease(e) {
            return hw(e)
              .get(ng)
              .next((e) => rQ.resolve(this.isLocalClient(e)));
          }
          removeClientMetadata(e) {
            return hT(e).delete(this.clientId);
          }
          async maybeGarbageCollectMultiClientState() {
            if (
              this.isPrimary &&
              !this.isWithinAge(this.lastGarbageCollectionTime, hh)
            ) {
              this.lastGarbageCollectionTime = Date.now();
              let e = await this.runTransaction(
                "maybeGarbageCollectMultiClientState",
                "readwrite-primary",
                (e) => {
                  let r = iw(e, nW);
                  return r.loadAll().next((e) => {
                    let n = this.filterActiveClients(e, hh),
                      i = e.filter((e) => -1 === n.indexOf(e));
                    return rQ
                      .forEach(i, (e) => r.delete(e.clientId))
                      .next(() => i);
                  });
                },
              ).catch(() => []);
              if (this.webStorage)
                for (let r of e)
                  this.webStorage.removeItem(
                    this.zombiedClientLocalStorageKey(r.clientId),
                  );
            }
          }
          scheduleClientMetadataAndPrimaryLeaseRefreshes() {
            this.clientMetadataRefresher = this.queue.enqueueAfterDelay(
              "client_metadata_refresh",
              hp,
              () =>
                this.updateClientMetadataAndTryBecomePrimary()
                  .then(() => this.maybeGarbageCollectMultiClientState())
                  .then(() =>
                    this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),
                  ),
            );
          }
          isLocalClient(e) {
            return !!e && e.ownerId === this.clientId;
          }
          canActAsPrimary(e) {
            return this.forceOwningTab
              ? rQ.resolve(!0)
              : hw(e)
                  .get(ng)
                  .next((r) => {
                    if (
                      null !== r &&
                      this.isWithinAge(r.leaseTimestampMs, hf) &&
                      !this.isClientZombied(r.ownerId)
                    ) {
                      if (this.isLocalClient(r) && this.networkEnabled)
                        return !0;
                      if (!this.isLocalClient(r)) {
                        if (!r.allowTabSynchronization)
                          throw new rs(ri.FAILED_PRECONDITION, hg);
                        return !1;
                      }
                    }
                    return (
                      (!!this.networkEnabled && !!this.inForeground) ||
                      hT(e)
                        .loadAll()
                        .next(
                          (e) =>
                            void 0 ===
                            this.filterActiveClients(e, hf).find((e) => {
                              if (this.clientId !== e.clientId) {
                                let r =
                                    !this.networkEnabled && e.networkEnabled,
                                  n = !this.inForeground && e.inForeground,
                                  i = this.networkEnabled === e.networkEnabled;
                                if (r || (n && i)) return !0;
                              }
                              return !1;
                            }),
                        )
                    );
                  })
                  .next(
                    (e) => (
                      this.isPrimary !== e &&
                        t8(
                          hd,
                          `Client ${e ? "is" : "is not"} eligible for a primary lease.`,
                        ),
                      e
                    ),
                  );
          }
          async shutdown() {
            (this._started = !1),
              this.markClientZombied(),
              this.clientMetadataRefresher &&
                (this.clientMetadataRefresher.cancel(),
                (this.clientMetadataRefresher = null)),
              this.detachVisibilityHandler(),
              this.detachWindowUnloadHook(),
              await this.simpleDb.runTransaction(
                "shutdown",
                "readwrite",
                [np, nW],
                (e) => {
                  let r = new ib(e, ni.INVALID);
                  return this.releasePrimaryLeaseIfHeld(r).next(() =>
                    this.removeClientMetadata(r),
                  );
                },
              ),
              this.simpleDb.close(),
              this.removeClientZombiedEntry();
          }
          filterActiveClients(e, r) {
            return e.filter(
              (e) =>
                this.isWithinAge(e.updateTimeMs, r) &&
                !this.isClientZombied(e.clientId),
            );
          }
          getActiveClients() {
            return this.runTransaction("getActiveClients", "readonly", (e) =>
              hT(e)
                .loadAll()
                .next((e) =>
                  this.filterActiveClients(e, hh).map((e) => e.clientId),
                ),
            );
          }
          get started() {
            return this._started;
          }
          getGlobalsCache() {
            return this.globalsCache;
          }
          getMutationQueue(e, r) {
            return c6.forUser(e, this.serializer, r, this.referenceDelegate);
          }
          getTargetCache() {
            return this.targetCache;
          }
          getRemoteDocumentCache() {
            return this.remoteDocumentCache;
          }
          getIndexManager(e) {
            return new cJ(e, this.serializer.remoteSerializer.databaseId);
          }
          getDocumentOverlayCache(e) {
            return u5.forUser(this.serializer, e);
          }
          getBundleCache() {
            return this.bundleCache;
          }
          runTransaction(e, r, n) {
            let i;
            t8(hd, "Starting transaction:", e);
            let s = "readonly" === r ? "readonly" : "readwrite",
              a = iv(this.schemaVersion);
            return this.simpleDb
              .runTransaction(e, s, a, (s) =>
                ((i = new ib(
                  s,
                  this.listenSequence ? this.listenSequence.next() : ni.INVALID,
                )),
                "readwrite-primary" === r)
                  ? this.verifyPrimaryLease(i)
                      .next((e) => !!e || this.canActAsPrimary(i))
                      .next((r) => {
                        if (!r)
                          throw (
                            (t7(
                              `Failed to obtain primary lease for action '${e}'.`,
                            ),
                            (this.isPrimary = !1),
                            this.queue.enqueueRetryable(() =>
                              this.primaryStateListener(!1),
                            ),
                            new rs(ri.FAILED_PRECONDITION, r$))
                          );
                        return n(i);
                      })
                      .next((e) =>
                        this.acquireOrExtendPrimaryLease(i).next(() => e),
                      )
                  : this.verifyAllowTabSynchronization(i).next(() => n(i)),
              )
              .then((e) => (i.raiseOnCommittedEvent(), e));
          }
          verifyAllowTabSynchronization(e) {
            return hw(e)
              .get(ng)
              .next((e) => {
                if (
                  null !== e &&
                  this.isWithinAge(e.leaseTimestampMs, hf) &&
                  !this.isClientZombied(e.ownerId) &&
                  !this.isLocalClient(e) &&
                  !this.forceOwningTab &&
                  (!this.allowTabSynchronization || !e.allowTabSynchronization)
                )
                  throw new rs(ri.FAILED_PRECONDITION, hg);
              });
          }
          acquireOrExtendPrimaryLease(e) {
            let r = {
              ownerId: this.clientId,
              allowTabSynchronization: this.allowTabSynchronization,
              leaseTimestampMs: Date.now(),
            };
            return hw(e).put(ng, r);
          }
          static isAvailable() {
            return rZ.isAvailable();
          }
          releasePrimaryLeaseIfHeld(e) {
            let r = hw(e);
            return r
              .get(ng)
              .next((e) =>
                this.isLocalClient(e)
                  ? (t8(hd, "Releasing primary lease."), r.delete(ng))
                  : rQ.resolve(),
              );
          }
          isWithinAge(e, r) {
            let n = Date.now(),
              i = n - r,
              s = n;
            return (
              !(e < i) &&
              (!(e > s) ||
                (t7(
                  `Detected an update time that is in the future: ${e} > ${s}`,
                ),
                !1))
            );
          }
          attachVisibilityHandler() {
            null !== this.document &&
              "function" == typeof this.document.addEventListener &&
              ((this.documentVisibilityHandler = () => {
                this.queue.enqueueAndForget(
                  () => (
                    (this.inForeground =
                      "visible" === this.document.visibilityState),
                    this.updateClientMetadataAndTryBecomePrimary()
                  ),
                );
              }),
              this.document.addEventListener(
                "visibilitychange",
                this.documentVisibilityHandler,
              ),
              (this.inForeground =
                "visible" === this.document.visibilityState));
          }
          detachVisibilityHandler() {
            this.documentVisibilityHandler &&
              (this.document.removeEventListener(
                "visibilitychange",
                this.documentVisibilityHandler,
              ),
              (this.documentVisibilityHandler = null));
          }
          attachWindowUnloadHook() {
            var e;
            "function" ==
              typeof (null === (e = this.window) || void 0 === e
                ? void 0
                : e.addEventListener) &&
              ((this.windowUnloadHandler = () => {
                this.markClientZombied();
                let e = /(?:Version|Mobile)\/1[456]/;
                eC() &&
                  (navigator.appVersion.match(e) ||
                    navigator.userAgent.match(e)) &&
                  this.queue.enterRestrictedMode(!0),
                  this.queue.enqueueAndForget(() => this.shutdown());
              }),
              this.window.addEventListener(
                "pagehide",
                this.windowUnloadHandler,
              ));
          }
          detachWindowUnloadHook() {
            this.windowUnloadHandler &&
              (this.window.removeEventListener(
                "pagehide",
                this.windowUnloadHandler,
              ),
              (this.windowUnloadHandler = null));
          }
          isClientZombied(e) {
            var r;
            try {
              let n =
                (null === (r = this.webStorage) || void 0 === r
                  ? void 0
                  : r.getItem(this.zombiedClientLocalStorageKey(e))) !== null;
              return (
                t8(
                  hd,
                  `Client '${e}' ${n ? "is" : "is not"} zombied in LocalStorage`,
                ),
                n
              );
            } catch (e) {
              return t7(hd, "Failed to get zombied client id.", e), !1;
            }
          }
          markClientZombied() {
            if (this.webStorage)
              try {
                this.webStorage.setItem(
                  this.zombiedClientLocalStorageKey(this.clientId),
                  String(Date.now()),
                );
              } catch (e) {
                t7("Failed to set zombie client id.", e);
              }
          }
          removeClientZombiedEntry() {
            if (this.webStorage)
              try {
                this.webStorage.removeItem(
                  this.zombiedClientLocalStorageKey(this.clientId),
                );
              } catch (e) {}
          }
          zombiedClientLocalStorageKey(e) {
            return `${hy}_${this.persistenceKey}_${e}`;
          }
        }
        function hw(e) {
          return iw(e, np);
        }
        function hT(e) {
          return iw(e, nW);
        }
        function hS(e, r) {
          let n = e.projectId;
          return (
            e.isDefaultDatabase || (n += "." + e.database),
            "firestore/" + r + "/" + n + "/"
          );
        }
        function hE(e, r, n, i, s) {
          (r = [...r]), (e = [...e]).sort(n), r.sort(n);
          let a = e.length,
            o = r.length,
            l = 0,
            u = 0;
          for (; l < o && u < a; ) {
            let a = n(e[u], r[l]);
            a < 0 ? s(e[u++]) : a > 0 ? i(r[l++]) : (l++, u++);
          }
          for (; l < o; ) i(r[l++]);
          for (; u < a; ) s(e[u++]);
        }
        function hC(e, r) {
          if (e.length !== r.length) return !1;
          for (let n = 0; n < e.length; ++n) if (e[n] !== r[n]) return !1;
          return !0;
        }
        let hx = "LocalStore",
          hA = 3e8;
        class hI {
          constructor(e, r, n, i) {
            (this.persistence = e),
              (this.queryEngine = r),
              (this.serializer = i),
              (this.targetDataByTarget = new iC(rv)),
              (this.targetIdByTarget = new a5((e) => av(e), aw)),
              (this.collectionGroupReadTime = new Map()),
              (this.remoteDocuments = e.getRemoteDocumentCache()),
              (this.targetCache = e.getTargetCache()),
              (this.bundleCache = e.getBundleCache()),
              this.initializeUserComponents(n);
          }
          initializeUserComponents(e) {
            (this.documentOverlayCache =
              this.persistence.getDocumentOverlayCache(e)),
              (this.indexManager = this.persistence.getIndexManager(e)),
              (this.mutationQueue = this.persistence.getMutationQueue(
                e,
                this.indexManager,
              )),
              (this.localDocuments = new dF(
                this.remoteDocuments,
                this.mutationQueue,
                this.documentOverlayCache,
                this.indexManager,
              )),
              this.remoteDocuments.setIndexManager(this.indexManager),
              this.queryEngine.initialize(
                this.localDocuments,
                this.indexManager,
              );
          }
          collectGarbage(e) {
            return this.persistence.runTransaction(
              "Collect garbage",
              "readwrite-primary",
              (r) => e.collect(r, this.targetDataByTarget),
            );
          }
        }
        function hk(e, r, n, i) {
          return new hI(e, r, n, i);
        }
        async function h_(e, r) {
          let n = rn(e);
          return await n.persistence.runTransaction(
            "Handle user change",
            "readonly",
            (e) => {
              let i;
              return n.mutationQueue
                .getAllMutationBatches(e)
                .next(
                  (s) => (
                    (i = s),
                    n.initializeUserComponents(r),
                    n.mutationQueue.getAllMutationBatches(e)
                  ),
                )
                .next((r) => {
                  let s = [],
                    a = [],
                    o = ol();
                  for (let e of i)
                    for (let r of (s.push(e.batchId), e.mutations))
                      o = o.add(r.key);
                  for (let e of r)
                    for (let r of (a.push(e.batchId), e.mutations))
                      o = o.add(r.key);
                  return n.localDocuments
                    .getDocuments(e, o)
                    .next((e) => ({
                      affectedDocuments: e,
                      removedBatchIds: s,
                      addedBatchIds: a,
                    }));
                });
            },
          );
        }
        function hR(e, r) {
          let n, i;
          let s = rn(e),
            a = rE.now(),
            o = r.reduce((e, r) => e.add(r.key), ol());
          return s.persistence
            .runTransaction("Locally write mutations", "readwrite", (e) => {
              let l = a8(),
                u = ol();
              return s.remoteDocuments
                .getEntries(e, o)
                .next((e) => {
                  (l = e).forEach((e, r) => {
                    r.isValidDocument() || (u = u.add(e));
                  });
                })
                .next(() => s.localDocuments.getOverlayedDocuments(e, l))
                .next((i) => {
                  n = i;
                  let o = [];
                  for (let e of r) {
                    let r = oF(e, n.get(e.key).overlayedDocument);
                    null != r &&
                      o.push(
                        new oK(e.key, r, sH(r.value.mapValue), oP.exists(!0)),
                      );
                  }
                  return s.mutationQueue.addMutationBatch(e, a, o, r);
                })
                .next((r) => {
                  i = r;
                  let a = r.applyToLocalDocumentSet(n, u);
                  return s.documentOverlayCache.saveOverlays(e, r.batchId, a);
                });
            })
            .then(() => ({ batchId: i.batchId, changes: ot(n) }));
        }
        function hD(e, r) {
          let n = rn(e);
          return n.persistence.runTransaction(
            "Acknowledge batch",
            "readwrite-primary",
            (e) => {
              let i = r.batch.keys(),
                s = n.remoteDocuments.newChangeBuffer({ trackRemovals: !0 });
              return h$(n, e, r, s)
                .next(() => s.apply(e))
                .next(() => n.mutationQueue.performConsistencyCheck(e))
                .next(() =>
                  n.documentOverlayCache.removeOverlaysForBatchId(
                    e,
                    i,
                    r.batch.batchId,
                  ),
                )
                .next(() =>
                  n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(
                    e,
                    hP(r),
                  ),
                )
                .next(() => n.localDocuments.getDocuments(e, i));
            },
          );
        }
        function hP(e) {
          let r = ol();
          for (let n = 0; n < e.mutationResults.length; ++n)
            e.mutationResults[n].transformResults.length > 0 &&
              (r = r.add(e.batch.mutations[n].key));
          return r;
        }
        function hN(e, r) {
          let n = rn(e);
          return n.persistence.runTransaction(
            "Reject batch",
            "readwrite-primary",
            (e) => {
              let i;
              return n.mutationQueue
                .lookupMutationBatch(e, r)
                .next(
                  (r) => (
                    rr(null !== r),
                    (i = r.keys()),
                    n.mutationQueue.removeMutationBatch(e, r)
                  ),
                )
                .next(() => n.mutationQueue.performConsistencyCheck(e))
                .next(() =>
                  n.documentOverlayCache.removeOverlaysForBatchId(e, i, r),
                )
                .next(() =>
                  n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(
                    e,
                    i,
                  ),
                )
                .next(() => n.localDocuments.getDocuments(e, i));
            },
          );
        }
        function hO(e) {
          let r = rn(e);
          return r.persistence.runTransaction(
            "Get highest unacknowledged batch id",
            "readonly",
            (e) => r.mutationQueue.getHighestUnacknowledgedBatchId(e),
          );
        }
        function hM(e) {
          let r = rn(e);
          return r.persistence.runTransaction(
            "Get last remote snapshot version",
            "readonly",
            (e) => r.targetCache.getLastRemoteSnapshotVersion(e),
          );
        }
        function hL(e, r) {
          let n = rn(e),
            i = r.snapshotVersion,
            s = n.targetDataByTarget;
          return n.persistence
            .runTransaction("Apply remote event", "readwrite-primary", (e) => {
              let a = n.remoteDocuments.newChangeBuffer({ trackRemovals: !0 });
              s = n.targetDataByTarget;
              let o = [];
              r.targetChanges.forEach((a, l) => {
                let u = s.get(l);
                if (!u) return;
                o.push(
                  n.targetCache
                    .removeMatchingKeys(e, a.removedDocuments, l)
                    .next(() =>
                      n.targetCache.addMatchingKeys(e, a.addedDocuments, l),
                    ),
                );
                let c = u.withSequenceNumber(e.currentSequenceNumber);
                null !== r.targetMismatches.get(l)
                  ? (c = c
                      .withResumeToken(iM.EMPTY_BYTE_STRING, rC.min())
                      .withLastLimboFreeSnapshotVersion(rC.min()))
                  : a.resumeToken.approximateByteSize() > 0 &&
                    (c = c.withResumeToken(a.resumeToken, i)),
                  (s = s.insert(l, c)),
                  hF(u, c, a) && o.push(n.targetCache.updateTargetData(e, c));
              });
              let l = a8(),
                u = ol();
              if (
                (r.documentUpdates.forEach((i) => {
                  r.resolvedLimboDocuments.has(i) &&
                    o.push(
                      n.persistence.referenceDelegate.updateLimboDocument(e, i),
                    );
                }),
                o.push(
                  hB(e, a, r.documentUpdates).next((e) => {
                    (l = e.changedDocuments), (u = e.existenceChangedKeys);
                  }),
                ),
                !i.isEqual(rC.min()))
              ) {
                let r = n.targetCache
                  .getLastRemoteSnapshotVersion(e)
                  .next((r) =>
                    n.targetCache.setTargetsMetadata(
                      e,
                      e.currentSequenceNumber,
                      i,
                    ),
                  );
                o.push(r);
              }
              return rQ
                .waitFor(o)
                .next(() => a.apply(e))
                .next(() => n.localDocuments.getLocalViewOfDocuments(e, l, u))
                .next(() => l);
            })
            .then((e) => ((n.targetDataByTarget = s), e));
        }
        function hB(e, r, n) {
          let i = ol(),
            s = ol();
          return (
            n.forEach((e) => (i = i.add(e))),
            r.getEntries(e, i).next((e) => {
              let i = a8();
              return (
                n.forEach((n, a) => {
                  let o = e.get(n);
                  a.isFoundDocument() !== o.isFoundDocument() && (s = s.add(n)),
                    a.isNoDocument() && a.version.isEqual(rC.min())
                      ? (r.removeEntry(n, a.readTime), (i = i.insert(n, a)))
                      : !o.isValidDocument() ||
                          a.version.compareTo(o.version) > 0 ||
                          (0 === a.version.compareTo(o.version) &&
                            o.hasPendingWrites)
                        ? (r.addEntry(a), (i = i.insert(n, a)))
                        : t8(
                            hx,
                            "Ignoring outdated watch update for ",
                            n,
                            ". Current version:",
                            o.version,
                            " Watch version:",
                            a.version,
                          );
                }),
                { changedDocuments: i, existenceChangedKeys: s }
              );
            })
          );
        }
        function hF(e, r, n) {
          return (
            !!(
              0 === e.resumeToken.approximateByteSize() ||
              r.snapshotVersion.toMicroseconds() -
                e.snapshotVersion.toMicroseconds() >=
                hA
            ) ||
            n.addedDocuments.size +
              n.modifiedDocuments.size +
              n.removedDocuments.size >
              0
          );
        }
        async function hU(e, r) {
          let n = rn(e);
          try {
            await n.persistence.runTransaction(
              "notifyLocalViewChanges",
              "readwrite",
              (e) =>
                rQ.forEach(r, (r) =>
                  rQ
                    .forEach(r.addedKeys, (i) =>
                      n.persistence.referenceDelegate.addReference(
                        e,
                        r.targetId,
                        i,
                      ),
                    )
                    .next(() =>
                      rQ.forEach(r.removedKeys, (i) =>
                        n.persistence.referenceDelegate.removeReference(
                          e,
                          r.targetId,
                          i,
                        ),
                      ),
                    ),
                ),
            );
          } catch (e) {
            if (r3(e)) t8(hx, "Failed to update sequence numbers: " + e);
            else throw e;
          }
          for (let e of r) {
            let r = e.targetId;
            if (!e.fromCache) {
              let e = n.targetDataByTarget.get(r),
                i = e.snapshotVersion,
                s = e.withLastLimboFreeSnapshotVersion(i);
              n.targetDataByTarget = n.targetDataByTarget.insert(r, s);
            }
          }
        }
        function hj(e, r) {
          let n = rn(e);
          return n.persistence.runTransaction(
            "Get next mutation batch",
            "readonly",
            (e) => (
              void 0 === r && (r = i0),
              n.mutationQueue.getNextMutationBatchAfterBatchId(e, r)
            ),
          );
        }
        function hz(e, r) {
          let n = rn(e);
          return n.persistence.runTransaction(
            "read document",
            "readonly",
            (e) => n.localDocuments.getDocument(e, r),
          );
        }
        function hV(e, r) {
          let n = rn(e);
          return n.persistence
            .runTransaction("Allocate target", "readwrite", (e) => {
              let i;
              return n.targetCache
                .getTargetData(e, r)
                .next((s) =>
                  s
                    ? ((i = s), rQ.resolve(i))
                    : n.targetCache
                        .allocateTargetId(e)
                        .next(
                          (s) => (
                            (i = new uR(
                              r,
                              s,
                              "TargetPurposeListen",
                              e.currentSequenceNumber,
                            )),
                            n.targetCache.addTargetData(e, i).next(() => i)
                          ),
                        ),
                );
            })
            .then((e) => {
              let i = n.targetDataByTarget.get(e.targetId);
              return (
                (null === i ||
                  e.snapshotVersion.compareTo(i.snapshotVersion) > 0) &&
                  ((n.targetDataByTarget = n.targetDataByTarget.insert(
                    e.targetId,
                    e,
                  )),
                  n.targetIdByTarget.set(r, e.targetId)),
                e
              );
            });
        }
        function hK(e, r, n) {
          let i = rn(e),
            s = i.targetIdByTarget.get(n);
          return void 0 !== s
            ? rQ.resolve(i.targetDataByTarget.get(s))
            : i.targetCache.getTargetData(r, n);
        }
        async function hq(e, r, n) {
          let i = rn(e),
            s = i.targetDataByTarget.get(r),
            a = n ? "readwrite" : "readwrite-primary";
          try {
            n ||
              (await i.persistence.runTransaction("Release target", a, (e) =>
                i.persistence.referenceDelegate.removeTarget(e, s),
              ));
          } catch (e) {
            if (r3(e))
              t8(hx, `Failed to update sequence numbers for target ${r}: ${e}`);
            else throw e;
          }
          (i.targetDataByTarget = i.targetDataByTarget.remove(r)),
            i.targetIdByTarget.delete(s.target);
        }
        function hH(e, r, n) {
          let i = rn(e),
            s = rC.min(),
            a = ol();
          return i.persistence.runTransaction(
            "Execute query",
            "readwrite",
            (e) =>
              hK(i, e, aj(r))
                .next((r) => {
                  if (r)
                    return (
                      (s = r.lastLimboFreeSnapshotVersion),
                      i.targetCache
                        .getMatchingKeysForTargetId(e, r.targetId)
                        .next((e) => {
                          a = e;
                        })
                    );
                })
                .next(() =>
                  i.queryEngine.getDocumentsMatchingQuery(
                    e,
                    r,
                    n ? s : rC.min(),
                    n ? a : ol(),
                  ),
                )
                .next(
                  (e) => (hJ(i, a2(r), e), { documents: e, remoteKeys: a }),
                ),
          );
        }
        function h$(e, r, n, i) {
          let s = n.batch,
            a = s.keys(),
            o = rQ.resolve();
          return (
            a.forEach((e) => {
              o = o
                .next(() => i.getEntry(r, e))
                .next((r) => {
                  let a = n.docVersions.get(e);
                  rr(null !== a),
                    0 > r.version.compareTo(a) &&
                      (s.applyToRemoteDocument(r, n),
                      r.isValidDocument() &&
                        (r.setReadTime(n.commitVersion), i.addEntry(r)));
                });
            }),
            o.next(() => e.mutationQueue.removeMutationBatch(r, s))
          );
        }
        function hW(e, r) {
          let n = rn(e),
            i = rn(n.mutationQueue);
          return n.persistence.runTransaction(
            "Lookup mutation documents",
            "readonly",
            (e) =>
              i
                .lookupMutationKeys(e, r)
                .next((r) =>
                  r ? n.localDocuments.getDocuments(e, r) : rQ.resolve(null),
                ),
          );
        }
        function hG(e, r) {
          rn(rn(e, hI).mutationQueue).removeCachedMutationKeys(r);
        }
        function hQ(e) {
          return rn(rn(e, hI).persistence).getActiveClients();
        }
        function hY(e, r) {
          let n = rn(e),
            i = rn(n.targetCache),
            s = n.targetDataByTarget.get(r);
          return s
            ? Promise.resolve(s.target)
            : n.persistence.runTransaction("Get target data", "readonly", (e) =>
                i
                  .getTargetDataForTarget(e, r)
                  .next((e) => (e ? e.target : null)),
              );
        }
        function hX(e, r) {
          let n = rn(e),
            i = n.collectionGroupReadTime.get(r) || rC.min();
          return n.persistence
            .runTransaction("Get new document changes", "readonly", (e) =>
              n.remoteDocuments.getAllFromCollectionGroup(
                e,
                r,
                rV(i, rD),
                Number.MAX_SAFE_INTEGER,
              ),
            )
            .then((e) => (hJ(n, r, e), e));
        }
        function hJ(e, r, n) {
          let i = e.collectionGroupReadTime.get(r) || rC.min();
          n.forEach((e, r) => {
            r.readTime.compareTo(i) > 0 && (i = r.readTime);
          }),
            e.collectionGroupReadTime.set(r, i);
        }
        function hZ(e) {
          return aj(aN(rI.fromString(`__bundle__/docs/${e}`)));
        }
        async function h0(e, r, n, i) {
          let s = rn(e),
            a = ol(),
            o = a8();
          for (let e of n) {
            let n = r.toDocumentKey(e.metadata.name);
            e.document && (a = a.add(n));
            let i = r.toMutableDocument(e);
            i.setReadTime(r.toSnapshotVersion(e.metadata.readTime)),
              (o = o.insert(n, i));
          }
          let l = s.remoteDocuments.newChangeBuffer({ trackRemovals: !0 }),
            u = await hV(s, hZ(i));
          return s.persistence.runTransaction(
            "Apply bundle documents",
            "readwrite",
            (e) =>
              hB(e, l, o)
                .next((r) => (l.apply(e), r))
                .next((r) =>
                  s.targetCache
                    .removeMatchingKeysForTargetId(e, u.targetId)
                    .next(() => s.targetCache.addMatchingKeys(e, a, u.targetId))
                    .next(() =>
                      s.localDocuments.getLocalViewOfDocuments(
                        e,
                        r.changedDocuments,
                        r.existenceChangedKeys,
                      ),
                    )
                    .next(() => r.changedDocuments),
                ),
          );
        }
        function h1(e, r) {
          let n = rn(e),
            i = l_(r.createTime);
          return n.persistence
            .runTransaction("hasNewerBundle", "readonly", (e) =>
              n.bundleCache.getBundleMetadata(e, r.id),
            )
            .then((e) => !!e && e.createTime.compareTo(i) >= 0);
        }
        function h2(e, r) {
          let n = rn(e);
          return n.persistence.runTransaction("Save bundle", "readwrite", (e) =>
            n.bundleCache.saveBundleMetadata(e, r),
          );
        }
        async function h3(e, r, n = ol()) {
          let i = await hV(e, aj(uW(r.bundledQuery))),
            s = rn(e);
          return s.persistence.runTransaction(
            "Save named query",
            "readwrite",
            (e) => {
              let a = l_(r.readTime);
              if (i.snapshotVersion.compareTo(a) >= 0)
                return s.bundleCache.saveNamedQuery(e, r);
              let o = i.withResumeToken(iM.EMPTY_BYTE_STRING, a);
              return (
                (s.targetDataByTarget = s.targetDataByTarget.insert(
                  o.targetId,
                  o,
                )),
                s.targetCache
                  .updateTargetData(e, o)
                  .next(() =>
                    s.targetCache.removeMatchingKeysForTargetId(e, i.targetId),
                  )
                  .next(() => s.targetCache.addMatchingKeys(e, n, i.targetId))
                  .next(() => s.bundleCache.saveNamedQuery(e, r))
              );
            },
          );
        }
        function h4(e, r) {
          rn(e).queryEngine.indexAutoCreationEnabled = r;
        }
        class h5 {
          constructor() {
            this._documentReadCount = 0;
          }
          get documentReadCount() {
            return this._documentReadCount;
          }
          incrementDocumentReadCount(e) {
            this._documentReadCount += e;
          }
        }
        let h6 = 100;
        function h8() {
          return eC() ? 8 : r0(eT()) > 0 ? 6 : 4;
        }
        class h7 {
          constructor() {
            (this.initialized = !1),
              (this.indexAutoCreationEnabled = !1),
              (this.indexAutoCreationMinCollectionSize = h6),
              (this.relativeIndexReadCostPerDocument = h8());
          }
          initialize(e, r) {
            (this.localDocumentsView = e),
              (this.indexManager = r),
              (this.initialized = !0);
          }
          getDocumentsMatchingQuery(e, r, n, i) {
            let s = { result: null };
            return this.performQueryUsingIndex(e, r)
              .next((e) => {
                s.result = e;
              })
              .next(() => {
                if (!s.result)
                  return this.performQueryUsingRemoteKeys(e, r, i, n).next(
                    (e) => {
                      s.result = e;
                    },
                  );
              })
              .next(() => {
                if (s.result) return;
                let n = new h5();
                return this.executeFullCollectionScan(e, r, n).next((i) => {
                  if (((s.result = i), this.indexAutoCreationEnabled))
                    return this.createCacheIndexes(e, r, n, i.size);
                });
              })
              .next(() => s.result);
          }
          createCacheIndexes(e, r, n, i) {
            return n.documentReadCount < this.indexAutoCreationMinCollectionSize
              ? (t6() <= f.DEBUG &&
                  t8(
                    "QueryEngine",
                    "SDK will not create cache indexes for query:",
                    aY(r),
                    "since it only creates cache indexes for collection contains",
                    "more than or equal to",
                    this.indexAutoCreationMinCollectionSize,
                    "documents",
                  ),
                rQ.resolve())
              : (t6() <= f.DEBUG &&
                    t8(
                      "QueryEngine",
                      "Query:",
                      aY(r),
                      "scans",
                      n.documentReadCount,
                      "local documents and returns",
                      i,
                      "documents as results.",
                    ),
                  n.documentReadCount >
                    this.relativeIndexReadCostPerDocument * i)
                ? (t6() <= f.DEBUG &&
                    t8(
                      "QueryEngine",
                      "The SDK decides to create cache indexes for query:",
                      aY(r),
                      "as using cache indexes may help improve performance.",
                    ),
                  this.indexManager.createTargetIndexes(e, aj(r)))
                : rQ.resolve();
          }
          performQueryUsingIndex(e, r) {
            if (aM(r)) return rQ.resolve(null);
            let n = aj(r);
            return this.indexManager.getIndexType(e, n).next((i) =>
              0 === i
                ? null
                : (null !== r.limit &&
                    1 === i &&
                    (n = aj((r = aH(r, null, "F")))),
                  this.indexManager
                    .getDocumentsMatchingTarget(e, n)
                    .next((i) => {
                      let s = ol(...i);
                      return this.localDocumentsView
                        .getDocuments(e, s)
                        .next((i) =>
                          this.indexManager.getMinOffset(e, n).next((n) => {
                            let a = this.applyQuery(r, i);
                            return this.needsRefill(r, a, s, n.readTime)
                              ? this.performQueryUsingIndex(e, aH(r, null, "F"))
                              : this.appendRemainingResults(e, a, r, n);
                          }),
                        );
                    })),
            );
          }
          performQueryUsingRemoteKeys(e, r, n, i) {
            return aM(r) || i.isEqual(rC.min())
              ? rQ.resolve(null)
              : this.localDocumentsView.getDocuments(e, n).next((s) => {
                  let a = this.applyQuery(r, s);
                  return this.needsRefill(r, a, n, i)
                    ? rQ.resolve(null)
                    : (t6() <= f.DEBUG &&
                        t8(
                          "QueryEngine",
                          "Re-using previous result from %s to execute query: %s",
                          i.toString(),
                          aY(r),
                        ),
                      this.appendRemainingResults(e, a, r, rV(i, rD)).next(
                        (e) => e,
                      ));
                });
          }
          applyQuery(e, r) {
            let n = new ik(a3(e));
            return (
              r.forEach((r, i) => {
                aX(e, i) && (n = n.add(i));
              }),
              n
            );
          }
          needsRefill(e, r, n, i) {
            if (null === e.limit) return !1;
            if (n.size !== r.size) return !0;
            let s = "F" === e.limitType ? r.last() : r.first();
            return !!s && (s.hasPendingWrites || s.version.compareTo(i) > 0);
          }
          executeFullCollectionScan(e, r, n) {
            return (
              t6() <= f.DEBUG &&
                t8(
                  "QueryEngine",
                  "Using full collection scan to execute query:",
                  aY(r),
                ),
              this.localDocumentsView.getDocumentsMatchingQuery(
                e,
                r,
                rq.min(),
                n,
              )
            );
          }
          appendRemainingResults(e, r, n, i) {
            return this.localDocumentsView
              .getDocumentsMatchingQuery(e, n, i)
              .next(
                (e) => (
                  r.forEach((r) => {
                    e = e.insert(r.key, r);
                  }),
                  e
                ),
              );
          }
        }
        let h9 = "firestore_clients";
        function fe(e, r) {
          return `${h9}_${e}_${r}`;
        }
        let ft = "firestore_mutations";
        function fr(e, r, n) {
          let i = `${ft}_${e}_${n}`;
          return r.isAuthenticated() && (i += `_${r.uid}`), i;
        }
        let fn = "firestore_targets";
        function fi(e, r) {
          return `${fn}_${e}_${r}`;
        }
        let fs = "firestore_online_state";
        function fa(e) {
          return `${fs}_${e}`;
        }
        let fo = "firestore_bundle_loaded_v2";
        function fl(e) {
          return `${fo}_${e}`;
        }
        let fu = "firestore_sequence_number";
        function fc(e) {
          return `${fu}_${e}`;
        }
        let fd = "SharedClientState";
        class fh {
          constructor(e, r, n, i) {
            (this.user = e),
              (this.batchId = r),
              (this.state = n),
              (this.error = i);
          }
          static fromWebStorageEntry(e, r, n) {
            let i;
            let s = JSON.parse(n),
              a =
                "object" == typeof s &&
                -1 !==
                  ["pending", "acknowledged", "rejected"].indexOf(s.state) &&
                (void 0 === s.error || "object" == typeof s.error);
            return (a &&
              s.error &&
              (a =
                "string" == typeof s.error.message &&
                "string" == typeof s.error.code) &&
              (i = new rs(s.error.code, s.error.message)),
            a)
              ? new fh(e, r, s.state, i)
              : (t7(fd, `Failed to parse mutation state for ID '${r}': ${n}`),
                null);
          }
          toWebStorageJSON() {
            let e = { state: this.state, updateTimeMs: Date.now() };
            return (
              this.error &&
                (e.error = {
                  code: this.error.code,
                  message: this.error.message,
                }),
              JSON.stringify(e)
            );
          }
        }
        class ff {
          constructor(e, r, n) {
            (this.targetId = e), (this.state = r), (this.error = n);
          }
          static fromWebStorageEntry(e, r) {
            let n;
            let i = JSON.parse(r),
              s =
                "object" == typeof i &&
                -1 !==
                  ["not-current", "current", "rejected"].indexOf(i.state) &&
                (void 0 === i.error || "object" == typeof i.error);
            return (s &&
              i.error &&
              (s =
                "string" == typeof i.error.message &&
                "string" == typeof i.error.code) &&
              (n = new rs(i.error.code, i.error.message)),
            s)
              ? new ff(e, i.state, n)
              : (t7(fd, `Failed to parse target state for ID '${e}': ${r}`),
                null);
          }
          toWebStorageJSON() {
            let e = { state: this.state, updateTimeMs: Date.now() };
            return (
              this.error &&
                (e.error = {
                  code: this.error.code,
                  message: this.error.message,
                }),
              JSON.stringify(e)
            );
          }
        }
        class fp {
          constructor(e, r) {
            (this.clientId = e), (this.activeTargetIds = r);
          }
          static fromWebStorageEntry(e, r) {
            let n = JSON.parse(r),
              i = "object" == typeof n && n.activeTargetIds instanceof Array,
              s = oc();
            for (let e = 0; i && e < n.activeTargetIds.length; ++e)
              (i = i3(n.activeTargetIds[e])), (s = s.add(n.activeTargetIds[e]));
            return i
              ? new fp(e, s)
              : (t7(
                  fd,
                  `Failed to parse client data for instance '${e}': ${r}`,
                ),
                null);
          }
        }
        class fg {
          constructor(e, r) {
            (this.clientId = e), (this.onlineState = r);
          }
          static fromWebStorageEntry(e) {
            let r = JSON.parse(e);
            return "object" == typeof r &&
              -1 !== ["Unknown", "Online", "Offline"].indexOf(r.onlineState) &&
              "string" == typeof r.clientId
              ? new fg(r.clientId, r.onlineState)
              : (t7(fd, `Failed to parse online state: ${e}`), null);
          }
        }
        class fm {
          constructor() {
            this.activeTargetIds = oc();
          }
          addQueryTarget(e) {
            this.activeTargetIds = this.activeTargetIds.add(e);
          }
          removeQueryTarget(e) {
            this.activeTargetIds = this.activeTargetIds.delete(e);
          }
          toWebStorageJSON() {
            return JSON.stringify({
              activeTargetIds: this.activeTargetIds.toArray(),
              updateTimeMs: Date.now(),
            });
          }
        }
        class fy {
          constructor(e, r, n, i, s) {
            (this.window = e),
              (this.queue = r),
              (this.persistenceKey = n),
              (this.localClientId = i),
              (this.syncEngine = null),
              (this.onlineStateHandler = null),
              (this.sequenceNumberHandler = null),
              (this.storageListener = this.handleWebStorageEvent.bind(this)),
              (this.activeClients = new iC(rv)),
              (this.started = !1),
              (this.earlyEvents = []);
            let a = n.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
            (this.storage = this.window.localStorage),
              (this.currentUser = s),
              (this.localClientStorageKey = fe(
                this.persistenceKey,
                this.localClientId,
              )),
              (this.sequenceNumberKey = fc(this.persistenceKey)),
              (this.activeClients = this.activeClients.insert(
                this.localClientId,
                new fm(),
              )),
              (this.clientStateKeyRe = RegExp(`^${h9}_${a}_([^_]*)$`)),
              (this.mutationBatchKeyRe = RegExp(
                `^${ft}_${a}_(\\d+)(?:_(.*))?$`,
              )),
              (this.queryTargetKeyRe = RegExp(`^${fn}_${a}_(\\d+)$`)),
              (this.onlineStateKey = fa(this.persistenceKey)),
              (this.bundleLoadedKey = fl(this.persistenceKey)),
              this.window.addEventListener("storage", this.storageListener);
          }
          static isAvailable(e) {
            return !!(e && e.localStorage);
          }
          async start() {
            for (let e of await this.syncEngine.getActiveClients()) {
              if (e === this.localClientId) continue;
              let r = this.getItem(fe(this.persistenceKey, e));
              if (r) {
                let n = fp.fromWebStorageEntry(e, r);
                n &&
                  (this.activeClients = this.activeClients.insert(
                    n.clientId,
                    n,
                  ));
              }
            }
            this.persistClientState();
            let e = this.storage.getItem(this.onlineStateKey);
            if (e) {
              let r = this.fromWebStorageOnlineState(e);
              r && this.handleOnlineStateEvent(r);
            }
            for (let e of this.earlyEvents) this.handleWebStorageEvent(e);
            (this.earlyEvents = []),
              this.window.addEventListener("pagehide", () => this.shutdown()),
              (this.started = !0);
          }
          writeSequenceNumber(e) {
            this.setItem(this.sequenceNumberKey, JSON.stringify(e));
          }
          getAllActiveQueryTargets() {
            return this.extractActiveQueryTargets(this.activeClients);
          }
          isActiveQueryTarget(e) {
            let r = !1;
            return (
              this.activeClients.forEach((n, i) => {
                i.activeTargetIds.has(e) && (r = !0);
              }),
              r
            );
          }
          addPendingMutation(e) {
            this.persistMutationState(e, "pending");
          }
          updateMutationState(e, r, n) {
            this.persistMutationState(e, r, n), this.removeMutationState(e);
          }
          addLocalQueryTarget(e, r = !0) {
            let n = "not-current";
            if (this.isActiveQueryTarget(e)) {
              let r = this.storage.getItem(fi(this.persistenceKey, e));
              if (r) {
                let i = ff.fromWebStorageEntry(e, r);
                i && (n = i.state);
              }
            }
            return (
              r && this.localClientState.addQueryTarget(e),
              this.persistClientState(),
              n
            );
          }
          removeLocalQueryTarget(e) {
            this.localClientState.removeQueryTarget(e),
              this.persistClientState();
          }
          isLocalQueryTarget(e) {
            return this.localClientState.activeTargetIds.has(e);
          }
          clearQueryState(e) {
            this.removeItem(fi(this.persistenceKey, e));
          }
          updateQueryState(e, r, n) {
            this.persistQueryTargetState(e, r, n);
          }
          handleUserChange(e, r, n) {
            r.forEach((e) => {
              this.removeMutationState(e);
            }),
              (this.currentUser = e),
              n.forEach((e) => {
                this.addPendingMutation(e);
              });
          }
          setOnlineState(e) {
            this.persistOnlineState(e);
          }
          notifyBundleLoaded(e) {
            this.persistBundleLoadedState(e);
          }
          shutdown() {
            this.started &&
              (this.window.removeEventListener("storage", this.storageListener),
              this.removeItem(this.localClientStorageKey),
              (this.started = !1));
          }
          getItem(e) {
            let r = this.storage.getItem(e);
            return t8(fd, "READ", e, r), r;
          }
          setItem(e, r) {
            t8(fd, "SET", e, r), this.storage.setItem(e, r);
          }
          removeItem(e) {
            t8(fd, "REMOVE", e), this.storage.removeItem(e);
          }
          handleWebStorageEvent(e) {
            let r = e;
            if (r.storageArea === this.storage) {
              if (
                (t8(fd, "EVENT", r.key, r.newValue),
                r.key === this.localClientStorageKey)
              ) {
                t7(
                  "Received WebStorage notification for local change. Another client might have garbage-collected our state",
                );
                return;
              }
              this.queue.enqueueRetryable(async () => {
                if (!this.started) {
                  this.earlyEvents.push(r);
                  return;
                }
                if (null !== r.key) {
                  if (this.clientStateKeyRe.test(r.key)) {
                    if (null != r.newValue) {
                      let e = this.fromWebStorageClientState(r.key, r.newValue);
                      if (e) return this.handleClientStateEvent(e.clientId, e);
                    } else {
                      let e = this.fromWebStorageClientStateKey(r.key);
                      return this.handleClientStateEvent(e, null);
                    }
                  } else if (this.mutationBatchKeyRe.test(r.key)) {
                    if (null !== r.newValue) {
                      let e = this.fromWebStorageMutationMetadata(
                        r.key,
                        r.newValue,
                      );
                      if (e) return this.handleMutationBatchEvent(e);
                    }
                  } else if (this.queryTargetKeyRe.test(r.key)) {
                    if (null !== r.newValue) {
                      let e = this.fromWebStorageQueryTargetMetadata(
                        r.key,
                        r.newValue,
                      );
                      if (e) return this.handleQueryTargetEvent(e);
                    }
                  } else if (r.key === this.onlineStateKey) {
                    if (null !== r.newValue) {
                      let e = this.fromWebStorageOnlineState(r.newValue);
                      if (e) return this.handleOnlineStateEvent(e);
                    }
                  } else if (r.key === this.sequenceNumberKey) {
                    let e = fv(r.newValue);
                    e !== ni.INVALID && this.sequenceNumberHandler(e);
                  } else if (r.key === this.bundleLoadedKey) {
                    let e = this.fromWebStoreBundleLoadedState(r.newValue);
                    await Promise.all(
                      e.map((e) =>
                        this.syncEngine.synchronizeWithChangedDocuments(e),
                      ),
                    );
                  }
                }
              });
            }
          }
          get localClientState() {
            return this.activeClients.get(this.localClientId);
          }
          persistClientState() {
            this.setItem(
              this.localClientStorageKey,
              this.localClientState.toWebStorageJSON(),
            );
          }
          persistMutationState(e, r, n) {
            let i = new fh(this.currentUser, e, r, n),
              s = fr(this.persistenceKey, this.currentUser, e);
            this.setItem(s, i.toWebStorageJSON());
          }
          removeMutationState(e) {
            let r = fr(this.persistenceKey, this.currentUser, e);
            this.removeItem(r);
          }
          persistOnlineState(e) {
            let r = { clientId: this.localClientId, onlineState: e };
            this.storage.setItem(this.onlineStateKey, JSON.stringify(r));
          }
          persistQueryTargetState(e, r, n) {
            let i = fi(this.persistenceKey, e),
              s = new ff(e, r, n);
            this.setItem(i, s.toWebStorageJSON());
          }
          persistBundleLoadedState(e) {
            let r = JSON.stringify(Array.from(e));
            this.setItem(this.bundleLoadedKey, r);
          }
          fromWebStorageClientStateKey(e) {
            let r = this.clientStateKeyRe.exec(e);
            return r ? r[1] : null;
          }
          fromWebStorageClientState(e, r) {
            let n = this.fromWebStorageClientStateKey(e);
            return fp.fromWebStorageEntry(n, r);
          }
          fromWebStorageMutationMetadata(e, r) {
            let n = this.mutationBatchKeyRe.exec(e),
              i = Number(n[1]),
              s = void 0 !== n[2] ? n[2] : null;
            return fh.fromWebStorageEntry(new t1(s), i, r);
          }
          fromWebStorageQueryTargetMetadata(e, r) {
            let n = Number(this.queryTargetKeyRe.exec(e)[1]);
            return ff.fromWebStorageEntry(n, r);
          }
          fromWebStorageOnlineState(e) {
            return fg.fromWebStorageEntry(e);
          }
          fromWebStoreBundleLoadedState(e) {
            return JSON.parse(e);
          }
          async handleMutationBatchEvent(e) {
            if (e.user.uid !== this.currentUser.uid) {
              t8(fd, `Ignoring mutation for non-active user ${e.user.uid}`);
              return;
            }
            return this.syncEngine.applyBatchState(e.batchId, e.state, e.error);
          }
          handleQueryTargetEvent(e) {
            return this.syncEngine.applyTargetState(
              e.targetId,
              e.state,
              e.error,
            );
          }
          handleClientStateEvent(e, r) {
            let n = r
                ? this.activeClients.insert(e, r)
                : this.activeClients.remove(e),
              i = this.extractActiveQueryTargets(this.activeClients),
              s = this.extractActiveQueryTargets(n),
              a = [],
              o = [];
            return (
              s.forEach((e) => {
                i.has(e) || a.push(e);
              }),
              i.forEach((e) => {
                s.has(e) || o.push(e);
              }),
              this.syncEngine.applyActiveTargetsChange(a, o).then(() => {
                this.activeClients = n;
              })
            );
          }
          handleOnlineStateEvent(e) {
            this.activeClients.get(e.clientId) &&
              this.onlineStateHandler(e.onlineState);
          }
          extractActiveQueryTargets(e) {
            let r = oc();
            return (
              e.forEach((e, n) => {
                r = r.unionWith(n.activeTargetIds);
              }),
              r
            );
          }
        }
        function fv(e) {
          let r = ni.INVALID;
          if (null != e)
            try {
              let n = JSON.parse(e);
              rr("number" == typeof n), (r = n);
            } catch (e) {
              t7(fd, "Failed to read sequence number from WebStorage", e);
            }
          return r;
        }
        class fb {
          constructor() {
            (this.localState = new fm()),
              (this.queryState = {}),
              (this.onlineStateHandler = null),
              (this.sequenceNumberHandler = null);
          }
          addPendingMutation(e) {}
          updateMutationState(e, r, n) {}
          addLocalQueryTarget(e, r = !0) {
            return (
              r && this.localState.addQueryTarget(e),
              this.queryState[e] || "not-current"
            );
          }
          updateQueryState(e, r, n) {
            this.queryState[e] = r;
          }
          removeLocalQueryTarget(e) {
            this.localState.removeQueryTarget(e);
          }
          isLocalQueryTarget(e) {
            return this.localState.activeTargetIds.has(e);
          }
          clearQueryState(e) {
            delete this.queryState[e];
          }
          getAllActiveQueryTargets() {
            return this.localState.activeTargetIds;
          }
          isActiveQueryTarget(e) {
            return this.localState.activeTargetIds.has(e);
          }
          start() {
            return (this.localState = new fm()), Promise.resolve();
          }
          handleUserChange(e, r, n) {}
          setOnlineState(e) {}
          shutdown() {}
          writeSequenceNumber(e) {}
          notifyBundleLoaded(e) {}
        }
        class fw {
          addCallback(e) {}
          shutdown() {}
        }
        class fT {
          constructor(e) {
            (this.sendFn = e.sendFn), (this.closeFn = e.closeFn);
          }
          onConnected(e) {
            this.wrappedOnConnected = e;
          }
          onOpen(e) {
            this.wrappedOnOpen = e;
          }
          onClose(e) {
            this.wrappedOnClose = e;
          }
          onMessage(e) {
            this.wrappedOnMessage = e;
          }
          close() {
            this.closeFn();
          }
          send(e) {
            this.sendFn(e);
          }
          callOnConnected() {
            this.wrappedOnConnected();
          }
          callOnOpen() {
            this.wrappedOnOpen();
          }
          callOnClose(e) {
            this.wrappedOnClose(e);
          }
          callOnMessage(e) {
            this.wrappedOnMessage(e);
          }
        }
        let fS = null;
        function fE() {
          return 0x10000000 + Math.round(0x80000000 * Math.random());
        }
        function fC() {
          return null === fS ? (fS = fE()) : fS++, "0x" + fS.toString(16);
        }
        function fx(e) {
          return new Promise((r, n) => {
            e((e, i) => {
              e ? n(e) : r(i);
            });
          });
        }
        let fA = "1.9.15",
          fI = "GrpcConnection",
          fk = `gl-node/${process.versions.node} fire/${t2} grpc/${fA}`;
        function f_(e, r, n, i) {
          rr(null === r || "OAuth" === r.type);
          let s = new tX.OS();
          return (
            r && r.headers.forEach((e, r) => s.set(r, e)),
            n && n.headers.forEach((e, r) => s.set(r, e)),
            i && s.set("X-Firebase-GMPID", i),
            s.set("X-Goog-Api-Client", fk),
            s.set("Google-Cloud-Resource-Prefix", e),
            s.set("x-goog-request-params", e),
            s
          );
        }
        class fR {
          get shouldResourcePathBeIncludedInRequest() {
            return !0;
          }
          constructor(e, r) {
            (this.databaseInfo = r),
              (this.cachedStub = null),
              (this.firestore = e.google.firestore.v1),
              (this.databasePath = `projects/${r.databaseId.projectId}/databases/${r.databaseId.database}`);
          }
          ensureActiveStub() {
            if (!this.cachedStub) {
              t8(fI, "Creating Firestore stub.");
              let e = this.databaseInfo.ssl
                ? tX.z3.createSsl()
                : tX.z3.createInsecure();
              this.cachedStub = new this.firestore.Firestore(
                this.databaseInfo.host,
                e,
              );
            }
            return this.cachedStub;
          }
          invokeRPC(e, r, n, i, s) {
            let a = fC(),
              o = this.ensureActiveStub(),
              l = f_(this.databasePath, i, s, this.databaseInfo.appId),
              u = Object.assign({ database: this.databasePath }, n);
            return fx(
              (r) => (
                t8(fI, `RPC '${e}' ${a} invoked with request:`, n),
                o[e](u, l, (n, i) => {
                  n
                    ? (t8(fI, `RPC '${e}' ${a} failed with error:`, n),
                      r(new rs(o5(n.code), n.message)))
                    : (t8(fI, `RPC '${e}' ${a} completed with response:`, i),
                      r(void 0, i));
                })
              ),
            );
          }
          invokeStreamingRPC(e, r, n, i, s, a) {
            let o = fC(),
              l = [],
              u = new ra();
            t8(fI, `RPC '${e}' ${o} invoked (streaming) with request:`, n);
            let c = this.ensureActiveStub(),
              d = f_(this.databasePath, i, s, this.databaseInfo.appId),
              h = Object.assign(Object.assign({}, n), {
                database: this.databasePath,
              }),
              f = c[e](h, d),
              p = !1;
            return (
              f.on("data", (r) => {
                t8(fI, `RPC ${e} ${o} received result:`, r),
                  l.push(r),
                  void 0 !== a && l.length === a && ((p = !0), u.resolve(l));
              }),
              f.on("end", () => {
                t8(fI, `RPC '${e}' ${o} completed.`),
                  p || ((p = !0), u.resolve(l));
              }),
              f.on("error", (r) => {
                t8(fI, `RPC '${e}' ${o} failed with error:`, r);
                let n = o5(r.code);
                u.reject(new rs(n, r.message));
              }),
              u.promise
            );
          }
          openStream(e, r, n) {
            let i = fC(),
              s = this.ensureActiveStub(),
              a = f_(this.databasePath, r, n, this.databaseInfo.appId),
              o = s[e](a),
              l = !1,
              u = (e) => {
                l || ((l = !0), c.callOnClose(e), o.end());
              },
              c = new fT({
                sendFn: (r) => {
                  if (l)
                    t8(
                      fI,
                      `RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,
                      r,
                    );
                  else {
                    t8(fI, `RPC '${e}' stream ${i} sending:`, r);
                    try {
                      o.write(r);
                    } catch (e) {
                      throw (t7("Failure sending:", r), t7("Error:", e), e);
                    }
                  }
                },
                closeFn: () => {
                  t8(fI, `RPC '${e}' stream ${i} closed locally via close().`),
                    u();
                },
              }),
              d = !1;
            return (
              o.on("data", (r) => {
                l ||
                  (t8(fI, `RPC '${e}' stream ${i} received:`, r),
                  d || (c.callOnConnected(), (d = !0)),
                  c.callOnMessage(r));
              }),
              o.on("end", () => {
                t8(fI, `RPC '${e}' stream ${i} ended.`), u();
              }),
              o.on("error", (r) => {
                l ||
                  (t9(
                    fI,
                    `RPC '${e}' stream ${i} error. Code:`,
                    r.code,
                    "Message:",
                    r.message,
                  ),
                  u(new rs(o5(r.code), r.message)));
              }),
              t8(
                fI,
                `Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`,
              ),
              setTimeout(() => {
                c.callOnOpen();
              }, 0),
              c
            );
          }
          terminate() {
            this.cachedStub &&
              (this.cachedStub.close(), (this.cachedStub = void 0));
          }
        }
        let fD = {
          google: {
            nested: {
              protobuf: {
                options: {
                  csharp_namespace: "Google.Protobuf.WellKnownTypes",
                  go_package: "github.com/golang/protobuf/ptypes/wrappers",
                  java_package: "com.google.protobuf",
                  java_outer_classname: "WrappersProto",
                  java_multiple_files: !0,
                  objc_class_prefix: "GPB",
                  cc_enable_arenas: !0,
                  optimize_for: "SPEED",
                },
                nested: {
                  Timestamp: {
                    fields: {
                      seconds: { type: "int64", id: 1 },
                      nanos: { type: "int32", id: 2 },
                    },
                  },
                  FileDescriptorSet: {
                    fields: {
                      file: {
                        rule: "repeated",
                        type: "FileDescriptorProto",
                        id: 1,
                      },
                    },
                  },
                  FileDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      package: { type: "string", id: 2 },
                      dependency: { rule: "repeated", type: "string", id: 3 },
                      publicDependency: {
                        rule: "repeated",
                        type: "int32",
                        id: 10,
                        options: { packed: !1 },
                      },
                      weakDependency: {
                        rule: "repeated",
                        type: "int32",
                        id: 11,
                        options: { packed: !1 },
                      },
                      messageType: {
                        rule: "repeated",
                        type: "DescriptorProto",
                        id: 4,
                      },
                      enumType: {
                        rule: "repeated",
                        type: "EnumDescriptorProto",
                        id: 5,
                      },
                      service: {
                        rule: "repeated",
                        type: "ServiceDescriptorProto",
                        id: 6,
                      },
                      extension: {
                        rule: "repeated",
                        type: "FieldDescriptorProto",
                        id: 7,
                      },
                      options: { type: "FileOptions", id: 8 },
                      sourceCodeInfo: { type: "SourceCodeInfo", id: 9 },
                      syntax: { type: "string", id: 12 },
                    },
                  },
                  DescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      field: {
                        rule: "repeated",
                        type: "FieldDescriptorProto",
                        id: 2,
                      },
                      extension: {
                        rule: "repeated",
                        type: "FieldDescriptorProto",
                        id: 6,
                      },
                      nestedType: {
                        rule: "repeated",
                        type: "DescriptorProto",
                        id: 3,
                      },
                      enumType: {
                        rule: "repeated",
                        type: "EnumDescriptorProto",
                        id: 4,
                      },
                      extensionRange: {
                        rule: "repeated",
                        type: "ExtensionRange",
                        id: 5,
                      },
                      oneofDecl: {
                        rule: "repeated",
                        type: "OneofDescriptorProto",
                        id: 8,
                      },
                      options: { type: "MessageOptions", id: 7 },
                      reservedRange: {
                        rule: "repeated",
                        type: "ReservedRange",
                        id: 9,
                      },
                      reservedName: {
                        rule: "repeated",
                        type: "string",
                        id: 10,
                      },
                    },
                    nested: {
                      ExtensionRange: {
                        fields: {
                          start: { type: "int32", id: 1 },
                          end: { type: "int32", id: 2 },
                        },
                      },
                      ReservedRange: {
                        fields: {
                          start: { type: "int32", id: 1 },
                          end: { type: "int32", id: 2 },
                        },
                      },
                    },
                  },
                  FieldDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      number: { type: "int32", id: 3 },
                      label: { type: "Label", id: 4 },
                      type: { type: "Type", id: 5 },
                      typeName: { type: "string", id: 6 },
                      extendee: { type: "string", id: 2 },
                      defaultValue: { type: "string", id: 7 },
                      oneofIndex: { type: "int32", id: 9 },
                      jsonName: { type: "string", id: 10 },
                      options: { type: "FieldOptions", id: 8 },
                    },
                    nested: {
                      Type: {
                        values: {
                          TYPE_DOUBLE: 1,
                          TYPE_FLOAT: 2,
                          TYPE_INT64: 3,
                          TYPE_UINT64: 4,
                          TYPE_INT32: 5,
                          TYPE_FIXED64: 6,
                          TYPE_FIXED32: 7,
                          TYPE_BOOL: 8,
                          TYPE_STRING: 9,
                          TYPE_GROUP: 10,
                          TYPE_MESSAGE: 11,
                          TYPE_BYTES: 12,
                          TYPE_UINT32: 13,
                          TYPE_ENUM: 14,
                          TYPE_SFIXED32: 15,
                          TYPE_SFIXED64: 16,
                          TYPE_SINT32: 17,
                          TYPE_SINT64: 18,
                        },
                      },
                      Label: {
                        values: {
                          LABEL_OPTIONAL: 1,
                          LABEL_REQUIRED: 2,
                          LABEL_REPEATED: 3,
                        },
                      },
                    },
                  },
                  OneofDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      options: { type: "OneofOptions", id: 2 },
                    },
                  },
                  EnumDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      value: {
                        rule: "repeated",
                        type: "EnumValueDescriptorProto",
                        id: 2,
                      },
                      options: { type: "EnumOptions", id: 3 },
                    },
                  },
                  EnumValueDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      number: { type: "int32", id: 2 },
                      options: { type: "EnumValueOptions", id: 3 },
                    },
                  },
                  ServiceDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      method: {
                        rule: "repeated",
                        type: "MethodDescriptorProto",
                        id: 2,
                      },
                      options: { type: "ServiceOptions", id: 3 },
                    },
                  },
                  MethodDescriptorProto: {
                    fields: {
                      name: { type: "string", id: 1 },
                      inputType: { type: "string", id: 2 },
                      outputType: { type: "string", id: 3 },
                      options: { type: "MethodOptions", id: 4 },
                      clientStreaming: { type: "bool", id: 5 },
                      serverStreaming: { type: "bool", id: 6 },
                    },
                  },
                  FileOptions: {
                    fields: {
                      javaPackage: { type: "string", id: 1 },
                      javaOuterClassname: { type: "string", id: 8 },
                      javaMultipleFiles: { type: "bool", id: 10 },
                      javaGenerateEqualsAndHash: {
                        type: "bool",
                        id: 20,
                        options: { deprecated: !0 },
                      },
                      javaStringCheckUtf8: { type: "bool", id: 27 },
                      optimizeFor: {
                        type: "OptimizeMode",
                        id: 9,
                        options: { default: "SPEED" },
                      },
                      goPackage: { type: "string", id: 11 },
                      ccGenericServices: { type: "bool", id: 16 },
                      javaGenericServices: { type: "bool", id: 17 },
                      pyGenericServices: { type: "bool", id: 18 },
                      deprecated: { type: "bool", id: 23 },
                      ccEnableArenas: { type: "bool", id: 31 },
                      objcClassPrefix: { type: "string", id: 36 },
                      csharpNamespace: { type: "string", id: 37 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                    reserved: [[38, 38]],
                    nested: {
                      OptimizeMode: {
                        values: { SPEED: 1, CODE_SIZE: 2, LITE_RUNTIME: 3 },
                      },
                    },
                  },
                  MessageOptions: {
                    fields: {
                      messageSetWireFormat: { type: "bool", id: 1 },
                      noStandardDescriptorAccessor: { type: "bool", id: 2 },
                      deprecated: { type: "bool", id: 3 },
                      mapEntry: { type: "bool", id: 7 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                    reserved: [[8, 8]],
                  },
                  FieldOptions: {
                    fields: {
                      ctype: {
                        type: "CType",
                        id: 1,
                        options: { default: "STRING" },
                      },
                      packed: { type: "bool", id: 2 },
                      jstype: {
                        type: "JSType",
                        id: 6,
                        options: { default: "JS_NORMAL" },
                      },
                      lazy: { type: "bool", id: 5 },
                      deprecated: { type: "bool", id: 3 },
                      weak: { type: "bool", id: 10 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                    reserved: [[4, 4]],
                    nested: {
                      CType: {
                        values: { STRING: 0, CORD: 1, STRING_PIECE: 2 },
                      },
                      JSType: {
                        values: { JS_NORMAL: 0, JS_STRING: 1, JS_NUMBER: 2 },
                      },
                    },
                  },
                  OneofOptions: {
                    fields: {
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                  },
                  EnumOptions: {
                    fields: {
                      allowAlias: { type: "bool", id: 2 },
                      deprecated: { type: "bool", id: 3 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                  },
                  EnumValueOptions: {
                    fields: {
                      deprecated: { type: "bool", id: 1 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                  },
                  ServiceOptions: {
                    fields: {
                      deprecated: { type: "bool", id: 33 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                  },
                  MethodOptions: {
                    fields: {
                      deprecated: { type: "bool", id: 33 },
                      uninterpretedOption: {
                        rule: "repeated",
                        type: "UninterpretedOption",
                        id: 999,
                      },
                    },
                    extensions: [[1e3, 0x1fffffff]],
                  },
                  UninterpretedOption: {
                    fields: {
                      name: { rule: "repeated", type: "NamePart", id: 2 },
                      identifierValue: { type: "string", id: 3 },
                      positiveIntValue: { type: "uint64", id: 4 },
                      negativeIntValue: { type: "int64", id: 5 },
                      doubleValue: { type: "double", id: 6 },
                      stringValue: { type: "bytes", id: 7 },
                      aggregateValue: { type: "string", id: 8 },
                    },
                    nested: {
                      NamePart: {
                        fields: {
                          namePart: { rule: "required", type: "string", id: 1 },
                          isExtension: {
                            rule: "required",
                            type: "bool",
                            id: 2,
                          },
                        },
                      },
                    },
                  },
                  SourceCodeInfo: {
                    fields: {
                      location: { rule: "repeated", type: "Location", id: 1 },
                    },
                    nested: {
                      Location: {
                        fields: {
                          path: { rule: "repeated", type: "int32", id: 1 },
                          span: { rule: "repeated", type: "int32", id: 2 },
                          leadingComments: { type: "string", id: 3 },
                          trailingComments: { type: "string", id: 4 },
                          leadingDetachedComments: {
                            rule: "repeated",
                            type: "string",
                            id: 6,
                          },
                        },
                      },
                    },
                  },
                  GeneratedCodeInfo: {
                    fields: {
                      annotation: {
                        rule: "repeated",
                        type: "Annotation",
                        id: 1,
                      },
                    },
                    nested: {
                      Annotation: {
                        fields: {
                          path: { rule: "repeated", type: "int32", id: 1 },
                          sourceFile: { type: "string", id: 2 },
                          begin: { type: "int32", id: 3 },
                          end: { type: "int32", id: 4 },
                        },
                      },
                    },
                  },
                  Struct: {
                    fields: {
                      fields: { keyType: "string", type: "Value", id: 1 },
                    },
                  },
                  Value: {
                    oneofs: {
                      kind: {
                        oneof: [
                          "nullValue",
                          "numberValue",
                          "stringValue",
                          "boolValue",
                          "structValue",
                          "listValue",
                        ],
                      },
                    },
                    fields: {
                      nullValue: { type: "NullValue", id: 1 },
                      numberValue: { type: "double", id: 2 },
                      stringValue: { type: "string", id: 3 },
                      boolValue: { type: "bool", id: 4 },
                      structValue: { type: "Struct", id: 5 },
                      listValue: { type: "ListValue", id: 6 },
                    },
                  },
                  NullValue: { values: { NULL_VALUE: 0 } },
                  ListValue: {
                    fields: {
                      values: { rule: "repeated", type: "Value", id: 1 },
                    },
                  },
                  Empty: { fields: {} },
                  DoubleValue: { fields: { value: { type: "double", id: 1 } } },
                  FloatValue: { fields: { value: { type: "float", id: 1 } } },
                  Int64Value: { fields: { value: { type: "int64", id: 1 } } },
                  UInt64Value: { fields: { value: { type: "uint64", id: 1 } } },
                  Int32Value: { fields: { value: { type: "int32", id: 1 } } },
                  UInt32Value: { fields: { value: { type: "uint32", id: 1 } } },
                  BoolValue: { fields: { value: { type: "bool", id: 1 } } },
                  StringValue: { fields: { value: { type: "string", id: 1 } } },
                  BytesValue: { fields: { value: { type: "bytes", id: 1 } } },
                  Any: {
                    fields: {
                      typeUrl: { type: "string", id: 1 },
                      value: { type: "bytes", id: 2 },
                    },
                  },
                },
              },
              firestore: {
                nested: {
                  v1: {
                    options: {
                      csharp_namespace: "Google.Cloud.Firestore.V1",
                      go_package:
                        "google.golang.org/genproto/googleapis/firestore/v1;firestore",
                      java_multiple_files: !0,
                      java_outer_classname: "WriteProto",
                      java_package: "com.google.firestore.v1",
                      objc_class_prefix: "GCFS",
                      php_namespace: "Google\\Cloud\\Firestore\\V1",
                      ruby_package: "Google::Cloud::Firestore::V1",
                    },
                    nested: {
                      AggregationResult: {
                        fields: {
                          aggregateFields: {
                            keyType: "string",
                            type: "Value",
                            id: 2,
                          },
                        },
                      },
                      BitSequence: {
                        fields: {
                          bitmap: { type: "bytes", id: 1 },
                          padding: { type: "int32", id: 2 },
                        },
                      },
                      BloomFilter: {
                        fields: {
                          bits: { type: "BitSequence", id: 1 },
                          hashCount: { type: "int32", id: 2 },
                        },
                      },
                      DocumentMask: {
                        fields: {
                          fieldPaths: {
                            rule: "repeated",
                            type: "string",
                            id: 1,
                          },
                        },
                      },
                      Precondition: {
                        oneofs: {
                          conditionType: { oneof: ["exists", "updateTime"] },
                        },
                        fields: {
                          exists: { type: "bool", id: 1 },
                          updateTime: {
                            type: "google.protobuf.Timestamp",
                            id: 2,
                          },
                        },
                      },
                      TransactionOptions: {
                        oneofs: { mode: { oneof: ["readOnly", "readWrite"] } },
                        fields: {
                          readOnly: { type: "ReadOnly", id: 2 },
                          readWrite: { type: "ReadWrite", id: 3 },
                        },
                        nested: {
                          ReadWrite: {
                            fields: {
                              retryTransaction: { type: "bytes", id: 1 },
                            },
                          },
                          ReadOnly: {
                            oneofs: {
                              consistencySelector: { oneof: ["readTime"] },
                            },
                            fields: {
                              readTime: {
                                type: "google.protobuf.Timestamp",
                                id: 2,
                              },
                            },
                          },
                        },
                      },
                      Document: {
                        fields: {
                          name: { type: "string", id: 1 },
                          fields: { keyType: "string", type: "Value", id: 2 },
                          createTime: {
                            type: "google.protobuf.Timestamp",
                            id: 3,
                          },
                          updateTime: {
                            type: "google.protobuf.Timestamp",
                            id: 4,
                          },
                        },
                      },
                      Value: {
                        oneofs: {
                          valueType: {
                            oneof: [
                              "nullValue",
                              "booleanValue",
                              "integerValue",
                              "doubleValue",
                              "timestampValue",
                              "stringValue",
                              "bytesValue",
                              "referenceValue",
                              "geoPointValue",
                              "arrayValue",
                              "mapValue",
                            ],
                          },
                        },
                        fields: {
                          nullValue: {
                            type: "google.protobuf.NullValue",
                            id: 11,
                          },
                          booleanValue: { type: "bool", id: 1 },
                          integerValue: { type: "int64", id: 2 },
                          doubleValue: { type: "double", id: 3 },
                          timestampValue: {
                            type: "google.protobuf.Timestamp",
                            id: 10,
                          },
                          stringValue: { type: "string", id: 17 },
                          bytesValue: { type: "bytes", id: 18 },
                          referenceValue: { type: "string", id: 5 },
                          geoPointValue: { type: "google.type.LatLng", id: 8 },
                          arrayValue: { type: "ArrayValue", id: 9 },
                          mapValue: { type: "MapValue", id: 6 },
                        },
                      },
                      ArrayValue: {
                        fields: {
                          values: { rule: "repeated", type: "Value", id: 1 },
                        },
                      },
                      MapValue: {
                        fields: {
                          fields: { keyType: "string", type: "Value", id: 1 },
                        },
                      },
                      Firestore: {
                        options: {
                          "(google.api.default_host)":
                            "firestore.googleapis.com",
                          "(google.api.oauth_scopes)":
                            "https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore",
                        },
                        methods: {
                          GetDocument: {
                            requestType: "GetDocumentRequest",
                            responseType: "Document",
                            options: {
                              "(google.api.http).get":
                                "/v1/{name=projects/*/databases/*/documents/*/**}",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  get: "/v1/{name=projects/*/databases/*/documents/*/**}",
                                },
                              },
                            ],
                          },
                          ListDocuments: {
                            requestType: "ListDocumentsRequest",
                            responseType: "ListDocumentsResponse",
                            options: {
                              "(google.api.http).get":
                                "/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  get: "/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}",
                                },
                              },
                            ],
                          },
                          UpdateDocument: {
                            requestType: "UpdateDocumentRequest",
                            responseType: "Document",
                            options: {
                              "(google.api.http).patch":
                                "/v1/{document.name=projects/*/databases/*/documents/*/**}",
                              "(google.api.http).body": "document",
                              "(google.api.method_signature)":
                                "document,update_mask",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  patch:
                                    "/v1/{document.name=projects/*/databases/*/documents/*/**}",
                                  body: "document",
                                },
                              },
                              {
                                "(google.api.method_signature)":
                                  "document,update_mask",
                              },
                            ],
                          },
                          DeleteDocument: {
                            requestType: "DeleteDocumentRequest",
                            responseType: "google.protobuf.Empty",
                            options: {
                              "(google.api.http).delete":
                                "/v1/{name=projects/*/databases/*/documents/*/**}",
                              "(google.api.method_signature)": "name",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  delete:
                                    "/v1/{name=projects/*/databases/*/documents/*/**}",
                                },
                              },
                              { "(google.api.method_signature)": "name" },
                            ],
                          },
                          BatchGetDocuments: {
                            requestType: "BatchGetDocumentsRequest",
                            responseType: "BatchGetDocumentsResponse",
                            responseStream: !0,
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:batchGet",
                              "(google.api.http).body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:batchGet",
                                  body: "*",
                                },
                              },
                            ],
                          },
                          BeginTransaction: {
                            requestType: "BeginTransactionRequest",
                            responseType: "BeginTransactionResponse",
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:beginTransaction",
                              "(google.api.http).body": "*",
                              "(google.api.method_signature)": "database",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:beginTransaction",
                                  body: "*",
                                },
                              },
                              { "(google.api.method_signature)": "database" },
                            ],
                          },
                          Commit: {
                            requestType: "CommitRequest",
                            responseType: "CommitResponse",
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:commit",
                              "(google.api.http).body": "*",
                              "(google.api.method_signature)":
                                "database,writes",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:commit",
                                  body: "*",
                                },
                              },
                              {
                                "(google.api.method_signature)":
                                  "database,writes",
                              },
                            ],
                          },
                          Rollback: {
                            requestType: "RollbackRequest",
                            responseType: "google.protobuf.Empty",
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:rollback",
                              "(google.api.http).body": "*",
                              "(google.api.method_signature)":
                                "database,transaction",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:rollback",
                                  body: "*",
                                },
                              },
                              {
                                "(google.api.method_signature)":
                                  "database,transaction",
                              },
                            ],
                          },
                          RunQuery: {
                            requestType: "RunQueryRequest",
                            responseType: "RunQueryResponse",
                            responseStream: !0,
                            options: {
                              "(google.api.http).post":
                                "/v1/{parent=projects/*/databases/*/documents}:runQuery",
                              "(google.api.http).body": "*",
                              "(google.api.http).additional_bindings.post":
                                "/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",
                              "(google.api.http).additional_bindings.body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{parent=projects/*/databases/*/documents}:runQuery",
                                  body: "*",
                                  additional_bindings: {
                                    post: "/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",
                                    body: "*",
                                  },
                                },
                              },
                            ],
                          },
                          RunAggregationQuery: {
                            requestType: "RunAggregationQueryRequest",
                            responseType: "RunAggregationQueryResponse",
                            responseStream: !0,
                            options: {
                              "(google.api.http).post":
                                "/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",
                              "(google.api.http).body": "*",
                              "(google.api.http).additional_bindings.post":
                                "/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",
                              "(google.api.http).additional_bindings.body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",
                                  body: "*",
                                  additional_bindings: {
                                    post: "/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",
                                    body: "*",
                                  },
                                },
                              },
                            ],
                          },
                          PartitionQuery: {
                            requestType: "PartitionQueryRequest",
                            responseType: "PartitionQueryResponse",
                            options: {
                              "(google.api.http).post":
                                "/v1/{parent=projects/*/databases/*/documents}:partitionQuery",
                              "(google.api.http).body": "*",
                              "(google.api.http).additional_bindings.post":
                                "/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",
                              "(google.api.http).additional_bindings.body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{parent=projects/*/databases/*/documents}:partitionQuery",
                                  body: "*",
                                  additional_bindings: {
                                    post: "/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",
                                    body: "*",
                                  },
                                },
                              },
                            ],
                          },
                          Write: {
                            requestType: "WriteRequest",
                            requestStream: !0,
                            responseType: "WriteResponse",
                            responseStream: !0,
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:write",
                              "(google.api.http).body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:write",
                                  body: "*",
                                },
                              },
                            ],
                          },
                          Listen: {
                            requestType: "ListenRequest",
                            requestStream: !0,
                            responseType: "ListenResponse",
                            responseStream: !0,
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:listen",
                              "(google.api.http).body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:listen",
                                  body: "*",
                                },
                              },
                            ],
                          },
                          ListCollectionIds: {
                            requestType: "ListCollectionIdsRequest",
                            responseType: "ListCollectionIdsResponse",
                            options: {
                              "(google.api.http).post":
                                "/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",
                              "(google.api.http).body": "*",
                              "(google.api.http).additional_bindings.post":
                                "/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",
                              "(google.api.http).additional_bindings.body": "*",
                              "(google.api.method_signature)": "parent",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",
                                  body: "*",
                                  additional_bindings: {
                                    post: "/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",
                                    body: "*",
                                  },
                                },
                              },
                              { "(google.api.method_signature)": "parent" },
                            ],
                          },
                          BatchWrite: {
                            requestType: "BatchWriteRequest",
                            responseType: "BatchWriteResponse",
                            options: {
                              "(google.api.http).post":
                                "/v1/{database=projects/*/databases/*}/documents:batchWrite",
                              "(google.api.http).body": "*",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{database=projects/*/databases/*}/documents:batchWrite",
                                  body: "*",
                                },
                              },
                            ],
                          },
                          CreateDocument: {
                            requestType: "CreateDocumentRequest",
                            responseType: "Document",
                            options: {
                              "(google.api.http).post":
                                "/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",
                              "(google.api.http).body": "document",
                            },
                            parsedOptions: [
                              {
                                "(google.api.http)": {
                                  post: "/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",
                                  body: "document",
                                },
                              },
                            ],
                          },
                        },
                      },
                      GetDocumentRequest: {
                        oneofs: {
                          consistencySelector: {
                            oneof: ["transaction", "readTime"],
                          },
                        },
                        fields: {
                          name: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          mask: { type: "DocumentMask", id: 2 },
                          transaction: { type: "bytes", id: 3 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 5,
                          },
                        },
                      },
                      ListDocumentsRequest: {
                        oneofs: {
                          consistencySelector: {
                            oneof: ["transaction", "readTime"],
                          },
                        },
                        fields: {
                          parent: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          collectionId: {
                            type: "string",
                            id: 2,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          pageSize: { type: "int32", id: 3 },
                          pageToken: { type: "string", id: 4 },
                          orderBy: { type: "string", id: 6 },
                          mask: { type: "DocumentMask", id: 7 },
                          transaction: { type: "bytes", id: 8 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 10,
                          },
                          showMissing: { type: "bool", id: 12 },
                        },
                      },
                      ListDocumentsResponse: {
                        fields: {
                          documents: {
                            rule: "repeated",
                            type: "Document",
                            id: 1,
                          },
                          nextPageToken: { type: "string", id: 2 },
                        },
                      },
                      CreateDocumentRequest: {
                        fields: {
                          parent: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          collectionId: {
                            type: "string",
                            id: 2,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          documentId: { type: "string", id: 3 },
                          document: {
                            type: "Document",
                            id: 4,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          mask: { type: "DocumentMask", id: 5 },
                        },
                      },
                      UpdateDocumentRequest: {
                        fields: {
                          document: {
                            type: "Document",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          updateMask: { type: "DocumentMask", id: 2 },
                          mask: { type: "DocumentMask", id: 3 },
                          currentDocument: { type: "Precondition", id: 4 },
                        },
                      },
                      DeleteDocumentRequest: {
                        fields: {
                          name: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          currentDocument: { type: "Precondition", id: 2 },
                        },
                      },
                      BatchGetDocumentsRequest: {
                        oneofs: {
                          consistencySelector: {
                            oneof: [
                              "transaction",
                              "newTransaction",
                              "readTime",
                            ],
                          },
                        },
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          documents: {
                            rule: "repeated",
                            type: "string",
                            id: 2,
                          },
                          mask: { type: "DocumentMask", id: 3 },
                          transaction: { type: "bytes", id: 4 },
                          newTransaction: { type: "TransactionOptions", id: 5 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 7,
                          },
                        },
                      },
                      BatchGetDocumentsResponse: {
                        oneofs: { result: { oneof: ["found", "missing"] } },
                        fields: {
                          found: { type: "Document", id: 1 },
                          missing: { type: "string", id: 2 },
                          transaction: { type: "bytes", id: 3 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 4,
                          },
                        },
                      },
                      BeginTransactionRequest: {
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          options: { type: "TransactionOptions", id: 2 },
                        },
                      },
                      BeginTransactionResponse: {
                        fields: { transaction: { type: "bytes", id: 1 } },
                      },
                      CommitRequest: {
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          writes: { rule: "repeated", type: "Write", id: 2 },
                          transaction: { type: "bytes", id: 3 },
                        },
                      },
                      CommitResponse: {
                        fields: {
                          writeResults: {
                            rule: "repeated",
                            type: "WriteResult",
                            id: 1,
                          },
                          commitTime: {
                            type: "google.protobuf.Timestamp",
                            id: 2,
                          },
                        },
                      },
                      RollbackRequest: {
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          transaction: {
                            type: "bytes",
                            id: 2,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                        },
                      },
                      RunQueryRequest: {
                        oneofs: {
                          queryType: { oneof: ["structuredQuery"] },
                          consistencySelector: {
                            oneof: [
                              "transaction",
                              "newTransaction",
                              "readTime",
                            ],
                          },
                        },
                        fields: {
                          parent: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          structuredQuery: { type: "StructuredQuery", id: 2 },
                          transaction: { type: "bytes", id: 5 },
                          newTransaction: { type: "TransactionOptions", id: 6 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 7,
                          },
                        },
                      },
                      RunQueryResponse: {
                        fields: {
                          transaction: { type: "bytes", id: 2 },
                          document: { type: "Document", id: 1 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 3,
                          },
                          skippedResults: { type: "int32", id: 4 },
                        },
                      },
                      RunAggregationQueryRequest: {
                        oneofs: {
                          queryType: { oneof: ["structuredAggregationQuery"] },
                          consistencySelector: {
                            oneof: [
                              "transaction",
                              "newTransaction",
                              "readTime",
                            ],
                          },
                        },
                        fields: {
                          parent: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          structuredAggregationQuery: {
                            type: "StructuredAggregationQuery",
                            id: 2,
                          },
                          transaction: { type: "bytes", id: 4 },
                          newTransaction: { type: "TransactionOptions", id: 5 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 6,
                          },
                        },
                      },
                      RunAggregationQueryResponse: {
                        fields: {
                          result: { type: "AggregationResult", id: 1 },
                          transaction: { type: "bytes", id: 2 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 3,
                          },
                        },
                      },
                      PartitionQueryRequest: {
                        oneofs: { queryType: { oneof: ["structuredQuery"] } },
                        fields: {
                          parent: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          structuredQuery: { type: "StructuredQuery", id: 2 },
                          partitionCount: { type: "int64", id: 3 },
                          pageToken: { type: "string", id: 4 },
                          pageSize: { type: "int32", id: 5 },
                        },
                      },
                      PartitionQueryResponse: {
                        fields: {
                          partitions: {
                            rule: "repeated",
                            type: "Cursor",
                            id: 1,
                          },
                          nextPageToken: { type: "string", id: 2 },
                        },
                      },
                      WriteRequest: {
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          streamId: { type: "string", id: 2 },
                          writes: { rule: "repeated", type: "Write", id: 3 },
                          streamToken: { type: "bytes", id: 4 },
                          labels: { keyType: "string", type: "string", id: 5 },
                        },
                      },
                      WriteResponse: {
                        fields: {
                          streamId: { type: "string", id: 1 },
                          streamToken: { type: "bytes", id: 2 },
                          writeResults: {
                            rule: "repeated",
                            type: "WriteResult",
                            id: 3,
                          },
                          commitTime: {
                            type: "google.protobuf.Timestamp",
                            id: 4,
                          },
                        },
                      },
                      ListenRequest: {
                        oneofs: {
                          targetChange: {
                            oneof: ["addTarget", "removeTarget"],
                          },
                        },
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          addTarget: { type: "Target", id: 2 },
                          removeTarget: { type: "int32", id: 3 },
                          labels: { keyType: "string", type: "string", id: 4 },
                        },
                      },
                      ListenResponse: {
                        oneofs: {
                          responseType: {
                            oneof: [
                              "targetChange",
                              "documentChange",
                              "documentDelete",
                              "documentRemove",
                              "filter",
                            ],
                          },
                        },
                        fields: {
                          targetChange: { type: "TargetChange", id: 2 },
                          documentChange: { type: "DocumentChange", id: 3 },
                          documentDelete: { type: "DocumentDelete", id: 4 },
                          documentRemove: { type: "DocumentRemove", id: 6 },
                          filter: { type: "ExistenceFilter", id: 5 },
                        },
                      },
                      Target: {
                        oneofs: {
                          targetType: { oneof: ["query", "documents"] },
                          resumeType: { oneof: ["resumeToken", "readTime"] },
                        },
                        fields: {
                          query: { type: "QueryTarget", id: 2 },
                          documents: { type: "DocumentsTarget", id: 3 },
                          resumeToken: { type: "bytes", id: 4 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 11,
                          },
                          targetId: { type: "int32", id: 5 },
                          once: { type: "bool", id: 6 },
                          expectedCount: {
                            type: "google.protobuf.Int32Value",
                            id: 12,
                          },
                        },
                        nested: {
                          DocumentsTarget: {
                            fields: {
                              documents: {
                                rule: "repeated",
                                type: "string",
                                id: 2,
                              },
                            },
                          },
                          QueryTarget: {
                            oneofs: {
                              queryType: { oneof: ["structuredQuery"] },
                            },
                            fields: {
                              parent: { type: "string", id: 1 },
                              structuredQuery: {
                                type: "StructuredQuery",
                                id: 2,
                              },
                            },
                          },
                        },
                      },
                      TargetChange: {
                        fields: {
                          targetChangeType: { type: "TargetChangeType", id: 1 },
                          targetIds: { rule: "repeated", type: "int32", id: 2 },
                          cause: { type: "google.rpc.Status", id: 3 },
                          resumeToken: { type: "bytes", id: 4 },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 6,
                          },
                        },
                        nested: {
                          TargetChangeType: {
                            values: {
                              NO_CHANGE: 0,
                              ADD: 1,
                              REMOVE: 2,
                              CURRENT: 3,
                              RESET: 4,
                            },
                          },
                        },
                      },
                      ListCollectionIdsRequest: {
                        fields: {
                          parent: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          pageSize: { type: "int32", id: 2 },
                          pageToken: { type: "string", id: 3 },
                        },
                      },
                      ListCollectionIdsResponse: {
                        fields: {
                          collectionIds: {
                            rule: "repeated",
                            type: "string",
                            id: 1,
                          },
                          nextPageToken: { type: "string", id: 2 },
                        },
                      },
                      BatchWriteRequest: {
                        fields: {
                          database: {
                            type: "string",
                            id: 1,
                            options: {
                              "(google.api.field_behavior)": "REQUIRED",
                            },
                          },
                          writes: { rule: "repeated", type: "Write", id: 2 },
                          labels: { keyType: "string", type: "string", id: 3 },
                        },
                      },
                      BatchWriteResponse: {
                        fields: {
                          writeResults: {
                            rule: "repeated",
                            type: "WriteResult",
                            id: 1,
                          },
                          status: {
                            rule: "repeated",
                            type: "google.rpc.Status",
                            id: 2,
                          },
                        },
                      },
                      StructuredQuery: {
                        fields: {
                          select: { type: "Projection", id: 1 },
                          from: {
                            rule: "repeated",
                            type: "CollectionSelector",
                            id: 2,
                          },
                          where: { type: "Filter", id: 3 },
                          orderBy: { rule: "repeated", type: "Order", id: 4 },
                          startAt: { type: "Cursor", id: 7 },
                          endAt: { type: "Cursor", id: 8 },
                          offset: { type: "int32", id: 6 },
                          limit: { type: "google.protobuf.Int32Value", id: 5 },
                        },
                        nested: {
                          CollectionSelector: {
                            fields: {
                              collectionId: { type: "string", id: 2 },
                              allDescendants: { type: "bool", id: 3 },
                            },
                          },
                          Filter: {
                            oneofs: {
                              filterType: {
                                oneof: [
                                  "compositeFilter",
                                  "fieldFilter",
                                  "unaryFilter",
                                ],
                              },
                            },
                            fields: {
                              compositeFilter: {
                                type: "CompositeFilter",
                                id: 1,
                              },
                              fieldFilter: { type: "FieldFilter", id: 2 },
                              unaryFilter: { type: "UnaryFilter", id: 3 },
                            },
                          },
                          CompositeFilter: {
                            fields: {
                              op: { type: "Operator", id: 1 },
                              filters: {
                                rule: "repeated",
                                type: "Filter",
                                id: 2,
                              },
                            },
                            nested: {
                              Operator: {
                                values: {
                                  OPERATOR_UNSPECIFIED: 0,
                                  AND: 1,
                                  OR: 2,
                                },
                              },
                            },
                          },
                          FieldFilter: {
                            fields: {
                              field: { type: "FieldReference", id: 1 },
                              op: { type: "Operator", id: 2 },
                              value: { type: "Value", id: 3 },
                            },
                            nested: {
                              Operator: {
                                values: {
                                  OPERATOR_UNSPECIFIED: 0,
                                  LESS_THAN: 1,
                                  LESS_THAN_OR_EQUAL: 2,
                                  GREATER_THAN: 3,
                                  GREATER_THAN_OR_EQUAL: 4,
                                  EQUAL: 5,
                                  NOT_EQUAL: 6,
                                  ARRAY_CONTAINS: 7,
                                  IN: 8,
                                  ARRAY_CONTAINS_ANY: 9,
                                  NOT_IN: 10,
                                },
                              },
                            },
                          },
                          UnaryFilter: {
                            oneofs: { operandType: { oneof: ["field"] } },
                            fields: {
                              op: { type: "Operator", id: 1 },
                              field: { type: "FieldReference", id: 2 },
                            },
                            nested: {
                              Operator: {
                                values: {
                                  OPERATOR_UNSPECIFIED: 0,
                                  IS_NAN: 2,
                                  IS_NULL: 3,
                                  IS_NOT_NAN: 4,
                                  IS_NOT_NULL: 5,
                                },
                              },
                            },
                          },
                          Order: {
                            fields: {
                              field: { type: "FieldReference", id: 1 },
                              direction: { type: "Direction", id: 2 },
                            },
                          },
                          FieldReference: {
                            fields: { fieldPath: { type: "string", id: 2 } },
                          },
                          Projection: {
                            fields: {
                              fields: {
                                rule: "repeated",
                                type: "FieldReference",
                                id: 2,
                              },
                            },
                          },
                          Direction: {
                            values: {
                              DIRECTION_UNSPECIFIED: 0,
                              ASCENDING: 1,
                              DESCENDING: 2,
                            },
                          },
                        },
                      },
                      StructuredAggregationQuery: {
                        oneofs: { queryType: { oneof: ["structuredQuery"] } },
                        fields: {
                          structuredQuery: { type: "StructuredQuery", id: 1 },
                          aggregations: {
                            rule: "repeated",
                            type: "Aggregation",
                            id: 3,
                          },
                        },
                        nested: {
                          Aggregation: {
                            oneofs: {
                              operator: { oneof: ["count", "sum", "avg"] },
                            },
                            fields: {
                              count: { type: "Count", id: 1 },
                              sum: { type: "Sum", id: 2 },
                              avg: { type: "Avg", id: 3 },
                              alias: { type: "string", id: 7 },
                            },
                            nested: {
                              Count: {
                                fields: {
                                  upTo: {
                                    type: "google.protobuf.Int64Value",
                                    id: 1,
                                  },
                                },
                              },
                              Sum: {
                                fields: {
                                  field: { type: "FieldReference", id: 1 },
                                },
                              },
                              Avg: {
                                fields: {
                                  field: { type: "FieldReference", id: 1 },
                                },
                              },
                            },
                          },
                        },
                      },
                      Cursor: {
                        fields: {
                          values: { rule: "repeated", type: "Value", id: 1 },
                          before: { type: "bool", id: 2 },
                        },
                      },
                      Write: {
                        oneofs: {
                          operation: {
                            oneof: ["update", "delete", "verify", "transform"],
                          },
                        },
                        fields: {
                          update: { type: "Document", id: 1 },
                          delete: { type: "string", id: 2 },
                          verify: { type: "string", id: 5 },
                          transform: { type: "DocumentTransform", id: 6 },
                          updateMask: { type: "DocumentMask", id: 3 },
                          updateTransforms: {
                            rule: "repeated",
                            type: "DocumentTransform.FieldTransform",
                            id: 7,
                          },
                          currentDocument: { type: "Precondition", id: 4 },
                        },
                      },
                      DocumentTransform: {
                        fields: {
                          document: { type: "string", id: 1 },
                          fieldTransforms: {
                            rule: "repeated",
                            type: "FieldTransform",
                            id: 2,
                          },
                        },
                        nested: {
                          FieldTransform: {
                            oneofs: {
                              transformType: {
                                oneof: [
                                  "setToServerValue",
                                  "increment",
                                  "maximum",
                                  "minimum",
                                  "appendMissingElements",
                                  "removeAllFromArray",
                                ],
                              },
                            },
                            fields: {
                              fieldPath: { type: "string", id: 1 },
                              setToServerValue: { type: "ServerValue", id: 2 },
                              increment: { type: "Value", id: 3 },
                              maximum: { type: "Value", id: 4 },
                              minimum: { type: "Value", id: 5 },
                              appendMissingElements: {
                                type: "ArrayValue",
                                id: 6,
                              },
                              removeAllFromArray: { type: "ArrayValue", id: 7 },
                            },
                            nested: {
                              ServerValue: {
                                values: {
                                  SERVER_VALUE_UNSPECIFIED: 0,
                                  REQUEST_TIME: 1,
                                },
                              },
                            },
                          },
                        },
                      },
                      WriteResult: {
                        fields: {
                          updateTime: {
                            type: "google.protobuf.Timestamp",
                            id: 1,
                          },
                          transformResults: {
                            rule: "repeated",
                            type: "Value",
                            id: 2,
                          },
                        },
                      },
                      DocumentChange: {
                        fields: {
                          document: { type: "Document", id: 1 },
                          targetIds: { rule: "repeated", type: "int32", id: 5 },
                          removedTargetIds: {
                            rule: "repeated",
                            type: "int32",
                            id: 6,
                          },
                        },
                      },
                      DocumentDelete: {
                        fields: {
                          document: { type: "string", id: 1 },
                          removedTargetIds: {
                            rule: "repeated",
                            type: "int32",
                            id: 6,
                          },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 4,
                          },
                        },
                      },
                      DocumentRemove: {
                        fields: {
                          document: { type: "string", id: 1 },
                          removedTargetIds: {
                            rule: "repeated",
                            type: "int32",
                            id: 2,
                          },
                          readTime: {
                            type: "google.protobuf.Timestamp",
                            id: 4,
                          },
                        },
                      },
                      ExistenceFilter: {
                        fields: {
                          targetId: { type: "int32", id: 1 },
                          count: { type: "int32", id: 2 },
                          unchangedNames: { type: "BloomFilter", id: 3 },
                        },
                      },
                    },
                  },
                },
              },
              api: {
                options: {
                  go_package:
                    "google.golang.org/genproto/googleapis/api/annotations;annotations",
                  java_multiple_files: !0,
                  java_outer_classname: "HttpProto",
                  java_package: "com.google.api",
                  objc_class_prefix: "GAPI",
                  cc_enable_arenas: !0,
                },
                nested: {
                  http: {
                    type: "HttpRule",
                    id: 0x44f2530,
                    extend: "google.protobuf.MethodOptions",
                  },
                  Http: {
                    fields: {
                      rules: { rule: "repeated", type: "HttpRule", id: 1 },
                    },
                  },
                  HttpRule: {
                    oneofs: {
                      pattern: {
                        oneof: [
                          "get",
                          "put",
                          "post",
                          "delete",
                          "patch",
                          "custom",
                        ],
                      },
                    },
                    fields: {
                      get: { type: "string", id: 2 },
                      put: { type: "string", id: 3 },
                      post: { type: "string", id: 4 },
                      delete: { type: "string", id: 5 },
                      patch: { type: "string", id: 6 },
                      custom: { type: "CustomHttpPattern", id: 8 },
                      selector: { type: "string", id: 1 },
                      body: { type: "string", id: 7 },
                      additionalBindings: {
                        rule: "repeated",
                        type: "HttpRule",
                        id: 11,
                      },
                    },
                  },
                  CustomHttpPattern: {
                    fields: {
                      kind: { type: "string", id: 1 },
                      path: { type: "string", id: 2 },
                    },
                  },
                  methodSignature: {
                    rule: "repeated",
                    type: "string",
                    id: 1051,
                    extend: "google.protobuf.MethodOptions",
                  },
                  defaultHost: {
                    type: "string",
                    id: 1049,
                    extend: "google.protobuf.ServiceOptions",
                  },
                  oauthScopes: {
                    type: "string",
                    id: 1050,
                    extend: "google.protobuf.ServiceOptions",
                  },
                  fieldBehavior: {
                    rule: "repeated",
                    type: "google.api.FieldBehavior",
                    id: 1052,
                    extend: "google.protobuf.FieldOptions",
                  },
                  FieldBehavior: {
                    values: {
                      FIELD_BEHAVIOR_UNSPECIFIED: 0,
                      OPTIONAL: 1,
                      REQUIRED: 2,
                      OUTPUT_ONLY: 3,
                      INPUT_ONLY: 4,
                      IMMUTABLE: 5,
                      UNORDERED_LIST: 6,
                      NON_EMPTY_DEFAULT: 7,
                    },
                  },
                },
              },
              type: {
                options: {
                  cc_enable_arenas: !0,
                  go_package:
                    "google.golang.org/genproto/googleapis/type/latlng;latlng",
                  java_multiple_files: !0,
                  java_outer_classname: "LatLngProto",
                  java_package: "com.google.type",
                  objc_class_prefix: "GTP",
                },
                nested: {
                  LatLng: {
                    fields: {
                      latitude: { type: "double", id: 1 },
                      longitude: { type: "double", id: 2 },
                    },
                  },
                },
              },
              rpc: {
                options: {
                  cc_enable_arenas: !0,
                  go_package:
                    "google.golang.org/genproto/googleapis/rpc/status;status",
                  java_multiple_files: !0,
                  java_outer_classname: "StatusProto",
                  java_package: "com.google.rpc",
                  objc_class_prefix: "RPC",
                },
                nested: {
                  Status: {
                    fields: {
                      code: { type: "int32", id: 1 },
                      message: { type: "string", id: 2 },
                      details: {
                        rule: "repeated",
                        type: "google.protobuf.Any",
                        id: 3,
                      },
                    },
                  },
                },
              },
            },
          },
        };
        var fP = { nested: fD },
          fN = Object.freeze({ __proto__: null, nested: fD, default: fP });
        let fO = { longs: String, enums: String, defaults: !0, oneofs: !1 };
        function fM() {
          let e = tJ.rS(fN, fO);
          return tX.ex(e);
        }
        function fL(e) {
          return new fR(fM(), e);
        }
        function fB() {
          return new fw();
        }
        function fF() {
          return "YES" === process.env.USE_MOCK_PERSISTENCE ? window : null;
        }
        function fU() {
          return null;
        }
        function fj(e) {
          return new lw(e, !1);
        }
        let fz = "ExponentialBackoff",
          fV = 1e3,
          fK = 1.5,
          fq = 6e4;
        class fH {
          constructor(e, r, n = fV, i = fK, s = fq) {
            (this.queue = e),
              (this.timerId = r),
              (this.initialDelayMs = n),
              (this.backoffFactor = i),
              (this.maxDelayMs = s),
              (this.currentBaseMs = 0),
              (this.timerPromise = null),
              (this.lastAttemptTime = Date.now()),
              this.reset();
          }
          reset() {
            this.currentBaseMs = 0;
          }
          resetToMax() {
            this.currentBaseMs = this.maxDelayMs;
          }
          backoffAndRun(e) {
            this.cancel();
            let r = Math.floor(this.currentBaseMs + this.jitterDelayMs()),
              n = Math.max(0, Date.now() - this.lastAttemptTime),
              i = Math.max(0, r - n);
            i > 0 &&
              t8(
                fz,
                `Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`,
              ),
              (this.timerPromise = this.queue.enqueueAfterDelay(
                this.timerId,
                i,
                () => ((this.lastAttemptTime = Date.now()), e()),
              )),
              (this.currentBaseMs *= this.backoffFactor),
              this.currentBaseMs < this.initialDelayMs &&
                (this.currentBaseMs = this.initialDelayMs),
              this.currentBaseMs > this.maxDelayMs &&
                (this.currentBaseMs = this.maxDelayMs);
          }
          skipBackoff() {
            null !== this.timerPromise &&
              (this.timerPromise.skipDelay(), (this.timerPromise = null));
          }
          cancel() {
            null !== this.timerPromise &&
              (this.timerPromise.cancel(), (this.timerPromise = null));
          }
          jitterDelayMs() {
            return (Math.random() - 0.5) * this.currentBaseMs;
          }
        }
        let f$ = "PersistentStream",
          fW = 6e4,
          fG = 1e4;
        class fQ {
          constructor(e, r, n, i, s, a, o, l) {
            (this.queue = e),
              (this.idleTimerId = n),
              (this.healthTimerId = i),
              (this.connection = s),
              (this.authCredentialsProvider = a),
              (this.appCheckCredentialsProvider = o),
              (this.listener = l),
              (this.state = 0),
              (this.closeCount = 0),
              (this.idleTimer = null),
              (this.healthCheck = null),
              (this.stream = null),
              (this.responseCount = 0),
              (this.backoff = new fH(e, r));
          }
          isStarted() {
            return 1 === this.state || 5 === this.state || this.isOpen();
          }
          isOpen() {
            return 2 === this.state || 3 === this.state;
          }
          start() {
            if (((this.responseCount = 0), 4 === this.state)) {
              this.performBackoff();
              return;
            }
            this.auth();
          }
          async stop() {
            this.isStarted() && (await this.close(0));
          }
          inhibitBackoff() {
            (this.state = 0), this.backoff.reset();
          }
          markIdle() {
            this.isOpen() &&
              null === this.idleTimer &&
              (this.idleTimer = this.queue.enqueueAfterDelay(
                this.idleTimerId,
                fW,
                () => this.handleIdleCloseTimer(),
              ));
          }
          sendRequest(e) {
            this.cancelIdleCheck(), this.stream.send(e);
          }
          async handleIdleCloseTimer() {
            if (this.isOpen()) return this.close(0);
          }
          cancelIdleCheck() {
            this.idleTimer &&
              (this.idleTimer.cancel(), (this.idleTimer = null));
          }
          cancelHealthCheck() {
            this.healthCheck &&
              (this.healthCheck.cancel(), (this.healthCheck = null));
          }
          async close(e, r) {
            this.cancelIdleCheck(),
              this.cancelHealthCheck(),
              this.backoff.cancel(),
              this.closeCount++,
              4 !== e
                ? this.backoff.reset()
                : r && r.code === ri.RESOURCE_EXHAUSTED
                  ? (t7(r.toString()),
                    t7(
                      "Using maximum backoff delay to prevent overloading the backend.",
                    ),
                    this.backoff.resetToMax())
                  : r &&
                    r.code === ri.UNAUTHENTICATED &&
                    3 !== this.state &&
                    (this.authCredentialsProvider.invalidateToken(),
                    this.appCheckCredentialsProvider.invalidateToken()),
              null !== this.stream &&
                (this.tearDown(), this.stream.close(), (this.stream = null)),
              (this.state = e),
              await this.listener.onClose(r);
          }
          tearDown() {}
          auth() {
            this.state = 1;
            let e = this.getCloseGuardedDispatcher(this.closeCount),
              r = this.closeCount;
            Promise.all([
              this.authCredentialsProvider.getToken(),
              this.appCheckCredentialsProvider.getToken(),
            ]).then(
              ([e, n]) => {
                this.closeCount === r && this.startStream(e, n);
              },
              (r) => {
                e(() => {
                  let e = new rs(
                    ri.UNKNOWN,
                    "Fetching auth token failed: " + r.message,
                  );
                  return this.handleStreamClose(e);
                });
              },
            );
          }
          startStream(e, r) {
            let n = this.getCloseGuardedDispatcher(this.closeCount);
            (this.stream = this.startRpc(e, r)),
              this.stream.onConnected(() => {
                n(() => this.listener.onConnected());
              }),
              this.stream.onOpen(() => {
                n(
                  () => (
                    (this.state = 2),
                    (this.healthCheck = this.queue.enqueueAfterDelay(
                      this.healthTimerId,
                      fG,
                      () => (
                        this.isOpen() && (this.state = 3), Promise.resolve()
                      ),
                    )),
                    this.listener.onOpen()
                  ),
                );
              }),
              this.stream.onClose((e) => {
                n(() => this.handleStreamClose(e));
              }),
              this.stream.onMessage((e) => {
                n(() =>
                  1 == ++this.responseCount ? this.onFirst(e) : this.onNext(e),
                );
              });
          }
          performBackoff() {
            (this.state = 5),
              this.backoff.backoffAndRun(async () => {
                (this.state = 0), this.start();
              });
          }
          handleStreamClose(e) {
            return (
              t8(f$, `close with error: ${e}`),
              (this.stream = null),
              this.close(4, e)
            );
          }
          getCloseGuardedDispatcher(e) {
            return (r) => {
              this.queue.enqueueAndForget(() =>
                this.closeCount === e
                  ? r()
                  : (t8(
                      f$,
                      "stream callback skipped by getCloseGuardedDispatcher.",
                    ),
                    Promise.resolve()),
              );
            };
          }
        }
        class fY extends fQ {
          constructor(e, r, n, i, s, a) {
            super(
              e,
              "listen_stream_connection_backoff",
              "listen_stream_idle",
              "health_check_timeout",
              r,
              n,
              i,
              a,
            ),
              (this.serializer = s);
          }
          startRpc(e, r) {
            return this.connection.openStream("Listen", e, r);
          }
          onFirst(e) {
            return this.onNext(e);
          }
          onNext(e) {
            this.backoff.reset();
            let r = l$(this.serializer, e),
              n = lG(e);
            return this.listener.onWatchChange(r, n);
          }
          watch(e) {
            let r = {};
            (r.database = lB(this.serializer)),
              (r.addTarget = ut(this.serializer, e));
            let n = l9(this.serializer, e);
            n && (r.labels = n), this.sendRequest(r);
          }
          unwatch(e) {
            let r = {};
            (r.database = lB(this.serializer)),
              (r.removeTarget = e),
              this.sendRequest(r);
          }
        }
        class fX extends fQ {
          constructor(e, r, n, i, s, a) {
            super(
              e,
              "write_stream_connection_backoff",
              "write_stream_idle",
              "health_check_timeout",
              r,
              n,
              i,
              a,
            ),
              (this.serializer = s);
          }
          get handshakeComplete() {
            return this.responseCount > 0;
          }
          start() {
            (this.lastStreamToken = void 0), super.start();
          }
          tearDown() {
            this.handshakeComplete && this.writeMutations([]);
          }
          startRpc(e, r) {
            return this.connection.openStream("Write", e, r);
          }
          onFirst(e) {
            return (
              rr(!!e.streamToken),
              (this.lastStreamToken = e.streamToken),
              rr(!e.writeResults || 0 === e.writeResults.length),
              this.listener.onHandshakeComplete()
            );
          }
          onNext(e) {
            rr(!!e.streamToken),
              (this.lastStreamToken = e.streamToken),
              this.backoff.reset();
            let r = l0(e.writeResults, e.commitTime),
              n = l_(e.commitTime);
            return this.listener.onMutationResult(n, r);
          }
          writeHandshake() {
            let e = {};
            (e.database = lB(this.serializer)), this.sendRequest(e);
          }
          writeMutations(e) {
            let r = {
              streamToken: this.lastStreamToken,
              writes: e.map((e) => lQ(this.serializer, e)),
            };
            this.sendRequest(r);
          }
        }
        class fJ {}
        class fZ extends fJ {
          constructor(e, r, n, i) {
            super(),
              (this.authCredentials = e),
              (this.appCheckCredentials = r),
              (this.connection = n),
              (this.serializer = i),
              (this.terminated = !1);
          }
          verifyInitialized() {
            if (this.terminated)
              throw new rs(
                ri.FAILED_PRECONDITION,
                "The client has already been terminated.",
              );
          }
          invokeRPC(e, r, n, i) {
            return (
              this.verifyInitialized(),
              Promise.all([
                this.authCredentials.getToken(),
                this.appCheckCredentials.getToken(),
              ])
                .then(([s, a]) =>
                  this.connection.invokeRPC(e, lD(r, n), i, s, a),
                )
                .catch((e) => {
                  if ("FirebaseError" === e.name)
                    throw (
                      (e.code === ri.UNAUTHENTICATED &&
                        (this.authCredentials.invalidateToken(),
                        this.appCheckCredentials.invalidateToken()),
                      e)
                    );
                  throw new rs(ri.UNKNOWN, e.toString());
                })
            );
          }
          invokeStreamingRPC(e, r, n, i, s) {
            return (
              this.verifyInitialized(),
              Promise.all([
                this.authCredentials.getToken(),
                this.appCheckCredentials.getToken(),
              ])
                .then(([a, o]) =>
                  this.connection.invokeStreamingRPC(e, lD(r, n), i, a, o, s),
                )
                .catch((e) => {
                  if ("FirebaseError" === e.name)
                    throw (
                      (e.code === ri.UNAUTHENTICATED &&
                        (this.authCredentials.invalidateToken(),
                        this.appCheckCredentials.invalidateToken()),
                      e)
                    );
                  throw new rs(ri.UNKNOWN, e.toString());
                })
            );
          }
          terminate() {
            (this.terminated = !0), this.connection.terminate();
          }
        }
        function f0(e, r, n, i) {
          return new fZ(e, r, n, i);
        }
        async function f1(e, r) {
          let n = rn(e),
            i = { writes: r.map((e) => lQ(n.serializer, e)) };
          await n.invokeRPC(
            "Commit",
            n.serializer.databaseId,
            rI.emptyPath(),
            i,
          );
        }
        async function f2(e, r) {
          let n = rn(e),
            i = { documents: r.map((e) => lN(n.serializer, e)) },
            s = await n.invokeStreamingRPC(
              "BatchGetDocuments",
              n.serializer.databaseId,
              rI.emptyPath(),
              i,
              r.length,
            ),
            a = new Map();
          s.forEach((e) => {
            let r = lH(n.serializer, e);
            a.set(r.key.toString(), r);
          });
          let o = [];
          return (
            r.forEach((e) => {
              let r = a.get(e.toString());
              rr(!!r), o.push(r);
            }),
            o
          );
        }
        async function f3(e, r, n) {
          var i;
          let s = rn(e),
            { request: a, aliasMap: o, parent: l } = l6(s.serializer, az(r), n);
          s.connection.shouldResourcePathBeIncludedInRequest || delete a.parent;
          let u = (
            await s.invokeStreamingRPC(
              "RunAggregationQuery",
              s.serializer.databaseId,
              l,
              a,
              1,
            )
          ).filter((e) => !!e.result);
          rr(1 === u.length);
          let c =
            null === (i = u[0].result) || void 0 === i
              ? void 0
              : i.aggregateFields;
          return Object.keys(c).reduce((e, r) => ((e[o[r]] = c[r]), e), {});
        }
        function f4(e, r, n) {
          let i = rn(e);
          return (
            i.verifyInitialized(),
            new fX(
              r,
              i.connection,
              i.authCredentials,
              i.appCheckCredentials,
              i.serializer,
              n,
            )
          );
        }
        function f5(e, r, n) {
          let i = rn(e);
          return (
            i.verifyInitialized(),
            new fY(
              r,
              i.connection,
              i.authCredentials,
              i.appCheckCredentials,
              i.serializer,
              n,
            )
          );
        }
        let f6 = "OnlineStateTracker",
          f8 = 1,
          f7 = 1e4;
        class f9 {
          constructor(e, r) {
            (this.asyncQueue = e),
              (this.onlineStateHandler = r),
              (this.state = "Unknown"),
              (this.watchStreamFailures = 0),
              (this.onlineStateTimer = null),
              (this.shouldWarnClientIsOffline = !0);
          }
          handleWatchStreamStart() {
            0 === this.watchStreamFailures &&
              (this.setAndBroadcast("Unknown"),
              (this.onlineStateTimer = this.asyncQueue.enqueueAfterDelay(
                "online_state_timeout",
                f7,
                () => (
                  (this.onlineStateTimer = null),
                  this.logClientOfflineWarningIfNecessary(
                    `Backend didn't respond within ${f7 / 1e3} seconds.`,
                  ),
                  this.setAndBroadcast("Offline"),
                  Promise.resolve()
                ),
              )));
          }
          handleWatchStreamFailure(e) {
            "Online" === this.state
              ? this.setAndBroadcast("Unknown")
              : (this.watchStreamFailures++,
                this.watchStreamFailures >= f8 &&
                  (this.clearOnlineStateTimer(),
                  this.logClientOfflineWarningIfNecessary(
                    `Connection failed ${f8} times. Most recent error: ${e.toString()}`,
                  ),
                  this.setAndBroadcast("Offline")));
          }
          set(e) {
            this.clearOnlineStateTimer(),
              (this.watchStreamFailures = 0),
              "Online" === e && (this.shouldWarnClientIsOffline = !1),
              this.setAndBroadcast(e);
          }
          setAndBroadcast(e) {
            e !== this.state && ((this.state = e), this.onlineStateHandler(e));
          }
          logClientOfflineWarningIfNecessary(e) {
            let r = `Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;
            this.shouldWarnClientIsOffline
              ? (t7(r), (this.shouldWarnClientIsOffline = !1))
              : t8(f6, r);
          }
          clearOnlineStateTimer() {
            null !== this.onlineStateTimer &&
              (this.onlineStateTimer.cancel(), (this.onlineStateTimer = null));
          }
        }
        let pe = "RemoteStore",
          pt = 10;
        class pr {
          constructor(e, r, n, i, s) {
            (this.localStore = e),
              (this.datastore = r),
              (this.asyncQueue = n),
              (this.remoteSyncer = {}),
              (this.writePipeline = []),
              (this.listenTargets = new Map()),
              (this.offlineCauses = new Set()),
              (this.onNetworkStatusChange = []),
              (this.connectivityMonitor = s),
              this.connectivityMonitor.addCallback((e) => {
                n.enqueueAndForget(async () => {
                  pf(this) &&
                    (t8(
                      pe,
                      "Restarting streams for network reachability change.",
                    ),
                    await pN(this));
                });
              }),
              (this.onlineStateTracker = new f9(n, i));
          }
        }
        function pn(e, r, n, i, s) {
          return new pr(e, r, n, i, s);
        }
        async function pi(e) {
          if (pf(e)) for (let r of e.onNetworkStatusChange) await r(!0);
        }
        async function ps(e) {
          for (let r of e.onNetworkStatusChange) await r(!1);
        }
        async function pa(e) {
          let r = rn(e);
          t8(pe, "RemoteStore shutting down."),
            r.offlineCauses.add(5),
            await ps(r),
            r.connectivityMonitor.shutdown(),
            r.onlineStateTracker.set("Unknown");
        }
        function po(e, r) {
          let n = rn(e);
          !n.listenTargets.has(r.targetId) &&
            (n.listenTargets.set(r.targetId, r),
            ph(n) ? pd(n) : pL(n).isOpen() && pu(n, r));
        }
        function pl(e, r) {
          let n = rn(e),
            i = pL(n);
          n.listenTargets.delete(r),
            i.isOpen() && pc(n, r),
            0 === n.listenTargets.size &&
              (i.isOpen()
                ? i.markIdle()
                : pf(n) && n.onlineStateTracker.set("Unknown"));
        }
        function pu(e, r) {
          if (
            (e.watchChangeAggregator.recordPendingTargetRequest(r.targetId),
            r.resumeToken.approximateByteSize() > 0 ||
              r.snapshotVersion.compareTo(rC.min()) > 0)
          ) {
            let n = e.remoteSyncer.getRemoteKeysForTarget(r.targetId).size;
            r = r.withExpectedCount(n);
          }
          pL(e).watch(r);
        }
        function pc(e, r) {
          e.watchChangeAggregator.recordPendingTargetRequest(r),
            pL(e).unwatch(r);
        }
        function pd(e) {
          (e.watchChangeAggregator = new lf({
            getRemoteKeysForTarget: (r) =>
              e.remoteSyncer.getRemoteKeysForTarget(r),
            getTargetDataForTarget: (r) => e.listenTargets.get(r) || null,
            getDatabaseId: () => e.datastore.serializer.databaseId,
          })),
            pL(e).start(),
            e.onlineStateTracker.handleWatchStreamStart();
        }
        function ph(e) {
          return pf(e) && !pL(e).isStarted() && e.listenTargets.size > 0;
        }
        function pf(e) {
          return 0 === rn(e).offlineCauses.size;
        }
        function pp(e) {
          e.watchChangeAggregator = void 0;
        }
        async function pg(e) {
          e.onlineStateTracker.set("Online");
        }
        async function pm(e) {
          e.listenTargets.forEach((r, n) => {
            pu(e, r);
          });
        }
        async function py(e, r) {
          pp(e),
            ph(e)
              ? (e.onlineStateTracker.handleWatchStreamFailure(r), pd(e))
              : e.onlineStateTracker.set("Unknown");
        }
        async function pv(e, r, n) {
          if (
            (e.onlineStateTracker.set("Online"),
            r instanceof lc && 2 === r.state && r.cause)
          ) {
            try {
              await pS(e, r);
            } catch (n) {
              t8(
                pe,
                "Failed to remove targets %s: %s ",
                r.targetIds.join(","),
                n,
              ),
                await pb(e, n);
            }
            return;
          }
          if (
            (r instanceof ll
              ? e.watchChangeAggregator.handleDocumentChange(r)
              : r instanceof lu
                ? e.watchChangeAggregator.handleExistenceFilter(r)
                : e.watchChangeAggregator.handleTargetChange(r),
            !n.isEqual(rC.min()))
          )
            try {
              let r = await hM(e.localStore);
              n.compareTo(r) >= 0 && (await pT(e, n));
            } catch (r) {
              t8(pe, "Failed to raise snapshot:", r), await pb(e, r);
            }
        }
        async function pb(e, r, n) {
          if (r3(r))
            e.offlineCauses.add(1),
              await ps(e),
              e.onlineStateTracker.set("Offline"),
              n || (n = () => hM(e.localStore)),
              e.asyncQueue.enqueueRetryable(async () => {
                t8(pe, "Retrying IndexedDB access"),
                  await n(),
                  e.offlineCauses.delete(1),
                  await pi(e);
              });
          else throw r;
        }
        function pw(e, r) {
          return r().catch((n) => pb(e, n, r));
        }
        function pT(e, r) {
          let n = e.watchChangeAggregator.createRemoteEvent(r);
          return (
            n.targetChanges.forEach((n, i) => {
              if (n.resumeToken.approximateByteSize() > 0) {
                let s = e.listenTargets.get(i);
                s &&
                  e.listenTargets.set(i, s.withResumeToken(n.resumeToken, r));
              }
            }),
            n.targetMismatches.forEach((r, n) => {
              let i = e.listenTargets.get(r);
              i &&
                (e.listenTargets.set(
                  r,
                  i.withResumeToken(iM.EMPTY_BYTE_STRING, i.snapshotVersion),
                ),
                pc(e, r),
                pu(e, new uR(i.target, r, n, i.sequenceNumber)));
            }),
            e.remoteSyncer.applyRemoteEvent(n)
          );
        }
        async function pS(e, r) {
          let n = r.cause;
          for (let i of r.targetIds)
            e.listenTargets.has(i) &&
              (await e.remoteSyncer.rejectListen(i, n),
              e.listenTargets.delete(i),
              e.watchChangeAggregator.removeTarget(i));
        }
        async function pE(e) {
          let r = rn(e),
            n = pB(r),
            i =
              r.writePipeline.length > 0
                ? r.writePipeline[r.writePipeline.length - 1].batchId
                : i0;
          for (; pC(r); )
            try {
              let e = await hj(r.localStore, i);
              if (null === e) {
                0 === r.writePipeline.length && n.markIdle();
                break;
              }
              (i = e.batchId), px(r, e);
            } catch (e) {
              await pb(r, e);
            }
          pA(r) && pI(r);
        }
        function pC(e) {
          return pf(e) && e.writePipeline.length < pt;
        }
        function px(e, r) {
          e.writePipeline.push(r);
          let n = pB(e);
          n.isOpen() && n.handshakeComplete && n.writeMutations(r.mutations);
        }
        function pA(e) {
          return pf(e) && !pB(e).isStarted() && e.writePipeline.length > 0;
        }
        function pI(e) {
          pB(e).start();
        }
        async function pk(e) {
          pB(e).writeHandshake();
        }
        async function p_(e) {
          let r = pB(e);
          for (let n of e.writePipeline) r.writeMutations(n.mutations);
        }
        async function pR(e, r, n) {
          let i = e.writePipeline.shift(),
            s = o0.from(i, r, n);
          await pw(e, () => e.remoteSyncer.applySuccessfulWrite(s)),
            await pE(e);
        }
        async function pD(e, r) {
          r && pB(e).handshakeComplete && (await pP(e, r)), pA(e) && pI(e);
        }
        async function pP(e, r) {
          if (o4(r.code)) {
            let n = e.writePipeline.shift();
            pB(e).inhibitBackoff(),
              await pw(e, () => e.remoteSyncer.rejectFailedWrite(n.batchId, r)),
              await pE(e);
          }
        }
        async function pN(e) {
          let r = rn(e);
          r.offlineCauses.add(4),
            await ps(r),
            r.onlineStateTracker.set("Unknown"),
            r.offlineCauses.delete(4),
            await pi(r);
        }
        async function pO(e, r) {
          let n = rn(e);
          n.asyncQueue.verifyOperationInProgress(),
            t8(pe, "RemoteStore received new credentials");
          let i = pf(n);
          n.offlineCauses.add(3),
            await ps(n),
            i && n.onlineStateTracker.set("Unknown"),
            await n.remoteSyncer.handleCredentialChange(r),
            n.offlineCauses.delete(3),
            await pi(n);
        }
        async function pM(e, r) {
          let n = rn(e);
          r
            ? (n.offlineCauses.delete(2), await pi(n))
            : r ||
              (n.offlineCauses.add(2),
              await ps(n),
              n.onlineStateTracker.set("Unknown"));
        }
        function pL(e) {
          return (
            e.watchStream ||
              ((e.watchStream = f5(e.datastore, e.asyncQueue, {
                onConnected: pg.bind(null, e),
                onOpen: pm.bind(null, e),
                onClose: py.bind(null, e),
                onWatchChange: pv.bind(null, e),
              })),
              e.onNetworkStatusChange.push(async (r) => {
                r
                  ? (e.watchStream.inhibitBackoff(),
                    ph(e) ? pd(e) : e.onlineStateTracker.set("Unknown"))
                  : (await e.watchStream.stop(), pp(e));
              })),
            e.watchStream
          );
        }
        function pB(e) {
          return (
            e.writeStream ||
              ((e.writeStream = f4(e.datastore, e.asyncQueue, {
                onConnected: () => Promise.resolve(),
                onOpen: pk.bind(null, e),
                onClose: pD.bind(null, e),
                onHandshakeComplete: p_.bind(null, e),
                onMutationResult: pR.bind(null, e),
              })),
              e.onNetworkStatusChange.push(async (r) => {
                r
                  ? (e.writeStream.inhibitBackoff(), await pE(e))
                  : (await e.writeStream.stop(),
                    e.writePipeline.length > 0 &&
                      (t8(
                        pe,
                        `Stopping write stream with ${e.writePipeline.length} pending writes`,
                      ),
                      (e.writePipeline = [])));
              })),
            e.writeStream
          );
        }
        let pF = "AsyncQueue";
        class pU {
          constructor(e, r, n, i, s) {
            (this.asyncQueue = e),
              (this.timerId = r),
              (this.targetTimeMs = n),
              (this.op = i),
              (this.removalCallback = s),
              (this.deferred = new ra()),
              (this.then = this.deferred.promise.then.bind(
                this.deferred.promise,
              )),
              this.deferred.promise.catch((e) => {});
          }
          get promise() {
            return this.deferred.promise;
          }
          static createAndSchedule(e, r, n, i, s) {
            let a = new pU(e, r, Date.now() + n, i, s);
            return a.start(n), a;
          }
          start(e) {
            this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e);
          }
          skipDelay() {
            return this.handleDelayElapsed();
          }
          cancel(e) {
            null !== this.timerHandle &&
              (this.clearTimeout(),
              this.deferred.reject(
                new rs(
                  ri.CANCELLED,
                  "Operation cancelled" + (e ? ": " + e : ""),
                ),
              ));
          }
          handleDelayElapsed() {
            this.asyncQueue.enqueueAndForget(() =>
              null !== this.timerHandle
                ? (this.clearTimeout(),
                  this.op().then((e) => this.deferred.resolve(e)))
                : Promise.resolve(),
            );
          }
          clearTimeout() {
            null !== this.timerHandle &&
              (this.removalCallback(this),
              clearTimeout(this.timerHandle),
              (this.timerHandle = null));
          }
        }
        function pj(e, r) {
          if ((t7(pF, `${r}: ${e}`), r3(e)))
            return new rs(ri.UNAVAILABLE, `${r}: ${e}`);
          throw e;
        }
        class pz {
          static emptySet(e) {
            return new pz(e.comparator);
          }
          constructor(e) {
            e
              ? (this.comparator = (r, n) =>
                  e(r, n) || rR.comparator(r.key, n.key))
              : (this.comparator = (e, r) => rR.comparator(e.key, r.key)),
              (this.keyedMap = a9()),
              (this.sortedSet = new iC(this.comparator));
          }
          has(e) {
            return null != this.keyedMap.get(e);
          }
          get(e) {
            return this.keyedMap.get(e);
          }
          first() {
            return this.sortedSet.minKey();
          }
          last() {
            return this.sortedSet.maxKey();
          }
          isEmpty() {
            return this.sortedSet.isEmpty();
          }
          indexOf(e) {
            let r = this.keyedMap.get(e);
            return r ? this.sortedSet.indexOf(r) : -1;
          }
          get size() {
            return this.sortedSet.size;
          }
          forEach(e) {
            this.sortedSet.inorderTraversal((r, n) => (e(r), !1));
          }
          add(e) {
            let r = this.delete(e.key);
            return r.copy(
              r.keyedMap.insert(e.key, e),
              r.sortedSet.insert(e, null),
            );
          }
          delete(e) {
            let r = this.get(e);
            return r
              ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(r))
              : this;
          }
          isEqual(e) {
            if (!(e instanceof pz) || this.size !== e.size) return !1;
            let r = this.sortedSet.getIterator(),
              n = e.sortedSet.getIterator();
            for (; r.hasNext(); ) {
              let e = r.getNext().key,
                i = n.getNext().key;
              if (!e.isEqual(i)) return !1;
            }
            return !0;
          }
          toString() {
            let e = [];
            return (this.forEach((r) => {
              e.push(r.toString());
            }),
            0 === e.length)
              ? "DocumentSet ()"
              : "DocumentSet (\n  " + e.join("  \n") + "\n)";
          }
          copy(e, r) {
            let n = new pz();
            return (
              (n.comparator = this.comparator),
              (n.keyedMap = e),
              (n.sortedSet = r),
              n
            );
          }
        }
        class pV {
          constructor() {
            this.changeMap = new iC(rR.comparator);
          }
          track(e) {
            let r = e.doc.key,
              n = this.changeMap.get(r);
            if (!n) {
              this.changeMap = this.changeMap.insert(r, e);
              return;
            }
            0 !== e.type && 3 === n.type
              ? (this.changeMap = this.changeMap.insert(r, e))
              : 3 === e.type && 1 !== n.type
                ? (this.changeMap = this.changeMap.insert(r, {
                    type: n.type,
                    doc: e.doc,
                  }))
                : 2 === e.type && 2 === n.type
                  ? (this.changeMap = this.changeMap.insert(r, {
                      type: 2,
                      doc: e.doc,
                    }))
                  : 2 === e.type && 0 === n.type
                    ? (this.changeMap = this.changeMap.insert(r, {
                        type: 0,
                        doc: e.doc,
                      }))
                    : 1 === e.type && 0 === n.type
                      ? (this.changeMap = this.changeMap.remove(r))
                      : 1 === e.type && 2 === n.type
                        ? (this.changeMap = this.changeMap.insert(r, {
                            type: 1,
                            doc: n.doc,
                          }))
                        : 0 === e.type && 1 === n.type
                          ? (this.changeMap = this.changeMap.insert(r, {
                              type: 2,
                              doc: e.doc,
                            }))
                          : rt();
          }
          getChanges() {
            let e = [];
            return (
              this.changeMap.inorderTraversal((r, n) => {
                e.push(n);
              }),
              e
            );
          }
        }
        class pK {
          constructor(e, r, n, i, s, a, o, l, u) {
            (this.query = e),
              (this.docs = r),
              (this.oldDocs = n),
              (this.docChanges = i),
              (this.mutatedKeys = s),
              (this.fromCache = a),
              (this.syncStateChanged = o),
              (this.excludesMetadataChanges = l),
              (this.hasCachedResults = u);
          }
          static fromInitialDocuments(e, r, n, i, s) {
            let a = [];
            return (
              r.forEach((e) => {
                a.push({ type: 0, doc: e });
              }),
              new pK(e, r, pz.emptySet(r), a, n, i, !0, !1, s)
            );
          }
          get hasPendingWrites() {
            return !this.mutatedKeys.isEmpty();
          }
          isEqual(e) {
            if (
              this.fromCache !== e.fromCache ||
              this.hasCachedResults !== e.hasCachedResults ||
              this.syncStateChanged !== e.syncStateChanged ||
              !this.mutatedKeys.isEqual(e.mutatedKeys) ||
              !aG(this.query, e.query) ||
              !this.docs.isEqual(e.docs) ||
              !this.oldDocs.isEqual(e.oldDocs)
            )
              return !1;
            let r = this.docChanges,
              n = e.docChanges;
            if (r.length !== n.length) return !1;
            for (let e = 0; e < r.length; e++)
              if (r[e].type !== n[e].type || !r[e].doc.isEqual(n[e].doc))
                return !1;
            return !0;
          }
        }
        class pq {
          constructor() {
            (this.viewSnap = void 0), (this.listeners = []);
          }
          hasRemoteListeners() {
            return this.listeners.some((e) => e.listensToRemoteStore());
          }
        }
        function pH() {
          return new p$();
        }
        class p$ {
          constructor() {
            (this.queries = pW()),
              (this.onlineState = "Unknown"),
              (this.snapshotsInSyncListeners = new Set());
          }
          terminate() {
            pZ(this, new rs(ri.ABORTED, "Firestore shutting down"));
          }
        }
        function pW() {
          return new a5((e) => aQ(e), aG);
        }
        async function pG(e, r) {
          let n = rn(e),
            i = 3,
            s = r.query,
            a = n.queries.get(s);
          a
            ? !a.hasRemoteListeners() && r.listensToRemoteStore() && (i = 2)
            : ((a = new pq()), (i = r.listensToRemoteStore() ? 0 : 1));
          try {
            switch (i) {
              case 0:
                a.viewSnap = await n.onListen(s, !0);
                break;
              case 1:
                a.viewSnap = await n.onListen(s, !1);
                break;
              case 2:
                await n.onFirstRemoteStoreListen(s);
            }
          } catch (n) {
            let e = pj(n, `Initialization of query '${aY(r.query)}' failed`);
            r.onError(e);
            return;
          }
          n.queries.set(s, a),
            a.listeners.push(r),
            r.applyOnlineStateChange(n.onlineState),
            a.viewSnap && r.onViewSnapshot(a.viewSnap) && p0(n);
        }
        async function pQ(e, r) {
          let n = rn(e),
            i = r.query,
            s = 3,
            a = n.queries.get(i);
          if (a) {
            let e = a.listeners.indexOf(r);
            e >= 0 &&
              (a.listeners.splice(e, 1),
              0 === a.listeners.length
                ? (s = r.listensToRemoteStore() ? 0 : 1)
                : !a.hasRemoteListeners() &&
                  r.listensToRemoteStore() &&
                  (s = 2));
          }
          switch (s) {
            case 0:
              return n.queries.delete(i), n.onUnlisten(i, !0);
            case 1:
              return n.queries.delete(i), n.onUnlisten(i, !1);
            case 2:
              return n.onLastRemoteStoreUnlisten(i);
            default:
              return;
          }
        }
        function pY(e, r) {
          let n = rn(e),
            i = !1;
          for (let e of r) {
            let r = e.query,
              s = n.queries.get(r);
            if (s) {
              for (let r of s.listeners) r.onViewSnapshot(e) && (i = !0);
              s.viewSnap = e;
            }
          }
          i && p0(n);
        }
        function pX(e, r, n) {
          let i = rn(e),
            s = i.queries.get(r);
          if (s) for (let e of s.listeners) e.onError(n);
          i.queries.delete(r);
        }
        function pJ(e, r) {
          let n = rn(e);
          n.onlineState = r;
          let i = !1;
          n.queries.forEach((e, n) => {
            for (let e of n.listeners) e.applyOnlineStateChange(r) && (i = !0);
          }),
            i && p0(n);
        }
        function pZ(e, r) {
          let n = rn(e),
            i = n.queries;
          (n.queries = pW()),
            i.forEach((e, n) => {
              for (let e of n.listeners) e.onError(r);
            });
        }
        function p0(e) {
          e.snapshotsInSyncListeners.forEach((e) => {
            e.next();
          });
        }
        !(function (e) {
          (e.Default = "default"), (e.Cache = "cache");
        })(y || (y = {}));
        class p1 {
          constructor(e, r, n) {
            (this.query = e),
              (this.queryObserver = r),
              (this.raisedInitialEvent = !1),
              (this.snap = null),
              (this.onlineState = "Unknown"),
              (this.options = n || {});
          }
          onViewSnapshot(e) {
            if (!this.options.includeMetadataChanges) {
              let r = [];
              for (let n of e.docChanges) 3 !== n.type && r.push(n);
              e = new pK(
                e.query,
                e.docs,
                e.oldDocs,
                r,
                e.mutatedKeys,
                e.fromCache,
                e.syncStateChanged,
                !0,
                e.hasCachedResults,
              );
            }
            let r = !1;
            return (
              this.raisedInitialEvent
                ? this.shouldRaiseEvent(e) &&
                  (this.queryObserver.next(e), (r = !0))
                : this.shouldRaiseInitialEvent(e, this.onlineState) &&
                  (this.raiseInitialEvent(e), (r = !0)),
              (this.snap = e),
              r
            );
          }
          onError(e) {
            this.queryObserver.error(e);
          }
          applyOnlineStateChange(e) {
            this.onlineState = e;
            let r = !1;
            return (
              this.snap &&
                !this.raisedInitialEvent &&
                this.shouldRaiseInitialEvent(this.snap, e) &&
                (this.raiseInitialEvent(this.snap), (r = !0)),
              r
            );
          }
          shouldRaiseInitialEvent(e, r) {
            if (!e.fromCache || !this.listensToRemoteStore()) return !0;
            let n = "Offline" !== r;
            return (
              (!this.options.waitForSyncWhenOnline || !n) &&
              (!e.docs.isEmpty() || e.hasCachedResults || "Offline" === r)
            );
          }
          shouldRaiseEvent(e) {
            if (e.docChanges.length > 0) return !0;
            let r =
              this.snap && this.snap.hasPendingWrites !== e.hasPendingWrites;
            return (
              (!!e.syncStateChanged || !!r) &&
              !0 === this.options.includeMetadataChanges
            );
          }
          raiseInitialEvent(e) {
            (e = pK.fromInitialDocuments(
              e.query,
              e.docs,
              e.mutatedKeys,
              e.fromCache,
              e.hasCachedResults,
            )),
              (this.raisedInitialEvent = !0),
              this.queryObserver.next(e);
          }
          listensToRemoteStore() {
            return this.options.source !== y.Cache;
          }
        }
        class p2 {
          constructor(e, r, n, i) {
            (this.targetId = e),
              (this.fromCache = r),
              (this.addedKeys = n),
              (this.removedKeys = i);
          }
          static fromSnapshot(e, r) {
            let n = ol(),
              i = ol();
            for (let e of r.docChanges)
              switch (e.type) {
                case 0:
                  n = n.add(e.doc.key);
                  break;
                case 1:
                  i = i.add(e.doc.key);
              }
            return new p2(e, r.fromCache, n, i);
          }
        }
        class p3 {
          constructor(e) {
            this.serializer = e;
          }
          toDocumentKey(e) {
            return lO(this.serializer, e);
          }
          toMutableDocument(e) {
            return e.metadata.exists
              ? lV(this.serializer, e.document, !1)
              : s$.newNoDocument(
                  this.toDocumentKey(e.metadata.name),
                  this.toSnapshotVersion(e.metadata.readTime),
                );
          }
          toSnapshotVersion(e) {
            return l_(e);
          }
        }
        class p4 {
          constructor(e, r, n) {
            (this.bundleMetadata = e),
              (this.localStore = r),
              (this.serializer = n),
              (this.queries = []),
              (this.documents = []),
              (this.collectionGroups = new Set()),
              (this.progress = p5(e));
          }
          addSizedElement(e) {
            this.progress.bytesLoaded += e.byteLength;
            let r = this.progress.documentsLoaded;
            if (e.payload.namedQuery) this.queries.push(e.payload.namedQuery);
            else if (e.payload.documentMetadata) {
              this.documents.push({ metadata: e.payload.documentMetadata }),
                !e.payload.documentMetadata.exists && ++r;
              let n = rI.fromString(e.payload.documentMetadata.name);
              this.collectionGroups.add(n.get(n.length - 2));
            } else
              e.payload.document &&
                ((this.documents[this.documents.length - 1].document =
                  e.payload.document),
                ++r);
            return r !== this.progress.documentsLoaded
              ? ((this.progress.documentsLoaded = r),
                Object.assign({}, this.progress))
              : null;
          }
          getQueryDocumentMapping(e) {
            let r = new Map(),
              n = new p3(this.serializer);
            for (let i of e)
              if (i.metadata.queries) {
                let e = n.toDocumentKey(i.metadata.name);
                for (let n of i.metadata.queries) {
                  let i = (r.get(n) || ol()).add(e);
                  r.set(n, i);
                }
              }
            return r;
          }
          async complete() {
            let e = await h0(
                this.localStore,
                new p3(this.serializer),
                this.documents,
                this.bundleMetadata.id,
              ),
              r = this.getQueryDocumentMapping(this.documents);
            for (let e of this.queries)
              await h3(this.localStore, e, r.get(e.name));
            return (
              (this.progress.taskState = "Success"),
              {
                progress: this.progress,
                changedCollectionGroups: this.collectionGroups,
                changedDocs: e,
              }
            );
          }
        }
        function p5(e) {
          return {
            taskState: "Running",
            documentsLoaded: 0,
            bytesLoaded: 0,
            totalDocuments: e.totalDocuments,
            totalBytes: e.totalBytes,
          };
        }
        function p6(e) {
          return {
            taskState: "Success",
            documentsLoaded: e.totalDocuments,
            bytesLoaded: e.totalBytes,
            totalDocuments: e.totalDocuments,
            totalBytes: e.totalBytes,
          };
        }
        class p8 {
          constructor(e) {
            this.key = e;
          }
        }
        class p7 {
          constructor(e) {
            this.key = e;
          }
        }
        class p9 {
          constructor(e, r) {
            (this.query = e),
              (this._syncedDocuments = r),
              (this.syncState = null),
              (this.hasCachedResults = !1),
              (this.current = !1),
              (this.limboDocuments = ol()),
              (this.mutatedKeys = ol()),
              (this.docComparator = a3(e)),
              (this.documentSet = new pz(this.docComparator));
          }
          get syncedDocuments() {
            return this._syncedDocuments;
          }
          computeDocChanges(e, r) {
            let n = r ? r.changeSet : new pV(),
              i = r ? r.documentSet : this.documentSet,
              s = r ? r.mutatedKeys : this.mutatedKeys,
              a = i,
              o = !1,
              l =
                "F" === this.query.limitType && i.size === this.query.limit
                  ? i.last()
                  : null,
              u =
                "L" === this.query.limitType && i.size === this.query.limit
                  ? i.first()
                  : null;
            if (
              (e.inorderTraversal((e, r) => {
                let c = i.get(e),
                  d = aX(this.query, r) ? r : null,
                  h = !!c && this.mutatedKeys.has(c.key),
                  f =
                    !!d &&
                    (d.hasLocalMutations ||
                      (this.mutatedKeys.has(d.key) && d.hasCommittedMutations)),
                  p = !1;
                c && d
                  ? c.data.isEqual(d.data)
                    ? h !== f && (n.track({ type: 3, doc: d }), (p = !0))
                    : !this.shouldWaitForSyncedDocument(c, d) &&
                      (n.track({ type: 2, doc: d }),
                      (p = !0),
                      ((l && this.docComparator(d, l) > 0) ||
                        (u && 0 > this.docComparator(d, u))) &&
                        (o = !0))
                  : !c && d
                    ? (n.track({ type: 0, doc: d }), (p = !0))
                    : c &&
                      !d &&
                      (n.track({ type: 1, doc: c }),
                      (p = !0),
                      (l || u) && (o = !0)),
                  p &&
                    (d
                      ? ((a = a.add(d)), (s = f ? s.add(e) : s.delete(e)))
                      : ((a = a.delete(e)), (s = s.delete(e))));
              }),
              null !== this.query.limit)
            )
              for (; a.size > this.query.limit; ) {
                let e = "F" === this.query.limitType ? a.last() : a.first();
                (a = a.delete(e.key)),
                  (s = s.delete(e.key)),
                  n.track({ type: 1, doc: e });
              }
            return {
              documentSet: a,
              changeSet: n,
              needsRefill: o,
              mutatedKeys: s,
            };
          }
          shouldWaitForSyncedDocument(e, r) {
            return (
              e.hasLocalMutations &&
              r.hasCommittedMutations &&
              !r.hasLocalMutations
            );
          }
          applyChanges(e, r, n, i) {
            let s = this.documentSet;
            (this.documentSet = e.documentSet),
              (this.mutatedKeys = e.mutatedKeys);
            let a = e.changeSet.getChanges();
            a.sort(
              (e, r) => ge(e.type, r.type) || this.docComparator(e.doc, r.doc),
            ),
              this.applyTargetChange(n),
              (i = null != i && i);
            let o = r && !i ? this.updateLimboDocuments() : [],
              l = 0 === this.limboDocuments.size && this.current && !i ? 1 : 0,
              u = l !== this.syncState;
            return ((this.syncState = l), 0 !== a.length || u)
              ? {
                  snapshot: new pK(
                    this.query,
                    e.documentSet,
                    s,
                    a,
                    e.mutatedKeys,
                    0 === l,
                    u,
                    !1,
                    !!n && n.resumeToken.approximateByteSize() > 0,
                  ),
                  limboChanges: o,
                }
              : { limboChanges: o };
          }
          applyOnlineStateChange(e) {
            return this.current && "Offline" === e
              ? ((this.current = !1),
                this.applyChanges(
                  {
                    documentSet: this.documentSet,
                    changeSet: new pV(),
                    mutatedKeys: this.mutatedKeys,
                    needsRefill: !1,
                  },
                  !1,
                ))
              : { limboChanges: [] };
          }
          shouldBeInLimbo(e) {
            return (
              !this._syncedDocuments.has(e) &&
              !!this.documentSet.has(e) &&
              !this.documentSet.get(e).hasLocalMutations
            );
          }
          applyTargetChange(e) {
            e &&
              (e.addedDocuments.forEach(
                (e) => (this._syncedDocuments = this._syncedDocuments.add(e)),
              ),
              e.modifiedDocuments.forEach((e) => {}),
              e.removedDocuments.forEach(
                (e) =>
                  (this._syncedDocuments = this._syncedDocuments.delete(e)),
              ),
              (this.current = e.current));
          }
          updateLimboDocuments() {
            if (!this.current) return [];
            let e = this.limboDocuments;
            (this.limboDocuments = ol()),
              this.documentSet.forEach((e) => {
                this.shouldBeInLimbo(e.key) &&
                  (this.limboDocuments = this.limboDocuments.add(e.key));
              });
            let r = [];
            return (
              e.forEach((e) => {
                this.limboDocuments.has(e) || r.push(new p7(e));
              }),
              this.limboDocuments.forEach((n) => {
                e.has(n) || r.push(new p8(n));
              }),
              r
            );
          }
          synchronizeWithPersistedState(e) {
            (this._syncedDocuments = e.remoteKeys),
              (this.limboDocuments = ol());
            let r = this.computeDocChanges(e.documents);
            return this.applyChanges(r, !0);
          }
          computeInitialSnapshot() {
            return pK.fromInitialDocuments(
              this.query,
              this.documentSet,
              this.mutatedKeys,
              0 === this.syncState,
              this.hasCachedResults,
            );
          }
        }
        function ge(e, r) {
          let n = (e) => {
            switch (e) {
              case 0:
                return 1;
              case 2:
              case 3:
                return 2;
              case 1:
                return 0;
              default:
                return rt();
            }
          };
          return n(e) - n(r);
        }
        let gt = "SyncEngine";
        class gr {
          constructor(e, r, n) {
            (this.query = e), (this.targetId = r), (this.view = n);
          }
        }
        class gn {
          constructor(e) {
            (this.key = e), (this.receivedDocument = !1);
          }
        }
        class gi {
          constructor(e, r, n, i, s, a) {
            (this.localStore = e),
              (this.remoteStore = r),
              (this.eventManager = n),
              (this.sharedClientState = i),
              (this.currentUser = s),
              (this.maxConcurrentLimboResolutions = a),
              (this.syncEngineListener = {}),
              (this.queryViewsByQuery = new a5((e) => aQ(e), aG)),
              (this.queriesByTarget = new Map()),
              (this.enqueuedLimboResolutions = new Set()),
              (this.activeLimboTargetsByKey = new iC(rR.comparator)),
              (this.activeLimboResolutionsByTarget = new Map()),
              (this.limboDocumentRefs = new dV()),
              (this.mutationUserCallbacks = {}),
              (this.pendingWritesCallbacks = new Map()),
              (this.limboTargetIdGenerator = dn.forSyncEngine()),
              (this.onlineState = "Unknown"),
              (this._isPrimaryClient = void 0);
          }
          get isPrimaryClient() {
            return !0 === this._isPrimaryClient;
          }
        }
        function gs(e, r, n, i, s, a, o) {
          let l = new gi(e, r, n, i, s, a);
          return o && (l._isPrimaryClient = !0), l;
        }
        async function ga(e, r, n = !0) {
          let i;
          let s = gz(e),
            a = s.queryViewsByQuery.get(r);
          return (
            a
              ? (s.sharedClientState.addLocalQueryTarget(a.targetId),
                (i = a.view.computeInitialSnapshot()))
              : (i = await gl(s, r, n, !0)),
            i
          );
        }
        async function go(e, r) {
          let n = gz(e);
          await gl(n, r, !0, !1);
        }
        async function gl(e, r, n, i) {
          let s;
          let a = await hV(e.localStore, aj(r)),
            o = a.targetId,
            l = e.sharedClientState.addLocalQueryTarget(o, n);
          return (
            i && (s = await gu(e, r, o, "current" === l, a.resumeToken)),
            e.isPrimaryClient && n && po(e.remoteStore, a),
            s
          );
        }
        async function gu(e, r, n, i, s) {
          e.applyDocChanges = (r, n, i) => gk(e, r, n, i);
          let a = await hH(e.localStore, r, !0),
            o = new p9(r, a.remoteKeys),
            l = o.computeDocChanges(a.documents),
            u = lo.createSynthesizedTargetChangeForCurrentChange(
              n,
              i && "Offline" !== e.onlineState,
              s,
            ),
            c = o.applyChanges(l, e.isPrimaryClient, u);
          gC(e, n, c.limboChanges);
          let d = new gr(r, n, o);
          return (
            e.queryViewsByQuery.set(r, d),
            e.queriesByTarget.has(n)
              ? e.queriesByTarget.get(n).push(r)
              : e.queriesByTarget.set(n, [r]),
            c.snapshot
          );
        }
        async function gc(e, r, n) {
          let i = rn(e),
            s = i.queryViewsByQuery.get(r),
            a = i.queriesByTarget.get(s.targetId);
          if (a.length > 1) {
            i.queriesByTarget.set(
              s.targetId,
              a.filter((e) => !aG(e, r)),
            ),
              i.queryViewsByQuery.delete(r);
            return;
          }
          i.isPrimaryClient
            ? (i.sharedClientState.removeLocalQueryTarget(s.targetId),
              i.sharedClientState.isActiveQueryTarget(s.targetId) ||
                (await hq(i.localStore, s.targetId, !1)
                  .then(() => {
                    i.sharedClientState.clearQueryState(s.targetId),
                      n && pl(i.remoteStore, s.targetId),
                      gS(i, s.targetId);
                  })
                  .catch(rG)))
            : (gS(i, s.targetId), await hq(i.localStore, s.targetId, !0));
        }
        async function gd(e, r) {
          let n = rn(e),
            i = n.queryViewsByQuery.get(r),
            s = n.queriesByTarget.get(i.targetId);
          n.isPrimaryClient &&
            1 === s.length &&
            (n.sharedClientState.removeLocalQueryTarget(i.targetId),
            pl(n.remoteStore, i.targetId));
        }
        async function gh(e, r, n) {
          let i = gV(e);
          try {
            let e = await hR(i.localStore, r);
            i.sharedClientState.addPendingMutation(e.batchId),
              gw(i, e.batchId, n),
              await gI(i, e.changes),
              await pE(i.remoteStore);
          } catch (r) {
            let e = pj(r, "Failed to persist write");
            n.reject(e);
          }
        }
        async function gf(e, r) {
          let n = rn(e);
          try {
            let e = await hL(n.localStore, r);
            r.targetChanges.forEach((e, r) => {
              let i = n.activeLimboResolutionsByTarget.get(r);
              i &&
                (rr(
                  e.addedDocuments.size +
                    e.modifiedDocuments.size +
                    e.removedDocuments.size <=
                    1,
                ),
                e.addedDocuments.size > 0
                  ? (i.receivedDocument = !0)
                  : e.modifiedDocuments.size > 0
                    ? rr(i.receivedDocument)
                    : e.removedDocuments.size > 0 &&
                      (rr(i.receivedDocument), (i.receivedDocument = !1)));
            }),
              await gI(n, e, r);
          } catch (e) {
            await rG(e);
          }
        }
        function gp(e, r, n) {
          let i = rn(e);
          if (
            (i.isPrimaryClient && 0 === n) ||
            (!i.isPrimaryClient && 1 === n)
          ) {
            let e = [];
            i.queryViewsByQuery.forEach((n, i) => {
              let s = i.view.applyOnlineStateChange(r);
              s.snapshot && e.push(s.snapshot);
            }),
              pJ(i.eventManager, r),
              e.length && i.syncEngineListener.onWatchChange(e),
              (i.onlineState = r),
              i.isPrimaryClient && i.sharedClientState.setOnlineState(r);
          }
        }
        async function gg(e, r, n) {
          let i = rn(e);
          i.sharedClientState.updateQueryState(r, "rejected", n);
          let s = i.activeLimboResolutionsByTarget.get(r),
            a = s && s.key;
          if (a) {
            let e = new iC(rR.comparator);
            e = e.insert(a, s$.newNoDocument(a, rC.min()));
            let n = ol().add(a),
              s = new la(rC.min(), new Map(), new iC(rv), e, n);
            await gf(i, s),
              (i.activeLimboTargetsByKey = i.activeLimboTargetsByKey.remove(a)),
              i.activeLimboResolutionsByTarget.delete(r),
              gA(i);
          } else
            await hq(i.localStore, r, !1)
              .then(() => gS(i, r, n))
              .catch(rG);
        }
        async function gm(e, r) {
          let n = rn(e),
            i = r.batch.batchId;
          try {
            let e = await hD(n.localStore, r);
            gT(n, i, null),
              gv(n, i),
              n.sharedClientState.updateMutationState(i, "acknowledged"),
              await gI(n, e);
          } catch (e) {
            await rG(e);
          }
        }
        async function gy(e, r, n) {
          let i = rn(e);
          try {
            let e = await hN(i.localStore, r);
            gT(i, r, n),
              gv(i, r),
              i.sharedClientState.updateMutationState(r, "rejected", n),
              await gI(i, e);
          } catch (e) {
            await rG(e);
          }
        }
        function gv(e, r) {
          (e.pendingWritesCallbacks.get(r) || []).forEach((e) => {
            e.resolve();
          }),
            e.pendingWritesCallbacks.delete(r);
        }
        function gb(e, r) {
          e.pendingWritesCallbacks.forEach((e) => {
            e.forEach((e) => {
              e.reject(new rs(ri.CANCELLED, r));
            });
          }),
            e.pendingWritesCallbacks.clear();
        }
        function gw(e, r, n) {
          let i = e.mutationUserCallbacks[e.currentUser.toKey()];
          i || (i = new iC(rv)),
            (i = i.insert(r, n)),
            (e.mutationUserCallbacks[e.currentUser.toKey()] = i);
        }
        function gT(e, r, n) {
          let i = rn(e),
            s = i.mutationUserCallbacks[i.currentUser.toKey()];
          if (s) {
            let e = s.get(r);
            e && (n ? e.reject(n) : e.resolve(), (s = s.remove(r))),
              (i.mutationUserCallbacks[i.currentUser.toKey()] = s);
          }
        }
        function gS(e, r, n = null) {
          for (let i of (e.sharedClientState.removeLocalQueryTarget(r),
          e.queriesByTarget.get(r)))
            e.queryViewsByQuery.delete(i),
              n && e.syncEngineListener.onWatchError(i, n);
          e.queriesByTarget.delete(r),
            e.isPrimaryClient &&
              e.limboDocumentRefs.removeReferencesForId(r).forEach((r) => {
                e.limboDocumentRefs.containsKey(r) || gE(e, r);
              });
        }
        function gE(e, r) {
          e.enqueuedLimboResolutions.delete(r.path.canonicalString());
          let n = e.activeLimboTargetsByKey.get(r);
          null !== n &&
            (pl(e.remoteStore, n),
            (e.activeLimboTargetsByKey = e.activeLimboTargetsByKey.remove(r)),
            e.activeLimboResolutionsByTarget.delete(n),
            gA(e));
        }
        function gC(e, r, n) {
          for (let i of n)
            i instanceof p8
              ? (e.limboDocumentRefs.addReference(i.key, r), gx(e, i))
              : i instanceof p7
                ? (t8(gt, "Document no longer in limbo: " + i.key),
                  e.limboDocumentRefs.removeReference(i.key, r),
                  e.limboDocumentRefs.containsKey(i.key) || gE(e, i.key))
                : rt();
        }
        function gx(e, r) {
          let n = r.key,
            i = n.path.canonicalString();
          e.activeLimboTargetsByKey.get(n) ||
            e.enqueuedLimboResolutions.has(i) ||
            (t8(gt, "New document in limbo: " + n),
            e.enqueuedLimboResolutions.add(i),
            gA(e));
        }
        function gA(e) {
          for (
            ;
            e.enqueuedLimboResolutions.size > 0 &&
            e.activeLimboTargetsByKey.size < e.maxConcurrentLimboResolutions;

          ) {
            let r = e.enqueuedLimboResolutions.values().next().value;
            e.enqueuedLimboResolutions.delete(r);
            let n = new rR(rI.fromString(r)),
              i = e.limboTargetIdGenerator.next();
            e.activeLimboResolutionsByTarget.set(i, new gn(n)),
              (e.activeLimboTargetsByKey = e.activeLimboTargetsByKey.insert(
                n,
                i,
              )),
              po(
                e.remoteStore,
                new uR(
                  aj(aN(n.path)),
                  i,
                  "TargetPurposeLimboResolution",
                  ni.INVALID,
                ),
              );
          }
        }
        async function gI(e, r, n) {
          let i = rn(e),
            s = [],
            a = [],
            o = [];
          i.queryViewsByQuery.isEmpty() ||
            (i.queryViewsByQuery.forEach((e, l) => {
              o.push(
                i.applyDocChanges(l, r, n).then((e) => {
                  var r;
                  if ((e || n) && i.isPrimaryClient) {
                    let s = e
                      ? !e.fromCache
                      : null ===
                            (r =
                              null == n
                                ? void 0
                                : n.targetChanges.get(l.targetId)) ||
                          void 0 === r
                        ? void 0
                        : r.current;
                    i.sharedClientState.updateQueryState(
                      l.targetId,
                      s ? "current" : "not-current",
                    );
                  }
                  if (e) {
                    s.push(e);
                    let r = p2.fromSnapshot(l.targetId, e);
                    a.push(r);
                  }
                }),
              );
            }),
            await Promise.all(o),
            i.syncEngineListener.onWatchChange(s),
            await hU(i.localStore, a));
        }
        async function gk(e, r, n, i) {
          let s = r.view.computeDocChanges(n);
          s.needsRefill &&
            (s = await hH(e.localStore, r.query, !1).then(({ documents: e }) =>
              r.view.computeDocChanges(e, s),
            ));
          let a = i && i.targetChanges.get(r.targetId),
            o = i && null != i.targetMismatches.get(r.targetId),
            l = r.view.applyChanges(s, e.isPrimaryClient, a, o);
          return gC(e, r.targetId, l.limboChanges), l.snapshot;
        }
        async function g_(e, r) {
          let n = rn(e);
          if (!n.currentUser.isEqual(r)) {
            t8(gt, "User change. New user:", r.toKey());
            let e = await h_(n.localStore, r);
            (n.currentUser = r),
              gb(
                n,
                "'waitForPendingWrites' promise is rejected due to a user change.",
              ),
              n.sharedClientState.handleUserChange(
                r,
                e.removedBatchIds,
                e.addedBatchIds,
              ),
              await gI(n, e.affectedDocuments);
          }
        }
        function gR(e, r) {
          let n = rn(e),
            i = n.activeLimboResolutionsByTarget.get(r);
          if (i && i.receivedDocument) return ol().add(i.key);
          {
            let e = ol(),
              i = n.queriesByTarget.get(r);
            if (!i) return e;
            for (let r of i) {
              let i = n.queryViewsByQuery.get(r);
              e = e.unionWith(i.view.syncedDocuments);
            }
            return e;
          }
        }
        async function gD(e, r) {
          let n = rn(e),
            i = await hH(n.localStore, r.query, !0),
            s = r.view.synchronizeWithPersistedState(i);
          return n.isPrimaryClient && gC(n, r.targetId, s.limboChanges), s;
        }
        async function gP(e, r) {
          let n = rn(e);
          return hX(n.localStore, r).then((e) => gI(n, e));
        }
        async function gN(e, r, n, i) {
          let s = rn(e),
            a = await hW(s.localStore, r);
          if (null === a) {
            t8(gt, "Cannot apply mutation batch with id: " + r);
            return;
          }
          "pending" === n
            ? await pE(s.remoteStore)
            : "acknowledged" === n || "rejected" === n
              ? (gT(s, r, i || null), gv(s, r), hG(s.localStore, r))
              : rt(),
            await gI(s, a);
        }
        async function gO(e, r) {
          let n = rn(e);
          if ((gz(n), gV(n), !0 === r && !0 !== n._isPrimaryClient)) {
            let e = n.sharedClientState.getAllActiveQueryTargets(),
              r = await gL(n, e.toArray());
            for (let e of ((n._isPrimaryClient = !0),
            await pM(n.remoteStore, !0),
            r))
              po(n.remoteStore, e);
          } else if (!1 === r && !1 !== n._isPrimaryClient) {
            let e = [],
              r = Promise.resolve();
            n.queriesByTarget.forEach((i, s) => {
              n.sharedClientState.isLocalQueryTarget(s)
                ? e.push(s)
                : (r = r.then(() => (gS(n, s), hq(n.localStore, s, !0)))),
                pl(n.remoteStore, s);
            }),
              await r,
              await gL(n, e),
              gM(n),
              (n._isPrimaryClient = !1),
              await pM(n.remoteStore, !1);
          }
        }
        function gM(e) {
          let r = rn(e);
          r.activeLimboResolutionsByTarget.forEach((e, n) => {
            pl(r.remoteStore, n);
          }),
            r.limboDocumentRefs.removeAllReferences(),
            (r.activeLimboResolutionsByTarget = new Map()),
            (r.activeLimboTargetsByKey = new iC(rR.comparator));
        }
        async function gL(e, r, n) {
          let i = rn(e),
            s = [],
            a = [];
          for (let e of r) {
            let r;
            let n = i.queriesByTarget.get(e);
            if (n && 0 !== n.length)
              for (let e of ((r = await hV(i.localStore, aj(n[0]))), n)) {
                let r = i.queryViewsByQuery.get(e),
                  n = await gD(i, r);
                n.snapshot && a.push(n.snapshot);
              }
            else {
              let n = await hY(i.localStore, e);
              (r = await hV(i.localStore, n)),
                await gu(i, gB(n), e, !1, r.resumeToken);
            }
            s.push(r);
          }
          return i.syncEngineListener.onWatchChange(a), s;
        }
        function gB(e) {
          return aP(
            e.path,
            e.collectionGroup,
            e.orderBy,
            e.filters,
            e.limit,
            "F",
            e.startAt,
            e.endAt,
          );
        }
        function gF(e) {
          return hQ(rn(e).localStore);
        }
        async function gU(e, r, n, i) {
          let s = rn(e);
          if (s._isPrimaryClient) {
            t8(gt, "Ignoring unexpected query state notification.");
            return;
          }
          let a = s.queriesByTarget.get(r);
          if (a && a.length > 0)
            switch (n) {
              case "current":
              case "not-current": {
                let e = await hX(s.localStore, a2(a[0])),
                  i = la.createSynthesizedRemoteEventForCurrentChange(
                    r,
                    "current" === n,
                    iM.EMPTY_BYTE_STRING,
                  );
                await gI(s, e, i);
                break;
              }
              case "rejected":
                await hq(s.localStore, r, !0), gS(s, r, i);
                break;
              default:
                rt();
            }
        }
        async function gj(e, r, n) {
          let i = gz(e);
          if (i._isPrimaryClient) {
            for (let e of r) {
              if (
                i.queriesByTarget.has(e) &&
                i.sharedClientState.isActiveQueryTarget(e)
              ) {
                t8(gt, "Adding an already active target " + e);
                continue;
              }
              let r = await hY(i.localStore, e),
                n = await hV(i.localStore, r);
              await gu(i, gB(r), n.targetId, !1, n.resumeToken),
                po(i.remoteStore, n);
            }
            for (let e of n)
              i.queriesByTarget.has(e) &&
                (await hq(i.localStore, e, !1)
                  .then(() => {
                    pl(i.remoteStore, e), gS(i, e);
                  })
                  .catch(rG));
          }
        }
        function gz(e) {
          let r = rn(e);
          return (
            (r.remoteStore.remoteSyncer.applyRemoteEvent = gf.bind(null, r)),
            (r.remoteStore.remoteSyncer.getRemoteKeysForTarget = gR.bind(
              null,
              r,
            )),
            (r.remoteStore.remoteSyncer.rejectListen = gg.bind(null, r)),
            (r.syncEngineListener.onWatchChange = pY.bind(
              null,
              r.eventManager,
            )),
            (r.syncEngineListener.onWatchError = pX.bind(null, r.eventManager)),
            r
          );
        }
        function gV(e) {
          let r = rn(e);
          return (
            (r.remoteStore.remoteSyncer.applySuccessfulWrite = gm.bind(
              null,
              r,
            )),
            (r.remoteStore.remoteSyncer.rejectFailedWrite = gy.bind(null, r)),
            r
          );
        }
        async function gK(e, r, n) {
          try {
            let i = await r.getMetadata();
            if (await h1(e.localStore, i))
              return (
                await r.close(),
                n._completeWith(p6(i)),
                Promise.resolve(new Set())
              );
            n._updateProgress(p5(i));
            let s = new p4(i, e.localStore, r.serializer),
              a = await r.nextElement();
            for (; a; ) {
              let e = await s.addSizedElement(a);
              e && n._updateProgress(e), (a = await r.nextElement());
            }
            let o = await s.complete();
            return (
              await gI(e, o.changedDocs, void 0),
              await h2(e.localStore, i),
              n._completeWith(o.progress),
              Promise.resolve(o.changedCollectionGroups)
            );
          } catch (e) {
            return (
              t9(gt, `Loading bundle failed with ${e}`),
              n._failWith(e),
              Promise.resolve(new Set())
            );
          }
        }
        class gq {
          constructor() {
            (this.kind = "memory"), (this.synchronizeTabs = !1);
          }
          async initialize(e) {
            (this.serializer = fj(e.databaseInfo.databaseId)),
              (this.sharedClientState = this.createSharedClientState(e)),
              (this.persistence = this.createPersistence(e)),
              await this.persistence.start(),
              (this.localStore = this.createLocalStore(e)),
              (this.gcScheduler = this.createGarbageCollectionScheduler(
                e,
                this.localStore,
              )),
              (this.indexBackfillerScheduler =
                this.createIndexBackfillerScheduler(e, this.localStore));
          }
          createGarbageCollectionScheduler(e, r) {
            return null;
          }
          createIndexBackfillerScheduler(e, r) {
            return null;
          }
          createLocalStore(e) {
            return hk(
              this.persistence,
              new h7(),
              e.initialUser,
              this.serializer,
            );
          }
          createPersistence(e) {
            return new dJ(d0.factory, this.serializer);
          }
          createSharedClientState(e) {
            return new fb();
          }
          async terminate() {
            var e, r;
            null === (e = this.gcScheduler) || void 0 === e || e.stop(),
              null === (r = this.indexBackfillerScheduler) ||
                void 0 === r ||
                r.stop(),
              this.sharedClientState.shutdown(),
              await this.persistence.shutdown();
          }
        }
        gq.provider = { build: () => new gq() };
        class gH extends gq {
          constructor(e) {
            super(), (this.cacheSizeBytes = e);
          }
          createGarbageCollectionScheduler(e, r) {
            return (
              rr(this.persistence.referenceDelegate instanceof d1),
              new db(
                this.persistence.referenceDelegate.garbageCollector,
                e.asyncQueue,
                r,
              )
            );
          }
          createPersistence(e) {
            let r =
              void 0 !== this.cacheSizeBytes
                ? dh.withCacheSize(this.cacheSizeBytes)
                : dh.DEFAULT;
            return new dJ((e) => d1.factory(e, r), this.serializer);
          }
        }
        class g$ extends gq {
          constructor(e, r, n) {
            super(),
              (this.onlineComponentProvider = e),
              (this.cacheSizeBytes = r),
              (this.forceOwnership = n),
              (this.kind = "persistent"),
              (this.synchronizeTabs = !1);
          }
          async initialize(e) {
            await super.initialize(e),
              await this.onlineComponentProvider.initialize(this, e),
              await gV(this.onlineComponentProvider.syncEngine),
              await pE(this.onlineComponentProvider.remoteStore),
              await this.persistence.setPrimaryStateListener(
                () => (
                  this.gcScheduler &&
                    !this.gcScheduler.started &&
                    this.gcScheduler.start(),
                  this.indexBackfillerScheduler &&
                    !this.indexBackfillerScheduler.started &&
                    this.indexBackfillerScheduler.start(),
                  Promise.resolve()
                ),
              );
          }
          createLocalStore(e) {
            return hk(
              this.persistence,
              new h7(),
              e.initialUser,
              this.serializer,
            );
          }
          createGarbageCollectionScheduler(e, r) {
            return new db(
              this.persistence.referenceDelegate.garbageCollector,
              e.asyncQueue,
              r,
            );
          }
          createIndexBackfillerScheduler(e, r) {
            let n = new nn(r, this.persistence);
            return new nr(e.asyncQueue, n);
          }
          createPersistence(e) {
            let r = hS(
                e.databaseInfo.databaseId,
                e.databaseInfo.persistenceKey,
              ),
              n =
                void 0 !== this.cacheSizeBytes
                  ? dh.withCacheSize(this.cacheSizeBytes)
                  : dh.DEFAULT;
            return new hb(
              this.synchronizeTabs,
              r,
              e.clientId,
              n,
              e.asyncQueue,
              fF(),
              fU(),
              this.serializer,
              this.sharedClientState,
              !!this.forceOwnership,
            );
          }
          createSharedClientState(e) {
            return new fb();
          }
        }
        class gW {
          async initialize(e, r) {
            this.localStore ||
              ((this.localStore = e.localStore),
              (this.sharedClientState = e.sharedClientState),
              (this.datastore = this.createDatastore(r)),
              (this.remoteStore = this.createRemoteStore(r)),
              (this.eventManager = this.createEventManager(r)),
              (this.syncEngine = this.createSyncEngine(r, !e.synchronizeTabs)),
              (this.sharedClientState.onlineStateHandler = (e) =>
                gp(this.syncEngine, e, 1)),
              (this.remoteStore.remoteSyncer.handleCredentialChange = g_.bind(
                null,
                this.syncEngine,
              )),
              await pM(this.remoteStore, this.syncEngine.isPrimaryClient));
          }
          createEventManager(e) {
            return pH();
          }
          createDatastore(e) {
            let r = fj(e.databaseInfo.databaseId),
              n = fL(e.databaseInfo);
            return f0(e.authCredentials, e.appCheckCredentials, n, r);
          }
          createRemoteStore(e) {
            return pn(
              this.localStore,
              this.datastore,
              e.asyncQueue,
              (e) => gp(this.syncEngine, e, 0),
              fB(),
            );
          }
          createSyncEngine(e, r) {
            return gs(
              this.localStore,
              this.remoteStore,
              this.eventManager,
              this.sharedClientState,
              e.initialUser,
              e.maxConcurrentLimboResolutions,
              r,
            );
          }
          async terminate() {
            var e, r;
            await pa(this.remoteStore),
              null === (e = this.datastore) || void 0 === e || e.terminate(),
              null === (r = this.eventManager) || void 0 === r || r.terminate();
          }
        }
        gW.provider = { build: () => new gW() };
        let gG = 10240;
        function gQ(e, r = gG) {
          let n = 0;
          return {
            async read() {
              if (n < e.byteLength) {
                let i = { value: e.slice(n, n + r), done: !1 };
                return (n += r), i;
              }
              return { done: !0 };
            },
            async cancel() {},
            releaseLock() {},
            closed: Promise.resolve(),
          };
        }
        function gY(e, r, n) {
          if (!n)
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Function ${e}() cannot be called with an empty ${r}.`,
            );
        }
        function gX(e, r, n, i) {
          if (!0 === r && !0 === i)
            throw new rs(
              ri.INVALID_ARGUMENT,
              `${e} and ${n} cannot be used together.`,
            );
        }
        function gJ(e) {
          if (!rR.isDocumentKey(e))
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`,
            );
        }
        function gZ(e) {
          if (rR.isDocumentKey(e))
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`,
            );
        }
        function g0(e) {
          return (
            "object" == typeof e &&
            null !== e &&
            (Object.getPrototypeOf(e) === Object.prototype ||
              null === Object.getPrototypeOf(e))
          );
        }
        function g1(e) {
          if (void 0 === e) return "undefined";
          if (null === e) return "null";
          if ("string" == typeof e)
            return (
              e.length > 20 && (e = `${e.substring(0, 20)}...`),
              JSON.stringify(e)
            );
          if ("number" == typeof e || "boolean" == typeof e) return "" + e;
          if ("object" == typeof e) {
            if (e instanceof Array) return "an array";
            {
              let r = g2(e);
              return r ? `a custom ${r} object` : "an object";
            }
          }
          if ("function" == typeof e) return "a function";
          return rt();
        }
        function g2(e) {
          return e.constructor ? e.constructor.name : null;
        }
        function g3(e, r) {
          if (("_delegate" in e && (e = e._delegate), !(e instanceof r))) {
            if (r.name === e.constructor.name)
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?",
              );
            {
              let n = g1(e);
              throw new rs(
                ri.INVALID_ARGUMENT,
                `Expected type '${r.name}', but it was: ${n}`,
              );
            }
          }
          return e;
        }
        function g4(e, r) {
          if (!(e instanceof Uint8Array))
            throw new rs(
              ri.INVALID_ARGUMENT,
              `NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${g1(e)}`,
            );
          return gQ(e, r);
        }
        class g5 {
          constructor(e) {
            (this.observer = e), (this.muted = !1);
          }
          next(e) {
            !this.muted &&
              this.observer.next &&
              this.scheduleEvent(this.observer.next, e);
          }
          error(e) {
            this.muted ||
              (this.observer.error
                ? this.scheduleEvent(this.observer.error, e)
                : t7("Uncaught Error in snapshot listener:", e.toString()));
          }
          mute() {
            this.muted = !0;
          }
          scheduleEvent(e, r) {
            setTimeout(() => {
              this.muted || e(r);
            }, 0);
          }
        }
        class g6 {
          constructor(e, r) {
            (this.payload = e), (this.byteLength = r);
          }
          isBundleMetadata() {
            return "metadata" in this.payload;
          }
        }
        class g8 {
          constructor(e, r) {
            (this.reader = e),
              (this.serializer = r),
              (this.metadata = new ra()),
              (this.buffer = new Uint8Array()),
              (this.textDecoder = le()),
              this.nextElementImpl().then(
                (e) => {
                  e && e.isBundleMetadata()
                    ? this.metadata.resolve(e.payload.metadata)
                    : this.metadata.reject(
                        Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null == e ? void 0 : e.payload)}`),
                      );
                },
                (e) => this.metadata.reject(e),
              );
          }
          close() {
            return this.reader.cancel();
          }
          async getMetadata() {
            return this.metadata.promise;
          }
          async nextElement() {
            return await this.getMetadata(), this.nextElementImpl();
          }
          async nextElementImpl() {
            let e = await this.readLength();
            if (null === e) return null;
            let r = this.textDecoder.decode(e),
              n = Number(r);
            return (
              isNaN(n) &&
                this.raiseError(`length string (${r}) is not valid number`),
              new g6(JSON.parse(await this.readJsonString(n)), e.length + n)
            );
          }
          indexOfOpenBracket() {
            return this.buffer.findIndex((e) => 123 === e);
          }
          async readLength() {
            for (
              ;
              0 > this.indexOfOpenBracket() &&
              !(await this.pullMoreDataToBuffer());

            );
            if (0 === this.buffer.length) return null;
            let e = this.indexOfOpenBracket();
            e < 0 &&
              this.raiseError(
                "Reached the end of bundle when a length string is expected.",
              );
            let r = this.buffer.slice(0, e);
            return (this.buffer = this.buffer.slice(e)), r;
          }
          async readJsonString(e) {
            for (; this.buffer.length < e; )
              (await this.pullMoreDataToBuffer()) &&
                this.raiseError(
                  "Reached the end of bundle when more is expected.",
                );
            let r = this.textDecoder.decode(this.buffer.slice(0, e));
            return (this.buffer = this.buffer.slice(e)), r;
          }
          raiseError(e) {
            throw (this.reader.cancel(), Error(`Invalid bundle format: ${e}`));
          }
          async pullMoreDataToBuffer() {
            let e = await this.reader.read();
            if (!e.done) {
              let r = new Uint8Array(this.buffer.length + e.value.length);
              r.set(this.buffer),
                r.set(e.value, this.buffer.length),
                (this.buffer = r);
            }
            return e.done;
          }
        }
        function g7(e, r) {
          return new g8(e, r);
        }
        class g9 {
          constructor(e) {
            (this.datastore = e),
              (this.readVersions = new Map()),
              (this.mutations = []),
              (this.committed = !1),
              (this.lastTransactionError = null),
              (this.writtenDocs = new Set());
          }
          async lookup(e) {
            if ((this.ensureCommitNotCalled(), this.mutations.length > 0))
              throw (
                ((this.lastTransactionError = new rs(
                  ri.INVALID_ARGUMENT,
                  "Firestore transactions require all reads to be executed before all writes.",
                )),
                this.lastTransactionError)
              );
            let r = await f2(this.datastore, e);
            return r.forEach((e) => this.recordVersion(e)), r;
          }
          set(e, r) {
            this.write(r.toMutation(e, this.precondition(e))),
              this.writtenDocs.add(e.toString());
          }
          update(e, r) {
            try {
              this.write(r.toMutation(e, this.preconditionForUpdate(e)));
            } catch (e) {
              this.lastTransactionError = e;
            }
            this.writtenDocs.add(e.toString());
          }
          delete(e) {
            this.write(new oQ(e, this.precondition(e))),
              this.writtenDocs.add(e.toString());
          }
          async commit() {
            if ((this.ensureCommitNotCalled(), this.lastTransactionError))
              throw this.lastTransactionError;
            let e = this.readVersions;
            this.mutations.forEach((r) => {
              e.delete(r.key.toString());
            }),
              e.forEach((e, r) => {
                let n = rR.fromPath(r);
                this.mutations.push(new oJ(n, this.precondition(n)));
              }),
              await f1(this.datastore, this.mutations),
              (this.committed = !0);
          }
          recordVersion(e) {
            let r;
            if (e.isFoundDocument()) r = e.version;
            else if (e.isNoDocument()) r = rC.min();
            else throw rt();
            let n = this.readVersions.get(e.key.toString());
            if (n) {
              if (!r.isEqual(n))
                throw new rs(
                  ri.ABORTED,
                  "Document version changed between two reads.",
                );
            } else this.readVersions.set(e.key.toString(), r);
          }
          precondition(e) {
            let r = this.readVersions.get(e.toString());
            return this.writtenDocs.has(e.toString()) || !r
              ? oP.none()
              : r.isEqual(rC.min())
                ? oP.exists(!1)
                : oP.updateTime(r);
          }
          preconditionForUpdate(e) {
            let r = this.readVersions.get(e.toString());
            if (this.writtenDocs.has(e.toString()) || !r) return oP.exists(!0);
            if (r.isEqual(rC.min()))
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Can't update a document that doesn't exist.",
              );
            return oP.updateTime(r);
          }
          write(e) {
            this.ensureCommitNotCalled(), this.mutations.push(e);
          }
          ensureCommitNotCalled() {}
        }
        let me = "FirestoreClient",
          mt = 100,
          mr = 11,
          mn = 20,
          mi = 22;
        class ms {
          constructor(e, r, n, i, s) {
            (this.authCredentials = e),
              (this.appCheckCredentials = r),
              (this.asyncQueue = n),
              (this.databaseInfo = i),
              (this.user = t1.UNAUTHENTICATED),
              (this.clientId = ry.newId()),
              (this.authCredentialListener = () => Promise.resolve()),
              (this.appCheckCredentialListener = () => Promise.resolve()),
              (this._uninitializedComponentsProvider = s),
              this.authCredentials.start(n, async (e) => {
                t8(me, "Received user=", e.uid),
                  await this.authCredentialListener(e),
                  (this.user = e);
              }),
              this.appCheckCredentials.start(
                n,
                (e) => (
                  t8(me, "Received new app check token=", e),
                  this.appCheckCredentialListener(e, this.user)
                ),
              );
          }
          get configuration() {
            return {
              asyncQueue: this.asyncQueue,
              databaseInfo: this.databaseInfo,
              clientId: this.clientId,
              authCredentials: this.authCredentials,
              appCheckCredentials: this.appCheckCredentials,
              initialUser: this.user,
              maxConcurrentLimboResolutions: mt,
            };
          }
          setCredentialChangeListener(e) {
            this.authCredentialListener = e;
          }
          setAppCheckTokenChangeListener(e) {
            this.appCheckCredentialListener = e;
          }
          terminate() {
            this.asyncQueue.enterRestrictedMode();
            let e = new ra();
            return (
              this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async () => {
                try {
                  this._onlineComponents &&
                    (await this._onlineComponents.terminate()),
                    this._offlineComponents &&
                      (await this._offlineComponents.terminate()),
                    this.authCredentials.shutdown(),
                    this.appCheckCredentials.shutdown(),
                    e.resolve();
                } catch (n) {
                  let r = pj(n, "Failed to shutdown persistence");
                  e.reject(r);
                }
              }),
              e.promise
            );
          }
        }
        async function ma(e, r) {
          e.asyncQueue.verifyOperationInProgress(),
            t8(me, "Initializing OfflineComponentProvider");
          let n = e.configuration;
          await r.initialize(n);
          let i = n.initialUser;
          e.setCredentialChangeListener(async (e) => {
            i.isEqual(e) || (await h_(r.localStore, e), (i = e));
          }),
            r.persistence.setDatabaseDeletedListener(() => e.terminate()),
            (e._offlineComponents = r);
        }
        async function mo(e, r) {
          e.asyncQueue.verifyOperationInProgress();
          let n = await mu(e);
          t8(me, "Initializing OnlineComponentProvider"),
            await r.initialize(n, e.configuration),
            e.setCredentialChangeListener((e) => pO(r.remoteStore, e)),
            e.setAppCheckTokenChangeListener((e, n) => pO(r.remoteStore, n)),
            (e._onlineComponents = r);
        }
        function ml(e) {
          return "FirebaseError" === e.name
            ? e.code === ri.FAILED_PRECONDITION || e.code === ri.UNIMPLEMENTED
            : !(
                "undefined" != typeof DOMException && e instanceof DOMException
              ) ||
                e.code === mi ||
                e.code === mn ||
                e.code === mr;
        }
        async function mu(e) {
          if (!e._offlineComponents) {
            if (e._uninitializedComponentsProvider) {
              t8(me, "Using user provided OfflineComponentProvider");
              try {
                await ma(e, e._uninitializedComponentsProvider._offline);
              } catch (n) {
                let r = n;
                if (!ml(r)) throw r;
                t9(
                  "Error using user provided cache. Falling back to memory cache: " +
                    r,
                ),
                  await ma(e, new gq());
              }
            } else
              t8(me, "Using default OfflineComponentProvider"),
                await ma(e, new gH(void 0));
          }
          return e._offlineComponents;
        }
        async function mc(e) {
          return (
            e._onlineComponents ||
              (e._uninitializedComponentsProvider
                ? (t8(me, "Using user provided OnlineComponentProvider"),
                  await mo(e, e._uninitializedComponentsProvider._online))
                : (t8(me, "Using default OnlineComponentProvider"),
                  await mo(e, new gW()))),
            e._onlineComponents
          );
        }
        function md(e) {
          return mu(e).then((e) => e.localStore);
        }
        function mh(e) {
          return mc(e).then((e) => e.syncEngine);
        }
        function mf(e) {
          return mc(e).then((e) => e.datastore);
        }
        function mp(e, r) {
          let n = new ra();
          return (
            e.asyncQueue.enqueueAndForget(async () => gh(await mh(e), r, n)),
            n.promise
          );
        }
        function mg(e, r) {
          return e.timeoutSeconds === r.timeoutSeconds;
        }
        function mm(e) {
          let r = {};
          return (
            void 0 !== e.timeoutSeconds &&
              (r.timeoutSeconds = e.timeoutSeconds),
            r
          );
        }
        let my = "ComponentProvider",
          mv = new Map();
        function mb(e) {
          let r = mv.get(e);
          r && (t8(my, "Removing Datastore"), mv.delete(e), r.terminate());
        }
        function mw(e, r, n, i) {
          return new iY(
            e,
            r,
            n,
            i.host,
            i.ssl,
            i.experimentalForceLongPolling,
            i.experimentalAutoDetectLongPolling,
            mm(i.experimentalLongPollingOptions),
            i.useFetchStreams,
          );
        }
        let mT = "firestore.googleapis.com",
          mS = !0,
          mE = 5,
          mC = 30,
          mx = !0;
        class mA {
          constructor(e) {
            var r, n;
            if (void 0 === e.host) {
              if (void 0 !== e.ssl)
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  "Can't provide ssl option if host option is not set",
                );
              (this.host = mT), (this.ssl = mS);
            } else
              (this.host = e.host),
                (this.ssl = null !== (r = e.ssl) && void 0 !== r ? r : mS);
            if (
              ((this.credentials = e.credentials),
              (this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties),
              (this.localCache = e.localCache),
              void 0 === e.cacheSizeBytes)
            )
              this.cacheSizeBytes = dd;
            else {
              if (e.cacheSizeBytes !== dc && e.cacheSizeBytes < dp)
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `cacheSizeBytes must be at least ${dp}`,
                );
              this.cacheSizeBytes = e.cacheSizeBytes;
            }
            gX(
              "experimentalForceLongPolling",
              e.experimentalForceLongPolling,
              "experimentalAutoDetectLongPolling",
              e.experimentalAutoDetectLongPolling,
            ),
              (this.experimentalForceLongPolling =
                !!e.experimentalForceLongPolling),
              this.experimentalForceLongPolling
                ? (this.experimentalAutoDetectLongPolling = !1)
                : void 0 === e.experimentalAutoDetectLongPolling
                  ? (this.experimentalAutoDetectLongPolling = mx)
                  : (this.experimentalAutoDetectLongPolling =
                      !!e.experimentalAutoDetectLongPolling),
              (this.experimentalLongPollingOptions = mm(
                null !== (n = e.experimentalLongPollingOptions) && void 0 !== n
                  ? n
                  : {},
              )),
              mI(this.experimentalLongPollingOptions),
              (this.useFetchStreams = !!e.useFetchStreams);
          }
          isEqual(e) {
            return (
              this.host === e.host &&
              this.ssl === e.ssl &&
              this.credentials === e.credentials &&
              this.cacheSizeBytes === e.cacheSizeBytes &&
              this.experimentalForceLongPolling ===
                e.experimentalForceLongPolling &&
              this.experimentalAutoDetectLongPolling ===
                e.experimentalAutoDetectLongPolling &&
              mg(
                this.experimentalLongPollingOptions,
                e.experimentalLongPollingOptions,
              ) &&
              this.ignoreUndefinedProperties === e.ignoreUndefinedProperties &&
              this.useFetchStreams === e.useFetchStreams
            );
          }
        }
        function mI(e) {
          if (void 0 !== e.timeoutSeconds) {
            if (isNaN(e.timeoutSeconds))
              throw new rs(
                ri.INVALID_ARGUMENT,
                `invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`,
              );
            if (e.timeoutSeconds < mE)
              throw new rs(
                ri.INVALID_ARGUMENT,
                `invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is ${mE})`,
              );
            if (e.timeoutSeconds > mC)
              throw new rs(
                ri.INVALID_ARGUMENT,
                `invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is ${mC})`,
              );
          }
        }
        class mk {
          constructor(e, r, n, i) {
            (this._authCredentials = e),
              (this._appCheckCredentials = r),
              (this._databaseId = n),
              (this._app = i),
              (this.type = "firestore-lite"),
              (this._persistenceKey = "(lite)"),
              (this._settings = new mA({})),
              (this._settingsFrozen = !1),
              (this._terminateTask = "notTerminated");
          }
          get app() {
            if (!this._app)
              throw new rs(
                ri.FAILED_PRECONDITION,
                "Firestore was not initialized using the Firebase SDK. 'app' is not available",
              );
            return this._app;
          }
          get _initialized() {
            return this._settingsFrozen;
          }
          get _terminated() {
            return "notTerminated" !== this._terminateTask;
          }
          _setSettings(e) {
            if (this._settingsFrozen)
              throw new rs(
                ri.FAILED_PRECONDITION,
                "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.",
              );
            (this._settings = new mA(e)),
              void 0 !== e.credentials &&
                (this._authCredentials = rg(e.credentials));
          }
          _getSettings() {
            return this._settings;
          }
          _freezeSettings() {
            return (this._settingsFrozen = !0), this._settings;
          }
          _delete() {
            return (
              "notTerminated" === this._terminateTask &&
                (this._terminateTask = this._terminate()),
              this._terminateTask
            );
          }
          async _restart() {
            "notTerminated" === this._terminateTask
              ? await this._terminate()
              : (this._terminateTask = "notTerminated");
          }
          toJSON() {
            return {
              app: this._app,
              databaseId: this._databaseId,
              settings: this._settings,
            };
          }
          _terminate() {
            return mb(this), Promise.resolve();
          }
        }
        function m_(e, r, n, i = {}) {
          var s;
          let a = (e = g3(e, mk))._getSettings(),
            o = `${r}:${n}`;
          if (
            (a.host !== mT &&
              a.host !== o &&
              t9(
                "Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.",
              ),
            e._setSettings(
              Object.assign(Object.assign({}, a), { host: o, ssl: !1 }),
            ),
            i.mockUserToken)
          ) {
            let r, n;
            if ("string" == typeof i.mockUserToken)
              (r = i.mockUserToken), (n = t1.MOCK_USER);
            else {
              r = ew(
                i.mockUserToken,
                null === (s = e._app) || void 0 === s
                  ? void 0
                  : s.options.projectId,
              );
              let a = i.mockUserToken.sub || i.mockUserToken.user_id;
              if (!a)
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  "mockUserToken must contain 'sub' or 'user_id' field!",
                );
              n = new t1(a);
            }
            e._authCredentials = new ru(new ro(r, n));
          }
        }
        class mR {
          constructor(e, r, n) {
            (this.converter = r),
              (this._query = n),
              (this.type = "query"),
              (this.firestore = e);
          }
          withConverter(e) {
            return new mR(this.firestore, e, this._query);
          }
        }
        class mD {
          constructor(e, r, n) {
            (this.converter = r),
              (this._key = n),
              (this.type = "document"),
              (this.firestore = e);
          }
          get _path() {
            return this._key.path;
          }
          get id() {
            return this._key.path.lastSegment();
          }
          get path() {
            return this._key.path.canonicalString();
          }
          get parent() {
            return new mP(
              this.firestore,
              this.converter,
              this._key.path.popLast(),
            );
          }
          withConverter(e) {
            return new mD(this.firestore, e, this._key);
          }
        }
        class mP extends mR {
          constructor(e, r, n) {
            super(e, r, aN(n)), (this._path = n), (this.type = "collection");
          }
          get id() {
            return this._query.path.lastSegment();
          }
          get path() {
            return this._query.path.canonicalString();
          }
          get parent() {
            let e = this._path.popLast();
            return e.isEmpty() ? null : new mD(this.firestore, null, new rR(e));
          }
          withConverter(e) {
            return new mP(this.firestore, e, this._path);
          }
        }
        function mN(e, r, ...n) {
          if (((e = ej(e)), gY("collection", "path", r), e instanceof mk)) {
            let i = rI.fromString(r, ...n);
            return gZ(i), new mP(e, null, i);
          }
          {
            if (!(e instanceof mD) && !(e instanceof mP))
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore",
              );
            let i = e._path.child(rI.fromString(r, ...n));
            return gZ(i), new mP(e.firestore, null, i);
          }
        }
        function mO(e, r, ...n) {
          if (
            ((e = ej(e)),
            1 == arguments.length && (r = ry.newId()),
            gY("doc", "path", r),
            e instanceof mk)
          ) {
            let i = rI.fromString(r, ...n);
            return gJ(i), new mD(e, null, new rR(i));
          }
          {
            if (!(e instanceof mD) && !(e instanceof mP))
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore",
              );
            let i = e._path.child(rI.fromString(r, ...n));
            return (
              gJ(i),
              new mD(
                e.firestore,
                e instanceof mP ? e.converter : null,
                new rR(i),
              )
            );
          }
        }
        let mM = "AsyncQueue";
        class mL {
          constructor(e = Promise.resolve()) {
            (this.retryableOps = []),
              (this._isShuttingDown = !1),
              (this.delayedOperations = []),
              (this.failure = null),
              (this.operationInProgress = !1),
              (this.skipNonRestrictedTasks = !1),
              (this.timerIdsToSkip = []),
              (this.backoff = new fH(this, "async_queue_retry")),
              (this.visibilityHandler = () => {
                this.backoff.skipBackoff();
              }),
              (this.tail = e);
          }
          get isShuttingDown() {
            return this._isShuttingDown;
          }
          enqueueAndForget(e) {
            this.enqueue(e);
          }
          enqueueAndForgetEvenWhileRestricted(e) {
            this.verifyNotFailed(), this.enqueueInternal(e);
          }
          enterRestrictedMode(e) {
            this._isShuttingDown ||
              ((this._isShuttingDown = !0),
              (this.skipNonRestrictedTasks = e || !1));
          }
          enqueue(e) {
            if ((this.verifyNotFailed(), this._isShuttingDown))
              return new Promise(() => {});
            let r = new ra();
            return this.enqueueInternal(() =>
              this._isShuttingDown && this.skipNonRestrictedTasks
                ? Promise.resolve()
                : (e().then(r.resolve, r.reject), r.promise),
            ).then(() => r.promise);
          }
          enqueueRetryable(e) {
            this.enqueueAndForget(
              () => (this.retryableOps.push(e), this.retryNextOp()),
            );
          }
          async retryNextOp() {
            if (0 !== this.retryableOps.length) {
              try {
                await this.retryableOps[0](),
                  this.retryableOps.shift(),
                  this.backoff.reset();
              } catch (e) {
                if (r3(e))
                  t8(mM, "Operation failed with retryable error: " + e);
                else throw e;
              }
              this.retryableOps.length > 0 &&
                this.backoff.backoffAndRun(() => this.retryNextOp());
            }
          }
          enqueueInternal(e) {
            let r = this.tail.then(
              () => (
                (this.operationInProgress = !0),
                e()
                  .catch((e) => {
                    throw (
                      ((this.failure = e),
                      (this.operationInProgress = !1),
                      t7("INTERNAL UNHANDLED ERROR: ", mB(e)),
                      e)
                    );
                  })
                  .then((e) => ((this.operationInProgress = !1), e))
              ),
            );
            return (this.tail = r), r;
          }
          enqueueAfterDelay(e, r, n) {
            this.verifyNotFailed(),
              this.timerIdsToSkip.indexOf(e) > -1 && (r = 0);
            let i = pU.createAndSchedule(this, e, r, n, (e) =>
              this.removeDelayedOperation(e),
            );
            return this.delayedOperations.push(i), i;
          }
          verifyNotFailed() {
            this.failure && rt();
          }
          verifyOperationInProgress() {}
          async drain() {
            let e;
            do (e = this.tail), await e;
            while (e !== this.tail);
          }
          containsDelayedOperation(e) {
            for (let r of this.delayedOperations)
              if (r.timerId === e) return !0;
            return !1;
          }
          runAllDelayedOperationsUntil(e) {
            return this.drain().then(() => {
              for (let r of (this.delayedOperations.sort(
                (e, r) => e.targetTimeMs - r.targetTimeMs,
              ),
              this.delayedOperations))
                if ((r.skipDelay(), "all" !== e && r.timerId === e)) break;
              return this.drain();
            });
          }
          skipDelaysForTimerId(e) {
            this.timerIdsToSkip.push(e);
          }
          removeDelayedOperation(e) {
            let r = this.delayedOperations.indexOf(e);
            this.delayedOperations.splice(r, 1);
          }
        }
        function mB(e) {
          let r = e.message || "";
          return (
            e.stack &&
              (r = e.stack.includes(e.message)
                ? e.stack
                : e.message + "\n" + e.stack),
            r
          );
        }
        class mF extends mk {
          constructor(e, r, n, i) {
            super(e, r, n, i),
              (this.type = "firestore"),
              (this._queue = new mL()),
              (this._persistenceKey =
                (null == i ? void 0 : i.name) || "[DEFAULT]");
          }
          async _terminate() {
            if (this._firestoreClient) {
              let e = this._firestoreClient.terminate();
              (this._queue = new mL(e)),
                (this._firestoreClient = void 0),
                await e;
            }
          }
        }
        function mU(e, r) {
          let n = "object" == typeof e ? e : t_(),
            i = "string" == typeof e ? e : r || iX,
            s = tE(n, "firestore").getImmediate({ identifier: i });
          if (!s._initialized) {
            let e = ey("firestore");
            e && m_(s, ...e);
          }
          return s;
        }
        function mj(e) {
          if (e._terminated)
            throw new rs(
              ri.FAILED_PRECONDITION,
              "The client has already been terminated.",
            );
          return e._firestoreClient || mz(e), e._firestoreClient;
        }
        function mz(e) {
          var r, n, i;
          let s = e._freezeSettings(),
            a = mw(
              e._databaseId,
              (null === (r = e._app) || void 0 === r
                ? void 0
                : r.options.appId) || "",
              e._persistenceKey,
              s,
            );
          !e._componentsProvider &&
            (null === (n = s.localCache) || void 0 === n
              ? void 0
              : n._offlineComponentProvider) &&
            (null === (i = s.localCache) || void 0 === i
              ? void 0
              : i._onlineComponentProvider) &&
            (e._componentsProvider = {
              _offline: s.localCache._offlineComponentProvider,
              _online: s.localCache._onlineComponentProvider,
            }),
            (e._firestoreClient = new ms(
              e._authCredentials,
              e._appCheckCredentials,
              e._queue,
              a,
              e._componentsProvider && mV(e._componentsProvider),
            ));
        }
        function mV(e) {
          let r = null == e ? void 0 : e._online.build();
          return {
            _offline: null == e ? void 0 : e._offline.build(r),
            _online: r,
          };
        }
        function mK(e, r = !0) {
          t3(tI),
            tS(
              new ez(
                "firestore",
                (e, { instanceIdentifier: n, options: i }) => {
                  let s = e.getProvider("app").getImmediate(),
                    a = new mF(
                      new rc(e.getProvider("auth-internal")),
                      new rp(s, e.getProvider("app-check-internal")),
                      iZ(s, n),
                      s,
                    );
                  return (
                    (i = Object.assign({ useFetchStreams: r }, i)),
                    a._setSettings(i),
                    a
                  );
                },
                "PUBLIC",
              ).setMultipleInstances(!0),
            ),
            tR(tZ, t0, e),
            tR(tZ, t0, "esm2017");
        }
        class mq {
          constructor(e, r, n) {
            (this._userDataWriter = r),
              (this._data = n),
              (this.type = "AggregateQuerySnapshot"),
              (this.query = e);
          }
          data() {
            return this._userDataWriter.convertObjectMap(this._data);
          }
        }
        class mH {
          constructor(e) {
            this._byteString = e;
          }
          static fromBase64String(e) {
            try {
              return new mH(iM.fromBase64String(e));
            } catch (e) {
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Failed to construct data from Base64 string: " + e,
              );
            }
          }
          static fromUint8Array(e) {
            return new mH(iM.fromUint8Array(e));
          }
          toBase64() {
            return this._byteString.toBase64();
          }
          toUint8Array() {
            return this._byteString.toUint8Array();
          }
          toString() {
            return "Bytes(base64: " + this.toBase64() + ")";
          }
          isEqual(e) {
            return this._byteString.isEqual(e._byteString);
          }
        }
        class m$ {
          constructor(...e) {
            for (let r = 0; r < e.length; ++r)
              if (0 === e[r].length)
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  "Invalid field name at argument $(i + 1). Field names must not be empty.",
                );
            this._internalPath = new r_(e);
          }
          isEqual(e) {
            return this._internalPath.isEqual(e._internalPath);
          }
        }
        class mW {
          constructor(e) {
            this._methodName = e;
          }
        }
        class mG {
          constructor(e, r) {
            if (!isFinite(e) || e < -90 || e > 90)
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Latitude must be a number between -90 and 90, but was: " + e,
              );
            if (!isFinite(r) || r < -180 || r > 180)
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Longitude must be a number between -180 and 180, but was: " +
                  r,
              );
            (this._lat = e), (this._long = r);
          }
          get latitude() {
            return this._lat;
          }
          get longitude() {
            return this._long;
          }
          isEqual(e) {
            return this._lat === e._lat && this._long === e._long;
          }
          toJSON() {
            return { latitude: this._lat, longitude: this._long };
          }
          _compareTo(e) {
            return rv(this._lat, e._lat) || rv(this._long, e._long);
          }
        }
        class mQ {
          constructor(e) {
            this._values = (e || []).map((e) => e);
          }
          toArray() {
            return this._values.map((e) => e);
          }
          isEqual(e) {
            return hC(this._values, e._values);
          }
        }
        let mY = /^__.*__$/;
        class mX {
          constructor(e, r, n) {
            (this.data = e), (this.fieldMask = r), (this.fieldTransforms = n);
          }
          toMutation(e, r) {
            return null !== this.fieldMask
              ? new oK(e, this.data, this.fieldMask, r, this.fieldTransforms)
              : new oj(e, this.data, r, this.fieldTransforms);
          }
        }
        class mJ {
          constructor(e, r, n) {
            (this.data = e), (this.fieldMask = r), (this.fieldTransforms = n);
          }
          toMutation(e, r) {
            return new oK(
              e,
              this.data,
              this.fieldMask,
              r,
              this.fieldTransforms,
            );
          }
        }
        function mZ(e) {
          switch (e) {
            case 0:
            case 2:
            case 1:
              return !0;
            case 3:
            case 4:
              return !1;
            default:
              throw rt();
          }
        }
        class m0 {
          constructor(e, r, n, i, s, a) {
            (this.settings = e),
              (this.databaseId = r),
              (this.serializer = n),
              (this.ignoreUndefinedProperties = i),
              void 0 === s && this.validatePath(),
              (this.fieldTransforms = s || []),
              (this.fieldMask = a || []);
          }
          get path() {
            return this.settings.path;
          }
          get dataSource() {
            return this.settings.dataSource;
          }
          contextWith(e) {
            return new m0(
              Object.assign(Object.assign({}, this.settings), e),
              this.databaseId,
              this.serializer,
              this.ignoreUndefinedProperties,
              this.fieldTransforms,
              this.fieldMask,
            );
          }
          childContextForField(e) {
            var r;
            let n =
                null === (r = this.path) || void 0 === r ? void 0 : r.child(e),
              i = this.contextWith({ path: n, arrayElement: !1 });
            return i.validatePathSegment(e), i;
          }
          childContextForFieldPath(e) {
            var r;
            let n =
                null === (r = this.path) || void 0 === r ? void 0 : r.child(e),
              i = this.contextWith({ path: n, arrayElement: !1 });
            return i.validatePath(), i;
          }
          childContextForArray(e) {
            return this.contextWith({ path: void 0, arrayElement: !0 });
          }
          createError(e) {
            return yp(
              e,
              this.settings.methodName,
              this.settings.hasConverter || !1,
              this.path,
              this.settings.targetDoc,
            );
          }
          contains(e) {
            return (
              void 0 !== this.fieldMask.find((r) => e.isPrefixOf(r)) ||
              void 0 !== this.fieldTransforms.find((r) => e.isPrefixOf(r.field))
            );
          }
          validatePath() {
            if (this.path)
              for (let e = 0; e < this.path.length; e++)
                this.validatePathSegment(this.path.get(e));
          }
          validatePathSegment(e) {
            if (0 === e.length)
              throw this.createError("Document fields must not be empty");
            if (mZ(this.dataSource) && mY.test(e))
              throw this.createError(
                'Document fields cannot begin and end with "__"',
              );
          }
        }
        class m1 {
          constructor(e, r, n) {
            (this.databaseId = e),
              (this.ignoreUndefinedProperties = r),
              (this.serializer = n || fj(e));
          }
          createContext(e, r, n, i = !1) {
            return new m0(
              {
                dataSource: e,
                methodName: r,
                targetDoc: n,
                path: r_.emptyPath(),
                arrayElement: !1,
                hasConverter: i,
              },
              this.databaseId,
              this.serializer,
              this.ignoreUndefinedProperties,
            );
          }
        }
        function m2(e) {
          let r = e._freezeSettings(),
            n = fj(e._databaseId);
          return new m1(e._databaseId, !!r.ignoreUndefinedProperties, n);
        }
        function m3(e, r, n, i, s, a = {}) {
          let o, l;
          let u = e.createContext(a.merge || a.mergeFields ? 2 : 0, r, n, s);
          yc("Data must be an object, but it was:", u, i);
          let c = yi(i, u);
          if (a.merge) (o = new iP(u.fieldMask)), (l = u.fieldTransforms);
          else if (a.mergeFields) {
            let e = [];
            for (let i of a.mergeFields) {
              let s = yd(r, i, n);
              if (!u.contains(s))
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `Field '${s}' is specified in your field mask but missing from your input data.`,
                );
              yg(e, s) || e.push(s);
            }
            (o = new iP(e)),
              (l = u.fieldTransforms.filter((e) => o.covers(e.field)));
          } else (o = null), (l = u.fieldTransforms);
          return new mX(new sq(c), o, l);
        }
        class m4 extends mW {
          _toFieldTransform(e) {
            if (2 === e.dataSource) e.fieldMask.push(e.path);
            else if (1 === e.dataSource)
              throw e.createError(
                `${this._methodName}() can only appear at the top level of your update data`,
              );
            else
              throw e.createError(
                `${this._methodName}() cannot be used with set() unless you pass {merge:true}`,
              );
            return null;
          }
          isEqual(e) {
            return e instanceof m4;
          }
        }
        function m5(e, r, n) {
          return new m0(
            {
              dataSource: 3,
              targetDoc: r.settings.targetDoc,
              methodName: e._methodName,
              arrayElement: n,
            },
            r.databaseId,
            r.serializer,
            r.ignoreUndefinedProperties,
          );
        }
        class m6 extends mW {
          _toFieldTransform(e) {
            return new ok(e.path, new ob());
          }
          isEqual(e) {
            return e instanceof m6;
          }
        }
        class m8 extends mW {
          constructor(e, r) {
            super(e), (this._elements = r);
          }
          _toFieldTransform(e) {
            let r = m5(this, e, !0),
              n = new ow(this._elements.map((e) => yn(e, r)));
            return new ok(e.path, n);
          }
          isEqual(e) {
            return e instanceof m8 && eN(this._elements, e._elements);
          }
        }
        class m7 extends mW {
          constructor(e, r) {
            super(e), (this._elements = r);
          }
          _toFieldTransform(e) {
            let r = m5(this, e, !0),
              n = new oS(this._elements.map((e) => yn(e, r)));
            return new ok(e.path, n);
          }
          isEqual(e) {
            return e instanceof m7 && eN(this._elements, e._elements);
          }
        }
        class m9 extends mW {
          constructor(e, r) {
            super(e), (this._operand = r);
          }
          _toFieldTransform(e) {
            let r = new oC(e.serializer, of(e.serializer, this._operand));
            return new ok(e.path, r);
          }
          isEqual(e) {
            return e instanceof m9 && this._operand === e._operand;
          }
        }
        function ye(e, r, n, i) {
          let s = e.createContext(1, r, n);
          yc("Data must be an object, but it was:", s, i);
          let a = [],
            o = sq.empty();
          return (
            iS(i, (e, i) => {
              let l = yf(r, e, n);
              i = ej(i);
              let u = s.childContextForFieldPath(l);
              if (i instanceof m4) a.push(l);
              else {
                let e = yn(i, u);
                null != e && (a.push(l), o.set(l, e));
              }
            }),
            new mJ(o, new iP(a), s.fieldTransforms)
          );
        }
        function yt(e, r, n, i, s, a) {
          let o = e.createContext(1, r, n),
            l = [yd(r, i, n)],
            u = [s];
          if (a.length % 2 != 0)
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`,
            );
          for (let e = 0; e < a.length; e += 2)
            l.push(yd(r, a[e])), u.push(a[e + 1]);
          let c = [],
            d = sq.empty();
          for (let e = l.length - 1; e >= 0; --e)
            if (!yg(c, l[e])) {
              let r = l[e],
                n = u[e];
              n = ej(n);
              let i = o.childContextForFieldPath(r);
              if (n instanceof m4) c.push(r);
              else {
                let e = yn(n, i);
                null != e && (c.push(r), d.set(r, e));
              }
            }
          return new mJ(d, new iP(c), o.fieldTransforms);
        }
        function yr(e, r, n, i = !1) {
          return yn(n, e.createContext(i ? 4 : 3, r));
        }
        function yn(e, r) {
          if (yu((e = ej(e))))
            return yc("Unsupported field value:", r, e), yi(e, r);
          if (e instanceof mW) return ya(e, r), null;
          if (void 0 === e && r.ignoreUndefinedProperties) return null;
          if ((r.path && r.fieldMask.push(r.path), !(e instanceof Array)))
            return yo(e, r);
          if (r.settings.arrayElement && 4 !== r.dataSource)
            throw r.createError("Nested arrays are not supported");
          return ys(e, r);
        }
        function yi(e, r) {
          let n = {};
          return (
            iE(e)
              ? r.path && r.path.length > 0 && r.fieldMask.push(r.path)
              : iS(e, (e, i) => {
                  let s = yn(i, r.childContextForField(e));
                  null != s && (n[e] = s);
                }),
            { mapValue: { fields: n } }
          );
        }
        function ys(e, r) {
          let n = [],
            i = 0;
          for (let s of e) {
            let e = yn(s, r.childContextForArray(i));
            null == e && (e = { nullValue: "NULL_VALUE" }), n.push(e), i++;
          }
          return { arrayValue: { values: n } };
        }
        function ya(e, r) {
          if (!mZ(r.dataSource))
            throw r.createError(
              `${e._methodName}() can only be used with update() and set()`,
            );
          if (!r.path)
            throw r.createError(
              `${e._methodName}() is not currently supported inside arrays`,
            );
          let n = e._toFieldTransform(r);
          n && r.fieldTransforms.push(n);
        }
        function yo(e, r) {
          if (null === (e = ej(e))) return { nullValue: "NULL_VALUE" };
          if ("number" == typeof e) return of(r.serializer, e);
          if ("boolean" == typeof e) return { booleanValue: e };
          if ("string" == typeof e) return { stringValue: e };
          if (e instanceof Date) {
            let n = rE.fromDate(e);
            return { timestampValue: lC(r.serializer, n) };
          }
          if (e instanceof rE) {
            let n = new rE(e.seconds, 1e3 * Math.floor(e.nanoseconds / 1e3));
            return { timestampValue: lC(r.serializer, n) };
          }
          if (e instanceof mG)
            return {
              geoPointValue: { latitude: e.latitude, longitude: e.longitude },
            };
          else if (e instanceof mH)
            return { bytesValue: lA(r.serializer, e._byteString) };
          else if (e instanceof mD) {
            let n = r.databaseId,
              i = e.firestore._databaseId;
            if (!i.isEqual(n))
              throw r.createError(
                `Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`,
              );
            return {
              referenceValue: lR(
                e.firestore._databaseId || r.databaseId,
                e._key.path,
              ),
            };
          } else if (e instanceof mQ) return yl(e, r);
          else throw r.createError(`Unsupported field value: ${g1(e)}`);
        }
        function yl(e, r) {
          return {
            mapValue: {
              fields: {
                [i4]: { stringValue: i8 },
                [i7]: {
                  arrayValue: {
                    values: e.toArray().map((e) => {
                      if ("number" != typeof e)
                        throw r.createError(
                          "VectorValues must only contain numeric values.",
                        );
                      return od(r.serializer, e);
                    }),
                  },
                },
              },
            },
          };
        }
        function yu(e) {
          return (
            "object" == typeof e &&
            null !== e &&
            !(e instanceof Array) &&
            !(e instanceof Date) &&
            !(e instanceof rE) &&
            !(e instanceof mG) &&
            !(e instanceof mH) &&
            !(e instanceof mD) &&
            !(e instanceof mW) &&
            !(e instanceof mQ)
          );
        }
        function yc(e, r, n) {
          if (!yu(n) || !g0(n)) {
            let i = g1(n);
            if ("an object" === i) throw r.createError(e + " a custom object");
            throw r.createError(e + " " + i);
          }
        }
        function yd(e, r, n) {
          if ((r = ej(r)) instanceof m$) return r._internalPath;
          if ("string" == typeof r) return yf(e, r);
          throw yp(
            "Field path arguments must be of type string or ",
            e,
            !1,
            void 0,
            n,
          );
        }
        let yh = RegExp("[~\\*/\\[\\]]");
        function yf(e, r, n) {
          if (r.search(yh) >= 0)
            throw yp(
              `Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,
              e,
              !1,
              void 0,
              n,
            );
          try {
            return new m$(...r.split("."))._internalPath;
          } catch (i) {
            throw yp(
              `Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
              e,
              !1,
              void 0,
              n,
            );
          }
        }
        function yp(e, r, n, i, s) {
          let a = i && !i.isEmpty(),
            o = void 0 !== s,
            l = `Function ${r}() called with invalid data`;
          n && (l += " (via `toFirestore()`)"), (l += ". ");
          let u = "";
          return (
            (a || o) &&
              ((u += " (found"),
              a && (u += ` in field ${i}`),
              o && (u += ` in document ${s}`),
              (u += ")")),
            new rs(ri.INVALID_ARGUMENT, l + e + u)
          );
        }
        function yg(e, r) {
          return e.some((e) => e.isEqual(r));
        }
        class ym {
          constructor(e, r, n, i, s) {
            (this._firestore = e),
              (this._userDataWriter = r),
              (this._key = n),
              (this._document = i),
              (this._converter = s);
          }
          get id() {
            return this._key.path.lastSegment();
          }
          get ref() {
            return new mD(this._firestore, this._converter, this._key);
          }
          exists() {
            return null !== this._document;
          }
          data() {
            if (this._document) {
              if (!this._converter)
                return this._userDataWriter.convertValue(
                  this._document.data.value,
                );
              {
                let e = new yy(
                  this._firestore,
                  this._userDataWriter,
                  this._key,
                  this._document,
                  null,
                );
                return this._converter.fromFirestore(e);
              }
            }
          }
          get(e) {
            if (this._document) {
              let r = this._document.data.field(yv("DocumentSnapshot.get", e));
              if (null !== r) return this._userDataWriter.convertValue(r);
            }
          }
        }
        class yy extends ym {
          data() {
            return super.data();
          }
        }
        function yv(e, r) {
          return "string" == typeof r
            ? yf(e, r)
            : r instanceof m$
              ? r._internalPath
              : r._delegate._internalPath;
        }
        class yb {}
        class yw extends yb {}
        class yT extends yw {
          constructor(e, r, n) {
            super(),
              (this._field = e),
              (this._op = r),
              (this._value = n),
              (this.type = "where");
          }
          static _create(e, r, n) {
            return new yT(e, r, n);
          }
          _apply(e) {
            let r = this._parse(e);
            return (
              yM(e._query, r), new mR(e.firestore, e.converter, aK(e._query, r))
            );
          }
          _parse(e) {
            let r = m2(e.firestore);
            return yk(
              e._query,
              "where",
              r,
              e.firestore._databaseId,
              this._field,
              this._op,
              this._value,
            );
          }
        }
        class yS extends yb {
          constructor(e, r) {
            super(), (this.type = e), (this._queryConstraints = r);
          }
          static _create(e, r) {
            return new yS(e, r);
          }
          _parse(e) {
            let r = this._queryConstraints
              .map((r) => r._parse(e))
              .filter((e) => e.getFilters().length > 0);
            return 1 === r.length ? r[0] : s5.create(r, this._getOperator());
          }
          _apply(e) {
            let r = this._parse(e);
            return 0 === r.getFilters().length
              ? e
              : (yL(e._query, r),
                new mR(e.firestore, e.converter, aK(e._query, r)));
          }
          _getQueryConstraints() {
            return this._queryConstraints;
          }
          _getOperator() {
            return "and" === this.type ? "and" : "or";
          }
        }
        class yE extends yw {
          constructor(e, r) {
            super(),
              (this._field = e),
              (this._direction = r),
              (this.type = "orderBy");
          }
          static _create(e, r) {
            return new yE(e, r);
          }
          _apply(e) {
            let r = y_(e._query, this._field, this._direction);
            return new mR(e.firestore, e.converter, aq(e._query, r));
          }
        }
        class yC extends yw {
          constructor(e, r, n) {
            super(), (this.type = e), (this._limit = r), (this._limitType = n);
          }
          static _create(e, r, n) {
            return new yC(e, r, n);
          }
          _apply(e) {
            return new mR(
              e.firestore,
              e.converter,
              aH(e._query, this._limit, this._limitType),
            );
          }
        }
        class yx extends yw {
          constructor(e, r, n) {
            super(),
              (this.type = e),
              (this._docOrFields = r),
              (this._inclusive = n);
          }
          static _create(e, r, n) {
            return new yx(e, r, n);
          }
          _apply(e) {
            let r = yI(e, this.type, this._docOrFields, this._inclusive);
            return new mR(e.firestore, e.converter, a$(e._query, r));
          }
        }
        class yA extends yw {
          constructor(e, r, n) {
            super(),
              (this.type = e),
              (this._docOrFields = r),
              (this._inclusive = n);
          }
          static _create(e, r, n) {
            return new yA(e, r, n);
          }
          _apply(e) {
            let r = yI(e, this.type, this._docOrFields, this._inclusive);
            return new mR(e.firestore, e.converter, aW(e._query, r));
          }
        }
        function yI(e, r, n, i) {
          if (((n[0] = ej(n[0])), n[0] instanceof ym))
            return yR(e._query, e.firestore._databaseId, r, n[0]._document, i);
          {
            let s = m2(e.firestore);
            return yD(e._query, e.firestore._databaseId, s, r, n, i);
          }
        }
        function yk(e, r, n, i, s, a, o) {
          let l;
          if (s.isKeyField()) {
            if ("array-contains" === a || "array-contains-any" === a)
              throw new rs(
                ri.INVALID_ARGUMENT,
                `Invalid Query. You can't perform '${a}' queries on documentId().`,
              );
            if ("in" === a || "not-in" === a) {
              yN(o, a);
              let r = [];
              for (let n of o) r.push(yP(i, e, n));
              l = { arrayValue: { values: r } };
            } else l = yP(i, e, o);
          } else
            ("in" === a || "not-in" === a || "array-contains-any" === a) &&
              yN(o, a),
              (l = yr(n, r, o, "in" === a || "not-in" === a));
          return s4.create(s, a, l);
        }
        function y_(e, r, n) {
          if (null !== e.startAt)
            throw new rs(
              ri.INVALID_ARGUMENT,
              "Invalid query. You must not call startAt() or startAfter() before calling orderBy().",
            );
          if (null !== e.endAt)
            throw new rs(
              ri.INVALID_ARGUMENT,
              "Invalid query. You must not call endAt() or endBefore() before calling orderBy().",
            );
          return new sZ(r, n);
        }
        function yR(e, r, n, i, s) {
          if (!i)
            throw new rs(
              ri.NOT_FOUND,
              `Can't use a DocumentSnapshot that doesn't exist for ${n}().`,
            );
          let a = [];
          for (let n of aU(e))
            if (n.field.isKeyField()) a.push(sk(r, i.key));
            else {
              let e = i.data.field(n.field);
              if (i$(e))
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  'Invalid query. You are trying to start or end a query using a document for which the field "' +
                    n.field +
                    '" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)',
                );
              if (null !== e) a.push(e);
              else {
                let e = n.field.canonicalString();
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`,
                );
              }
            }
          return new sG(a, s);
        }
        function yD(e, r, n, i, s, a) {
          let o = e.explicitOrderBy;
          if (s.length > o.length)
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`,
            );
          let l = [];
          for (let a = 0; a < s.length; a++) {
            let u = s[a];
            if (o[a].field.isKeyField()) {
              if ("string" != typeof u)
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof u}`,
                );
              if (!aF(e) && -1 !== u.indexOf("/"))
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${u}' contains a slash.`,
                );
              let n = e.path.child(rI.fromString(u));
              if (!rR.isDocumentKey(n))
                throw new rs(
                  ri.INVALID_ARGUMENT,
                  `Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`,
                );
              let s = new rR(n);
              l.push(sk(r, s));
            } else {
              let e = yr(n, i, u);
              l.push(e);
            }
          }
          return new sG(l, a);
        }
        function yP(e, r, n) {
          if ("string" == typeof (n = ej(n))) {
            if ("" === n)
              throw new rs(
                ri.INVALID_ARGUMENT,
                "Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.",
              );
            if (!aF(r) && -1 !== n.indexOf("/"))
              throw new rs(
                ri.INVALID_ARGUMENT,
                `Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`,
              );
            let i = r.path.child(rI.fromString(n));
            if (!rR.isDocumentKey(i))
              throw new rs(
                ri.INVALID_ARGUMENT,
                `Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`,
              );
            return sk(e, new rR(i));
          }
          if (n instanceof mD) return sk(e, n._key);
          throw new rs(
            ri.INVALID_ARGUMENT,
            `Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g1(n)}.`,
          );
        }
        function yN(e, r) {
          if (!Array.isArray(e) || 0 === e.length)
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Invalid Query. A non-empty array is required for '${r.toString()}' filters.`,
            );
        }
        function yO(e) {
          switch (e) {
            case "!=":
              return ["!=", "not-in"];
            case "array-contains-any":
            case "in":
              return ["not-in"];
            case "not-in":
              return ["array-contains-any", "in", "not-in", "!="];
            default:
              return [];
          }
        }
        function yM(e, r) {
          let n = yB(e.filters, yO(r.op));
          if (null !== n) {
            if (n === r.op)
              throw new rs(
                ri.INVALID_ARGUMENT,
                `Invalid query. You cannot use more than one '${r.op.toString()}' filter.`,
              );
            throw new rs(
              ri.INVALID_ARGUMENT,
              `Invalid query. You cannot use '${r.op.toString()}' filters with '${n.toString()}' filters.`,
            );
          }
        }
        function yL(e, r) {
          let n = e;
          for (let e of r.getFlattenedFilters()) yM(n, e), (n = aK(n, e));
        }
        function yB(e, r) {
          for (let n of e)
            for (let e of n.getFlattenedFilters())
              if (r.indexOf(e.op) >= 0) return e.op;
          return null;
        }
        class yF {
          convertValue(e, r = "none") {
            switch (se(e)) {
              case 0:
                return null;
              case 1:
                return e.booleanValue;
              case 2:
                return ij(e.integerValue || e.doubleValue);
              case 3:
                return this.convertTimestamp(e.timestampValue);
              case 4:
                return this.convertServerTimestamp(e, r);
              case 5:
                return e.stringValue;
              case 6:
                return this.convertBytes(iz(e.bytesValue));
              case 7:
                return this.convertReference(e.referenceValue);
              case 8:
                return this.convertGeoPoint(e.geoPointValue);
              case 9:
                return this.convertArray(e.arrayValue, r);
              case 11:
                return this.convertObject(e.mapValue, r);
              case 10:
                return this.convertVectorValue(e.mapValue);
              default:
                throw rt();
            }
          }
          convertObject(e, r) {
            return this.convertObjectMap(e.fields, r);
          }
          convertObjectMap(e, r = "none") {
            let n = {};
            return (
              iS(e, (e, i) => {
                n[e] = this.convertValue(i, r);
              }),
              n
            );
          }
          convertVectorValue(e) {
            var r, n, i;
            return new mQ(
              null ===
                (i =
                  null ===
                    (n =
                      null === (r = e.fields) || void 0 === r
                        ? void 0
                        : r[i7].arrayValue) || void 0 === n
                    ? void 0
                    : n.values) || void 0 === i
                ? void 0
                : i.map((e) => ij(e.doubleValue)),
            );
          }
          convertGeoPoint(e) {
            return new mG(ij(e.latitude), ij(e.longitude));
          }
          convertArray(e, r) {
            return (e.values || []).map((e) => this.convertValue(e, r));
          }
          convertServerTimestamp(e, r) {
            switch (r) {
              case "previous":
                let n = iG(e);
                if (null == n) return null;
                return this.convertValue(n, r);
              case "estimate":
                return this.convertTimestamp(iQ(e));
              default:
                return null;
            }
          }
          convertTimestamp(e) {
            let r = iU(e);
            return new rE(r.seconds, r.nanos);
          }
          convertDocumentKey(e, r) {
            let n = rI.fromString(e);
            rr(u_(n));
            let i = new iJ(n.get(1), n.get(3)),
              s = new rR(n.popFirst(5));
            return (
              i.isEqual(r) ||
                t7(
                  `Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`,
                ),
              s
            );
          }
        }
        function yU(e, r, n) {
          return e
            ? n && (n.merge || n.mergeFields)
              ? e.toFirestore(r, n)
              : e.toFirestore(r)
            : r;
        }
        class yj extends yF {
          constructor(e) {
            super(), (this.firestore = e);
          }
          convertBytes(e) {
            return new mH(e);
          }
          convertReference(e) {
            let r = this.convertDocumentKey(e, this.firestore._databaseId);
            return new mD(this.firestore, null, r);
          }
        }
        class yz {
          constructor(e, r) {
            (this.hasPendingWrites = e), (this.fromCache = r);
          }
          isEqual(e) {
            return (
              this.hasPendingWrites === e.hasPendingWrites &&
              this.fromCache === e.fromCache
            );
          }
        }
        class yV extends ym {
          constructor(e, r, n, i, s, a) {
            super(e, r, n, i, a),
              (this._firestore = e),
              (this._firestoreImpl = e),
              (this.metadata = s);
          }
          exists() {
            return super.exists();
          }
          data(e = {}) {
            if (this._document) {
              if (!this._converter)
                return this._userDataWriter.convertValue(
                  this._document.data.value,
                  e.serverTimestamps,
                );
              {
                let r = new yK(
                  this._firestore,
                  this._userDataWriter,
                  this._key,
                  this._document,
                  this.metadata,
                  null,
                );
                return this._converter.fromFirestore(r, e);
              }
            }
          }
          get(e, r = {}) {
            if (this._document) {
              let n = this._document.data.field(yv("DocumentSnapshot.get", e));
              if (null !== n)
                return this._userDataWriter.convertValue(n, r.serverTimestamps);
            }
          }
        }
        class yK extends yV {
          data(e = {}) {
            return super.data(e);
          }
        }
        function yq(e) {
          switch (e) {
            case 0:
              return "added";
            case 2:
            case 3:
              return "modified";
            case 1:
              return "removed";
            default:
              return rt();
          }
        }
        class yH extends yF {
          constructor(e) {
            super(), (this.firestore = e);
          }
          convertBytes(e) {
            return new mH(e);
          }
          convertReference(e) {
            let r = this.convertDocumentKey(e, this.firestore._databaseId);
            return new mD(this.firestore, null, r);
          }
        }
        function y$(e, r) {
          let n = g3(e.firestore, mF),
            i = mO(e),
            s = yU(e.converter, r);
          return yW(n, [
            m3(
              m2(e.firestore),
              "addDoc",
              i._key,
              s,
              null !== e.converter,
              {},
            ).toMutation(i._key, oP.exists(!1)),
          ]).then(() => i);
        }
        function yW(e, r) {
          return mp(mj(e), r);
        }
        class yG {
          constructor(e) {
            (this.forceOwnership = e), (this.kind = "persistentSingleTab");
          }
          toJSON() {
            return { kind: this.kind };
          }
          _initialize(e) {
            (this._onlineComponentProvider = gW.provider),
              (this._offlineComponentProvider = {
                build: (r) =>
                  new g$(
                    r,
                    null == e ? void 0 : e.cacheSizeBytes,
                    this.forceOwnership,
                  ),
              });
          }
        }
        function yQ(e, r) {
          if ((e = ej(e)).firestore === r) return e;
          throw new rs(
            ri.INVALID_ARGUMENT,
            "Provided document reference is from a different Firestore instance.",
          );
        }
        function yY() {
          return new m6("serverTimestamp");
        }
        new WeakMap();
        class yX {
          constructor() {
            this.existenceFilterMismatchCallbacksById = new Map();
          }
          static get instance() {
            return yJ || o7((yJ = new yX())), yJ;
          }
          notifyOnExistenceFilterMismatch(e) {
            this.existenceFilterMismatchCallbacksById.forEach((r) => r(e));
          }
          onExistenceFilterMismatch(e) {
            let r = Symbol(),
              n = this.existenceFilterMismatchCallbacksById;
            return n.set(r, e), () => n.delete(r);
          }
        }
        let yJ = null;
        mK("node");
        let yZ = "firebasestorage.googleapis.com",
          y0 = "storageBucket",
          y1 = 12e4,
          y2 = 6e5,
          y3 = 1e3;
        class y4 extends e_ {
          constructor(e, r, n = 0) {
            super(y5(e), `Firebase Storage: ${r} (${y5(e)})`),
              (this.status_ = n),
              (this.customData = { serverResponse: null }),
              (this._baseMessage = this.message),
              Object.setPrototypeOf(this, y4.prototype);
          }
          get status() {
            return this.status_;
          }
          set status(e) {
            this.status_ = e;
          }
          _codeEquals(e) {
            return y5(e) === this.code;
          }
          get serverResponse() {
            return this.customData.serverResponse;
          }
          set serverResponse(e) {
            (this.customData.serverResponse = e),
              this.customData.serverResponse
                ? (this.message = `${this._baseMessage}
${this.customData.serverResponse}`)
                : (this.message = this._baseMessage);
          }
        }
        function y5(e) {
          return "storage/" + e;
        }
        function y6() {
          let e =
            "An unknown error occurred, please check the error payload for server response.";
          return new y4(v.UNKNOWN, e);
        }
        function y8(e) {
          return new y4(
            v.OBJECT_NOT_FOUND,
            "Object '" + e + "' does not exist.",
          );
        }
        function y7(e) {
          return new y4(
            v.QUOTA_EXCEEDED,
            "Quota for bucket '" +
              e +
              "' exceeded, please view quota on https://firebase.google.com/pricing/.",
          );
        }
        function y9() {
          let e =
            "User is not authenticated, please authenticate using Firebase Authentication and try again.";
          return new y4(v.UNAUTHENTICATED, e);
        }
        function ve() {
          return new y4(
            v.UNAUTHORIZED_APP,
            "This app does not have permission to access Firebase Storage on this project.",
          );
        }
        function vt(e) {
          return new y4(
            v.UNAUTHORIZED,
            "User does not have permission to access '" + e + "'.",
          );
        }
        function vr() {
          return new y4(
            v.RETRY_LIMIT_EXCEEDED,
            "Max retry time for operation exceeded, please try again.",
          );
        }
        function vn() {
          return new y4(v.CANCELED, "User canceled the upload/download.");
        }
        function vi(e) {
          return new y4(v.INVALID_URL, "Invalid URL '" + e + "'.");
        }
        function vs(e) {
          return new y4(
            v.INVALID_DEFAULT_BUCKET,
            "Invalid default bucket '" + e + "'.",
          );
        }
        function va() {
          return new y4(
            v.NO_DEFAULT_BUCKET,
            "No default bucket found. Did you set the '" +
              y0 +
              "' property when initializing the app?",
          );
        }
        function vo() {
          return new y4(
            v.CANNOT_SLICE_BLOB,
            "Cannot slice blob for upload. Please retry the upload.",
          );
        }
        function vl() {
          return new y4(
            v.SERVER_FILE_WRONG_SIZE,
            "Server recorded incorrect upload file size, please retry the upload.",
          );
        }
        function vu() {
          return new y4(
            v.NO_DOWNLOAD_URL,
            "The given file does not have any download URLs.",
          );
        }
        function vc(e) {
          return new y4(v.INVALID_ARGUMENT, e);
        }
        function vd() {
          return new y4(v.APP_DELETED, "The Firebase app was deleted.");
        }
        function vh(e) {
          return new y4(
            v.INVALID_ROOT_OPERATION,
            "The operation '" +
              e +
              "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').",
          );
        }
        function vf(e, r) {
          return new y4(
            v.INVALID_FORMAT,
            "String does not match format '" + e + "': " + r,
          );
        }
        function vp(e) {
          throw new y4(v.INTERNAL_ERROR, "Internal error: " + e);
        }
        !(function (e) {
          (e.UNKNOWN = "unknown"),
            (e.OBJECT_NOT_FOUND = "object-not-found"),
            (e.BUCKET_NOT_FOUND = "bucket-not-found"),
            (e.PROJECT_NOT_FOUND = "project-not-found"),
            (e.QUOTA_EXCEEDED = "quota-exceeded"),
            (e.UNAUTHENTICATED = "unauthenticated"),
            (e.UNAUTHORIZED = "unauthorized"),
            (e.UNAUTHORIZED_APP = "unauthorized-app"),
            (e.RETRY_LIMIT_EXCEEDED = "retry-limit-exceeded"),
            (e.INVALID_CHECKSUM = "invalid-checksum"),
            (e.CANCELED = "canceled"),
            (e.INVALID_EVENT_NAME = "invalid-event-name"),
            (e.INVALID_URL = "invalid-url"),
            (e.INVALID_DEFAULT_BUCKET = "invalid-default-bucket"),
            (e.NO_DEFAULT_BUCKET = "no-default-bucket"),
            (e.CANNOT_SLICE_BLOB = "cannot-slice-blob"),
            (e.SERVER_FILE_WRONG_SIZE = "server-file-wrong-size"),
            (e.NO_DOWNLOAD_URL = "no-download-url"),
            (e.INVALID_ARGUMENT = "invalid-argument"),
            (e.INVALID_ARGUMENT_COUNT = "invalid-argument-count"),
            (e.APP_DELETED = "app-deleted"),
            (e.INVALID_ROOT_OPERATION = "invalid-root-operation"),
            (e.INVALID_FORMAT = "invalid-format"),
            (e.INTERNAL_ERROR = "internal-error"),
            (e.UNSUPPORTED_ENVIRONMENT = "unsupported-environment");
        })(v || (v = {}));
        class vg {
          constructor(e, r) {
            (this.bucket = e), (this.path_ = r);
          }
          get path() {
            return this.path_;
          }
          get isRoot() {
            return 0 === this.path.length;
          }
          fullServerUrl() {
            let e = encodeURIComponent;
            return "/b/" + e(this.bucket) + "/o/" + e(this.path);
          }
          bucketOnlyServerUrl() {
            return "/b/" + encodeURIComponent(this.bucket) + "/o";
          }
          static makeFromBucketSpec(e, r) {
            let n;
            try {
              n = vg.makeFromUrl(e, r);
            } catch (r) {
              return new vg(e, "");
            }
            if ("" === n.path) return n;
            throw vs(e);
          }
          static makeFromUrl(e, r) {
            let n = null,
              i = "([A-Za-z0-9.\\-_]+)";
            function s(e) {
              "/" === e.path.charAt(e.path.length - 1) &&
                (e.path_ = e.path_.slice(0, -1));
            }
            let a = RegExp("^gs://" + i + "(/(.*))?$", "i"),
              o = { bucket: 1, path: 3 };
            function l(e) {
              e.path_ = decodeURIComponent(e.path);
            }
            let u = "v[A-Za-z0-9_]+",
              c = r.replace(/[.]/g, "\\."),
              d = "(/([^?#]*).*)?$",
              h = RegExp(`^https?://${c}/${u}/b/${i}/o${d}`, "i"),
              f =
                r === yZ
                  ? "(?:storage.googleapis.com|storage.cloud.google.com)"
                  : r,
              p = "([^?#]*)",
              g = [
                { regex: a, indices: o, postModify: s },
                { regex: h, indices: { bucket: 1, path: 3 }, postModify: l },
                {
                  regex: RegExp(`^https?://${f}/${i}/${p}`, "i"),
                  indices: { bucket: 1, path: 2 },
                  postModify: l,
                },
              ];
            for (let r = 0; r < g.length; r++) {
              let i = g[r],
                s = i.regex.exec(e);
              if (s) {
                let e = s[i.indices.bucket],
                  r = s[i.indices.path];
                r || (r = ""), (n = new vg(e, r)), i.postModify(n);
                break;
              }
            }
            if (null == n) throw vi(e);
            return n;
          }
        }
        class vm {
          constructor(e) {
            this.promise_ = Promise.reject(e);
          }
          getPromise() {
            return this.promise_;
          }
          cancel(e = !1) {}
        }
        function vy(e, r, n) {
          let i = 1,
            s = null,
            a = null,
            o = !1,
            l = 0;
          function u() {
            return 2 === l;
          }
          let c = !1;
          function d(...e) {
            c || ((c = !0), r.apply(null, e));
          }
          function h(r) {
            s = setTimeout(() => {
              (s = null), e(p, u());
            }, r);
          }
          function f() {
            a && clearTimeout(a);
          }
          function p(e, ...r) {
            let n;
            if (c) {
              f();
              return;
            }
            if (e || u() || o) {
              f(), d.call(null, e, ...r);
              return;
            }
            i < 64 && (i *= 2),
              1 === l ? ((l = 2), (n = 0)) : (n = (i + Math.random()) * 1e3),
              h(n);
          }
          let g = !1;
          function m(e) {
            !g &&
              ((g = !0),
              f(),
              !c &&
                (null !== s
                  ? (e || (l = 2), clearTimeout(s), h(0))
                  : e || (l = 1)));
          }
          return (
            h(0),
            (a = setTimeout(() => {
              (o = !0), m(!0);
            }, n)),
            m
          );
        }
        function vv(e) {
          e(!1);
        }
        function vb(e) {
          return void 0 !== e;
        }
        function vw(e) {
          return "function" == typeof e;
        }
        function vT(e) {
          return "object" == typeof e && !Array.isArray(e);
        }
        function vS(e) {
          return "string" == typeof e || e instanceof String;
        }
        function vE(e) {
          return vC() && e instanceof Blob;
        }
        function vC() {
          return "undefined" != typeof Blob;
        }
        function vx(e, r, n, i) {
          if (i < r)
            throw vc(`Invalid value for '${e}'. Expected ${r} or greater.`);
          if (i > n)
            throw vc(`Invalid value for '${e}'. Expected ${n} or less.`);
        }
        function vA(e, r, n) {
          let i = r;
          return null == n && (i = `https://${r}`), `${n}://${i}/v0${e}`;
        }
        function vI(e) {
          let r = encodeURIComponent,
            n = "?";
          for (let i in e)
            e.hasOwnProperty(i) && (n = n + (r(i) + "=") + r(e[i]) + "&");
          return n.slice(0, -1);
        }
        function vk(e, r) {
          let n = e >= 500 && e < 600,
            i = -1 !== [408, 429].indexOf(e),
            s = -1 !== r.indexOf(e);
          return n || i || s;
        }
        !(function (e) {
          (e[(e.NO_ERROR = 0)] = "NO_ERROR"),
            (e[(e.NETWORK_ERROR = 1)] = "NETWORK_ERROR"),
            (e[(e.ABORT = 2)] = "ABORT");
        })(b || (b = {}));
        class v_ {
          constructor(e, r, n, i, s, a, o, l, u, c, d, h = !0) {
            (this.url_ = e),
              (this.method_ = r),
              (this.headers_ = n),
              (this.body_ = i),
              (this.successCodes_ = s),
              (this.additionalRetryCodes_ = a),
              (this.callback_ = o),
              (this.errorCallback_ = l),
              (this.timeout_ = u),
              (this.progressCallback_ = c),
              (this.connectionFactory_ = d),
              (this.retry = h),
              (this.pendingConnection_ = null),
              (this.backoffId_ = null),
              (this.canceled_ = !1),
              (this.appDelete_ = !1),
              (this.promise_ = new Promise((e, r) => {
                (this.resolve_ = e), (this.reject_ = r), this.start_();
              }));
          }
          start_() {
            let e = (e, r) => {
                if (r) {
                  e(!1, new vR(!1, null, !0));
                  return;
                }
                let n = this.connectionFactory_();
                this.pendingConnection_ = n;
                let i = (e) => {
                  let r = e.loaded,
                    n = e.lengthComputable ? e.total : -1;
                  null !== this.progressCallback_ &&
                    this.progressCallback_(r, n);
                };
                null !== this.progressCallback_ &&
                  n.addUploadProgressListener(i),
                  n
                    .send(this.url_, this.method_, this.body_, this.headers_)
                    .then(() => {
                      null !== this.progressCallback_ &&
                        n.removeUploadProgressListener(i),
                        (this.pendingConnection_ = null);
                      let r = n.getErrorCode() === b.NO_ERROR,
                        s = n.getStatus();
                      if (
                        !r ||
                        (vk(s, this.additionalRetryCodes_) && this.retry)
                      ) {
                        e(!1, new vR(!1, null, n.getErrorCode() === b.ABORT));
                        return;
                      }
                      e(!0, new vR(-1 !== this.successCodes_.indexOf(s), n));
                    });
              },
              r = (e, r) => {
                let n = this.resolve_,
                  i = this.reject_,
                  s = r.connection;
                if (r.wasSuccessCode)
                  try {
                    let e = this.callback_(s, s.getResponse());
                    vb(e) ? n(e) : n();
                  } catch (e) {
                    i(e);
                  }
                else if (null !== s) {
                  let e = y6();
                  (e.serverResponse = s.getErrorText()),
                    i(this.errorCallback_ ? this.errorCallback_(s, e) : e);
                } else i(r.canceled ? (this.appDelete_ ? vd() : vn()) : vr());
              };
            this.canceled_
              ? r(!1, new vR(!1, null, !0))
              : (this.backoffId_ = vy(e, r, this.timeout_));
          }
          getPromise() {
            return this.promise_;
          }
          cancel(e) {
            (this.canceled_ = !0),
              (this.appDelete_ = e || !1),
              null !== this.backoffId_ && vv(this.backoffId_),
              null !== this.pendingConnection_ &&
                this.pendingConnection_.abort();
          }
        }
        class vR {
          constructor(e, r, n) {
            (this.wasSuccessCode = e),
              (this.connection = r),
              (this.canceled = !!n);
          }
        }
        function vD(e, r) {
          null !== r && r.length > 0 && (e.Authorization = "Firebase " + r);
        }
        function vP(e, r) {
          e["X-Firebase-Storage-Version"] =
            "webjs/" + (null != r ? r : "AppManager");
        }
        function vN(e, r) {
          r && (e["X-Firebase-GMPID"] = r);
        }
        function vO(e, r) {
          null !== r && (e["X-Firebase-AppCheck"] = r);
        }
        function vM(e, r, n, i, s, a, o = !0) {
          let l = vI(e.urlParams),
            u = e.url + l,
            c = Object.assign({}, e.headers);
          return (
            vN(c, r),
            vD(c, n),
            vP(c, a),
            vO(c, i),
            new v_(
              u,
              e.method,
              c,
              e.body,
              e.successCodes,
              e.additionalRetryCodes,
              e.handler,
              e.errorHandler,
              e.timeout,
              e.progressCallback,
              s,
              o,
            )
          );
        }
        function vL() {
          return "undefined" != typeof BlobBuilder
            ? BlobBuilder
            : "undefined" != typeof WebKitBlobBuilder
              ? WebKitBlobBuilder
              : void 0;
        }
        function vB(...e) {
          let r = vL();
          if (void 0 !== r) {
            let n = new r();
            for (let r = 0; r < e.length; r++) n.append(e[r]);
            return n.getBlob();
          }
          if (vC()) return new Blob(e);
          throw new y4(
            v.UNSUPPORTED_ENVIRONMENT,
            "This browser doesn't seem to support creating Blobs",
          );
        }
        function vF(e, r, n) {
          return e.webkitSlice
            ? e.webkitSlice(r, n)
            : e.mozSlice
              ? e.mozSlice(r, n)
              : e.slice
                ? e.slice(r, n)
                : null;
        }
        function vU(e) {
          if (/[^-A-Za-z0-9+/=]/.test(e))
            throw vf("base64", "Invalid character found");
          return Buffer.from(e, "base64").toString("binary");
        }
        let vj = {
          RAW: "raw",
          BASE64: "base64",
          BASE64URL: "base64url",
          DATA_URL: "data_url",
        };
        class vz {
          constructor(e, r) {
            (this.data = e), (this.contentType = r || null);
          }
        }
        function vV(e, r) {
          switch (e) {
            case vj.RAW:
              return new vz(vK(r));
            case vj.BASE64:
            case vj.BASE64URL:
              return new vz(vH(e, r));
            case vj.DATA_URL:
              return new vz(vW(r), vG(r));
          }
          throw y6();
        }
        function vK(e) {
          let r = [];
          for (let n = 0; n < e.length; n++) {
            let i = e.charCodeAt(n);
            i <= 127
              ? r.push(i)
              : i <= 2047
                ? r.push(192 | (i >> 6), 128 | (63 & i))
                : (64512 & i) == 55296
                  ? n < e.length - 1 && (64512 & e.charCodeAt(n + 1)) == 56320
                    ? ((i =
                        65536 |
                        ((1023 & i) << 10) |
                        (1023 & e.charCodeAt(++n))),
                      r.push(
                        240 | (i >> 18),
                        128 | ((i >> 12) & 63),
                        128 | ((i >> 6) & 63),
                        128 | (63 & i),
                      ))
                    : r.push(239, 191, 189)
                  : (64512 & i) == 56320
                    ? r.push(239, 191, 189)
                    : r.push(
                        224 | (i >> 12),
                        128 | ((i >> 6) & 63),
                        128 | (63 & i),
                      );
          }
          return new Uint8Array(r);
        }
        function vq(e) {
          let r;
          try {
            r = decodeURIComponent(e);
          } catch (e) {
            throw vf(vj.DATA_URL, "Malformed data URL.");
          }
          return vK(r);
        }
        function vH(e, r) {
          let n;
          switch (e) {
            case vj.BASE64: {
              let n = -1 !== r.indexOf("-"),
                i = -1 !== r.indexOf("_");
              if (n || i)
                throw vf(
                  e,
                  "Invalid character '" +
                    (n ? "-" : "_") +
                    "' found: is it base64url encoded?",
                );
              break;
            }
            case vj.BASE64URL: {
              let n = -1 !== r.indexOf("+"),
                i = -1 !== r.indexOf("/");
              if (n || i)
                throw vf(
                  e,
                  "Invalid character '" +
                    (n ? "+" : "/") +
                    "' found: is it base64 encoded?",
                );
              r = r.replace(/-/g, "+").replace(/_/g, "/");
            }
          }
          try {
            n = vU(r);
          } catch (r) {
            if (r.message.includes("polyfill")) throw r;
            throw vf(e, "Invalid character found");
          }
          let i = new Uint8Array(n.length);
          for (let e = 0; e < n.length; e++) i[e] = n.charCodeAt(e);
          return i;
        }
        class v$ {
          constructor(e) {
            (this.base64 = !1), (this.contentType = null);
            let r = e.match(/^data:([^,]+)?,/);
            if (null === r)
              throw vf(
                vj.DATA_URL,
                "Must be formatted 'data:[<mediatype>][;base64],<data>",
              );
            let n = r[1] || null;
            null != n &&
              ((this.base64 = vQ(n, ";base64")),
              (this.contentType = this.base64
                ? n.substring(0, n.length - 7)
                : n)),
              (this.rest = e.substring(e.indexOf(",") + 1));
          }
        }
        function vW(e) {
          let r = new v$(e);
          return r.base64 ? vH(vj.BASE64, r.rest) : vq(r.rest);
        }
        function vG(e) {
          return new v$(e).contentType;
        }
        function vQ(e, r) {
          return e.length >= r.length && e.substring(e.length - r.length) === r;
        }
        class vY {
          constructor(e, r) {
            let n = 0,
              i = "";
            vE(e)
              ? ((this.data_ = e), (n = e.size), (i = e.type))
              : e instanceof ArrayBuffer
                ? (r
                    ? (this.data_ = new Uint8Array(e))
                    : ((this.data_ = new Uint8Array(e.byteLength)),
                      this.data_.set(new Uint8Array(e))),
                  (n = this.data_.length))
                : e instanceof Uint8Array &&
                  (r
                    ? (this.data_ = e)
                    : ((this.data_ = new Uint8Array(e.length)),
                      this.data_.set(e)),
                  (n = e.length)),
              (this.size_ = n),
              (this.type_ = i);
          }
          size() {
            return this.size_;
          }
          type() {
            return this.type_;
          }
          slice(e, r) {
            if (!vE(this.data_))
              return new vY(new Uint8Array(this.data_.buffer, e, r - e), !0);
            {
              let n = vF(this.data_, e, r);
              return null === n ? null : new vY(n);
            }
          }
          static getBlob(...e) {
            if (vC()) {
              let r = e.map((e) => (e instanceof vY ? e.data_ : e));
              return new vY(vB.apply(null, r));
            }
            {
              let r = e.map((e) => (vS(e) ? vV(vj.RAW, e).data : e.data_)),
                n = 0;
              r.forEach((e) => {
                n += e.byteLength;
              });
              let i = new Uint8Array(n),
                s = 0;
              return (
                r.forEach((e) => {
                  for (let r = 0; r < e.length; r++) i[s++] = e[r];
                }),
                new vY(i, !0)
              );
            }
          }
          uploadData() {
            return this.data_;
          }
        }
        function vX(e) {
          let r;
          try {
            r = JSON.parse(e);
          } catch (e) {
            return null;
          }
          return vT(r) ? r : null;
        }
        function vJ(e) {
          if (0 === e.length) return null;
          let r = e.lastIndexOf("/");
          return -1 === r ? "" : e.slice(0, r);
        }
        function vZ(e, r) {
          let n = r
            .split("/")
            .filter((e) => e.length > 0)
            .join("/");
          return 0 === e.length ? n : e + "/" + n;
        }
        function v0(e) {
          let r = e.lastIndexOf("/", e.length - 2);
          return -1 === r ? e : e.slice(r + 1);
        }
        function v1(e, r) {
          return r;
        }
        class v2 {
          constructor(e, r, n, i) {
            (this.server = e),
              (this.local = r || e),
              (this.writable = !!n),
              (this.xform = i || v1);
          }
        }
        let v3 = null;
        function v4(e) {
          return !vS(e) || e.length < 2 ? e : v0(e);
        }
        function v5() {
          if (v3) return v3;
          let e = [];
          function r(e, r) {
            return v4(r);
          }
          e.push(new v2("bucket")),
            e.push(new v2("generation")),
            e.push(new v2("metageneration")),
            e.push(new v2("name", "fullPath", !0));
          let n = new v2("name");
          function i(e, r) {
            return void 0 !== r ? Number(r) : r;
          }
          (n.xform = r), e.push(n);
          let s = new v2("size");
          return (
            (s.xform = i),
            e.push(s),
            e.push(new v2("timeCreated")),
            e.push(new v2("updated")),
            e.push(new v2("md5Hash", null, !0)),
            e.push(new v2("cacheControl", null, !0)),
            e.push(new v2("contentDisposition", null, !0)),
            e.push(new v2("contentEncoding", null, !0)),
            e.push(new v2("contentLanguage", null, !0)),
            e.push(new v2("contentType", null, !0)),
            e.push(new v2("metadata", "customMetadata", !0)),
            (v3 = e)
          );
        }
        function v6(e, r) {
          function n() {
            let n = new vg(e.bucket, e.fullPath);
            return r._makeStorageReference(n);
          }
          Object.defineProperty(e, "ref", { get: n });
        }
        function v8(e, r, n) {
          let i = {};
          i.type = "file";
          let s = n.length;
          for (let e = 0; e < s; e++) {
            let s = n[e];
            i[s.local] = s.xform(i, r[s.server]);
          }
          return v6(i, e), i;
        }
        function v7(e, r, n) {
          let i = vX(r);
          return null === i ? null : v8(e, i, n);
        }
        function v9(e, r, n, i) {
          let s = vX(r);
          if (null === s || !vS(s.downloadTokens)) return null;
          let a = s.downloadTokens;
          if (0 === a.length) return null;
          let o = encodeURIComponent;
          return a.split(",").map((r) => {
            let s = e.bucket,
              a = e.fullPath;
            return (
              vA("/b/" + o(s) + "/o/" + o(a), n, i) +
              vI({ alt: "media", token: r })
            );
          })[0];
        }
        function be(e, r) {
          let n = {},
            i = r.length;
          for (let s = 0; s < i; s++) {
            let i = r[s];
            i.writable && (n[i.server] = e[i.local]);
          }
          return JSON.stringify(n);
        }
        let bt = "prefixes",
          br = "items";
        function bn(e, r, n) {
          let i = { prefixes: [], items: [], nextPageToken: n.nextPageToken };
          if (n[bt])
            for (let s of n[bt]) {
              let n = s.replace(/\/$/, ""),
                a = e._makeStorageReference(new vg(r, n));
              i.prefixes.push(a);
            }
          if (n[br])
            for (let s of n[br]) {
              let n = e._makeStorageReference(new vg(r, s.name));
              i.items.push(n);
            }
          return i;
        }
        function bi(e, r, n) {
          let i = vX(n);
          return null === i ? null : bn(e, r, i);
        }
        class bs {
          constructor(e, r, n, i) {
            (this.url = e),
              (this.method = r),
              (this.handler = n),
              (this.timeout = i),
              (this.urlParams = {}),
              (this.headers = {}),
              (this.body = null),
              (this.errorHandler = null),
              (this.progressCallback = null),
              (this.successCodes = [200]),
              (this.additionalRetryCodes = []);
          }
        }
        function ba(e) {
          if (!e) throw y6();
        }
        function bo(e, r) {
          return function (n, i) {
            let s = v7(e, i, r);
            return ba(null !== s), s;
          };
        }
        function bl(e, r) {
          return function (n, i) {
            let s = bi(e, r, i);
            return ba(null !== s), s;
          };
        }
        function bu(e, r) {
          return function (n, i) {
            let s = v7(e, i, r);
            return ba(null !== s), v9(s, i, e.host, e._protocol);
          };
        }
        function bc(e) {
          return function (r, n) {
            let i;
            return (
              ((i =
                401 === r.getStatus()
                  ? r
                      .getErrorText()
                      .includes("Firebase App Check token is invalid")
                    ? ve()
                    : y9()
                  : 402 === r.getStatus()
                    ? y7(e.bucket)
                    : 403 === r.getStatus()
                      ? vt(e.path)
                      : n).status = r.getStatus()),
              (i.serverResponse = n.serverResponse),
              i
            );
          };
        }
        function bd(e) {
          let r = bc(e);
          return function (n, i) {
            let s = r(n, i);
            return (
              404 === n.getStatus() && (s = y8(e.path)),
              (s.serverResponse = i.serverResponse),
              s
            );
          };
        }
        function bh(e, r, n) {
          let i = vA(r.fullServerUrl(), e.host, e._protocol),
            s = "GET",
            a = e.maxOperationRetryTime,
            o = new bs(i, s, bo(e, n), a);
          return (o.errorHandler = bd(r)), o;
        }
        function bf(e, r, n, i, s) {
          let a = {};
          r.isRoot ? (a.prefix = "") : (a.prefix = r.path + "/"),
            n && n.length > 0 && (a.delimiter = n),
            i && (a.pageToken = i),
            s && (a.maxResults = s);
          let o = vA(r.bucketOnlyServerUrl(), e.host, e._protocol),
            l = "GET",
            u = e.maxOperationRetryTime,
            c = new bs(o, l, bl(e, r.bucket), u);
          return (c.urlParams = a), (c.errorHandler = bc(r)), c;
        }
        function bp(e, r, n) {
          let i = vA(r.fullServerUrl(), e.host, e._protocol),
            s = "GET",
            a = e.maxOperationRetryTime,
            o = new bs(i, s, bu(e, n), a);
          return (o.errorHandler = bd(r)), o;
        }
        function bg(e, r) {
          return (
            (e && e.contentType) ||
            (r && r.type()) ||
            "application/octet-stream"
          );
        }
        function bm(e, r, n) {
          let i = Object.assign({}, n);
          return (
            (i.fullPath = e.path),
            (i.size = r.size()),
            i.contentType || (i.contentType = bg(null, r)),
            i
          );
        }
        function by(e, r, n, i, s) {
          let a = r.bucketOnlyServerUrl(),
            o = { "X-Goog-Upload-Protocol": "multipart" },
            l = (function () {
              let e = "";
              for (let r = 0; r < 2; r++)
                e += Math.random().toString().slice(2);
              return e;
            })();
          o["Content-Type"] = "multipart/related; boundary=" + l;
          let u = bm(r, i, s),
            c =
              "--" +
              l +
              "\r\nContent-Type: application/json; charset=utf-8\r\n\r\n" +
              be(u, n) +
              "\r\n--" +
              l +
              "\r\nContent-Type: " +
              u.contentType +
              "\r\n\r\n",
            d = "\r\n--" + l + "--",
            h = vY.getBlob(c, i, d);
          if (null === h) throw vo();
          let f = { name: u.fullPath },
            p = vA(a, e.host, e._protocol),
            g = "POST",
            m = e.maxUploadRetryTime,
            y = new bs(p, g, bo(e, n), m);
          return (
            (y.urlParams = f),
            (y.headers = o),
            (y.body = h.uploadData()),
            (y.errorHandler = bc(r)),
            y
          );
        }
        class bv {
          constructor(e, r, n, i) {
            (this.current = e),
              (this.total = r),
              (this.finalized = !!n),
              (this.metadata = i || null);
          }
        }
        function bb(e, r) {
          let n = null;
          try {
            n = e.getResponseHeader("X-Goog-Upload-Status");
          } catch (e) {
            ba(!1);
          }
          let i = r || ["active"];
          return ba(!!n && -1 !== i.indexOf(n)), n;
        }
        function bw(e, r, n, i, s) {
          let a = r.bucketOnlyServerUrl(),
            o = bm(r, i, s),
            l = { name: o.fullPath },
            u = vA(a, e.host, e._protocol),
            c = "POST",
            d = {
              "X-Goog-Upload-Protocol": "resumable",
              "X-Goog-Upload-Command": "start",
              "X-Goog-Upload-Header-Content-Length": `${i.size()}`,
              "X-Goog-Upload-Header-Content-Type": o.contentType,
              "Content-Type": "application/json; charset=utf-8",
            },
            h = be(o, n),
            f = new bs(
              u,
              c,
              function (e) {
                let r;
                bb(e);
                try {
                  r = e.getResponseHeader("X-Goog-Upload-URL");
                } catch (e) {
                  ba(!1);
                }
                return ba(vS(r)), r;
              },
              e.maxUploadRetryTime,
            );
          return (
            (f.urlParams = l),
            (f.headers = d),
            (f.body = h),
            (f.errorHandler = bc(r)),
            f
          );
        }
        function bT(e, r, n, i) {
          let s = { "X-Goog-Upload-Command": "query" },
            a = new bs(
              n,
              "POST",
              function (e) {
                let r = bb(e, ["active", "final"]),
                  n = null;
                try {
                  n = e.getResponseHeader("X-Goog-Upload-Size-Received");
                } catch (e) {
                  ba(!1);
                }
                n || ba(!1);
                let s = Number(n);
                return ba(!isNaN(s)), new bv(s, i.size(), "final" === r);
              },
              e.maxUploadRetryTime,
            );
          return (a.headers = s), (a.errorHandler = bc(r)), a;
        }
        let bS = null;
        function bE(e, r, n, i, s, a, o, l) {
          let u = new bv(0, 0);
          if (
            (o
              ? ((u.current = o.current), (u.total = o.total))
              : ((u.current = 0), (u.total = i.size())),
            i.size() !== u.total)
          )
            throw vl();
          let c = u.total - u.current,
            d = c;
          s > 0 && (d = Math.min(d, s));
          let h = u.current,
            f = h + d,
            p = "",
            g = {
              "X-Goog-Upload-Command": (p =
                0 === d ? "finalize" : c === d ? "upload, finalize" : "upload"),
              "X-Goog-Upload-Offset": `${u.current}`,
            },
            m = i.slice(h, f);
          if (null === m) throw vo();
          let y = new bs(
            n,
            "POST",
            function (e, n) {
              let s;
              let o = bb(e, ["active", "final"]),
                l = u.current + d,
                c = i.size();
              return (
                (s = "final" === o ? bo(r, a)(e, n) : null),
                new bv(l, c, "final" === o, s)
              );
            },
            r.maxUploadRetryTime,
          );
          return (
            (y.headers = g),
            (y.body = m.uploadData()),
            (y.progressCallback = l || null),
            (y.errorHandler = bc(e)),
            y
          );
        }
        let bC = {
          RUNNING: "running",
          PAUSED: "paused",
          SUCCESS: "success",
          CANCELED: "canceled",
          ERROR: "error",
        };
        function bx(e) {
          switch (e) {
            case "running":
            case "pausing":
            case "canceling":
              return bC.RUNNING;
            case "paused":
              return bC.PAUSED;
            case "success":
              return bC.SUCCESS;
            case "canceled":
              return bC.CANCELED;
            default:
              return bC.ERROR;
          }
        }
        class bA {
          constructor(e, r, n) {
            if (vw(e) || null != r || null != n)
              (this.next = e),
                (this.error = null != r ? r : void 0),
                (this.complete = null != n ? n : void 0);
            else {
              let r = e;
              (this.next = r.next),
                (this.error = r.error),
                (this.complete = r.complete);
            }
          }
        }
        function bI(e) {
          return (...r) => {
            Promise.resolve().then(() => e(...r));
          };
        }
        let bk = null;
        class b_ {
          constructor() {
            (this.errorText_ = ""),
              (this.sent_ = !1),
              (this.errorCode_ = b.NO_ERROR);
          }
          async send(e, r, n, i) {
            if (this.sent_) throw vp("cannot .send() more than once");
            this.sent_ = !0;
            try {
              let s = await fetch(e, { method: r, headers: i || {}, body: n });
              (this.headers_ = s.headers),
                (this.statusCode_ = s.status),
                (this.errorCode_ = b.NO_ERROR),
                (this.body_ = await s.arrayBuffer());
            } catch (e) {
              (this.errorText_ = null == e ? void 0 : e.message),
                (this.statusCode_ = 0),
                (this.errorCode_ = b.NETWORK_ERROR);
            }
          }
          getErrorCode() {
            if (void 0 === this.errorCode_)
              throw vp("cannot .getErrorCode() before receiving response");
            return this.errorCode_;
          }
          getStatus() {
            if (void 0 === this.statusCode_)
              throw vp("cannot .getStatus() before receiving response");
            return this.statusCode_;
          }
          getErrorText() {
            return this.errorText_;
          }
          abort() {}
          getResponseHeader(e) {
            if (!this.headers_)
              throw vp("cannot .getResponseHeader() before receiving response");
            return this.headers_.get(e);
          }
          addUploadProgressListener(e) {}
          removeUploadProgressListener(e) {}
        }
        class bR extends b_ {
          getResponse() {
            if (!this.body_)
              throw vp("cannot .getResponse() before receiving response");
            return Buffer.from(this.body_).toString("utf-8");
          }
        }
        function bD() {
          return bk ? bk() : new bR();
        }
        class bP extends null {
          getResponse() {
            if (!this.body_) throw vp("cannot .getResponse() before sending");
            return this.body_;
          }
        }
        class bN extends b_ {
          constructor() {
            super(...arguments), (this.stream_ = null);
          }
          async send(e, r, n, i) {
            if (this.sent_) throw vp("cannot .send() more than once");
            this.sent_ = !0;
            try {
              let s = await fetch(e, { method: r, headers: i || {}, body: n });
              (this.headers_ = s.headers),
                (this.statusCode_ = s.status),
                (this.errorCode_ = b.NO_ERROR),
                (this.stream_ = s.body);
            } catch (e) {
              (this.errorText_ = null == e ? void 0 : e.message),
                (this.statusCode_ = 0),
                (this.errorCode_ = b.NETWORK_ERROR);
            }
          }
          getResponse() {
            if (!this.stream_) throw vp("cannot .getResponse() before sending");
            return this.stream_;
          }
        }
        class bO {
          constructor(e, r) {
            (this._service = e),
              r instanceof vg
                ? (this._location = r)
                : (this._location = vg.makeFromUrl(r, e.host));
          }
          toString() {
            return "gs://" + this._location.bucket + "/" + this._location.path;
          }
          _newRef(e, r) {
            return new bO(e, r);
          }
          get root() {
            let e = new vg(this._location.bucket, "");
            return this._newRef(this._service, e);
          }
          get bucket() {
            return this._location.bucket;
          }
          get fullPath() {
            return this._location.path;
          }
          get name() {
            return v0(this._location.path);
          }
          get storage() {
            return this._service;
          }
          get parent() {
            let e = vJ(this._location.path);
            if (null === e) return null;
            let r = new vg(this._location.bucket, e);
            return new bO(this._service, r);
          }
          _throwIfRoot(e) {
            if ("" === this._location.path) throw vh(e);
          }
        }
        function bM(e, r, n) {
          e._throwIfRoot("uploadBytes");
          let i = by(e.storage, e._location, v5(), new vY(r, !0), n);
          return e.storage
            .makeRequestWithTokens(i, bD)
            .then((r) => ({ metadata: r, ref: e }));
        }
        function bL(e, r) {
          null != r &&
            "number" == typeof r.maxResults &&
            vx("options.maxResults", 1, 1e3, r.maxResults);
          let n = r || {},
            i = bf(e.storage, e._location, "/", n.pageToken, n.maxResults);
          return e.storage.makeRequestWithTokens(i, bD);
        }
        function bB(e) {
          e._throwIfRoot("getDownloadURL");
          let r = bp(e.storage, e._location, v5());
          return e.storage.makeRequestWithTokens(r, bD).then((e) => {
            if (null === e) throw vu();
            return e;
          });
        }
        function bF(e, r) {
          let n = vZ(e._location.path, r),
            i = new vg(e._location.bucket, n);
          return new bO(e.storage, i);
        }
        function bU(e) {
          return /^[A-Za-z]+:\/\//.test(e);
        }
        function bj(e, r) {
          return new bO(e, r);
        }
        function bz(e, r) {
          if (e instanceof bH) {
            let n = e;
            if (null == n._bucket) throw va();
            let i = new bO(n, n._bucket);
            return null != r ? bz(i, r) : i;
          }
          return void 0 !== r ? bF(e, r) : e;
        }
        function bV(e, r) {
          if (!(r && bU(r))) return bz(e, r);
          if (e instanceof bH) return bj(e, r);
          throw vc(
            "To use ref(service, url), the first argument must be a Storage instance.",
          );
        }
        function bK(e, r) {
          let n = null == r ? void 0 : r[y0];
          return null == n ? null : vg.makeFromBucketSpec(n, e);
        }
        function bq(e, r, n, i = {}) {
          (e.host = `${r}:${n}`), (e._protocol = "http");
          let { mockUserToken: s } = i;
          s &&
            (e._overrideAuthToken =
              "string" == typeof s ? s : ew(s, e.app.options.projectId));
        }
        class bH {
          constructor(e, r, n, i, s) {
            (this.app = e),
              (this._authProvider = r),
              (this._appCheckProvider = n),
              (this._url = i),
              (this._firebaseVersion = s),
              (this._bucket = null),
              (this._host = yZ),
              (this._protocol = "https"),
              (this._appId = null),
              (this._deleted = !1),
              (this._maxOperationRetryTime = y1),
              (this._maxUploadRetryTime = y2),
              (this._requests = new Set()),
              null != i
                ? (this._bucket = vg.makeFromBucketSpec(i, this._host))
                : (this._bucket = bK(this._host, this.app.options));
          }
          get host() {
            return this._host;
          }
          set host(e) {
            (this._host = e),
              null != this._url
                ? (this._bucket = vg.makeFromBucketSpec(this._url, e))
                : (this._bucket = bK(e, this.app.options));
          }
          get maxUploadRetryTime() {
            return this._maxUploadRetryTime;
          }
          set maxUploadRetryTime(e) {
            vx("time", 0, Number.POSITIVE_INFINITY, e),
              (this._maxUploadRetryTime = e);
          }
          get maxOperationRetryTime() {
            return this._maxOperationRetryTime;
          }
          set maxOperationRetryTime(e) {
            vx("time", 0, Number.POSITIVE_INFINITY, e),
              (this._maxOperationRetryTime = e);
          }
          async _getAuthToken() {
            if (this._overrideAuthToken) return this._overrideAuthToken;
            let e = this._authProvider.getImmediate({ optional: !0 });
            if (e) {
              let r = await e.getToken();
              if (null !== r) return r.accessToken;
            }
            return null;
          }
          async _getAppCheckToken() {
            if (tC(this.app) && this.app.settings.appCheckToken)
              return this.app.settings.appCheckToken;
            let e = this._appCheckProvider.getImmediate({ optional: !0 });
            return e ? (await e.getToken()).token : null;
          }
          _delete() {
            return (
              this._deleted ||
                ((this._deleted = !0),
                this._requests.forEach((e) => e.cancel()),
                this._requests.clear()),
              Promise.resolve()
            );
          }
          _makeStorageReference(e) {
            return new bO(this, e);
          }
          _makeRequest(e, r, n, i, s = !0) {
            if (this._deleted) return new vm(vd());
            {
              let a = vM(e, this._appId, n, i, r, this._firebaseVersion, s);
              return (
                this._requests.add(a),
                a.getPromise().then(
                  () => this._requests.delete(a),
                  () => this._requests.delete(a),
                ),
                a
              );
            }
          }
          async makeRequestWithTokens(e, r) {
            let [n, i] = await Promise.all([
              this._getAuthToken(),
              this._getAppCheckToken(),
            ]);
            return this._makeRequest(e, r, n, i).getPromise();
          }
        }
        let b$ = "@firebase/storage",
          bW = "0.13.6",
          bG = "storage";
        function bQ(e, r, n) {
          return bM((e = ej(e)), r, n);
        }
        function bY(e) {
          return bB((e = ej(e)));
        }
        function bX(e, r) {
          return bV((e = ej(e)), r);
        }
        function bJ(e = t_(), r) {
          let n = tE((e = ej(e)), bG).getImmediate({ identifier: r }),
            i = ey("storage");
          return i && bZ(n, ...i), n;
        }
        function bZ(e, r, n, i = {}) {
          bq(e, r, n, i);
        }
        function b0(e, { instanceIdentifier: r }) {
          return new bH(
            e.getProvider("app").getImmediate(),
            e.getProvider("auth-internal"),
            e.getProvider("app-check-internal"),
            r,
            tI,
          );
        }
        function b1(e = {}) {
          let {
              strict: r = !0,
              errorMessage:
                n = "useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",
              name: i,
            } = e,
            s = T.createContext(void 0);
          function a() {
            var e;
            let i = T.useContext(s);
            if (!i && r) {
              let r = Error(n);
              throw (
                ((r.name = "ContextError"),
                null == (e = Error.captureStackTrace) || e.call(Error, r, a),
                r)
              );
            }
            return i;
          }
          return (s.displayName = i), [s.Provider, a, s];
        }
        (function () {
          tS(new ez(bG, b0, "PUBLIC").setMultipleInstances(!0)), tR(b$, bW);
        })();
        var [b2, b3] = b1({
            name: "DropdownContext",
            errorMessage:
              "useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`",
          }),
          [b4, b5] = b1({ name: "ProviderContext", strict: !1 }),
          b6 = n(20009);
        function b8(e) {
          let [r, n] = (0, b6.P)(e.isOpen, e.defaultOpen || !1, e.onOpenChange),
            i = (0, T.useCallback)(() => {
              n(!0);
            }, [n]),
            s = (0, T.useCallback)(() => {
              n(!1);
            }, [n]),
            a = (0, T.useCallback)(() => {
              n(!r);
            }, [n, r]);
          return { isOpen: r, setOpen: n, open: i, close: s, toggle: a };
        }
        function b7(e) {
          let r = b8(e),
            [n, i] = (0, T.useState)(null),
            [s, a] = (0, T.useState)([]),
            o = () => {
              a([]), r.close();
            },
            l = (e, r) => {
              a((n) => (r > n.length ? n : [...n.slice(0, r), e]));
            },
            u = (e, r) => {
              a((n) => (n[r] === e ? n.slice(0, r) : n));
            };
          return {
            focusStrategy: n,
            ...r,
            open(e = null) {
              i(e), r.open();
            },
            toggle(e = null) {
              i(e), r.toggle();
            },
            close() {
              o();
            },
            expandedKeysStack: s,
            openSubmenu: l,
            closeSubmenu: u,
          };
        }
        var b9 = {},
          we = {},
          wt = {},
          wr = {},
          wn = {},
          wi = {},
          ws = {},
          wa = {},
          wo = {},
          wl = {},
          wu = {},
          wc = {},
          wd = {},
          wh = {},
          wf = {},
          wp = {},
          wg = {},
          wm = {},
          wy = {},
          wv = {},
          wb = {},
          ww = {},
          wT = {},
          wS = {},
          wE = {},
          wC = {},
          wx = {},
          wA = {},
          wI = {},
          wk = {},
          w_ = {},
          wR = {},
          wD = {},
          wP = {},
          wN = {};
        wN = {
          "ar-AE": (b9 = {
            longPressMessage: `\u{627}\u{636}\u{63A}\u{637} \u{645}\u{637}\u{648}\u{644}\u{627}\u{64B} \u{623}\u{648} \u{627}\u{636}\u{63A}\u{637} \u{639}\u{644}\u{649} Alt + \u{627}\u{644}\u{633}\u{647}\u{645} \u{644}\u{623}\u{633}\u{641}\u{644} \u{644}\u{641}\u{62A}\u{62D} \u{627}\u{644}\u{642}\u{627}\u{626}\u{645}\u{629}`,
          }),
          "bg-BG": (we = {
            longPressMessage: `\u{41D}\u{430}\u{442}\u{438}\u{441}\u{43D}\u{435}\u{442}\u{435} \u{43F}\u{440}\u{43E}\u{434}\u{44A}\u{43B}\u{436}\u{438}\u{442}\u{435}\u{43B}\u{43D}\u{43E} \u{438}\u{43B}\u{438} \u{43D}\u{430}\u{442}\u{438}\u{441}\u{43D}\u{435}\u{442}\u{435} Alt+ \u{441}\u{442}\u{440}\u{435}\u{43B}\u{43A}\u{430} \u{43D}\u{430}\u{434}\u{43E}\u{43B}\u{443}, \u{437}\u{430} \u{434}\u{430} \u{43E}\u{442}\u{432}\u{43E}\u{440}\u{438}\u{442}\u{435} \u{43C}\u{435}\u{43D}\u{44E}\u{442}\u{43E}`,
          }),
          "cs-CZ": (wt = {
            longPressMessage: `Dlouh\xfdm stiskem nebo stisknut\xedm kl\xe1ves Alt + \u{161}ipka dol\u{16F} otev\u{159}ete nab\xeddku`,
          }),
          "da-DK": (wr = {
            longPressMessage: `Langt tryk eller tryk p\xe5 Alt + pil ned for at \xe5bne menuen`,
          }),
          "de-DE": (wn = {
            longPressMessage: `Dr\xfccken Sie lange oder dr\xfccken Sie Alt + Nach-unten, um das Men\xfc zu \xf6ffnen`,
          }),
          "el-GR": (wi = {
            longPressMessage: `\u{3A0}\u{3B9}\u{3AD}\u{3C3}\u{3C4}\u{3B5} \u{3C0}\u{3B1}\u{3C1}\u{3B1}\u{3C4}\u{3B5}\u{3C4}\u{3B1}\u{3BC}\u{3AD}\u{3BD}\u{3B1} \u{3AE} \u{3C0}\u{3B1}\u{3C4}\u{3AE}\u{3C3}\u{3C4}\u{3B5} Alt + \u{3BA}\u{3AC}\u{3C4}\u{3C9} \u{3B2}\u{3AD}\u{3BB}\u{3BF}\u{3C2} \u{3B3}\u{3B9}\u{3B1} \u{3BD}\u{3B1} \u{3B1}\u{3BD}\u{3BF}\u{3AF}\u{3BE}\u{3B5}\u{3C4}\u{3B5} \u{3C4}\u{3BF} \u{3BC}\u{3B5}\u{3BD}\u{3BF}\u{3CD}`,
          }),
          "en-US": (ws = {
            longPressMessage:
              "Long press or press Alt + ArrowDown to open menu",
          }),
          "es-ES": (wa = {
            longPressMessage: `Mantenga pulsado o pulse Alt + flecha abajo para abrir el men\xfa`,
          }),
          "et-EE": (wo = {
            longPressMessage: `Men\xfc\xfc avamiseks vajutage pikalt v\xf5i vajutage klahve Alt + allanool`,
          }),
          "fi-FI": (wl = {
            longPressMessage: `Avaa valikko painamalla pohjassa tai n\xe4pp\xe4inyhdistelm\xe4ll\xe4 Alt + Alanuoli`,
          }),
          "fr-FR": (wu = {
            longPressMessage: `Appuyez de mani\xe8re prolong\xe9e ou appuyez sur Alt\xa0+\xa0Fl\xe8che vers le bas pour ouvrir le menu.`,
          }),
          "he-IL": (wc = {
            longPressMessage: `\u{5DC}\u{5D7}\u{5E5} \u{5DC}\u{5D7}\u{5D9}\u{5E6}\u{5D4} \u{5D0}\u{5E8}\u{5D5}\u{5DB}\u{5D4} \u{5D0}\u{5D5} \u{5D4}\u{5E7}\u{5E9} Alt + ArrowDown \u{5DB}\u{5D3}\u{5D9} \u{5DC}\u{5E4}\u{5EA}\u{5D5}\u{5D7} \u{5D0}\u{5EA} \u{5D4}\u{5EA}\u{5E4}\u{5E8}\u{5D9}\u{5D8}`,
          }),
          "hr-HR": (wd = {
            longPressMessage:
              "Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika",
          }),
          "hu-HU": (wh = {
            longPressMessage: `Nyomja meg hosszan, vagy nyomja meg az Alt + lefele ny\xedl gombot a men\xfc megnyit\xe1s\xe1hoz`,
          }),
          "it-IT": (wf = {
            longPressMessage: `Premere a lungo o premere Alt + Freccia gi\xf9 per aprire il menu`,
          }),
          "ja-JP": (wp = {
            longPressMessage: `\u{9577}\u{62BC}\u{3057}\u{307E}\u{305F}\u{306F} Alt+\u{4E0B}\u{77E2}\u{5370}\u{30AD}\u{30FC}\u{3067}\u{30E1}\u{30CB}\u{30E5}\u{30FC}\u{3092}\u{958B}\u{304F}`,
          }),
          "ko-KR": (wg = {
            longPressMessage: `\u{AE38}\u{AC8C} \u{B204}\u{B974}\u{AC70}\u{B098} Alt + \u{C544}\u{B798}\u{CABD} \u{D654}\u{C0B4}\u{D45C}\u{B97C} \u{B20C}\u{B7EC} \u{BA54}\u{B274} \u{C5F4}\u{AE30}`,
          }),
          "lt-LT": (wm = {
            longPressMessage: `Nor\u{117}dami atidaryti meniu, nuspaud\u{119} palaikykite arba paspauskite \u{201E}Alt + ArrowDown\u{201C}.`,
          }),
          "lv-LV": (wy = {
            longPressMessage: `Lai atv\u{113}rtu izv\u{113}lni, turiet nospiestu vai nospiediet tausti\u{146}u kombin\u{101}ciju Alt + lejupv\u{113}rst\u{101} bulti\u{146}a`,
          }),
          "nb-NO": (wv = {
            longPressMessage: `Langt trykk eller trykk Alt + PilNed for \xe5 \xe5pne menyen`,
          }),
          "nl-NL": (wb = {
            longPressMessage:
              "Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen",
          }),
          "pl-PL": (ww = {
            longPressMessage: `Naci\u{15B}nij i przytrzymaj lub naci\u{15B}nij klawisze Alt + Strza\u{142}ka w d\xf3\u{142}, aby otworzy\u{107} menu`,
          }),
          "pt-BR": (wT = {
            longPressMessage:
              "Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu",
          }),
          "pt-PT": (wS = {
            longPressMessage:
              "Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu",
          }),
          "ro-RO": (wE = {
            longPressMessage: `Ap\u{103}sa\u{21B}i lung sau ap\u{103}sa\u{21B}i pe Alt + s\u{103}geat\u{103} \xeen jos pentru a deschide meniul`,
          }),
          "ru-RU": (wC = {
            longPressMessage: `\u{41D}\u{430}\u{436}\u{43C}\u{438}\u{442}\u{435} \u{438} \u{443}\u{434}\u{435}\u{440}\u{436}\u{438}\u{432}\u{430}\u{439}\u{442}\u{435} \u{438}\u{43B}\u{438} \u{43D}\u{430}\u{436}\u{43C}\u{438}\u{442}\u{435} Alt + \u{421}\u{442}\u{440}\u{435}\u{43B}\u{43A}\u{430} \u{432}\u{43D}\u{438}\u{437}, \u{447}\u{442}\u{43E}\u{431}\u{44B} \u{43E}\u{442}\u{43A}\u{440}\u{44B}\u{442}\u{44C} \u{43C}\u{435}\u{43D}\u{44E}`,
          }),
          "sk-SK": (wx = {
            longPressMessage: `Ponuku otvor\xedte dlh\xfdm stla\u{10D}en\xedm alebo stla\u{10D}en\xedm kl\xe1vesu Alt + kl\xe1vesu so \u{161}\xedpkou nadol`,
          }),
          "sl-SI": (wA = {
            longPressMessage: `Za odprtje menija pritisnite in dr\u{17E}ite gumb ali pritisnite Alt+pu\u{161}\u{10D}ica navzdol`,
          }),
          "sr-SP": (wI = {
            longPressMessage:
              "Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni",
          }),
          "sv-SE": (wk = {
            longPressMessage: `H\xe5ll nedtryckt eller tryck p\xe5 Alt + pil ned\xe5t f\xf6r att \xf6ppna menyn`,
          }),
          "tr-TR": (w_ = {
            longPressMessage: `Men\xfcy\xfc a\xe7mak i\xe7in uzun bas\u{131}n veya Alt + A\u{15F}a\u{11F}\u{131} Ok tu\u{15F}una bas\u{131}n`,
          }),
          "uk-UA": (wR = {
            longPressMessage: `\u{414}\u{43E}\u{432}\u{433}\u{43E} \u{430}\u{431}\u{43E} \u{437}\u{432}\u{438}\u{447}\u{430}\u{439}\u{43D}\u{43E} \u{43D}\u{430}\u{442}\u{438}\u{441}\u{43D}\u{456}\u{442}\u{44C} \u{43A}\u{43E}\u{43C}\u{431}\u{456}\u{43D}\u{430}\u{446}\u{456}\u{44E} \u{43A}\u{43B}\u{430}\u{432}\u{456}\u{448} Alt \u{456} \u{441}\u{442}\u{440}\u{456}\u{43B}\u{43A}\u{430} \u{432}\u{43D}\u{438}\u{437}, \u{449}\u{43E}\u{431} \u{432}\u{456}\u{434}\u{43A}\u{440}\u{438}\u{442}\u{438} \u{43C}\u{435}\u{43D}\u{44E}`,
          }),
          "zh-CN": (wD = {
            longPressMessage: `\u{957F}\u{6309}\u{6216}\u{6309} Alt + \u{5411}\u{4E0B}\u{65B9}\u{5411}\u{952E}\u{4EE5}\u{6253}\u{5F00}\u{83DC}\u{5355}`,
          }),
          "zh-TW": (wP = {
            longPressMessage: `\u{9577}\u{6309}\u{6216}\u{6309} Alt+\u{5411}\u{4E0B}\u{9375}\u{4EE5}\u{958B}\u{555F}\u{529F}\u{80FD}\u{8868}`,
          }),
        };
        let wO = "undefined" != typeof document ? T.useLayoutEffect : () => {};
        function wM(e) {
          let r = (0, T.useRef)(null);
          return (
            wO(() => {
              r.current = e;
            }, [e]),
            (0, T.useCallback)((...e) => {
              let n = r.current;
              return null == n ? void 0 : n(...e);
            }, [])
          );
        }
        function wL(e) {
          let [r, n] = (0, T.useState)(e),
            i = (0, T.useRef)(null),
            s = wM(() => {
              if (!i.current) return;
              let e = i.current.next();
              if (e.done) {
                i.current = null;
                return;
              }
              r === e.value ? s() : n(e.value);
            });
          wO(() => {
            i.current && s();
          });
          let a = wM((e) => {
            (i.current = e(r)), s();
          });
          return [r, a];
        }
        var wB = n(64990);
        let wF = !!(
            "undefined" != typeof window &&
            window.document &&
            window.document.createElement
          ),
          wU = new Map();
        function wj(e) {
          let [r, n] = (0, T.useState)(e),
            i = (0, T.useRef)(null),
            s = (0, wB.Cc)(r),
            a = (0, T.useCallback)((e) => {
              i.current = e;
            }, []);
          return (
            wF &&
              (wU.has(s) && !wU.get(s).includes(a)
                ? wU.set(s, [...wU.get(s), a])
                : wU.set(s, [a])),
            wO(() => {
              let e = s;
              return () => {
                wU.delete(e);
              };
            }, [s]),
            (0, T.useEffect)(() => {
              let e = i.current;
              e && ((i.current = null), n(e));
            }),
            s
          );
        }
        function wz(e, r) {
          if (e === r) return e;
          let n = wU.get(e);
          if (n) return n.forEach((e) => e(r)), r;
          let i = wU.get(r);
          return i ? (i.forEach((r) => r(e)), e) : r;
        }
        function wV(e = []) {
          let r = wj(),
            [n, i] = wL(r),
            s = (0, T.useCallback)(() => {
              i(function* () {
                yield r, yield document.getElementById(r) ? r : void 0;
              });
            }, [r, i]);
          return wO(s, [r, s, ...e]), n;
        }
        let wK = new Set([
            "Arab",
            "Syrc",
            "Samr",
            "Mand",
            "Thaa",
            "Mend",
            "Nkoo",
            "Adlm",
            "Rohg",
            "Hebr",
          ]),
          wq = new Set([
            "ae",
            "ar",
            "arc",
            "bcc",
            "bqi",
            "ckb",
            "dv",
            "fa",
            "glk",
            "he",
            "ku",
            "mzn",
            "nqo",
            "pnb",
            "ps",
            "sd",
            "ug",
            "ur",
            "yi",
          ]);
        function wH(e) {
          if (Intl.Locale) {
            let r = new Intl.Locale(e).maximize(),
              n =
                "function" == typeof r.getTextInfo
                  ? r.getTextInfo()
                  : r.textInfo;
            if (n) return "rtl" === n.direction;
            if (r.script) return wK.has(r.script);
          }
          let r = e.split("-")[0];
          return wq.has(r);
        }
        let w$ = Symbol.for("react-aria.i18n.locale");
        function wW() {
          let e =
            ("undefined" != typeof window && window[w$]) ||
            ("undefined" != typeof navigator &&
              (navigator.language || navigator.userLanguage)) ||
            "en-US";
          try {
            Intl.DateTimeFormat.supportedLocalesOf([e]);
          } catch {
            e = "en-US";
          }
          return { locale: e, direction: wH(e) ? "rtl" : "ltr" };
        }
        let wG = wW(),
          wQ = new Set();
        function wY() {
          for (let e of ((wG = wW()), wQ)) e(wG);
        }
        function wX() {
          let e = (0, wB.wR)(),
            [r, n] = (0, T.useState)(wG);
          return ((0, T.useEffect)(
            () => (
              0 === wQ.size && window.addEventListener("languagechange", wY),
              wQ.add(n),
              () => {
                wQ.delete(n),
                  0 === wQ.size &&
                    window.removeEventListener("languagechange", wY);
              }
            ),
            [],
          ),
          e)
            ? { locale: "en-US", direction: "ltr" }
            : r;
        }
        let wJ = T.createContext(null);
        function wZ() {
          let e = wX();
          return (0, T.useContext)(wJ) || e;
        }
        let w0 = Symbol.for("react-aria.i18n.locale"),
          w1 = Symbol.for("react-aria.i18n.strings");
        class w2 {
          getStringForLocale(e, r) {
            let n = this.getStringsForLocale(r)[e];
            if (!n)
              throw Error(`Could not find intl message ${e} in ${r} locale`);
            return n;
          }
          getStringsForLocale(e) {
            let r = this.strings[e];
            return (
              r ||
                ((r = w3(e, this.strings, this.defaultLocale)),
                (this.strings[e] = r)),
              r
            );
          }
          static getGlobalDictionaryForPackage(e) {
            if ("undefined" == typeof window) return null;
            let r = window[w0];
            if (void 0 === h) {
              let e = window[w1];
              if (!e) return null;
              for (let n in ((h = {}), e)) h[n] = new w2({ [r]: e[n] }, r);
            }
            let n = null == h ? void 0 : h[e];
            if (!n)
              throw Error(
                `Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`,
              );
            return n;
          }
          constructor(e, r = "en-US") {
            (this.strings = Object.fromEntries(
              Object.entries(e).filter(([, e]) => e),
            )),
              (this.defaultLocale = r);
          }
        }
        function w3(e, r, n = "en-US") {
          if (r[e]) return r[e];
          let i = w4(e);
          if (r[i]) return r[i];
          for (let e in r) if (e.startsWith(i + "-")) return r[e];
          return r[n];
        }
        function w4(e) {
          return Intl.Locale ? new Intl.Locale(e).language : e.split("-")[0];
        }
        let w5 = new Map(),
          w6 = new Map();
        class w8 {
          format(e, r) {
            let n = this.strings.getStringForLocale(e, this.locale);
            return "function" == typeof n ? n(r, this) : n;
          }
          plural(e, r, n = "cardinal") {
            let i = r["=" + e];
            if (i) return "function" == typeof i ? i() : i;
            let s = this.locale + ":" + n,
              a = w5.get(s);
            return (
              a ||
                ((a = new Intl.PluralRules(this.locale, { type: n })),
                w5.set(s, a)),
              "function" == typeof (i = r[a.select(e)] || r.other) ? i() : i
            );
          }
          number(e) {
            let r = w6.get(this.locale);
            return (
              r ||
                ((r = new Intl.NumberFormat(this.locale)),
                w6.set(this.locale, r)),
              r.format(e)
            );
          }
          select(e, r) {
            let n = e[r] || e.other;
            return "function" == typeof n ? n() : n;
          }
          constructor(e, r) {
            (this.locale = e), (this.strings = r);
          }
        }
        let w7 = new WeakMap();
        function w9(e) {
          let r = w7.get(e);
          return r || ((r = new w2(e)), w7.set(e, r)), r;
        }
        function Te(e, r) {
          return (r && w2.getGlobalDictionaryForPackage(r)) || w9(e);
        }
        function Tt(e, r) {
          let { locale: n } = wZ(),
            i = Te(e, r);
          return (0, T.useMemo)(() => new w8(n, i), [n, i]);
        }
        function Tr(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            ((null === (r = window.navigator.userAgentData) || void 0 === r
              ? void 0
              : r.brands.some((r) => e.test(r.brand))) ||
              e.test(window.navigator.userAgent))
          );
        }
        function Tn(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            e.test(
              (null === (r = window.navigator.userAgentData) || void 0 === r
                ? void 0
                : r.platform) || window.navigator.platform,
            )
          );
        }
        function Ti(e) {
          let r = null;
          return () => (null == r && (r = e()), r);
        }
        let Ts = Ti(function () {
            return Tn(/^Mac/i);
          }),
          Ta = Ti(function () {
            return Tn(/^iPhone/i);
          }),
          To = Ti(function () {
            return Tn(/^iPad/i) || (Ts() && navigator.maxTouchPoints > 1);
          }),
          Tl = Ti(function () {
            return Ta() || To();
          });
        Ti(function () {
          return Ts() || Tl();
        });
        let Tu = Ti(function () {
            return Tr(/AppleWebKit/i) && !Tc();
          }),
          Tc = Ti(function () {
            return Tr(/Chrome/i);
          }),
          Td = Ti(function () {
            return Tr(/Android/i);
          }),
          Th = Ti(function () {
            return Tr(/Firefox/i);
          }),
          Tf = (e) => {
            var r;
            return null !== (r = null == e ? void 0 : e.ownerDocument) &&
              void 0 !== r
              ? r
              : document;
          },
          Tp = (e) =>
            e && "window" in e && e.window === e
              ? e
              : Tf(e).defaultView || window,
          Tg = new Map(),
          Tm = new Set();
        function Ty() {
          if ("undefined" == typeof window) return;
          function e(e) {
            return "propertyName" in e;
          }
          let r = (r) => {
              if (!e(r) || !r.target) return;
              let i = Tg.get(r.target);
              i ||
                ((i = new Set()),
                Tg.set(r.target, i),
                r.target.addEventListener("transitioncancel", n, { once: !0 })),
                i.add(r.propertyName);
            },
            n = (r) => {
              if (!e(r) || !r.target) return;
              let i = Tg.get(r.target);
              if (
                i &&
                (i.delete(r.propertyName),
                0 === i.size &&
                  (r.target.removeEventListener("transitioncancel", n),
                  Tg.delete(r.target)),
                0 === Tg.size)
              ) {
                for (let e of Tm) e();
                Tm.clear();
              }
            };
          document.body.addEventListener("transitionrun", r),
            document.body.addEventListener("transitionend", n);
        }
        function Tv(e) {
          requestAnimationFrame(() => {
            0 === Tg.size ? e() : Tm.add(e);
          });
        }
        "undefined" != typeof document &&
          ("loading" !== document.readyState
            ? Ty()
            : document.addEventListener("DOMContentLoaded", Ty));
        let Tb = "default",
          Tw = "",
          TT = new WeakMap();
        function TS(e) {
          if (Tl()) {
            if ("default" === Tb) {
              let r = Tf(e);
              (Tw = r.documentElement.style.webkitUserSelect),
                (r.documentElement.style.webkitUserSelect = "none");
            }
            Tb = "disabled";
          } else
            (e instanceof HTMLElement || e instanceof SVGElement) &&
              (TT.set(e, e.style.userSelect), (e.style.userSelect = "none"));
        }
        function TE(e) {
          if (Tl())
            "disabled" === Tb &&
              ((Tb = "restoring"),
              setTimeout(() => {
                Tv(() => {
                  if ("restoring" === Tb) {
                    let r = Tf(e);
                    "none" === r.documentElement.style.webkitUserSelect &&
                      (r.documentElement.style.webkitUserSelect = Tw || ""),
                      (Tw = ""),
                      (Tb = "default");
                  }
                });
              }, 300));
          else if (
            (e instanceof HTMLElement || e instanceof SVGElement) &&
            e &&
            TT.has(e)
          ) {
            let r = TT.get(e);
            "none" === e.style.userSelect && (e.style.userSelect = r),
              "" === e.getAttribute("style") && e.removeAttribute("style"),
              TT.delete(e);
          }
        }
        let TC = T.createContext({ register: () => {} });
        TC.displayName = "PressResponderContext";
        var Tx = n(37213),
          TA = n(36508),
          TI = n(30427);
        function Tk(...e) {
          return (...r) => {
            for (let n of e) "function" == typeof n && n(...r);
          };
        }
        var T_ = n(82281);
        function TR(...e) {
          let r = { ...e[0] };
          for (let n = 1; n < e.length; n++) {
            let i = e[n];
            for (let e in i) {
              let n = r[e],
                s = i[e];
              "function" == typeof n &&
              "function" == typeof s &&
              "o" === e[0] &&
              "n" === e[1] &&
              e.charCodeAt(2) >= 65 &&
              90 >= e.charCodeAt(2)
                ? (r[e] = Tk(n, s))
                : ("className" === e || "UNSAFE_className" === e) &&
                    "string" == typeof n &&
                    "string" == typeof s
                  ? (r[e] = (0, T_.A)(n, s))
                  : "id" === e && n && s
                    ? (r.id = wz(n, s))
                    : (r[e] = void 0 !== s ? s : n);
            }
          }
          return r;
        }
        function TD(e, r) {
          wO(() => {
            if (e && e.ref && r)
              return (
                (e.ref.current = r.current),
                () => {
                  e.ref && (e.ref.current = null);
                }
              );
          });
        }
        function TP() {
          let e = (0, T.useRef)(new Map()),
            r = (0, T.useCallback)((r, n, i, s) => {
              let a = (null == s ? void 0 : s.once)
                ? (...r) => {
                    e.current.delete(i), i(...r);
                  }
                : i;
              e.current.set(i, { type: n, eventTarget: r, fn: a, options: s }),
                r.addEventListener(n, a, s);
            }, []),
            n = (0, T.useCallback)((r, n, i, s) => {
              var a;
              let o =
                (null === (a = e.current.get(i)) || void 0 === a
                  ? void 0
                  : a.fn) || i;
              r.removeEventListener(n, o, s), e.current.delete(i);
            }, []),
            i = (0, T.useCallback)(() => {
              e.current.forEach((e, r) => {
                n(e.eventTarget, e.type, r, e.options);
              });
            }, [n]);
          return (
            (0, T.useEffect)(() => i, [i]),
            {
              addGlobalListener: r,
              removeGlobalListener: n,
              removeAllGlobalListeners: i,
            }
          );
        }
        function TN(e) {
          if (TM()) e.focus({ preventScroll: !0 });
          else {
            let r = TL(e);
            e.focus(), TB(r);
          }
        }
        let TO = null;
        function TM() {
          if (null == TO) {
            TO = !1;
            try {
              document.createElement("div").focus({
                get preventScroll() {
                  return (TO = !0), !0;
                },
              });
            } catch {}
          }
          return TO;
        }
        function TL(e) {
          let r = e.parentNode,
            n = [],
            i = document.scrollingElement || document.documentElement;
          for (; r instanceof HTMLElement && r !== i; )
            (r.offsetHeight < r.scrollHeight ||
              r.offsetWidth < r.scrollWidth) &&
              n.push({
                element: r,
                scrollTop: r.scrollTop,
                scrollLeft: r.scrollLeft,
              }),
              (r = r.parentNode);
          return (
            i instanceof HTMLElement &&
              n.push({
                element: i,
                scrollTop: i.scrollTop,
                scrollLeft: i.scrollLeft,
              }),
            n
          );
        }
        function TB(e) {
          for (let { element: r, scrollTop: n, scrollLeft: i } of e)
            (r.scrollTop = n), (r.scrollLeft = i);
        }
        let TF = (0, T.createContext)({
          isNative: !0,
          open: TV,
          useHref: (e) => e,
        });
        function TU() {
          return (0, T.useContext)(TF);
        }
        function Tj(e, r, n = !0) {
          var i, s;
          let { metaKey: a, ctrlKey: o, altKey: l, shiftKey: u } = r;
          Th() &&
            (null === (s = window.event) || void 0 === s
              ? void 0
              : null === (i = s.type) || void 0 === i
                ? void 0
                : i.startsWith("key")) &&
            "_blank" === e.target &&
            (Ts() ? (a = !0) : (o = !0));
          let c =
            Tu() && Ts() && !To()
              ? new KeyboardEvent("keydown", {
                  keyIdentifier: "Enter",
                  metaKey: a,
                  ctrlKey: o,
                  altKey: l,
                  shiftKey: u,
                })
              : new MouseEvent("click", {
                  metaKey: a,
                  ctrlKey: o,
                  altKey: l,
                  shiftKey: u,
                  bubbles: !0,
                  cancelable: !0,
                });
          (Tj.isOpening = n), TN(e), e.dispatchEvent(c), (Tj.isOpening = !1);
        }
        function Tz(e, r) {
          if (e instanceof HTMLAnchorElement) r(e);
          else if (e.hasAttribute("data-href")) {
            let n = document.createElement("a");
            (n.href = e.getAttribute("data-href")),
              e.hasAttribute("data-target") &&
                (n.target = e.getAttribute("data-target")),
              e.hasAttribute("data-rel") &&
                (n.rel = e.getAttribute("data-rel")),
              e.hasAttribute("data-download") &&
                (n.download = e.getAttribute("data-download")),
              e.hasAttribute("data-ping") &&
                (n.ping = e.getAttribute("data-ping")),
              e.hasAttribute("data-referrer-policy") &&
                (n.referrerPolicy = e.getAttribute("data-referrer-policy")),
              e.appendChild(n),
              r(n),
              e.removeChild(n);
          }
        }
        function TV(e, r) {
          Tz(e, (e) => Tj(e, r));
        }
        function TK(e) {
          var r;
          let n = TU().useHref(
            null !== (r = null == e ? void 0 : e.href) && void 0 !== r ? r : "",
          );
          return {
            href: (null == e ? void 0 : e.href) ? n : void 0,
            target: null == e ? void 0 : e.target,
            rel: null == e ? void 0 : e.rel,
            download: null == e ? void 0 : e.download,
            ping: null == e ? void 0 : e.ping,
            referrerPolicy: null == e ? void 0 : e.referrerPolicy,
          };
        }
        function Tq(e) {
          return (
            (0 === e.mozInputSource && !!e.isTrusted) ||
            (Td() && e.pointerType
              ? "click" === e.type && 1 === e.buttons
              : 0 === e.detail && !e.pointerType)
          );
        }
        function TH(e) {
          return (
            (!Td() && 0 === e.width && 0 === e.height) ||
            (1 === e.width &&
              1 === e.height &&
              0 === e.pressure &&
              0 === e.detail &&
              "mouse" === e.pointerType)
          );
        }
        function T$(e) {
          let r = (0, T.useContext)(TC);
          if (r) {
            let { register: n, ...i } = r;
            (e = TR(i, e)), n();
          }
          return TD(r, e.ref), e;
        }
        Tj.isOpening = !1;
        var TW = new WeakMap();
        class TG {
          continuePropagation() {
            (0, TI._)(this, TW, !1);
          }
          get shouldStopPropagation() {
            return (0, Tx._)(this, TW);
          }
          constructor(e, r, n, i) {
            var s;
            (0, TA._)(this, TW, { writable: !0, value: void 0 }),
              (0, TI._)(this, TW, !0);
            let a =
                null !== (s = null == i ? void 0 : i.target) && void 0 !== s
                  ? s
                  : n.currentTarget,
              o = null == a ? void 0 : a.getBoundingClientRect(),
              l,
              u = 0,
              c,
              d = null;
            null != n.clientX &&
              null != n.clientY &&
              ((c = n.clientX), (d = n.clientY)),
              o &&
                (null != c && null != d
                  ? ((l = c - o.left), (u = d - o.top))
                  : ((l = o.width / 2), (u = o.height / 2))),
              (this.type = e),
              (this.pointerType = r),
              (this.target = n.currentTarget),
              (this.shiftKey = n.shiftKey),
              (this.metaKey = n.metaKey),
              (this.ctrlKey = n.ctrlKey),
              (this.altKey = n.altKey),
              (this.x = l),
              (this.y = u);
          }
        }
        let TQ = Symbol("linkClicked");
        function TY(e) {
          let {
              onPress: r,
              onPressChange: n,
              onPressStart: i,
              onPressEnd: s,
              onPressUp: a,
              isDisabled: o,
              isPressed: l,
              preventFocusOnPress: u,
              shouldCancelOnPointerExit: c,
              allowTextSelectionOnPress: d,
              ref: h,
              ...f
            } = T$(e),
            [p, g] = (0, T.useState)(!1),
            m = (0, T.useRef)({
              isPressed: !1,
              ignoreEmulatedMouseEvents: !1,
              ignoreClickAfterPress: !1,
              didFirePressStart: !1,
              isTriggeringEvent: !1,
              activePointerId: null,
              target: null,
              isOverTarget: !1,
              pointerType: null,
            }),
            { addGlobalListener: y, removeAllGlobalListeners: v } = TP(),
            b = wM((e, r) => {
              let s = m.current;
              if (o || s.didFirePressStart) return !1;
              let a = !0;
              if (((s.isTriggeringEvent = !0), i)) {
                let n = new TG("pressstart", r, e);
                i(n), (a = n.shouldStopPropagation);
              }
              return (
                n && n(!0),
                (s.isTriggeringEvent = !1),
                (s.didFirePressStart = !0),
                g(!0),
                a
              );
            }),
            w = wM((e, i, a = !0) => {
              let l = m.current;
              if (!l.didFirePressStart) return !1;
              (l.ignoreClickAfterPress = !0),
                (l.didFirePressStart = !1),
                (l.isTriggeringEvent = !0);
              let u = !0;
              if (s) {
                let r = new TG("pressend", i, e);
                s(r), (u = r.shouldStopPropagation);
              }
              if ((n && n(!1), g(!1), r && a && !o)) {
                let n = new TG("press", i, e);
                r(n), u && (u = n.shouldStopPropagation);
              }
              return (l.isTriggeringEvent = !1), u;
            }),
            S = wM((e, r) => {
              let n = m.current;
              if (o) return !1;
              if (a) {
                n.isTriggeringEvent = !0;
                let i = new TG("pressup", r, e);
                return (
                  a(i), (n.isTriggeringEvent = !1), i.shouldStopPropagation
                );
              }
              return !0;
            }),
            E = wM((e) => {
              let r = m.current;
              r.isPressed &&
                r.target &&
                (r.isOverTarget &&
                  null != r.pointerType &&
                  w(T2(r.target, e), r.pointerType, !1),
                (r.isPressed = !1),
                (r.isOverTarget = !1),
                (r.activePointerId = null),
                (r.pointerType = null),
                v(),
                d || TE(r.target));
            }),
            C = wM((e) => {
              c && E(e);
            }),
            x = (0, T.useMemo)(() => {
              let e = m.current,
                r = {
                  onKeyDown(r) {
                    if (
                      TJ(r.nativeEvent, r.currentTarget) &&
                      r.currentTarget.contains(r.target)
                    ) {
                      var i;
                      T7(r.target, r.key) && r.preventDefault();
                      let s = !0;
                      if (!e.isPressed && !r.repeat) {
                        (e.target = r.currentTarget),
                          (e.isPressed = !0),
                          (s = b(r, "keyboard"));
                        let i = r.currentTarget,
                          a = (r) => {
                            TJ(r, i) &&
                              !r.repeat &&
                              i.contains(r.target) &&
                              e.target &&
                              S(T2(e.target, r), "keyboard");
                          };
                        y(Tf(r.currentTarget), "keyup", Tk(a, n), !0);
                      }
                      s && r.stopPropagation(),
                        r.metaKey &&
                          Ts() &&
                          (null === (i = e.metaKeyEvents) ||
                            void 0 === i ||
                            i.set(r.key, r.nativeEvent));
                    } else "Meta" === r.key && (e.metaKeyEvents = new Map());
                  },
                  onClick(r) {
                    if (
                      (!r || r.currentTarget.contains(r.target)) &&
                      r &&
                      0 === r.button &&
                      !e.isTriggeringEvent &&
                      !Tj.isOpening
                    ) {
                      let n = !0;
                      if (
                        (o && r.preventDefault(),
                        !e.ignoreClickAfterPress &&
                          !e.ignoreEmulatedMouseEvents &&
                          !e.isPressed &&
                          ("virtual" === e.pointerType || Tq(r.nativeEvent)))
                      ) {
                        o || u || TN(r.currentTarget);
                        let e = b(r, "virtual"),
                          i = S(r, "virtual"),
                          s = w(r, "virtual");
                        n = e && i && s;
                      }
                      (e.ignoreEmulatedMouseEvents = !1),
                        (e.ignoreClickAfterPress = !1),
                        n && r.stopPropagation();
                    }
                  },
                },
                n = (r) => {
                  var n, i, s;
                  if (e.isPressed && e.target && TJ(r, e.target)) {
                    T7(r.target, r.key) && r.preventDefault();
                    let n = r.target;
                    w(T2(e.target, r), "keyboard", e.target.contains(n)),
                      v(),
                      "Enter" !== r.key &&
                        TX(e.target) &&
                        e.target.contains(n) &&
                        !r[TQ] &&
                        ((r[TQ] = !0), Tj(e.target, r, !1)),
                      (e.isPressed = !1),
                      null === (i = e.metaKeyEvents) ||
                        void 0 === i ||
                        i.delete(r.key);
                  } else if (
                    "Meta" === r.key &&
                    (null === (n = e.metaKeyEvents) || void 0 === n
                      ? void 0
                      : n.size)
                  ) {
                    let r = e.metaKeyEvents;
                    for (let n of ((e.metaKeyEvents = void 0), r.values()))
                      null === (s = e.target) ||
                        void 0 === s ||
                        s.dispatchEvent(new KeyboardEvent("keyup", n));
                  }
                };
              if ("undefined" != typeof PointerEvent) {
                (r.onPointerDown = (r) => {
                  if (0 !== r.button || !r.currentTarget.contains(r.target))
                    return;
                  if (TH(r.nativeEvent)) {
                    e.pointerType = "virtual";
                    return;
                  }
                  T6(r.currentTarget) && r.preventDefault(),
                    (e.pointerType = r.pointerType);
                  let i = !0;
                  if (!e.isPressed) {
                    (e.isPressed = !0),
                      (e.isOverTarget = !0),
                      (e.activePointerId = r.pointerId),
                      (e.target = r.currentTarget),
                      o || u || TN(r.currentTarget),
                      d || TS(e.target),
                      (i = b(r, e.pointerType));
                    let a = r.target;
                    "releasePointerCapture" in a &&
                      a.releasePointerCapture(r.pointerId),
                      y(Tf(r.currentTarget), "pointerup", n, !1),
                      y(Tf(r.currentTarget), "pointercancel", s, !1);
                  }
                  i && r.stopPropagation();
                }),
                  (r.onMouseDown = (e) => {
                    e.currentTarget.contains(e.target) &&
                      0 === e.button &&
                      (T6(e.currentTarget) && e.preventDefault(),
                      e.stopPropagation());
                  }),
                  (r.onPointerUp = (r) => {
                    r.currentTarget.contains(r.target) &&
                      "virtual" !== e.pointerType &&
                      0 === r.button &&
                      S(r, e.pointerType || r.pointerType);
                  }),
                  (r.onPointerEnter = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.target &&
                      !e.isOverTarget &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !0),
                      b(T2(e.target, r), e.pointerType));
                  }),
                  (r.onPointerLeave = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.target &&
                      e.isOverTarget &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !1),
                      w(T2(e.target, r), e.pointerType, !1),
                      C(r));
                  });
                let n = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.isPressed &&
                      0 === r.button &&
                      e.target &&
                      (e.target.contains(r.target) && null != e.pointerType
                        ? w(T2(e.target, r), e.pointerType)
                        : e.isOverTarget &&
                          null != e.pointerType &&
                          w(T2(e.target, r), e.pointerType, !1),
                      (e.isPressed = !1),
                      (e.isOverTarget = !1),
                      (e.activePointerId = null),
                      (e.pointerType = null),
                      v(),
                      d || TE(e.target),
                      "ontouchend" in e.target &&
                        "mouse" !== r.pointerType &&
                        y(e.target, "touchend", i, { once: !0 }));
                  },
                  i = (e) => {
                    T8(e.currentTarget) && e.preventDefault();
                  },
                  s = (e) => {
                    E(e);
                  };
                r.onDragStart = (e) => {
                  e.currentTarget.contains(e.target) && E(e);
                };
              } else {
                (r.onMouseDown = (r) => {
                  if (0 === r.button && r.currentTarget.contains(r.target)) {
                    if (
                      (T6(r.currentTarget) && r.preventDefault(),
                      e.ignoreEmulatedMouseEvents)
                    ) {
                      r.stopPropagation();
                      return;
                    }
                    (e.isPressed = !0),
                      (e.isOverTarget = !0),
                      (e.target = r.currentTarget),
                      (e.pointerType = Tq(r.nativeEvent) ? "virtual" : "mouse"),
                      o || u || TN(r.currentTarget),
                      b(r, e.pointerType) && r.stopPropagation(),
                      y(Tf(r.currentTarget), "mouseup", n, !1);
                  }
                }),
                  (r.onMouseEnter = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    let n = !0;
                    e.isPressed &&
                      !e.ignoreEmulatedMouseEvents &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !0), (n = b(r, e.pointerType))),
                      n && r.stopPropagation();
                  }),
                  (r.onMouseLeave = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    let n = !0;
                    e.isPressed &&
                      !e.ignoreEmulatedMouseEvents &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !1),
                      (n = w(r, e.pointerType, !1)),
                      C(r)),
                      n && r.stopPropagation();
                  }),
                  (r.onMouseUp = (r) => {
                    r.currentTarget.contains(r.target) &&
                      !e.ignoreEmulatedMouseEvents &&
                      0 === r.button &&
                      S(r, e.pointerType || "mouse");
                  });
                let n = (r) => {
                  if (0 === r.button) {
                    if (
                      ((e.isPressed = !1), v(), e.ignoreEmulatedMouseEvents)
                    ) {
                      e.ignoreEmulatedMouseEvents = !1;
                      return;
                    }
                    e.target && T5(r, e.target) && null != e.pointerType
                      ? w(T2(e.target, r), e.pointerType)
                      : e.target &&
                        e.isOverTarget &&
                        null != e.pointerType &&
                        w(T2(e.target, r), e.pointerType, !1),
                      (e.isOverTarget = !1);
                  }
                };
                (r.onTouchStart = (r) => {
                  if (!r.currentTarget.contains(r.target)) return;
                  let n = TZ(r.nativeEvent);
                  n &&
                    ((e.activePointerId = n.identifier),
                    (e.ignoreEmulatedMouseEvents = !0),
                    (e.isOverTarget = !0),
                    (e.isPressed = !0),
                    (e.target = r.currentTarget),
                    (e.pointerType = "touch"),
                    o || u || TN(r.currentTarget),
                    d || TS(e.target),
                    b(T1(e.target, r), e.pointerType) && r.stopPropagation(),
                    y(Tp(r.currentTarget), "scroll", i, !0));
                }),
                  (r.onTouchMove = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    if (!e.isPressed) {
                      r.stopPropagation();
                      return;
                    }
                    let n = T0(r.nativeEvent, e.activePointerId),
                      i = !0;
                    n && T5(n, r.currentTarget)
                      ? e.isOverTarget ||
                        null == e.pointerType ||
                        ((e.isOverTarget = !0),
                        (i = b(T1(e.target, r), e.pointerType)))
                      : e.isOverTarget &&
                        null != e.pointerType &&
                        ((e.isOverTarget = !1),
                        (i = w(T1(e.target, r), e.pointerType, !1)),
                        C(T1(e.target, r))),
                      i && r.stopPropagation();
                  }),
                  (r.onTouchEnd = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    if (!e.isPressed) {
                      r.stopPropagation();
                      return;
                    }
                    let n = T0(r.nativeEvent, e.activePointerId),
                      i = !0;
                    n && T5(n, r.currentTarget) && null != e.pointerType
                      ? (S(T1(e.target, r), e.pointerType),
                        (i = w(T1(e.target, r), e.pointerType)))
                      : e.isOverTarget &&
                        null != e.pointerType &&
                        (i = w(T1(e.target, r), e.pointerType, !1)),
                      i && r.stopPropagation(),
                      (e.isPressed = !1),
                      (e.activePointerId = null),
                      (e.isOverTarget = !1),
                      (e.ignoreEmulatedMouseEvents = !0),
                      e.target && !d && TE(e.target),
                      v();
                  }),
                  (r.onTouchCancel = (r) => {
                    r.currentTarget.contains(r.target) &&
                      (r.stopPropagation(), e.isPressed && E(T1(e.target, r)));
                  });
                let i = (r) => {
                  e.isPressed &&
                    r.target.contains(e.target) &&
                    E({
                      currentTarget: e.target,
                      shiftKey: !1,
                      ctrlKey: !1,
                      metaKey: !1,
                      altKey: !1,
                    });
                };
                r.onDragStart = (e) => {
                  e.currentTarget.contains(e.target) && E(e);
                };
              }
              return r;
            }, [y, o, u, v, d, E, C, w, b, S]);
          return (
            (0, T.useEffect)(
              () => () => {
                var e;
                d ||
                  TE(
                    null !== (e = m.current.target) && void 0 !== e
                      ? e
                      : void 0,
                  );
              },
              [d],
            ),
            { isPressed: l || p, pressProps: TR(f, x) }
          );
        }
        function TX(e) {
          return "A" === e.tagName && e.hasAttribute("href");
        }
        function TJ(e, r) {
          let { key: n, code: i } = e,
            s = r,
            a = s.getAttribute("role");
          return (
            ("Enter" === n || " " === n || "Spacebar" === n || "Space" === i) &&
            !(
              (s instanceof Tp(s).HTMLInputElement && !Se(s, n)) ||
              s instanceof Tp(s).HTMLTextAreaElement ||
              s.isContentEditable
            ) &&
            !(("link" === a || (!a && TX(s))) && "Enter" !== n)
          );
        }
        function TZ(e) {
          let { targetTouches: r } = e;
          return r.length > 0 ? r[0] : null;
        }
        function T0(e, r) {
          let n = e.changedTouches;
          for (let e = 0; e < n.length; e++) {
            let i = n[e];
            if (i.identifier === r) return i;
          }
          return null;
        }
        function T1(e, r) {
          let n = 0,
            i = 0;
          return (
            r.targetTouches &&
              1 === r.targetTouches.length &&
              ((n = r.targetTouches[0].clientX),
              (i = r.targetTouches[0].clientY)),
            {
              currentTarget: e,
              shiftKey: r.shiftKey,
              ctrlKey: r.ctrlKey,
              metaKey: r.metaKey,
              altKey: r.altKey,
              clientX: n,
              clientY: i,
            }
          );
        }
        function T2(e, r) {
          let n = r.clientX,
            i = r.clientY;
          return {
            currentTarget: e,
            shiftKey: r.shiftKey,
            ctrlKey: r.ctrlKey,
            metaKey: r.metaKey,
            altKey: r.altKey,
            clientX: n,
            clientY: i,
          };
        }
        function T3(e) {
          let r = 0,
            n = 0;
          return (
            void 0 !== e.width
              ? (r = e.width / 2)
              : void 0 !== e.radiusX && (r = e.radiusX),
            void 0 !== e.height
              ? (n = e.height / 2)
              : void 0 !== e.radiusY && (n = e.radiusY),
            {
              top: e.clientY - n,
              right: e.clientX + r,
              bottom: e.clientY + n,
              left: e.clientX - r,
            }
          );
        }
        function T4(e, r) {
          return (
            !(e.left > r.right) &&
            !(r.left > e.right) &&
            !(e.top > r.bottom) &&
            !(r.top > e.bottom)
          );
        }
        function T5(e, r) {
          return T4(r.getBoundingClientRect(), T3(e));
        }
        function T6(e) {
          return !(e instanceof HTMLElement) || !e.hasAttribute("draggable");
        }
        function T8(e) {
          return (
            !(e instanceof HTMLInputElement) &&
            (e instanceof HTMLButtonElement
              ? "submit" !== e.type && "reset" !== e.type
              : !TX(e))
          );
        }
        function T7(e, r) {
          return e instanceof HTMLInputElement ? !Se(e, r) : T8(e);
        }
        let T9 = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function Se(e, r) {
          return "checkbox" === e.type || "radio" === e.type
            ? " " === r
            : T9.has(e.type);
        }
        let St = 0,
          Sr = new Map();
        function Sn(e) {
          let [r, n] = (0, T.useState)();
          return (
            wO(() => {
              if (!e) return;
              let r = Sr.get(e);
              if (r) n(r.element.id);
              else {
                let i = `react-aria-description-${St++}`;
                n(i);
                let s = document.createElement("div");
                (s.id = i),
                  (s.style.display = "none"),
                  (s.textContent = e),
                  document.body.appendChild(s),
                  (r = { refCount: 0, element: s }),
                  Sr.set(e, r);
              }
              return (
                r.refCount++,
                () => {
                  r && 0 == --r.refCount && (r.element.remove(), Sr.delete(e));
                }
              );
            }, [e]),
            { "aria-describedby": e ? r : void 0 }
          );
        }
        let Si = 500;
        function Ss(e) {
          let {
              isDisabled: r,
              onLongPressStart: n,
              onLongPressEnd: i,
              onLongPress: s,
              threshold: a = Si,
              accessibilityDescription: o,
            } = e,
            l = (0, T.useRef)(void 0),
            { addGlobalListener: u, removeGlobalListener: c } = TP(),
            { pressProps: d } = TY({
              isDisabled: r,
              onPressStart(e) {
                if (
                  (e.continuePropagation(),
                  ("mouse" === e.pointerType || "touch" === e.pointerType) &&
                    (n && n({ ...e, type: "longpressstart" }),
                    (l.current = setTimeout(() => {
                      e.target.dispatchEvent(
                        new PointerEvent("pointercancel", { bubbles: !0 }),
                      ),
                        s && s({ ...e, type: "longpress" }),
                        (l.current = void 0);
                    }, a)),
                    "touch" === e.pointerType))
                ) {
                  let r = (e) => {
                    e.preventDefault();
                  };
                  u(e.target, "contextmenu", r, { once: !0 }),
                    u(
                      window,
                      "pointerup",
                      () => {
                        setTimeout(() => {
                          c(e.target, "contextmenu", r);
                        }, 30);
                      },
                      { once: !0 },
                    );
                }
              },
              onPressEnd(e) {
                l.current && clearTimeout(l.current),
                  i &&
                    ("mouse" === e.pointerType || "touch" === e.pointerType) &&
                    i({ ...e, type: "longpressend" });
              },
            });
          return { longPressProps: TR(d, Sn(s && !r ? o : void 0)) };
        }
        let Sa = new WeakMap();
        function So(e, r, n) {
          let i,
            { type: s } = e,
            { isOpen: a } = r;
          (0, T.useEffect)(() => {
            n && n.current && Sa.set(n.current, r.close);
          }),
            "menu" === s ? (i = !0) : "listbox" === s && (i = "listbox");
          let o = wj();
          return {
            triggerProps: {
              "aria-haspopup": i,
              "aria-expanded": a,
              "aria-controls": a ? o : void 0,
              onPress: r.toggle,
            },
            overlayProps: { id: o },
          };
        }
        function Sl(e) {
          return e && e.__esModule ? e.default : e;
        }
        function Su(e, r, n) {
          let { type: i = "menu", isDisabled: s, trigger: a = "press" } = e,
            o = wj(),
            { triggerProps: l, overlayProps: u } = So({ type: i }, r, n),
            c = (e) => {
              if (!s && ("longPress" !== a || e.altKey) && n && n.current)
                switch (e.key) {
                  case "Enter":
                  case " ":
                    if ("longPress" === a) return;
                  case "ArrowDown":
                    "continuePropagation" in e || e.stopPropagation(),
                      e.preventDefault(),
                      r.toggle("first");
                    break;
                  case "ArrowUp":
                    "continuePropagation" in e || e.stopPropagation(),
                      e.preventDefault(),
                      r.toggle("last");
                    break;
                  default:
                    "continuePropagation" in e && e.continuePropagation();
                }
            },
            { longPressProps: d } = Ss({
              isDisabled: s || "longPress" !== a,
              accessibilityDescription: Tt(Sl(wN), "@react-aria/menu").format(
                "longPressMessage",
              ),
              onLongPressStart() {
                r.close();
              },
              onLongPress() {
                r.open("first");
              },
            }),
            h = {
              onPressStart(e) {
                "touch" === e.pointerType ||
                  "keyboard" === e.pointerType ||
                  s ||
                  r.open("virtual" === e.pointerType ? "first" : null);
              },
              onPress(e) {
                "touch" !== e.pointerType || s || r.toggle();
              },
            };
          return (
            delete l.onPress,
            {
              menuTriggerProps: {
                ...l,
                ...("press" === a ? h : d),
                id: o,
                onKeyDown: c,
              },
              menuProps: {
                ...u,
                "aria-labelledby": o,
                autoFocus: r.focusStrategy || !0,
                onClose: r.close,
              },
            }
          );
        }
        var Sc = ["small", "medium", "large"],
          Sd = {
            theme: {
              opacity: ["disabled"],
              spacing: ["divider"],
              borderWidth: Sc,
              borderRadius: Sc,
            },
            classGroups: {
              shadow: [{ shadow: Sc }],
              "font-size": [{ text: ["tiny", ...Sc] }],
              "bg-image": [
                "bg-stripe-gradient-default",
                "bg-stripe-gradient-primary",
                "bg-stripe-gradient-secondary",
                "bg-stripe-gradient-success",
                "bg-stripe-gradient-warning",
                "bg-stripe-gradient-danger",
              ],
            },
          },
          Sh = (e) => ("boolean" == typeof e ? `${e}` : 0 === e ? "0" : e),
          Sf = (e) => !e || "object" != typeof e || 0 === Object.keys(e).length,
          Sp = (e, r) => JSON.stringify(e) === JSON.stringify(r);
        function Sg(e, r) {
          e.forEach(function (e) {
            Array.isArray(e) ? Sg(e, r) : r.push(e);
          });
        }
        function Sm(e) {
          let r = [];
          return Sg(e, r), r;
        }
        var Sy = (...e) => Sm(e).filter(Boolean),
          Sv = (e, r) => {
            let n = {},
              i = Object.keys(e),
              s = Object.keys(r);
            for (let a of i)
              if (s.includes(a)) {
                let i = e[a],
                  s = r[a];
                Array.isArray(i) || Array.isArray(s)
                  ? (n[a] = Sy(s, i))
                  : "object" == typeof i && "object" == typeof s
                    ? (n[a] = Sv(i, s))
                    : (n[a] = s + " " + i);
              } else n[a] = e[a];
            for (let e of s) i.includes(e) || (n[e] = r[e]);
            return n;
          },
          Sb = (e) =>
            e && "string" == typeof e ? e.replace(/\s+/g, " ").trim() : e;
        let Sw = "-",
          ST = (e) => {
            let r = Sx(e),
              { conflictingClassGroups: n, conflictingClassGroupModifiers: i } =
                e;
            return {
              getClassGroupId: (e) => {
                let n = e.split(Sw);
                return (
                  "" === n[0] && 1 !== n.length && n.shift(), SS(n, r) || SC(e)
                );
              },
              getConflictingClassGroupIds: (e, r) => {
                let s = n[e] || [];
                return r && i[e] ? [...s, ...i[e]] : s;
              },
            };
          },
          SS = (e, r) => {
            if (0 === e.length) return r.classGroupId;
            let n = e[0],
              i = r.nextPart.get(n),
              s = i ? SS(e.slice(1), i) : void 0;
            if (s) return s;
            if (0 === r.validators.length) return;
            let a = e.join(Sw);
            return r.validators.find(({ validator: e }) => e(a))?.classGroupId;
          },
          SE = /^\[(.+)\]$/,
          SC = (e) => {
            if (SE.test(e)) {
              let r = SE.exec(e)[1],
                n = r?.substring(0, r.indexOf(":"));
              if (n) return "arbitrary.." + n;
            }
          },
          Sx = (e) => {
            let { theme: r, prefix: n } = e,
              i = { nextPart: new Map(), validators: [] };
            return (
              S_(Object.entries(e.classGroups), n).forEach(([e, n]) => {
                SA(n, i, e, r);
              }),
              i
            );
          },
          SA = (e, r, n, i) => {
            e.forEach((e) => {
              if ("string" == typeof e) {
                ("" === e ? r : SI(r, e)).classGroupId = n;
                return;
              }
              if ("function" == typeof e) {
                if (Sk(e)) {
                  SA(e(i), r, n, i);
                  return;
                }
                r.validators.push({ validator: e, classGroupId: n });
                return;
              }
              Object.entries(e).forEach(([e, s]) => {
                SA(s, SI(r, e), n, i);
              });
            });
          },
          SI = (e, r) => {
            let n = e;
            return (
              r.split(Sw).forEach((e) => {
                n.nextPart.has(e) ||
                  n.nextPart.set(e, { nextPart: new Map(), validators: [] }),
                  (n = n.nextPart.get(e));
              }),
              n
            );
          },
          Sk = (e) => e.isThemeGetter,
          S_ = (e, r) =>
            r
              ? e.map(([e, n]) => [
                  e,
                  n.map((e) =>
                    "string" == typeof e
                      ? r + e
                      : "object" == typeof e
                        ? Object.fromEntries(
                            Object.entries(e).map(([e, n]) => [r + e, n]),
                          )
                        : e,
                  ),
                ])
              : e,
          SR = (e) => {
            if (e < 1) return { get: () => void 0, set: () => {} };
            let r = 0,
              n = new Map(),
              i = new Map(),
              s = (s, a) => {
                n.set(s, a), ++r > e && ((r = 0), (i = n), (n = new Map()));
              };
            return {
              get(e) {
                let r = n.get(e);
                return void 0 !== r
                  ? r
                  : void 0 !== (r = i.get(e))
                    ? (s(e, r), r)
                    : void 0;
              },
              set(e, r) {
                n.has(e) ? n.set(e, r) : s(e, r);
              },
            };
          },
          SD = "!",
          SP = (e) => {
            let { separator: r, experimentalParseClassName: n } = e,
              i = 1 === r.length,
              s = r[0],
              a = r.length,
              o = (e) => {
                let n;
                let o = [],
                  l = 0,
                  u = 0;
                for (let c = 0; c < e.length; c++) {
                  let d = e[c];
                  if (0 === l) {
                    if (d === s && (i || e.slice(c, c + a) === r)) {
                      o.push(e.slice(u, c)), (u = c + a);
                      continue;
                    }
                    if ("/" === d) {
                      n = c;
                      continue;
                    }
                  }
                  "[" === d ? l++ : "]" === d && l--;
                }
                let c = 0 === o.length ? e : e.substring(u),
                  d = c.startsWith(SD),
                  h = d ? c.substring(1) : c;
                return {
                  modifiers: o,
                  hasImportantModifier: d,
                  baseClassName: h,
                  maybePostfixModifierPosition: n && n > u ? n - u : void 0,
                };
              };
            return n ? (e) => n({ className: e, parseClassName: o }) : o;
          },
          SN = (e) => {
            if (e.length <= 1) return e;
            let r = [],
              n = [];
            return (
              e.forEach((e) => {
                "[" === e[0] ? (r.push(...n.sort(), e), (n = [])) : n.push(e);
              }),
              r.push(...n.sort()),
              r
            );
          },
          SO = (e) => ({
            cache: SR(e.cacheSize),
            parseClassName: SP(e),
            ...ST(e),
          }),
          SM = /\s+/,
          SL = (e, r) => {
            let {
                parseClassName: n,
                getClassGroupId: i,
                getConflictingClassGroupIds: s,
              } = r,
              a = [],
              o = e.trim().split(SM),
              l = "";
            for (let e = o.length - 1; e >= 0; e -= 1) {
              let r = o[e],
                {
                  modifiers: u,
                  hasImportantModifier: c,
                  baseClassName: d,
                  maybePostfixModifierPosition: h,
                } = n(r),
                f = !!h,
                p = i(f ? d.substring(0, h) : d);
              if (!p) {
                if (!f || !(p = i(d))) {
                  l = r + (l.length > 0 ? " " + l : l);
                  continue;
                }
                f = !1;
              }
              let g = SN(u).join(":"),
                m = c ? g + SD : g,
                y = m + p;
              if (a.includes(y)) continue;
              a.push(y);
              let v = s(p, f);
              for (let e = 0; e < v.length; ++e) {
                let r = v[e];
                a.push(m + r);
              }
              l = r + (l.length > 0 ? " " + l : l);
            }
            return l;
          };
        function SB() {
          let e,
            r,
            n = 0,
            i = "";
          for (; n < arguments.length; )
            (e = arguments[n++]) && (r = SF(e)) && (i && (i += " "), (i += r));
          return i;
        }
        let SF = (e) => {
          let r;
          if ("string" == typeof e) return e;
          let n = "";
          for (let i = 0; i < e.length; i++)
            e[i] && (r = SF(e[i])) && (n && (n += " "), (n += r));
          return n;
        };
        function SU(e, ...r) {
          let n, i, s;
          let a = o;
          function o(o) {
            return (
              (i = (n = SO(r.reduce((e, r) => r(e), e()))).cache.get),
              (s = n.cache.set),
              (a = l),
              l(o)
            );
          }
          function l(e) {
            let r = i(e);
            if (r) return r;
            let a = SL(e, n);
            return s(e, a), a;
          }
          return function () {
            return a(SB.apply(null, arguments));
          };
        }
        let Sj = (e) => {
            let r = (r) => r[e] || [];
            return (r.isThemeGetter = !0), r;
          },
          Sz = /^\[(?:([a-z-]+):)?(.+)\]$/i,
          SV = /^\d+\/\d+$/,
          SK = new Set(["px", "full", "screen"]),
          Sq = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,
          SH =
            /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,
          S$ = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,
          SW =
            /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,
          SG =
            /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,
          SQ = (e) => SX(e) || SK.has(e) || SV.test(e),
          SY = (e) => Ee(e, "length", Et),
          SX = (e) => !!e && !Number.isNaN(Number(e)),
          SJ = (e) => Ee(e, "number", SX),
          SZ = (e) => !!e && Number.isInteger(Number(e)),
          S0 = (e) => e.endsWith("%") && SX(e.slice(0, -1)),
          S1 = (e) => Sz.test(e),
          S2 = (e) => Sq.test(e),
          S3 = new Set(["length", "size", "percentage"]),
          S4 = (e) => Ee(e, S3, Er),
          S5 = (e) => Ee(e, "position", Er),
          S6 = new Set(["image", "url"]),
          S8 = (e) => Ee(e, S6, Ei),
          S7 = (e) => Ee(e, "", En),
          S9 = () => !0,
          Ee = (e, r, n) => {
            let i = Sz.exec(e);
            return (
              !!i &&
              (i[1]
                ? "string" == typeof r
                  ? i[1] === r
                  : r.has(i[1])
                : n(i[2]))
            );
          },
          Et = (e) => SH.test(e) && !S$.test(e),
          Er = () => !1,
          En = (e) => SW.test(e),
          Ei = (e) => SG.test(e);
        Symbol.toStringTag;
        let Es = () => {
            let e = Sj("colors"),
              r = Sj("spacing"),
              n = Sj("blur"),
              i = Sj("brightness"),
              s = Sj("borderColor"),
              a = Sj("borderRadius"),
              o = Sj("borderSpacing"),
              l = Sj("borderWidth"),
              u = Sj("contrast"),
              c = Sj("grayscale"),
              d = Sj("hueRotate"),
              h = Sj("invert"),
              f = Sj("gap"),
              p = Sj("gradientColorStops"),
              g = Sj("gradientColorStopPositions"),
              m = Sj("inset"),
              y = Sj("margin"),
              v = Sj("opacity"),
              b = Sj("padding"),
              w = Sj("saturate"),
              T = Sj("scale"),
              S = Sj("sepia"),
              E = Sj("skew"),
              C = Sj("space"),
              x = Sj("translate"),
              A = () => ["auto", "contain", "none"],
              I = () => ["auto", "hidden", "clip", "visible", "scroll"],
              k = () => ["auto", S1, r],
              _ = () => [S1, r],
              R = () => ["", SQ, SY],
              D = () => ["auto", SX, S1],
              P = () => [
                "bottom",
                "center",
                "left",
                "left-bottom",
                "left-top",
                "right",
                "right-bottom",
                "right-top",
                "top",
              ],
              N = () => ["solid", "dashed", "dotted", "double", "none"],
              O = () => [
                "normal",
                "multiply",
                "screen",
                "overlay",
                "darken",
                "lighten",
                "color-dodge",
                "color-burn",
                "hard-light",
                "soft-light",
                "difference",
                "exclusion",
                "hue",
                "saturation",
                "color",
                "luminosity",
              ],
              M = () => [
                "start",
                "end",
                "center",
                "between",
                "around",
                "evenly",
                "stretch",
              ],
              L = () => ["", "0", S1],
              B = () => [
                "auto",
                "avoid",
                "all",
                "avoid-page",
                "page",
                "left",
                "right",
                "column",
              ],
              F = () => [SX, S1];
            return {
              cacheSize: 500,
              separator: ":",
              theme: {
                colors: [S9],
                spacing: [SQ, SY],
                blur: ["none", "", S2, S1],
                brightness: F(),
                borderColor: [e],
                borderRadius: ["none", "", "full", S2, S1],
                borderSpacing: _(),
                borderWidth: R(),
                contrast: F(),
                grayscale: L(),
                hueRotate: F(),
                invert: L(),
                gap: _(),
                gradientColorStops: [e],
                gradientColorStopPositions: [S0, SY],
                inset: k(),
                margin: k(),
                opacity: F(),
                padding: _(),
                saturate: F(),
                scale: F(),
                sepia: L(),
                skew: F(),
                space: _(),
                translate: _(),
              },
              classGroups: {
                aspect: [{ aspect: ["auto", "square", "video", S1] }],
                container: ["container"],
                columns: [{ columns: [S2] }],
                "break-after": [{ "break-after": B() }],
                "break-before": [{ "break-before": B() }],
                "break-inside": [
                  {
                    "break-inside": [
                      "auto",
                      "avoid",
                      "avoid-page",
                      "avoid-column",
                    ],
                  },
                ],
                "box-decoration": [{ "box-decoration": ["slice", "clone"] }],
                box: [{ box: ["border", "content"] }],
                display: [
                  "block",
                  "inline-block",
                  "inline",
                  "flex",
                  "inline-flex",
                  "table",
                  "inline-table",
                  "table-caption",
                  "table-cell",
                  "table-column",
                  "table-column-group",
                  "table-footer-group",
                  "table-header-group",
                  "table-row-group",
                  "table-row",
                  "flow-root",
                  "grid",
                  "inline-grid",
                  "contents",
                  "list-item",
                  "hidden",
                ],
                float: [{ float: ["right", "left", "none", "start", "end"] }],
                clear: [
                  { clear: ["left", "right", "both", "none", "start", "end"] },
                ],
                isolation: ["isolate", "isolation-auto"],
                "object-fit": [
                  {
                    object: ["contain", "cover", "fill", "none", "scale-down"],
                  },
                ],
                "object-position": [{ object: [...P(), S1] }],
                overflow: [{ overflow: I() }],
                "overflow-x": [{ "overflow-x": I() }],
                "overflow-y": [{ "overflow-y": I() }],
                overscroll: [{ overscroll: A() }],
                "overscroll-x": [{ "overscroll-x": A() }],
                "overscroll-y": [{ "overscroll-y": A() }],
                position: ["static", "fixed", "absolute", "relative", "sticky"],
                inset: [{ inset: [m] }],
                "inset-x": [{ "inset-x": [m] }],
                "inset-y": [{ "inset-y": [m] }],
                start: [{ start: [m] }],
                end: [{ end: [m] }],
                top: [{ top: [m] }],
                right: [{ right: [m] }],
                bottom: [{ bottom: [m] }],
                left: [{ left: [m] }],
                visibility: ["visible", "invisible", "collapse"],
                z: [{ z: ["auto", SZ, S1] }],
                basis: [{ basis: k() }],
                "flex-direction": [
                  { flex: ["row", "row-reverse", "col", "col-reverse"] },
                ],
                "flex-wrap": [{ flex: ["wrap", "wrap-reverse", "nowrap"] }],
                flex: [{ flex: ["1", "auto", "initial", "none", S1] }],
                grow: [{ grow: L() }],
                shrink: [{ shrink: L() }],
                order: [{ order: ["first", "last", "none", SZ, S1] }],
                "grid-cols": [{ "grid-cols": [S9] }],
                "col-start-end": [
                  { col: ["auto", { span: ["full", SZ, S1] }, S1] },
                ],
                "col-start": [{ "col-start": D() }],
                "col-end": [{ "col-end": D() }],
                "grid-rows": [{ "grid-rows": [S9] }],
                "row-start-end": [{ row: ["auto", { span: [SZ, S1] }, S1] }],
                "row-start": [{ "row-start": D() }],
                "row-end": [{ "row-end": D() }],
                "grid-flow": [
                  {
                    "grid-flow": [
                      "row",
                      "col",
                      "dense",
                      "row-dense",
                      "col-dense",
                    ],
                  },
                ],
                "auto-cols": [
                  { "auto-cols": ["auto", "min", "max", "fr", S1] },
                ],
                "auto-rows": [
                  { "auto-rows": ["auto", "min", "max", "fr", S1] },
                ],
                gap: [{ gap: [f] }],
                "gap-x": [{ "gap-x": [f] }],
                "gap-y": [{ "gap-y": [f] }],
                "justify-content": [{ justify: ["normal", ...M()] }],
                "justify-items": [
                  { "justify-items": ["start", "end", "center", "stretch"] },
                ],
                "justify-self": [
                  {
                    "justify-self": [
                      "auto",
                      "start",
                      "end",
                      "center",
                      "stretch",
                    ],
                  },
                ],
                "align-content": [{ content: ["normal", ...M(), "baseline"] }],
                "align-items": [
                  { items: ["start", "end", "center", "baseline", "stretch"] },
                ],
                "align-self": [
                  {
                    self: [
                      "auto",
                      "start",
                      "end",
                      "center",
                      "stretch",
                      "baseline",
                    ],
                  },
                ],
                "place-content": [{ "place-content": [...M(), "baseline"] }],
                "place-items": [
                  {
                    "place-items": [
                      "start",
                      "end",
                      "center",
                      "baseline",
                      "stretch",
                    ],
                  },
                ],
                "place-self": [
                  {
                    "place-self": ["auto", "start", "end", "center", "stretch"],
                  },
                ],
                p: [{ p: [b] }],
                px: [{ px: [b] }],
                py: [{ py: [b] }],
                ps: [{ ps: [b] }],
                pe: [{ pe: [b] }],
                pt: [{ pt: [b] }],
                pr: [{ pr: [b] }],
                pb: [{ pb: [b] }],
                pl: [{ pl: [b] }],
                m: [{ m: [y] }],
                mx: [{ mx: [y] }],
                my: [{ my: [y] }],
                ms: [{ ms: [y] }],
                me: [{ me: [y] }],
                mt: [{ mt: [y] }],
                mr: [{ mr: [y] }],
                mb: [{ mb: [y] }],
                ml: [{ ml: [y] }],
                "space-x": [{ "space-x": [C] }],
                "space-x-reverse": ["space-x-reverse"],
                "space-y": [{ "space-y": [C] }],
                "space-y-reverse": ["space-y-reverse"],
                w: [
                  {
                    w: [
                      "auto",
                      "min",
                      "max",
                      "fit",
                      "svw",
                      "lvw",
                      "dvw",
                      S1,
                      r,
                    ],
                  },
                ],
                "min-w": [{ "min-w": [S1, r, "min", "max", "fit"] }],
                "max-w": [
                  {
                    "max-w": [
                      S1,
                      r,
                      "none",
                      "full",
                      "min",
                      "max",
                      "fit",
                      "prose",
                      { screen: [S2] },
                      S2,
                    ],
                  },
                ],
                h: [
                  {
                    h: [
                      S1,
                      r,
                      "auto",
                      "min",
                      "max",
                      "fit",
                      "svh",
                      "lvh",
                      "dvh",
                    ],
                  },
                ],
                "min-h": [
                  {
                    "min-h": [S1, r, "min", "max", "fit", "svh", "lvh", "dvh"],
                  },
                ],
                "max-h": [
                  {
                    "max-h": [S1, r, "min", "max", "fit", "svh", "lvh", "dvh"],
                  },
                ],
                size: [{ size: [S1, r, "auto", "min", "max", "fit"] }],
                "font-size": [{ text: ["base", S2, SY] }],
                "font-smoothing": ["antialiased", "subpixel-antialiased"],
                "font-style": ["italic", "not-italic"],
                "font-weight": [
                  {
                    font: [
                      "thin",
                      "extralight",
                      "light",
                      "normal",
                      "medium",
                      "semibold",
                      "bold",
                      "extrabold",
                      "black",
                      SJ,
                    ],
                  },
                ],
                "font-family": [{ font: [S9] }],
                "fvn-normal": ["normal-nums"],
                "fvn-ordinal": ["ordinal"],
                "fvn-slashed-zero": ["slashed-zero"],
                "fvn-figure": ["lining-nums", "oldstyle-nums"],
                "fvn-spacing": ["proportional-nums", "tabular-nums"],
                "fvn-fraction": ["diagonal-fractions", "stacked-fractons"],
                tracking: [
                  {
                    tracking: [
                      "tighter",
                      "tight",
                      "normal",
                      "wide",
                      "wider",
                      "widest",
                      S1,
                    ],
                  },
                ],
                "line-clamp": [{ "line-clamp": ["none", SX, SJ] }],
                leading: [
                  {
                    leading: [
                      "none",
                      "tight",
                      "snug",
                      "normal",
                      "relaxed",
                      "loose",
                      SQ,
                      S1,
                    ],
                  },
                ],
                "list-image": [{ "list-image": ["none", S1] }],
                "list-style-type": [{ list: ["none", "disc", "decimal", S1] }],
                "list-style-position": [{ list: ["inside", "outside"] }],
                "placeholder-color": [{ placeholder: [e] }],
                "placeholder-opacity": [{ "placeholder-opacity": [v] }],
                "text-alignment": [
                  {
                    text: [
                      "left",
                      "center",
                      "right",
                      "justify",
                      "start",
                      "end",
                    ],
                  },
                ],
                "text-color": [{ text: [e] }],
                "text-opacity": [{ "text-opacity": [v] }],
                "text-decoration": [
                  "underline",
                  "overline",
                  "line-through",
                  "no-underline",
                ],
                "text-decoration-style": [{ decoration: [...N(), "wavy"] }],
                "text-decoration-thickness": [
                  { decoration: ["auto", "from-font", SQ, SY] },
                ],
                "underline-offset": [{ "underline-offset": ["auto", SQ, S1] }],
                "text-decoration-color": [{ decoration: [e] }],
                "text-transform": [
                  "uppercase",
                  "lowercase",
                  "capitalize",
                  "normal-case",
                ],
                "text-overflow": ["truncate", "text-ellipsis", "text-clip"],
                "text-wrap": [
                  { text: ["wrap", "nowrap", "balance", "pretty"] },
                ],
                indent: [{ indent: _() }],
                "vertical-align": [
                  {
                    align: [
                      "baseline",
                      "top",
                      "middle",
                      "bottom",
                      "text-top",
                      "text-bottom",
                      "sub",
                      "super",
                      S1,
                    ],
                  },
                ],
                whitespace: [
                  {
                    whitespace: [
                      "normal",
                      "nowrap",
                      "pre",
                      "pre-line",
                      "pre-wrap",
                      "break-spaces",
                    ],
                  },
                ],
                break: [{ break: ["normal", "words", "all", "keep"] }],
                hyphens: [{ hyphens: ["none", "manual", "auto"] }],
                content: [{ content: ["none", S1] }],
                "bg-attachment": [{ bg: ["fixed", "local", "scroll"] }],
                "bg-clip": [
                  { "bg-clip": ["border", "padding", "content", "text"] },
                ],
                "bg-opacity": [{ "bg-opacity": [v] }],
                "bg-origin": [
                  { "bg-origin": ["border", "padding", "content"] },
                ],
                "bg-position": [{ bg: [...P(), S5] }],
                "bg-repeat": [
                  {
                    bg: [
                      "no-repeat",
                      { repeat: ["", "x", "y", "round", "space"] },
                    ],
                  },
                ],
                "bg-size": [{ bg: ["auto", "cover", "contain", S4] }],
                "bg-image": [
                  {
                    bg: [
                      "none",
                      {
                        "gradient-to": [
                          "t",
                          "tr",
                          "r",
                          "br",
                          "b",
                          "bl",
                          "l",
                          "tl",
                        ],
                      },
                      S8,
                    ],
                  },
                ],
                "bg-color": [{ bg: [e] }],
                "gradient-from-pos": [{ from: [g] }],
                "gradient-via-pos": [{ via: [g] }],
                "gradient-to-pos": [{ to: [g] }],
                "gradient-from": [{ from: [p] }],
                "gradient-via": [{ via: [p] }],
                "gradient-to": [{ to: [p] }],
                rounded: [{ rounded: [a] }],
                "rounded-s": [{ "rounded-s": [a] }],
                "rounded-e": [{ "rounded-e": [a] }],
                "rounded-t": [{ "rounded-t": [a] }],
                "rounded-r": [{ "rounded-r": [a] }],
                "rounded-b": [{ "rounded-b": [a] }],
                "rounded-l": [{ "rounded-l": [a] }],
                "rounded-ss": [{ "rounded-ss": [a] }],
                "rounded-se": [{ "rounded-se": [a] }],
                "rounded-ee": [{ "rounded-ee": [a] }],
                "rounded-es": [{ "rounded-es": [a] }],
                "rounded-tl": [{ "rounded-tl": [a] }],
                "rounded-tr": [{ "rounded-tr": [a] }],
                "rounded-br": [{ "rounded-br": [a] }],
                "rounded-bl": [{ "rounded-bl": [a] }],
                "border-w": [{ border: [l] }],
                "border-w-x": [{ "border-x": [l] }],
                "border-w-y": [{ "border-y": [l] }],
                "border-w-s": [{ "border-s": [l] }],
                "border-w-e": [{ "border-e": [l] }],
                "border-w-t": [{ "border-t": [l] }],
                "border-w-r": [{ "border-r": [l] }],
                "border-w-b": [{ "border-b": [l] }],
                "border-w-l": [{ "border-l": [l] }],
                "border-opacity": [{ "border-opacity": [v] }],
                "border-style": [{ border: [...N(), "hidden"] }],
                "divide-x": [{ "divide-x": [l] }],
                "divide-x-reverse": ["divide-x-reverse"],
                "divide-y": [{ "divide-y": [l] }],
                "divide-y-reverse": ["divide-y-reverse"],
                "divide-opacity": [{ "divide-opacity": [v] }],
                "divide-style": [{ divide: N() }],
                "border-color": [{ border: [s] }],
                "border-color-x": [{ "border-x": [s] }],
                "border-color-y": [{ "border-y": [s] }],
                "border-color-s": [{ "border-s": [s] }],
                "border-color-e": [{ "border-e": [s] }],
                "border-color-t": [{ "border-t": [s] }],
                "border-color-r": [{ "border-r": [s] }],
                "border-color-b": [{ "border-b": [s] }],
                "border-color-l": [{ "border-l": [s] }],
                "divide-color": [{ divide: [s] }],
                "outline-style": [{ outline: ["", ...N()] }],
                "outline-offset": [{ "outline-offset": [SQ, S1] }],
                "outline-w": [{ outline: [SQ, SY] }],
                "outline-color": [{ outline: [e] }],
                "ring-w": [{ ring: R() }],
                "ring-w-inset": ["ring-inset"],
                "ring-color": [{ ring: [e] }],
                "ring-opacity": [{ "ring-opacity": [v] }],
                "ring-offset-w": [{ "ring-offset": [SQ, SY] }],
                "ring-offset-color": [{ "ring-offset": [e] }],
                shadow: [{ shadow: ["", "inner", "none", S2, S7] }],
                "shadow-color": [{ shadow: [S9] }],
                opacity: [{ opacity: [v] }],
                "mix-blend": [
                  { "mix-blend": [...O(), "plus-lighter", "plus-darker"] },
                ],
                "bg-blend": [{ "bg-blend": O() }],
                filter: [{ filter: ["", "none"] }],
                blur: [{ blur: [n] }],
                brightness: [{ brightness: [i] }],
                contrast: [{ contrast: [u] }],
                "drop-shadow": [{ "drop-shadow": ["", "none", S2, S1] }],
                grayscale: [{ grayscale: [c] }],
                "hue-rotate": [{ "hue-rotate": [d] }],
                invert: [{ invert: [h] }],
                saturate: [{ saturate: [w] }],
                sepia: [{ sepia: [S] }],
                "backdrop-filter": [{ "backdrop-filter": ["", "none"] }],
                "backdrop-blur": [{ "backdrop-blur": [n] }],
                "backdrop-brightness": [{ "backdrop-brightness": [i] }],
                "backdrop-contrast": [{ "backdrop-contrast": [u] }],
                "backdrop-grayscale": [{ "backdrop-grayscale": [c] }],
                "backdrop-hue-rotate": [{ "backdrop-hue-rotate": [d] }],
                "backdrop-invert": [{ "backdrop-invert": [h] }],
                "backdrop-opacity": [{ "backdrop-opacity": [v] }],
                "backdrop-saturate": [{ "backdrop-saturate": [w] }],
                "backdrop-sepia": [{ "backdrop-sepia": [S] }],
                "border-collapse": [{ border: ["collapse", "separate"] }],
                "border-spacing": [{ "border-spacing": [o] }],
                "border-spacing-x": [{ "border-spacing-x": [o] }],
                "border-spacing-y": [{ "border-spacing-y": [o] }],
                "table-layout": [{ table: ["auto", "fixed"] }],
                caption: [{ caption: ["top", "bottom"] }],
                transition: [
                  {
                    transition: [
                      "none",
                      "all",
                      "",
                      "colors",
                      "opacity",
                      "shadow",
                      "transform",
                      S1,
                    ],
                  },
                ],
                duration: [{ duration: F() }],
                ease: [{ ease: ["linear", "in", "out", "in-out", S1] }],
                delay: [{ delay: F() }],
                animate: [
                  { animate: ["none", "spin", "ping", "pulse", "bounce", S1] },
                ],
                transform: [{ transform: ["", "gpu", "none"] }],
                scale: [{ scale: [T] }],
                "scale-x": [{ "scale-x": [T] }],
                "scale-y": [{ "scale-y": [T] }],
                rotate: [{ rotate: [SZ, S1] }],
                "translate-x": [{ "translate-x": [x] }],
                "translate-y": [{ "translate-y": [x] }],
                "skew-x": [{ "skew-x": [E] }],
                "skew-y": [{ "skew-y": [E] }],
                "transform-origin": [
                  {
                    origin: [
                      "center",
                      "top",
                      "top-right",
                      "right",
                      "bottom-right",
                      "bottom",
                      "bottom-left",
                      "left",
                      "top-left",
                      S1,
                    ],
                  },
                ],
                accent: [{ accent: ["auto", e] }],
                appearance: [{ appearance: ["none", "auto"] }],
                cursor: [
                  {
                    cursor: [
                      "auto",
                      "default",
                      "pointer",
                      "wait",
                      "text",
                      "move",
                      "help",
                      "not-allowed",
                      "none",
                      "context-menu",
                      "progress",
                      "cell",
                      "crosshair",
                      "vertical-text",
                      "alias",
                      "copy",
                      "no-drop",
                      "grab",
                      "grabbing",
                      "all-scroll",
                      "col-resize",
                      "row-resize",
                      "n-resize",
                      "e-resize",
                      "s-resize",
                      "w-resize",
                      "ne-resize",
                      "nw-resize",
                      "se-resize",
                      "sw-resize",
                      "ew-resize",
                      "ns-resize",
                      "nesw-resize",
                      "nwse-resize",
                      "zoom-in",
                      "zoom-out",
                      S1,
                    ],
                  },
                ],
                "caret-color": [{ caret: [e] }],
                "pointer-events": [{ "pointer-events": ["none", "auto"] }],
                resize: [{ resize: ["none", "y", "x", ""] }],
                "scroll-behavior": [{ scroll: ["auto", "smooth"] }],
                "scroll-m": [{ "scroll-m": _() }],
                "scroll-mx": [{ "scroll-mx": _() }],
                "scroll-my": [{ "scroll-my": _() }],
                "scroll-ms": [{ "scroll-ms": _() }],
                "scroll-me": [{ "scroll-me": _() }],
                "scroll-mt": [{ "scroll-mt": _() }],
                "scroll-mr": [{ "scroll-mr": _() }],
                "scroll-mb": [{ "scroll-mb": _() }],
                "scroll-ml": [{ "scroll-ml": _() }],
                "scroll-p": [{ "scroll-p": _() }],
                "scroll-px": [{ "scroll-px": _() }],
                "scroll-py": [{ "scroll-py": _() }],
                "scroll-ps": [{ "scroll-ps": _() }],
                "scroll-pe": [{ "scroll-pe": _() }],
                "scroll-pt": [{ "scroll-pt": _() }],
                "scroll-pr": [{ "scroll-pr": _() }],
                "scroll-pb": [{ "scroll-pb": _() }],
                "scroll-pl": [{ "scroll-pl": _() }],
                "snap-align": [
                  { snap: ["start", "end", "center", "align-none"] },
                ],
                "snap-stop": [{ snap: ["normal", "always"] }],
                "snap-type": [{ snap: ["none", "x", "y", "both"] }],
                "snap-strictness": [{ snap: ["mandatory", "proximity"] }],
                touch: [{ touch: ["auto", "none", "manipulation"] }],
                "touch-x": [{ "touch-pan": ["x", "left", "right"] }],
                "touch-y": [{ "touch-pan": ["y", "up", "down"] }],
                "touch-pz": ["touch-pinch-zoom"],
                select: [{ select: ["none", "text", "all", "auto"] }],
                "will-change": [
                  {
                    "will-change": [
                      "auto",
                      "scroll",
                      "contents",
                      "transform",
                      S1,
                    ],
                  },
                ],
                fill: [{ fill: [e, "none"] }],
                "stroke-w": [{ stroke: [SQ, SY, SJ] }],
                stroke: [{ stroke: [e, "none"] }],
                sr: ["sr-only", "not-sr-only"],
                "forced-color-adjust": [
                  { "forced-color-adjust": ["auto", "none"] },
                ],
              },
              conflictingClassGroups: {
                overflow: ["overflow-x", "overflow-y"],
                overscroll: ["overscroll-x", "overscroll-y"],
                inset: [
                  "inset-x",
                  "inset-y",
                  "start",
                  "end",
                  "top",
                  "right",
                  "bottom",
                  "left",
                ],
                "inset-x": ["right", "left"],
                "inset-y": ["top", "bottom"],
                flex: ["basis", "grow", "shrink"],
                gap: ["gap-x", "gap-y"],
                p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"],
                px: ["pr", "pl"],
                py: ["pt", "pb"],
                m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"],
                mx: ["mr", "ml"],
                my: ["mt", "mb"],
                size: ["w", "h"],
                "font-size": ["leading"],
                "fvn-normal": [
                  "fvn-ordinal",
                  "fvn-slashed-zero",
                  "fvn-figure",
                  "fvn-spacing",
                  "fvn-fraction",
                ],
                "fvn-ordinal": ["fvn-normal"],
                "fvn-slashed-zero": ["fvn-normal"],
                "fvn-figure": ["fvn-normal"],
                "fvn-spacing": ["fvn-normal"],
                "fvn-fraction": ["fvn-normal"],
                "line-clamp": ["display", "overflow"],
                rounded: [
                  "rounded-s",
                  "rounded-e",
                  "rounded-t",
                  "rounded-r",
                  "rounded-b",
                  "rounded-l",
                  "rounded-ss",
                  "rounded-se",
                  "rounded-ee",
                  "rounded-es",
                  "rounded-tl",
                  "rounded-tr",
                  "rounded-br",
                  "rounded-bl",
                ],
                "rounded-s": ["rounded-ss", "rounded-es"],
                "rounded-e": ["rounded-se", "rounded-ee"],
                "rounded-t": ["rounded-tl", "rounded-tr"],
                "rounded-r": ["rounded-tr", "rounded-br"],
                "rounded-b": ["rounded-br", "rounded-bl"],
                "rounded-l": ["rounded-tl", "rounded-bl"],
                "border-spacing": ["border-spacing-x", "border-spacing-y"],
                "border-w": [
                  "border-w-s",
                  "border-w-e",
                  "border-w-t",
                  "border-w-r",
                  "border-w-b",
                  "border-w-l",
                ],
                "border-w-x": ["border-w-r", "border-w-l"],
                "border-w-y": ["border-w-t", "border-w-b"],
                "border-color": [
                  "border-color-s",
                  "border-color-e",
                  "border-color-t",
                  "border-color-r",
                  "border-color-b",
                  "border-color-l",
                ],
                "border-color-x": ["border-color-r", "border-color-l"],
                "border-color-y": ["border-color-t", "border-color-b"],
                "scroll-m": [
                  "scroll-mx",
                  "scroll-my",
                  "scroll-ms",
                  "scroll-me",
                  "scroll-mt",
                  "scroll-mr",
                  "scroll-mb",
                  "scroll-ml",
                ],
                "scroll-mx": ["scroll-mr", "scroll-ml"],
                "scroll-my": ["scroll-mt", "scroll-mb"],
                "scroll-p": [
                  "scroll-px",
                  "scroll-py",
                  "scroll-ps",
                  "scroll-pe",
                  "scroll-pt",
                  "scroll-pr",
                  "scroll-pb",
                  "scroll-pl",
                ],
                "scroll-px": ["scroll-pr", "scroll-pl"],
                "scroll-py": ["scroll-pt", "scroll-pb"],
                touch: ["touch-x", "touch-y", "touch-pz"],
                "touch-x": ["touch"],
                "touch-y": ["touch"],
                "touch-pz": ["touch"],
              },
              conflictingClassGroupModifiers: { "font-size": ["leading"] },
            };
          },
          Ea = (
            e,
            {
              cacheSize: r,
              prefix: n,
              separator: i,
              experimentalParseClassName: s,
              extend: a = {},
              override: o = {},
            },
          ) => {
            for (let a in (Eo(e, "cacheSize", r),
            Eo(e, "prefix", n),
            Eo(e, "separator", i),
            Eo(e, "experimentalParseClassName", s),
            o))
              El(e[a], o[a]);
            for (let r in a) Eu(e[r], a[r]);
            return e;
          },
          Eo = (e, r, n) => {
            void 0 !== n && (e[r] = n);
          },
          El = (e, r) => {
            if (r) for (let n in r) Eo(e, n, r[n]);
          },
          Eu = (e, r) => {
            if (r)
              for (let n in r) {
                let i = r[n];
                void 0 !== i && (e[n] = (e[n] || []).concat(i));
              }
          },
          Ec = (e, ...r) =>
            "function" == typeof e
              ? SU(Es, e, ...r)
              : SU(() => Ea(Es(), e), ...r),
          Ed = SU(Es);
        var Eh = { twMerge: !0, twMergeConfig: {}, responsiveVariants: !1 },
          Ef = (e) => e || void 0,
          Ep = (...e) => Ef(Sm(e).filter(Boolean).join(" ")),
          Eg = null,
          Em = {},
          Ey = !1,
          Ev =
            (...e) =>
            (r) =>
              r.twMerge
                ? ((!Eg || Ey) &&
                    ((Ey = !1),
                    (Eg = Sf(Em)
                      ? Ed
                      : Ec({
                          ...Em,
                          extend: {
                            theme: Em.theme,
                            classGroups: Em.classGroups,
                            conflictingClassGroupModifiers:
                              Em.conflictingClassGroupModifiers,
                            conflictingClassGroups: Em.conflictingClassGroups,
                            ...Em.extend,
                          },
                        }))),
                  Ef(Eg(Ep(e))))
                : Ep(e),
          Eb = (e, r) => {
            for (let n in r)
              e.hasOwnProperty(n) ? (e[n] = Ep(e[n], r[n])) : (e[n] = r[n]);
            return e;
          },
          Ew = (e, r) => {
            let {
                extend: n = null,
                slots: i = {},
                variants: s = {},
                compoundVariants: a = [],
                compoundSlots: o = [],
                defaultVariants: l = {},
              } = e,
              u = { ...Eh, ...r },
              c =
                null != n && n.base
                  ? Ep(n.base, null == e ? void 0 : e.base)
                  : null == e
                    ? void 0
                    : e.base,
              d =
                null != n && n.variants && !Sf(n.variants)
                  ? Sv(s, n.variants)
                  : s,
              h =
                null != n && n.defaultVariants && !Sf(n.defaultVariants)
                  ? { ...n.defaultVariants, ...l }
                  : l;
            Sf(u.twMergeConfig) ||
              Sp(u.twMergeConfig, Em) ||
              ((Ey = !0), (Em = u.twMergeConfig));
            let f = Sf(null == n ? void 0 : n.slots),
              p = Sf(i)
                ? {}
                : {
                    base: Ep(
                      null == e ? void 0 : e.base,
                      f && (null == n ? void 0 : n.base),
                    ),
                    ...i,
                  },
              g = f
                ? p
                : Eb(
                    { ...(null == n ? void 0 : n.slots) },
                    Sf(p) ? { base: null == e ? void 0 : e.base } : p,
                  ),
              m = Sf(null == n ? void 0 : n.compoundVariants)
                ? a
                : Sy(null == n ? void 0 : n.compoundVariants, a),
              y = (e) => {
                if (Sf(d) && Sf(i) && f)
                  return Ev(
                    c,
                    null == e ? void 0 : e.class,
                    null == e ? void 0 : e.className,
                  )(u);
                if (m && !Array.isArray(m))
                  throw TypeError(
                    `The "compoundVariants" prop must be an array. Received: ${typeof m}`,
                  );
                if (o && !Array.isArray(o))
                  throw TypeError(
                    `The "compoundSlots" prop must be an array. Received: ${typeof o}`,
                  );
                let r = (e, r, n = [], i) => {
                    let s = n;
                    if ("string" == typeof r)
                      s = s.concat(
                        Sb(r)
                          .split(" ")
                          .map((r) => `${e}:${r}`),
                      );
                    else if (Array.isArray(r))
                      s = s.concat(
                        r.reduce((r, n) => r.concat(`${e}:${n}`), []),
                      );
                    else if ("object" == typeof r && "string" == typeof i) {
                      for (let n in r)
                        if (r.hasOwnProperty(n) && n === i) {
                          let a = r[n];
                          if (a && "string" == typeof a) {
                            let r = Sb(a);
                            s[i]
                              ? (s[i] = s[i].concat(
                                  r.split(" ").map((r) => `${e}:${r}`),
                                ))
                              : (s[i] = r.split(" ").map((r) => `${e}:${r}`));
                          } else
                            Array.isArray(a) &&
                              a.length > 0 &&
                              (s[i] = a.reduce(
                                (r, n) => r.concat(`${e}:${n}`),
                                [],
                              ));
                        }
                    }
                    return s;
                  },
                  n = (n, i = d, s = null, a = null) => {
                    var o;
                    let l = i[n];
                    if (!l || Sf(l)) return null;
                    let c =
                      null != (o = null == a ? void 0 : a[n])
                        ? o
                        : null == e
                          ? void 0
                          : e[n];
                    if (null === c) return null;
                    let f = Sh(c),
                      p =
                        (Array.isArray(u.responsiveVariants) &&
                          u.responsiveVariants.length > 0) ||
                        !0 === u.responsiveVariants,
                      g = null == h ? void 0 : h[n],
                      m = [];
                    if ("object" == typeof f && p)
                      for (let [e, n] of Object.entries(f)) {
                        let i = l[n];
                        if ("initial" === e) {
                          g = n;
                          continue;
                        }
                        (Array.isArray(u.responsiveVariants) &&
                          !u.responsiveVariants.includes(e)) ||
                          (m = r(e, i, m, s));
                      }
                    let y =
                      l[
                        (null != f && "object" != typeof f ? f : Sh(g)) ||
                          "false"
                      ];
                    return "object" == typeof m && "string" == typeof s && m[s]
                      ? Eb(m, y)
                      : m.length > 0
                        ? (m.push(y), "base" === s ? m.join(" ") : m)
                        : y;
                  },
                  s = () => (d ? Object.keys(d).map((e) => n(e, d)) : null),
                  a = (e, r) => {
                    if (!d || "object" != typeof d) return null;
                    let i = [];
                    for (let s in d) {
                      let a = n(s, d, e, r),
                        o =
                          "base" === e && "string" == typeof a ? a : a && a[e];
                      o && (i[i.length] = o);
                    }
                    return i;
                  },
                  l = {};
                for (let r in e) void 0 !== e[r] && (l[r] = e[r]);
                let p = (r, n) => {
                    var i;
                    let s =
                      "object" == typeof (null == e ? void 0 : e[r])
                        ? { [r]: null == (i = e[r]) ? void 0 : i.initial }
                        : {};
                    return { ...h, ...l, ...s, ...n };
                  },
                  y = (e = [], r) => {
                    let n = [];
                    for (let { class: i, className: s, ...a } of e) {
                      let e = !0;
                      for (let [n, i] of Object.entries(a)) {
                        let s = p(n, r)[n];
                        if (Array.isArray(i)) {
                          if (!i.includes(s)) {
                            e = !1;
                            break;
                          }
                        } else {
                          let r = (e) => null == e || !1 === e;
                          if (r(i) && r(s)) continue;
                          if (s !== i) {
                            e = !1;
                            break;
                          }
                        }
                      }
                      e && (i && n.push(i), s && n.push(s));
                    }
                    return n;
                  },
                  v = (e) => {
                    let r = y(m, e);
                    if (!Array.isArray(r)) return r;
                    let n = {};
                    for (let e of r)
                      if (
                        ("string" == typeof e && (n.base = Ev(n.base, e)(u)),
                        "object" == typeof e)
                      )
                        for (let [r, i] of Object.entries(e))
                          n[r] = Ev(n[r], i)(u);
                    return n;
                  },
                  b = (e) => {
                    if (o.length < 1) return null;
                    let r = {};
                    for (let {
                      slots: n = [],
                      class: i,
                      className: s,
                      ...a
                    } of o) {
                      if (!Sf(a)) {
                        let r = !0;
                        for (let n of Object.keys(a)) {
                          let i = p(n, e)[n];
                          if (
                            void 0 === i ||
                            (Array.isArray(a[n])
                              ? !a[n].includes(i)
                              : a[n] !== i)
                          ) {
                            r = !1;
                            break;
                          }
                        }
                        if (!r) continue;
                      }
                      for (let e of n) (r[e] = r[e] || []), r[e].push([i, s]);
                    }
                    return r;
                  };
                if (!Sf(i) || !f) {
                  let e = {};
                  if ("object" == typeof g && !Sf(g))
                    for (let r of Object.keys(g))
                      e[r] = (e) => {
                        var n, i;
                        return Ev(
                          g[r],
                          a(r, e),
                          (null != (n = v(e)) ? n : [])[r],
                          (null != (i = b(e)) ? i : [])[r],
                          null == e ? void 0 : e.class,
                          null == e ? void 0 : e.className,
                        )(u);
                      };
                  return e;
                }
                return Ev(
                  c,
                  s(),
                  y(m),
                  null == e ? void 0 : e.class,
                  null == e ? void 0 : e.className,
                )(u);
              },
              v = () => {
                if (!(!d || "object" != typeof d)) return Object.keys(d);
              };
            return (
              (y.variantKeys = v()),
              (y.extend = n),
              (y.base = c),
              (y.slots = g),
              (y.variants = d),
              (y.defaultVariants = h),
              (y.compoundSlots = o),
              (y.compoundVariants = m),
              y
            );
          },
          ET = (e, r) => {
            var n, i, s;
            return Ew(e, {
              ...r,
              twMerge: null == (n = null == r ? void 0 : r.twMerge) || n,
              twMergeConfig: {
                ...(null == r ? void 0 : r.twMergeConfig),
                theme: {
                  ...(null == (i = null == r ? void 0 : r.twMergeConfig)
                    ? void 0
                    : i.theme),
                  ...Sd.theme,
                },
                classGroups: {
                  ...(null == (s = null == r ? void 0 : r.twMergeConfig)
                    ? void 0
                    : s.classGroups),
                  ...Sd.classGroups,
                },
              },
            });
          },
          ES = [
            "outline-none",
            "data-[focus-visible=true]:z-10",
            "data-[focus-visible=true]:outline-2",
            "data-[focus-visible=true]:outline-focus",
            "data-[focus-visible=true]:outline-offset-2",
          ],
          EE = [
            "outline-none",
            "group-data-[focus-visible=true]:z-10",
            "group-data-[focus-visible=true]:ring-2",
            "group-data-[focus-visible=true]:ring-focus",
            "group-data-[focus-visible=true]:ring-offset-2",
            "group-data-[focus-visible=true]:ring-offset-background",
          ],
          EC = {
            default: [
              "[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]",
            ],
            primary: [
              "[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]",
            ],
            secondary: [
              "[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]",
            ],
            success: [
              "[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]",
            ],
            warning: [
              "[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]",
            ],
            danger: [
              "[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]",
            ],
          },
          Ex = ET({ base: ["w-full", "p-1", "min-w-[200px]"] });
        function EA(e) {
          return Array.isArray(e);
        }
        function EI(e) {
          return EA(e) && 0 === e.length;
        }
        function Ek(e) {
          let r = typeof e;
          return null != e && ("object" === r || "function" === r) && !EA(e);
        }
        function E_(e) {
          return Ek(e) && 0 === Object.keys(e).length;
        }
        function ER(e) {
          return EA(e) ? EI(e) : Ek(e) ? E_(e) : null == e || "" === e;
        }
        function ED(e) {
          return "function" == typeof e;
        }
        ET({
          slots: {
            base: [
              "flex",
              "group",
              "gap-2",
              "items-center",
              "justify-between",
              "relative",
              "px-2",
              "py-1.5",
              "w-full",
              "h-full",
              "box-border",
              "rounded-small",
              "outline-none",
              "cursor-pointer",
              "tap-highlight-transparent",
              "data-[pressed=true]:opacity-70",
              ...ES,
              "data-[focus-visible=true]:dark:ring-offset-background-content1",
            ],
            wrapper: "w-full flex flex-col items-start justify-center",
            title: "flex-1 text-small font-normal truncate",
            description: [
              "w-full",
              "text-tiny",
              "text-foreground-500",
              "group-hover:text-current",
            ],
            selectedIcon: ["text-inherit", "w-3", "h-3", "flex-shrink-0"],
            shortcut: [
              "px-1",
              "py-0.5",
              "rounded",
              "font-sans",
              "text-foreground-500",
              "text-tiny",
              "border-small",
              "border-default-300",
              "group-hover:border-current",
            ],
          },
          variants: {
            variant: {
              solid: { base: "" },
              bordered: {
                base: "border-medium border-transparent bg-transparent",
              },
              light: { base: "bg-transparent" },
              faded: {
                base: "border-small border-transparent hover:border-default data-[hover=true]:bg-default-100",
              },
              flat: { base: "" },
              shadow: { base: "data-[hover=true]:shadow-lg" },
            },
            color: {
              default: {},
              primary: {},
              secondary: {},
              success: {},
              warning: {},
              danger: {},
            },
            isDisabled: {
              true: { base: "opacity-disabled pointer-events-none" },
            },
            disableAnimation: { true: {}, false: {} },
          },
          defaultVariants: { variant: "solid", color: "default" },
          compoundVariants: [
            {
              variant: "solid",
              color: "default",
              class: {
                base: "data-[hover=true]:bg-default data-[hover=true]:text-default-foreground",
              },
            },
            {
              variant: "solid",
              color: "primary",
              class: {
                base: "data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground",
              },
            },
            {
              variant: "solid",
              color: "secondary",
              class: {
                base: "data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground",
              },
            },
            {
              variant: "solid",
              color: "success",
              class: {
                base: "data-[hover=true]:bg-success data-[hover=true]:text-success-foreground",
              },
            },
            {
              variant: "solid",
              color: "warning",
              class: {
                base: "data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground",
              },
            },
            {
              variant: "solid",
              color: "danger",
              class: {
                base: "data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground",
              },
            },
            {
              variant: "shadow",
              color: "default",
              class: {
                base: "data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground",
              },
            },
            {
              variant: "shadow",
              color: "primary",
              class: {
                base: "data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground",
              },
            },
            {
              variant: "shadow",
              color: "secondary",
              class: {
                base: "data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground",
              },
            },
            {
              variant: "shadow",
              color: "success",
              class: {
                base: "data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground",
              },
            },
            {
              variant: "shadow",
              color: "warning",
              class: {
                base: "data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground",
              },
            },
            {
              variant: "shadow",
              color: "danger",
              class: {
                base: "data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground",
              },
            },
            {
              variant: "bordered",
              color: "default",
              class: { base: "data-[hover=true]:border-default" },
            },
            {
              variant: "bordered",
              color: "primary",
              class: {
                base: "data-[hover=true]:border-primary data-[hover=true]:text-primary",
              },
            },
            {
              variant: "bordered",
              color: "secondary",
              class: {
                base: "data-[hover=true]:border-secondary data-[hover=true]:text-secondary",
              },
            },
            {
              variant: "bordered",
              color: "success",
              class: {
                base: "data-[hover=true]:border-success data-[hover=true]:text-success",
              },
            },
            {
              variant: "bordered",
              color: "warning",
              class: {
                base: "data-[hover=true]:border-warning data-[hover=true]:text-warning",
              },
            },
            {
              variant: "bordered",
              color: "danger",
              class: {
                base: "data-[hover=true]:border-danger data-[hover=true]:text-danger",
              },
            },
            {
              variant: "flat",
              color: "default",
              class: {
                base: "data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground",
              },
            },
            {
              variant: "flat",
              color: "primary",
              class: {
                base: "data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary",
              },
            },
            {
              variant: "flat",
              color: "secondary",
              class: {
                base: "data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary",
              },
            },
            {
              variant: "flat",
              color: "success",
              class: {
                base: "data-[hover=true]:bg-success/20 data-[hover=true]:text-success ",
              },
            },
            {
              variant: "flat",
              color: "warning",
              class: {
                base: "data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning",
              },
            },
            {
              variant: "flat",
              color: "danger",
              class: {
                base: "data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger",
              },
            },
            {
              variant: "faded",
              color: "default",
              class: { base: "data-[hover=true]:text-default-foreground" },
            },
            {
              variant: "faded",
              color: "primary",
              class: { base: "data-[hover=true]:text-primary" },
            },
            {
              variant: "faded",
              color: "secondary",
              class: { base: "data-[hover=true]:text-secondary" },
            },
            {
              variant: "faded",
              color: "success",
              class: { base: "data-[hover=true]:text-success" },
            },
            {
              variant: "faded",
              color: "warning",
              class: { base: "data-[hover=true]:text-warning" },
            },
            {
              variant: "faded",
              color: "danger",
              class: { base: "data-[hover=true]:text-danger" },
            },
            {
              variant: "light",
              color: "default",
              class: { base: "data-[hover=true]:text-default-500" },
            },
            {
              variant: "light",
              color: "primary",
              class: { base: "data-[hover=true]:text-primary" },
            },
            {
              variant: "light",
              color: "secondary",
              class: { base: "data-[hover=true]:text-secondary" },
            },
            {
              variant: "light",
              color: "success",
              class: { base: "data-[hover=true]:text-success" },
            },
            {
              variant: "light",
              color: "warning",
              class: { base: "data-[hover=true]:text-warning" },
            },
            {
              variant: "light",
              color: "danger",
              class: { base: "data-[hover=true]:text-danger" },
            },
          ],
        }),
          ET({
            slots: {
              base: "relative mb-2",
              heading: "pl-1 text-tiny text-foreground-500",
              group: "data-[has-title=true]:pt-1",
              divider: "mt-2",
            },
          }),
          ET({ base: "w-full flex flex-col gap-0.5 p-1" });
        var EP = (e) => (e ? "true" : void 0);
        function EN(e) {
          var r,
            n,
            i = "";
          if ("string" == typeof e || "number" == typeof e) i += e;
          else if ("object" == typeof e) {
            if (Array.isArray(e))
              for (r = 0; r < e.length; r++)
                e[r] && (n = EN(e[r])) && (i && (i += " "), (i += n));
            else for (r in e) e[r] && (i && (i += " "), (i += r));
          }
          return i;
        }
        function EO(...e) {
          for (var r, n, i = 0, s = ""; i < e.length; )
            (r = e[i++]) && (n = EN(r)) && (s && (s += " "), (s += n));
          return s;
        }
        var EM = (...e) => {
          let r = " ";
          for (let n of e)
            if ("string" == typeof n && n.length > 0) {
              r = n;
              break;
            }
          return r;
        };
        function EL(e) {
          return `${e}-${Math.floor(1e6 * Math.random())}`;
        }
        function EB(e) {
          for (let r in e) r.startsWith("on") && delete e[r];
          return e;
        }
        function EF(e) {
          if (!e || "object" != typeof e) return "";
          try {
            return JSON.stringify(e);
          } catch (e) {
            return "";
          }
        }
        function EU(e, r, n) {
          return Math.min(Math.max(e, r), n);
        }
        var Ej = {};
        function Ez(e, r, ...n) {
          let i = r ? ` [${r}]` : " ",
            s = `[Hero UI]${i}: ${e}`;
          "undefined" != typeof console && (Ej[s] || (Ej[s] = !0));
        }
        function EV(e, r) {
          if (null != e) {
            if (ED(e)) {
              e(r);
              return;
            }
            try {
              e.current = r;
            } catch (n) {
              throw Error(`Cannot assign value '${r}' to ref '${e}'`);
            }
          }
        }
        function EK(...e) {
          return (r) => {
            e.forEach((e) => EV(e, r));
          };
        }
        var Eq = (e, r, n) => {
          let i = null == r ? void 0 : r.current;
          if (!i || !i.contains(e)) {
            let e = document.querySelectorAll(
                "body > span[data-focus-scope-start]",
              ),
              r = [];
            if (
              (e.forEach((e) => {
                r.push(e.nextElementSibling);
              }),
              1 === r.length)
            )
              return n.close(), !1;
          }
          return !i || !i.contains(e);
        };
        function EH(...e) {
          return (...r) => {
            for (let n of e) "function" == typeof n && n(...r);
          };
        }
        let E$ = "undefined" != typeof document ? T.useLayoutEffect : () => {},
          EW = !!(
            "undefined" != typeof window &&
            window.document &&
            window.document.createElement
          ),
          EG = new Map();
        function EQ(e) {
          let [r, n] = (0, T.useState)(e),
            i = (0, T.useRef)(null),
            s = (0, wB.Cc)(r),
            a = (0, T.useCallback)((e) => {
              i.current = e;
            }, []);
          return (
            EW &&
              (EG.has(s) && !EG.get(s).includes(a)
                ? EG.set(s, [...EG.get(s), a])
                : EG.set(s, [a])),
            E$(() => {
              let e = s;
              return () => {
                EG.delete(e);
              };
            }, [s]),
            (0, T.useEffect)(() => {
              let e = i.current;
              e && ((i.current = null), n(e));
            }),
            s
          );
        }
        function EY(e, r) {
          if (e === r) return e;
          let n = EG.get(e);
          if (n) return n.forEach((e) => e(r)), r;
          let i = EG.get(r);
          return i ? (i.forEach((r) => r(e)), e) : r;
        }
        function EX(...e) {
          let r = { ...e[0] };
          for (let n = 1; n < e.length; n++) {
            let i = e[n];
            for (let e in i) {
              let n = r[e],
                s = i[e];
              "function" == typeof n &&
              "function" == typeof s &&
              "o" === e[0] &&
              "n" === e[1] &&
              e.charCodeAt(2) >= 65 &&
              90 >= e.charCodeAt(2)
                ? (r[e] = EH(n, s))
                : ("className" === e || "UNSAFE_className" === e) &&
                    "string" == typeof n &&
                    "string" == typeof s
                  ? (r[e] = (0, T_.A)(n, s))
                  : "id" === e && n && s
                    ? (r.id = EY(n, s))
                    : (r[e] = void 0 !== s ? s : n);
            }
          }
          return r;
        }
        var EJ = (e, r) => {
            if (e) {
              let n = Array.isArray(e.children)
                ? e.children
                : [...((null == e ? void 0 : e.items) || [])];
              if (n && n.length)
                return (
                  n.find((e) => {
                    if (e && e.key === r) return e;
                  }) || {}
                );
            }
            return null;
          },
          EZ = (e, r, n) => {
            let i = n || EJ(e, r);
            return i && i.props && "closeOnSelect" in i.props
              ? i.props.closeOnSelect
              : null == e
                ? void 0
                : e.closeOnSelect;
          };
        function E0(e) {
          var r;
          let n = b5(),
            {
              as: i,
              triggerRef: s,
              isOpen: a,
              defaultOpen: o,
              onOpenChange: l,
              isDisabled: u,
              type: c = "menu",
              trigger: d = "press",
              placement: h = "bottom",
              closeOnSelect: f = !0,
              shouldBlockScroll: p = !0,
              classNames: g,
              disableAnimation: m = null !=
                (r = null == n ? void 0 : n.disableAnimation) && r,
              onClose: y,
              className: v,
              ...b
            } = e,
            w = i || "div",
            S = (0, T.useRef)(null),
            E = s || S,
            C = (0, T.useRef)(null),
            x = (0, T.useRef)(null),
            A = b7({
              trigger: d,
              isOpen: a,
              defaultOpen: o,
              onOpenChange: (e) => {
                null == l || l(e), e || null == y || y();
              },
            }),
            { menuTriggerProps: I, menuProps: k } = Su(
              { type: c, trigger: d, isDisabled: u },
              A,
              E,
            ),
            _ = (0, T.useMemo)(() => Ex({ className: v }), [v]),
            R = (e) => {
              (void 0 === e || e) && f && A.close();
            },
            D = (e = {}) => {
              let r = EX(b, e);
              return {
                state: A,
                placement: h,
                ref: x,
                disableAnimation: m,
                shouldBlockScroll: p,
                scrollRef: C,
                triggerRef: E,
                ...r,
                classNames: {
                  ...g,
                  ...e.classNames,
                  content: EO(_, null == g ? void 0 : g.content, e.className),
                },
                shouldCloseOnInteractOutside: (
                  null == r ? void 0 : r.shouldCloseOnInteractOutside
                )
                  ? r.shouldCloseOnInteractOutside
                  : (e) => Eq(e, S, A),
              };
            },
            P = (e = {}) => {
              let { onPress: r, onPressStart: n, ...i } = I;
              return EX(i, { isDisabled: u }, e);
            },
            N = (e, r = null) => ({
              ref: EK(r, C),
              menuProps: k,
              closeOnSelect: f,
              ...EX(e, {
                onAction: (r, n) => {
                  R(EZ(e, r, n));
                },
                onClose: A.close,
              }),
            });
          return {
            Component: w,
            menuRef: C,
            menuProps: k,
            closeOnSelect: f,
            onClose: A.close,
            autoFocus: A.focusStrategy || !0,
            disableAnimation: m,
            getPopoverProps: D,
            getMenuProps: N,
            getMenuTriggerProps: P,
          };
        }
        var [E1, E2] = b1({
          name: "PopoverContext",
          errorMessage:
            "usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`",
        });
        let E3 = (e) => {
            var r;
            return null !== (r = null == e ? void 0 : e.ownerDocument) &&
              void 0 !== r
              ? r
              : document;
          },
          E4 = (e) =>
            e && "window" in e && e.window === e
              ? e
              : E3(e).defaultView || window,
          E5 = new Map(),
          E6 = new Set();
        function E8() {
          if ("undefined" == typeof window) return;
          function e(e) {
            return "propertyName" in e;
          }
          let r = (r) => {
              if (!e(r) || !r.target) return;
              let i = E5.get(r.target);
              i ||
                ((i = new Set()),
                E5.set(r.target, i),
                r.target.addEventListener("transitioncancel", n, { once: !0 })),
                i.add(r.propertyName);
            },
            n = (r) => {
              if (!e(r) || !r.target) return;
              let i = E5.get(r.target);
              if (
                i &&
                (i.delete(r.propertyName),
                0 === i.size &&
                  (r.target.removeEventListener("transitioncancel", n),
                  E5.delete(r.target)),
                0 === E5.size)
              ) {
                for (let e of E6) e();
                E6.clear();
              }
            };
          document.body.addEventListener("transitionrun", r),
            document.body.addEventListener("transitionend", n);
        }
        function E7(e) {
          requestAnimationFrame(() => {
            0 === E5.size ? e() : E6.add(e);
          });
        }
        function E9(e) {
          if (Ct()) e.focus({ preventScroll: !0 });
          else {
            let r = Cr(e);
            e.focus(), Cn(r);
          }
        }
        "undefined" != typeof document &&
          ("loading" !== document.readyState
            ? E8()
            : document.addEventListener("DOMContentLoaded", E8));
        let Ce = null;
        function Ct() {
          if (null == Ce) {
            Ce = !1;
            try {
              document.createElement("div").focus({
                get preventScroll() {
                  return (Ce = !0), !0;
                },
              });
            } catch {}
          }
          return Ce;
        }
        function Cr(e) {
          let r = e.parentNode,
            n = [],
            i = document.scrollingElement || document.documentElement;
          for (; r instanceof HTMLElement && r !== i; )
            (r.offsetHeight < r.scrollHeight ||
              r.offsetWidth < r.scrollWidth) &&
              n.push({
                element: r,
                scrollTop: r.scrollTop,
                scrollLeft: r.scrollLeft,
              }),
              (r = r.parentNode);
          return (
            i instanceof HTMLElement &&
              n.push({
                element: i,
                scrollTop: i.scrollTop,
                scrollLeft: i.scrollLeft,
              }),
            n
          );
        }
        function Cn(e) {
          for (let { element: r, scrollTop: n, scrollLeft: i } of e)
            (r.scrollTop = n), (r.scrollLeft = i);
        }
        function Ci(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            ((null === (r = window.navigator.userAgentData) || void 0 === r
              ? void 0
              : r.brands.some((r) => e.test(r.brand))) ||
              e.test(window.navigator.userAgent))
          );
        }
        function Cs(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            e.test(
              (null === (r = window.navigator.userAgentData) || void 0 === r
                ? void 0
                : r.platform) || window.navigator.platform,
            )
          );
        }
        function Ca(e) {
          let r = null;
          return () => (null == r && (r = e()), r);
        }
        let Co = Ca(function () {
            return Cs(/^Mac/i);
          }),
          Cl = Ca(function () {
            return Cs(/^iPhone/i);
          }),
          Cu = Ca(function () {
            return Cs(/^iPad/i) || (Co() && navigator.maxTouchPoints > 1);
          }),
          Cc = Ca(function () {
            return Cl() || Cu();
          });
        Ca(function () {
          return Co() || Cc();
        });
        let Cd = Ca(function () {
            return Ci(/AppleWebKit/i) && !Ch();
          }),
          Ch = Ca(function () {
            return Ci(/Chrome/i);
          }),
          Cf = Ca(function () {
            return Ci(/Android/i);
          }),
          Cp = Ca(function () {
            return Ci(/Firefox/i);
          });
        function Cg(e) {
          return (
            (0 === e.mozInputSource && !!e.isTrusted) ||
            (Cf() && e.pointerType
              ? "click" === e.type && 1 === e.buttons
              : 0 === e.detail && !e.pointerType)
          );
        }
        function Cm(e) {
          return (
            (!Cf() && 0 === e.width && 0 === e.height) ||
            (1 === e.width &&
              1 === e.height &&
              0 === e.pressure &&
              0 === e.detail &&
              "mouse" === e.pointerType)
          );
        }
        let Cy = null,
          Cv = new Set(),
          Cb = new Map(),
          Cw = !1,
          CT = !1,
          CS = { Tab: !0, Escape: !0 };
        function CE(e, r) {
          for (let n of Cv) n(e, r);
        }
        function CC(e) {
          return !(
            e.metaKey ||
            (!Co() && e.altKey) ||
            e.ctrlKey ||
            "Control" === e.key ||
            "Shift" === e.key ||
            "Meta" === e.key
          );
        }
        function Cx(e) {
          (Cw = !0), CC(e) && ((Cy = "keyboard"), CE("keyboard", e));
        }
        function CA(e) {
          (Cy = "pointer"),
            ("mousedown" === e.type || "pointerdown" === e.type) &&
              ((Cw = !0), CE("pointer", e));
        }
        function CI(e) {
          Cg(e) && ((Cw = !0), (Cy = "virtual"));
        }
        function Ck(e) {
          e.target !== window &&
            e.target !== document &&
            (Cw || CT || ((Cy = "virtual"), CE("virtual", e)),
            (Cw = !1),
            (CT = !1));
        }
        function C_() {
          (Cw = !1), (CT = !0);
        }
        function CR(e) {
          if ("undefined" == typeof window || Cb.get(E4(e))) return;
          let r = E4(e),
            n = E3(e),
            i = r.HTMLElement.prototype.focus;
          (r.HTMLElement.prototype.focus = function () {
            (Cw = !0), i.apply(this, arguments);
          }),
            n.addEventListener("keydown", Cx, !0),
            n.addEventListener("keyup", Cx, !0),
            n.addEventListener("click", CI, !0),
            r.addEventListener("focus", Ck, !0),
            r.addEventListener("blur", C_, !1),
            "undefined" != typeof PointerEvent
              ? (n.addEventListener("pointerdown", CA, !0),
                n.addEventListener("pointermove", CA, !0),
                n.addEventListener("pointerup", CA, !0))
              : (n.addEventListener("mousedown", CA, !0),
                n.addEventListener("mousemove", CA, !0),
                n.addEventListener("mouseup", CA, !0)),
            r.addEventListener(
              "beforeunload",
              () => {
                CD(e);
              },
              { once: !0 },
            ),
            Cb.set(r, { focus: i });
        }
        let CD = (e, r) => {
          let n = E4(e),
            i = E3(e);
          r && i.removeEventListener("DOMContentLoaded", r),
            Cb.has(n) &&
              ((n.HTMLElement.prototype.focus = Cb.get(n).focus),
              i.removeEventListener("keydown", Cx, !0),
              i.removeEventListener("keyup", Cx, !0),
              i.removeEventListener("click", CI, !0),
              n.removeEventListener("focus", Ck, !0),
              n.removeEventListener("blur", C_, !1),
              "undefined" != typeof PointerEvent
                ? (i.removeEventListener("pointerdown", CA, !0),
                  i.removeEventListener("pointermove", CA, !0),
                  i.removeEventListener("pointerup", CA, !0))
                : (i.removeEventListener("mousedown", CA, !0),
                  i.removeEventListener("mousemove", CA, !0),
                  i.removeEventListener("mouseup", CA, !0)),
              Cb.delete(n));
        };
        function CP(e) {
          let r;
          let n = E3(e);
          return (
            "loading" !== n.readyState
              ? CR(e)
              : ((r = () => {
                  CR(e);
                }),
                n.addEventListener("DOMContentLoaded", r)),
            () => CD(e, r)
          );
        }
        function CN() {
          return "pointer" !== Cy;
        }
        function CO() {
          return Cy;
        }
        "undefined" != typeof document && CP();
        let CM = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function CL(e, r, n) {
          var i;
          let s =
              "undefined" != typeof window
                ? E4(null == n ? void 0 : n.target).HTMLInputElement
                : HTMLInputElement,
            a =
              "undefined" != typeof window
                ? E4(null == n ? void 0 : n.target).HTMLTextAreaElement
                : HTMLTextAreaElement,
            o =
              "undefined" != typeof window
                ? E4(null == n ? void 0 : n.target).HTMLElement
                : HTMLElement,
            l =
              "undefined" != typeof window
                ? E4(null == n ? void 0 : n.target).KeyboardEvent
                : KeyboardEvent;
          return !(
            (e =
              e ||
              ((null == n ? void 0 : n.target) instanceof s &&
                !CM.has(
                  null == n
                    ? void 0
                    : null === (i = n.target) || void 0 === i
                      ? void 0
                      : i.type,
                )) ||
              (null == n ? void 0 : n.target) instanceof a ||
              ((null == n ? void 0 : n.target) instanceof o &&
                (null == n ? void 0 : n.target.isContentEditable))) &&
            "keyboard" === r &&
            n instanceof l &&
            !CS[n.key]
          );
        }
        function CB(e, r, n) {
          CR(),
            (0, T.useEffect)(() => {
              let r = (r, i) => {
                CL(!!(null == n ? void 0 : n.isTextInput), r, i) && e(CN());
              };
              return (
                Cv.add(r),
                () => {
                  Cv.delete(r);
                }
              );
            }, r);
        }
        function CF(e) {
          let r = E3(e);
          if ("virtual" === CO()) {
            let n = r.activeElement;
            E7(() => {
              r.activeElement === n && e.isConnected && E9(e);
            });
          } else E9(e);
        }
        function CU(e) {
          let r = E4(e);
          if (!(e instanceof r.HTMLElement) && !(e instanceof r.SVGElement))
            return !1;
          let { display: n, visibility: i } = e.style,
            s = "none" !== n && "hidden" !== i && "collapse" !== i;
          if (s) {
            let { getComputedStyle: r } = e.ownerDocument.defaultView,
              { display: n, visibility: i } = r(e);
            s = "none" !== n && "hidden" !== i && "collapse" !== i;
          }
          return s;
        }
        function Cj(e, r) {
          return (
            !e.hasAttribute("hidden") &&
            !e.hasAttribute("data-react-aria-prevent-focus") &&
            ("DETAILS" !== e.nodeName ||
              !r ||
              "SUMMARY" === r.nodeName ||
              e.hasAttribute("open"))
          );
        }
        function Cz(e, r) {
          return (
            "#comment" !== e.nodeName &&
            CU(e) &&
            Cj(e, r) &&
            (!e.parentElement || Cz(e.parentElement, e))
          );
        }
        let CV = T.createContext(null),
          CK = "react-aria-focus-scope-restore",
          Cq = null;
        function CH(e) {
          let { children: r, contain: n, restoreFocus: i, autoFocus: s } = e,
            a = (0, T.useRef)(null),
            o = (0, T.useRef)(null),
            l = (0, T.useRef)([]),
            { parentNode: u } = (0, T.useContext)(CV) || {},
            c = (0, T.useMemo)(() => new xi({ scopeRef: l }), [l]);
          E$(() => {
            let e = u || xs.root;
            if (xs.getTreeNode(e.scopeRef) && Cq && !C3(Cq, e.scopeRef)) {
              let r = xs.getTreeNode(Cq);
              r && (e = r);
            }
            e.addChild(c), xs.addNode(c);
          }, [c, u]),
            E$(() => {
              let e = xs.getTreeNode(l);
              e && (e.contain = !!n);
            }, [n]),
            E$(() => {
              var e;
              let r =
                  null === (e = a.current) || void 0 === e
                    ? void 0
                    : e.nextSibling,
                n = [],
                i = (e) => e.stopPropagation();
              for (; r && r !== o.current; )
                n.push(r), r.addEventListener(CK, i), (r = r.nextSibling);
              return (
                (l.current = n),
                () => {
                  for (let e of n) e.removeEventListener(CK, i);
                }
              );
            }, [r]),
            C7(l, i, n),
            CJ(l, n),
            xe(l, i, n),
            C8(l, s),
            (0, T.useEffect)(() => {
              let e = E3(l.current ? l.current[0] : void 0).activeElement,
                r = null;
              if (C0(e, l.current)) {
                for (let n of xs.traverse())
                  n.scopeRef && C0(e, n.scopeRef.current) && (r = n);
                r === xs.getTreeNode(l) && (Cq = r.scopeRef);
              }
            }, [l]),
            E$(
              () => () => {
                var e, r, n;
                let i =
                  null !==
                    (n =
                      null === (r = xs.getTreeNode(l)) || void 0 === r
                        ? void 0
                        : null === (e = r.parent) || void 0 === e
                          ? void 0
                          : e.scopeRef) && void 0 !== n
                    ? n
                    : null;
                (l === Cq || C3(l, Cq)) &&
                  (!i || xs.getTreeNode(i)) &&
                  (Cq = i),
                  xs.removeTreeNode(l);
              },
              [l],
            );
          let d = (0, T.useMemo)(() => C$(l), []),
            h = (0, T.useMemo)(
              () => ({ focusManager: d, parentNode: c }),
              [c, d],
            );
          return T.createElement(
            CV.Provider,
            { value: h },
            T.createElement("span", {
              "data-focus-scope-start": !0,
              hidden: !0,
              ref: a,
            }),
            r,
            T.createElement("span", {
              "data-focus-scope-end": !0,
              hidden: !0,
              ref: o,
            }),
          );
        }
        function C$(e) {
          return {
            focusNext(r = {}) {
              let n = e.current,
                { from: i, tabbable: s, wrap: a, accept: o } = r,
                l = i || E3(n[0]).activeElement,
                u = n[0].previousElementSibling,
                c = xr(CY(n), { tabbable: s, accept: o }, n);
              c.currentNode = C0(l, n) ? l : u;
              let d = c.nextNode();
              return (
                !d && a && ((c.currentNode = u), (d = c.nextNode())),
                d && C4(d, !0),
                d
              );
            },
            focusPrevious(r = {}) {
              let n = e.current,
                { from: i, tabbable: s, wrap: a, accept: o } = r,
                l = i || E3(n[0]).activeElement,
                u = n[n.length - 1].nextElementSibling,
                c = xr(CY(n), { tabbable: s, accept: o }, n);
              c.currentNode = C0(l, n) ? l : u;
              let d = c.previousNode();
              return (
                !d && a && ((c.currentNode = u), (d = c.previousNode())),
                d && C4(d, !0),
                d
              );
            },
            focusFirst(r = {}) {
              let n = e.current,
                { tabbable: i, accept: s } = r,
                a = xr(CY(n), { tabbable: i, accept: s }, n);
              a.currentNode = n[0].previousElementSibling;
              let o = a.nextNode();
              return o && C4(o, !0), o;
            },
            focusLast(r = {}) {
              let n = e.current,
                { tabbable: i, accept: s } = r,
                a = xr(CY(n), { tabbable: i, accept: s }, n);
              a.currentNode = n[n.length - 1].nextElementSibling;
              let o = a.previousNode();
              return o && C4(o, !0), o;
            },
          };
        }
        let CW = [
            "input:not([disabled]):not([type=hidden])",
            "select:not([disabled])",
            "textarea:not([disabled])",
            "button:not([disabled])",
            "a[href]",
            "area[href]",
            "summary",
            "iframe",
            "object",
            "embed",
            "audio[controls]",
            "video[controls]",
            '[contenteditable]:not([contenteditable^="false"])',
          ],
          CG =
            CW.join(":not([hidden]),") +
            ",[tabindex]:not([disabled]):not([hidden])";
        CW.push('[tabindex]:not([tabindex="-1"]):not([disabled])');
        let CQ = CW.join(':not([hidden]):not([tabindex="-1"]),');
        function CY(e) {
          return e[0].parentElement;
        }
        function CX(e) {
          let r = xs.getTreeNode(Cq);
          for (; r && r.scopeRef !== e; ) {
            if (r.contain) return !1;
            r = r.parent;
          }
          return !0;
        }
        function CJ(e, r) {
          let n = (0, T.useRef)(void 0),
            i = (0, T.useRef)(void 0);
          E$(() => {
            let s = e.current;
            if (!r) {
              i.current &&
                (cancelAnimationFrame(i.current), (i.current = void 0));
              return;
            }
            let a = E3(s ? s[0] : void 0),
              o = (r) => {
                if (
                  "Tab" !== r.key ||
                  r.altKey ||
                  r.ctrlKey ||
                  r.metaKey ||
                  !CX(e) ||
                  r.isComposing
                )
                  return;
                let n = a.activeElement,
                  i = e.current;
                if (!i || !C0(n, i)) return;
                let s = xr(CY(i), { tabbable: !0 }, i);
                if (!n) return;
                s.currentNode = n;
                let o = r.shiftKey ? s.previousNode() : s.nextNode();
                o ||
                  ((s.currentNode = r.shiftKey
                    ? i[i.length - 1].nextElementSibling
                    : i[0].previousElementSibling),
                  (o = r.shiftKey ? s.previousNode() : s.nextNode())),
                  r.preventDefault(),
                  o && C4(o, !0);
              },
              l = (r) => {
                (!Cq || C3(Cq, e)) && C0(r.target, e.current)
                  ? ((Cq = e), (n.current = r.target))
                  : CX(e) && !C1(r.target, e)
                    ? n.current
                      ? n.current.focus()
                      : Cq && Cq.current && C6(Cq.current)
                    : CX(e) && (n.current = r.target);
              },
              u = (r) => {
                i.current && cancelAnimationFrame(i.current),
                  (i.current = requestAnimationFrame(() => {
                    let i = CO();
                    if (
                      !(("virtual" === i || null === i) && Cf() && Ch()) &&
                      a.activeElement &&
                      CX(e) &&
                      !C1(a.activeElement, e)
                    ) {
                      if (((Cq = e), a.body.contains(r.target))) {
                        var s;
                        (n.current = r.target),
                          null === (s = n.current) || void 0 === s || s.focus();
                      } else Cq.current && C6(Cq.current);
                    }
                  }));
              };
            return (
              a.addEventListener("keydown", o, !1),
              a.addEventListener("focusin", l, !1),
              null == s ||
                s.forEach((e) => e.addEventListener("focusin", l, !1)),
              null == s ||
                s.forEach((e) => e.addEventListener("focusout", u, !1)),
              () => {
                a.removeEventListener("keydown", o, !1),
                  a.removeEventListener("focusin", l, !1),
                  null == s ||
                    s.forEach((e) => e.removeEventListener("focusin", l, !1)),
                  null == s ||
                    s.forEach((e) => e.removeEventListener("focusout", u, !1));
              }
            );
          }, [e, r]),
            E$(
              () => () => {
                i.current && cancelAnimationFrame(i.current);
              },
              [i],
            );
        }
        function CZ(e) {
          return C1(e);
        }
        function C0(e, r) {
          return !!e && !!r && r.some((r) => r.contains(e));
        }
        function C1(e, r = null) {
          if (e instanceof Element && e.closest("[data-react-aria-top-layer]"))
            return !0;
          for (let { scopeRef: n } of xs.traverse(xs.getTreeNode(r)))
            if (n && C0(e, n.current)) return !0;
          return !1;
        }
        function C2(e) {
          return C1(e, Cq);
        }
        function C3(e, r) {
          var n;
          let i =
            null === (n = xs.getTreeNode(r)) || void 0 === n
              ? void 0
              : n.parent;
          for (; i; ) {
            if (i.scopeRef === e) return !0;
            i = i.parent;
          }
          return !1;
        }
        function C4(e, r = !1) {
          if (null == e || r) {
            if (null != e)
              try {
                e.focus();
              } catch {}
          } else
            try {
              CF(e);
            } catch {}
        }
        function C5(e, r = !0) {
          let n = e[0].previousElementSibling,
            i = CY(e),
            s = xr(i, { tabbable: r }, e);
          s.currentNode = n;
          let a = s.nextNode();
          return (
            r &&
              !a &&
              (((s = xr((i = CY(e)), { tabbable: !1 }, e)).currentNode = n),
              (a = s.nextNode())),
            a
          );
        }
        function C6(e, r = !0) {
          C4(C5(e, r));
        }
        function C8(e, r) {
          let n = T.useRef(r);
          (0, T.useEffect)(() => {
            n.current &&
              ((Cq = e),
              !C0(
                E3(e.current ? e.current[0] : void 0).activeElement,
                Cq.current,
              ) &&
                e.current &&
                C6(e.current)),
              (n.current = !1);
          }, [e]);
        }
        function C7(e, r, n) {
          E$(() => {
            if (r || n) return;
            let i = e.current,
              s = E3(i ? i[0] : void 0),
              a = (r) => {
                let n = r.target;
                C0(n, e.current) ? (Cq = e) : CZ(n) || (Cq = null);
              };
            return (
              s.addEventListener("focusin", a, !1),
              null == i ||
                i.forEach((e) => e.addEventListener("focusin", a, !1)),
              () => {
                s.removeEventListener("focusin", a, !1),
                  null == i ||
                    i.forEach((e) => e.removeEventListener("focusin", a, !1));
              }
            );
          }, [e, r, n]);
        }
        function C9(e) {
          let r = xs.getTreeNode(Cq);
          for (; r && r.scopeRef !== e; ) {
            if (r.nodeToRestore) return !1;
            r = r.parent;
          }
          return (null == r ? void 0 : r.scopeRef) === e;
        }
        function xe(e, r, n) {
          let i = (0, T.useRef)(
            "undefined" != typeof document
              ? E3(e.current ? e.current[0] : void 0).activeElement
              : null,
          );
          E$(() => {
            let i = e.current,
              s = E3(i ? i[0] : void 0);
            if (!r || n) return;
            let a = () => {
              (!Cq || C3(Cq, e)) && C0(s.activeElement, e.current) && (Cq = e);
            };
            return (
              s.addEventListener("focusin", a, !1),
              null == i ||
                i.forEach((e) => e.addEventListener("focusin", a, !1)),
              () => {
                s.removeEventListener("focusin", a, !1),
                  null == i ||
                    i.forEach((e) => e.removeEventListener("focusin", a, !1));
              }
            );
          }, [e, n]),
            E$(() => {
              let i = E3(e.current ? e.current[0] : void 0);
              if (!r) return;
              let s = (r) => {
                if (
                  "Tab" !== r.key ||
                  r.altKey ||
                  r.ctrlKey ||
                  r.metaKey ||
                  !CX(e) ||
                  r.isComposing
                )
                  return;
                let n = i.activeElement;
                if (!C1(n, e) || !C9(e)) return;
                let s = xs.getTreeNode(e);
                if (!s) return;
                let a = s.nodeToRestore,
                  o = xr(i.body, { tabbable: !0 });
                o.currentNode = n;
                let l = r.shiftKey ? o.previousNode() : o.nextNode();
                if (
                  ((a && i.body.contains(a) && a !== i.body) ||
                    ((a = void 0), (s.nodeToRestore = void 0)),
                  (!l || !C1(l, e)) && a)
                ) {
                  o.currentNode = a;
                  do l = r.shiftKey ? o.previousNode() : o.nextNode();
                  while (C1(l, e));
                  r.preventDefault(),
                    r.stopPropagation(),
                    l ? C4(l, !0) : CZ(a) ? C4(a, !0) : n.blur();
                }
              };
              return (
                n || i.addEventListener("keydown", s, !0),
                () => {
                  n || i.removeEventListener("keydown", s, !0);
                }
              );
            }, [e, r, n]),
            E$(() => {
              var n;
              let s = E3(e.current ? e.current[0] : void 0);
              if (!r) return;
              let a = xs.getTreeNode(e);
              if (a)
                return (
                  (a.nodeToRestore =
                    null !== (n = i.current) && void 0 !== n ? n : void 0),
                  () => {
                    let n = xs.getTreeNode(e);
                    if (!n) return;
                    let i = n.nodeToRestore;
                    if (
                      r &&
                      i &&
                      ((s.activeElement && C1(s.activeElement, e)) ||
                        (s.activeElement === s.body && C9(e)))
                    ) {
                      let r = xs.clone();
                      requestAnimationFrame(() => {
                        if (s.activeElement === s.body) {
                          let n = r.getTreeNode(e);
                          for (; n; ) {
                            if (
                              n.nodeToRestore &&
                              n.nodeToRestore.isConnected
                            ) {
                              xt(n.nodeToRestore);
                              return;
                            }
                            n = n.parent;
                          }
                          for (n = r.getTreeNode(e); n; ) {
                            if (
                              n.scopeRef &&
                              n.scopeRef.current &&
                              xs.getTreeNode(n.scopeRef)
                            ) {
                              xt(C5(n.scopeRef.current, !0));
                              return;
                            }
                            n = n.parent;
                          }
                        }
                      });
                    }
                  }
                );
            }, [e, r]);
        }
        function xt(e) {
          e.dispatchEvent(
            new CustomEvent(CK, { bubbles: !0, cancelable: !0 }),
          ) && C4(e);
        }
        function xr(e, r, n) {
          let i = (null == r ? void 0 : r.tabbable) ? CQ : CG,
            s = E3(e).createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
              acceptNode(e) {
                var s;
                return (
                  null == r
                    ? void 0
                    : null === (s = r.from) || void 0 === s
                      ? void 0
                      : s.contains(e)
                )
                  ? NodeFilter.FILTER_REJECT
                  : e.matches(i) &&
                      Cz(e) &&
                      (!n || C0(e, n)) &&
                      (!(null == r ? void 0 : r.accept) || r.accept(e))
                    ? NodeFilter.FILTER_ACCEPT
                    : NodeFilter.FILTER_SKIP;
              },
            });
          return (null == r ? void 0 : r.from) && (s.currentNode = r.from), s;
        }
        class xn {
          get size() {
            return this.fastMap.size;
          }
          getTreeNode(e) {
            return this.fastMap.get(e);
          }
          addTreeNode(e, r, n) {
            let i = this.fastMap.get(null != r ? r : null);
            if (!i) return;
            let s = new xi({ scopeRef: e });
            i.addChild(s),
              (s.parent = i),
              this.fastMap.set(e, s),
              n && (s.nodeToRestore = n);
          }
          addNode(e) {
            this.fastMap.set(e.scopeRef, e);
          }
          removeTreeNode(e) {
            if (null === e) return;
            let r = this.fastMap.get(e);
            if (!r) return;
            let n = r.parent;
            for (let e of this.traverse())
              e !== r &&
                r.nodeToRestore &&
                e.nodeToRestore &&
                r.scopeRef &&
                r.scopeRef.current &&
                C0(e.nodeToRestore, r.scopeRef.current) &&
                (e.nodeToRestore = r.nodeToRestore);
            let i = r.children;
            n &&
              (n.removeChild(r),
              i.size > 0 && i.forEach((e) => n && n.addChild(e))),
              this.fastMap.delete(r.scopeRef);
          }
          *traverse(e = this.root) {
            if ((null != e.scopeRef && (yield e), e.children.size > 0))
              for (let r of e.children) yield* this.traverse(r);
          }
          clone() {
            var e, r;
            let n = new xn();
            for (let i of this.traverse())
              n.addTreeNode(
                i.scopeRef,
                null !==
                  (r =
                    null === (e = i.parent) || void 0 === e
                      ? void 0
                      : e.scopeRef) && void 0 !== r
                  ? r
                  : null,
                i.nodeToRestore,
              );
            return n;
          }
          constructor() {
            (this.fastMap = new Map()),
              (this.root = new xi({ scopeRef: null })),
              this.fastMap.set(null, this.root);
          }
        }
        class xi {
          addChild(e) {
            this.children.add(e), (e.parent = this);
          }
          removeChild(e) {
            this.children.delete(e), (e.parent = void 0);
          }
          constructor(e) {
            (this.children = new Set()),
              (this.contain = !1),
              (this.scopeRef = e.scopeRef);
          }
        }
        let xs = new xn();
        function xa(e) {
          let r = (0, T.useRef)(null);
          return (
            E$(() => {
              r.current = e;
            }, [e]),
            (0, T.useCallback)((...e) => {
              let n = r.current;
              return null == n ? void 0 : n(...e);
            }, [])
          );
        }
        function xo(e) {
          let {
              ref: r,
              onInteractOutside: n,
              isDisabled: i,
              onInteractOutsideStart: s,
            } = e,
            a = (0, T.useRef)({
              isPointerDown: !1,
              ignoreEmulatedMouseEvents: !1,
            }),
            o = xa((e) => {
              n && xl(e, r) && (s && s(e), (a.current.isPointerDown = !0));
            }),
            l = xa((e) => {
              n && n(e);
            });
          (0, T.useEffect)(() => {
            let e = a.current;
            if (i) return;
            let n = E3(r.current);
            if ("undefined" != typeof PointerEvent) {
              let i = (n) => {
                e.isPointerDown && xl(n, r) && l(n), (e.isPointerDown = !1);
              };
              return (
                n.addEventListener("pointerdown", o, !0),
                n.addEventListener("pointerup", i, !0),
                () => {
                  n.removeEventListener("pointerdown", o, !0),
                    n.removeEventListener("pointerup", i, !0);
                }
              );
            }
            {
              let i = (n) => {
                  e.ignoreEmulatedMouseEvents
                    ? (e.ignoreEmulatedMouseEvents = !1)
                    : e.isPointerDown && xl(n, r) && l(n),
                    (e.isPointerDown = !1);
                },
                s = (n) => {
                  (e.ignoreEmulatedMouseEvents = !0),
                    e.isPointerDown && xl(n, r) && l(n),
                    (e.isPointerDown = !1);
                };
              return (
                n.addEventListener("mousedown", o, !0),
                n.addEventListener("mouseup", i, !0),
                n.addEventListener("touchstart", o, !0),
                n.addEventListener("touchend", s, !0),
                () => {
                  n.removeEventListener("mousedown", o, !0),
                    n.removeEventListener("mouseup", i, !0),
                    n.removeEventListener("touchstart", o, !0),
                    n.removeEventListener("touchend", s, !0);
                }
              );
            }
          }, [r, i, o, l]);
        }
        function xl(e, r) {
          if (e.button > 0) return !1;
          if (e.target) {
            let r = e.target.ownerDocument;
            if (
              !r ||
              !r.documentElement.contains(e.target) ||
              e.target.closest("[data-react-aria-top-layer]")
            )
              return !1;
          }
          return r.current && !r.current.contains(e.target);
        }
        class xu {
          isDefaultPrevented() {
            return this.nativeEvent.defaultPrevented;
          }
          preventDefault() {
            (this.defaultPrevented = !0), this.nativeEvent.preventDefault();
          }
          stopPropagation() {
            this.nativeEvent.stopPropagation(),
              (this.isPropagationStopped = () => !0);
          }
          isPropagationStopped() {
            return !1;
          }
          persist() {}
          constructor(e, r) {
            (this.nativeEvent = r),
              (this.target = r.target),
              (this.currentTarget = r.currentTarget),
              (this.relatedTarget = r.relatedTarget),
              (this.bubbles = r.bubbles),
              (this.cancelable = r.cancelable),
              (this.defaultPrevented = r.defaultPrevented),
              (this.eventPhase = r.eventPhase),
              (this.isTrusted = r.isTrusted),
              (this.timeStamp = r.timeStamp),
              (this.type = e);
          }
        }
        function xc(e) {
          let r = (0, T.useRef)({ isFocused: !1, observer: null });
          E$(() => {
            let e = r.current;
            return () => {
              e.observer && (e.observer.disconnect(), (e.observer = null));
            };
          }, []);
          let n = xa((r) => {
            null == e || e(r);
          });
          return (0, T.useCallback)(
            (e) => {
              if (
                e.target instanceof HTMLButtonElement ||
                e.target instanceof HTMLInputElement ||
                e.target instanceof HTMLTextAreaElement ||
                e.target instanceof HTMLSelectElement
              ) {
                r.current.isFocused = !0;
                let i = e.target,
                  s = (e) => {
                    (r.current.isFocused = !1),
                      i.disabled && n(new xu("blur", e)),
                      r.current.observer &&
                        (r.current.observer.disconnect(),
                        (r.current.observer = null));
                  };
                i.addEventListener("focusout", s, { once: !0 }),
                  (r.current.observer = new MutationObserver(() => {
                    if (r.current.isFocused && i.disabled) {
                      var e;
                      null === (e = r.current.observer) ||
                        void 0 === e ||
                        e.disconnect();
                      let n =
                        i === document.activeElement
                          ? null
                          : document.activeElement;
                      i.dispatchEvent(
                        new FocusEvent("blur", { relatedTarget: n }),
                      ),
                        i.dispatchEvent(
                          new FocusEvent("focusout", {
                            bubbles: !0,
                            relatedTarget: n,
                          }),
                        );
                    }
                  })),
                  r.current.observer.observe(i, {
                    attributes: !0,
                    attributeFilter: ["disabled"],
                  });
              }
            },
            [n],
          );
        }
        function xd(e) {
          let {
              isDisabled: r,
              onBlurWithin: n,
              onFocusWithin: i,
              onFocusWithinChange: s,
            } = e,
            a = (0, T.useRef)({ isFocusWithin: !1 }),
            o = (0, T.useCallback)(
              (e) => {
                a.current.isFocusWithin &&
                  !e.currentTarget.contains(e.relatedTarget) &&
                  ((a.current.isFocusWithin = !1), n && n(e), s && s(!1));
              },
              [n, s, a],
            ),
            l = xc(o),
            u = (0, T.useCallback)(
              (e) => {
                a.current.isFocusWithin ||
                  document.activeElement !== e.target ||
                  (i && i(e), s && s(!0), (a.current.isFocusWithin = !0), l(e));
              },
              [i, s, l],
            );
          return r
            ? { focusWithinProps: { onFocus: void 0, onBlur: void 0 } }
            : { focusWithinProps: { onFocus: u, onBlur: o } };
        }
        let xh = [];
        function xf(e, r) {
          let {
            onClose: n,
            shouldCloseOnBlur: i,
            isOpen: s,
            isDismissable: a = !1,
            isKeyboardDismissDisabled: o = !1,
            shouldCloseOnInteractOutside: l,
          } = e;
          (0, T.useEffect)(
            () => (
              s && xh.push(r),
              () => {
                let e = xh.indexOf(r);
                e >= 0 && xh.splice(e, 1);
              }
            ),
            [s, r],
          );
          let u = () => {
              xh[xh.length - 1] === r && n && n();
            },
            c = (e) => {
              (!l || l(e.target)) &&
                xh[xh.length - 1] === r &&
                (e.stopPropagation(), e.preventDefault());
            },
            d = (e) => {
              (!l || l(e.target)) &&
                (xh[xh.length - 1] === r &&
                  (e.stopPropagation(), e.preventDefault()),
                u());
            },
            h = (e) => {
              "Escape" !== e.key ||
                o ||
                e.nativeEvent.isComposing ||
                (e.stopPropagation(), e.preventDefault(), u());
            };
          xo({
            ref: r,
            onInteractOutside: a && s ? d : void 0,
            onInteractOutsideStart: c,
          });
          let { focusWithinProps: f } = xd({
              isDisabled: !i,
              onBlurWithin: (e) => {
                !(!e.relatedTarget || C2(e.relatedTarget)) &&
                  (!l || l(e.relatedTarget)) &&
                  (null == n || n());
              },
            }),
            p = (e) => {
              e.target === e.currentTarget && e.preventDefault();
            };
          return {
            overlayProps: { onKeyDown: h, ...f },
            underlayProps: { onPointerDown: p },
          };
        }
        function xp(e, r = -1 / 0, n = 1 / 0) {
          return Math.min(Math.max(e, r), n);
        }
        let xg = { top: "top", bottom: "top", left: "left", right: "left" },
          xm = { top: "bottom", bottom: "top", left: "right", right: "left" },
          xy = { top: "left", left: "top" },
          xv = { top: "height", left: "width" },
          xb = { width: "totalWidth", height: "totalHeight" },
          xw = {},
          xT = "undefined" != typeof document ? window.visualViewport : null;
        function xS(e) {
          var r, n, i, s, a;
          let o = 0,
            l = 0,
            u = 0,
            c = 0,
            d = 0,
            h = 0,
            f = {},
            p =
              (null !== (r = null == xT ? void 0 : xT.scale) && void 0 !== r
                ? r
                : 1) > 1;
          if ("BODY" === e.tagName) {
            let r = document.documentElement;
            (u = r.clientWidth),
              (c = r.clientHeight),
              (o =
                null !== (n = null == xT ? void 0 : xT.width) && void 0 !== n
                  ? n
                  : u),
              (l =
                null !== (i = null == xT ? void 0 : xT.height) && void 0 !== i
                  ? i
                  : c),
              (f.top = r.scrollTop || e.scrollTop),
              (f.left = r.scrollLeft || e.scrollLeft),
              xT && ((d = xT.offsetTop), (h = xT.offsetLeft));
          } else
            ({ width: o, height: l, top: d, left: h } = xP(e)),
              (f.top = e.scrollTop),
              (f.left = e.scrollLeft),
              (u = o),
              (c = l);
          return (
            Cd() &&
              ("BODY" === e.tagName || "HTML" === e.tagName) &&
              p &&
              ((f.top = 0),
              (f.left = 0),
              (d =
                null !== (s = null == xT ? void 0 : xT.pageTop) && void 0 !== s
                  ? s
                  : 0),
              (h =
                null !== (a = null == xT ? void 0 : xT.pageLeft) && void 0 !== a
                  ? a
                  : 0)),
            {
              width: o,
              height: l,
              totalWidth: u,
              totalHeight: c,
              scroll: f,
              top: d,
              left: h,
            }
          );
        }
        function xE(e) {
          return {
            top: e.scrollTop,
            left: e.scrollLeft,
            width: e.scrollWidth,
            height: e.scrollHeight,
          };
        }
        function xC(e, r, n, i, s, a, o) {
          var l;
          let u = null !== (l = s.scroll[e]) && void 0 !== l ? l : 0,
            c = i[xv[e]],
            d = i.scroll[xg[e]] + a,
            h = c + i.scroll[xg[e]] - a,
            f = r - u + o[e] - i[xg[e]],
            p = r - u + n + o[e] - i[xg[e]];
          return f < d ? d - f : p > h ? Math.max(h - p, d - f) : 0;
        }
        function xx(e) {
          let r = window.getComputedStyle(e);
          return {
            top: parseInt(r.marginTop, 10) || 0,
            bottom: parseInt(r.marginBottom, 10) || 0,
            left: parseInt(r.marginLeft, 10) || 0,
            right: parseInt(r.marginRight, 10) || 0,
          };
        }
        function xA(e) {
          if (xw[e]) return xw[e];
          let [r, n] = e.split(" "),
            i = xg[r] || "right",
            s = xy[i];
          xg[n] || (n = "center");
          let a = xv[i],
            o = xv[s];
          return (
            (xw[e] = {
              placement: r,
              crossPlacement: n,
              axis: i,
              crossAxis: s,
              size: a,
              crossSize: o,
            }),
            xw[e]
          );
        }
        function xI(e, r, n, i, s, a, o, l, u, c) {
          var d, h, f, p, g;
          let {
              placement: m,
              crossPlacement: y,
              axis: v,
              crossAxis: b,
              size: w,
              crossSize: T,
            } = i,
            S = {};
          (S[b] = null !== (d = e[b]) && void 0 !== d ? d : 0),
            "center" === y
              ? (S[b] +=
                  ((null !== (h = e[T]) && void 0 !== h ? h : 0) -
                    (null !== (f = n[T]) && void 0 !== f ? f : 0)) /
                  2)
              : y !== b &&
                (S[b] +=
                  (null !== (p = e[T]) && void 0 !== p ? p : 0) -
                  (null !== (g = n[T]) && void 0 !== g ? g : 0)),
            (S[b] += a);
          let E = e[b] - n[T] + u + c,
            C = e[b] + e[T] - u - c;
          if (((S[b] = xp(S[b], E, C)), m === v)) {
            let n = l ? o[w] : r[xb[w]];
            S[xm[v]] = Math.floor(n - e[v] + s);
          } else S[v] = Math.floor(e[v] + e[w] + s);
          return S;
        }
        function xk(e, r, n, i, s, a, o, l) {
          var u, c, d, h, f, p, g;
          let m = i ? n.height : r[xb.height],
            y =
              null != e.top
                ? n.top + e.top
                : n.top +
                  (m - (null !== (u = e.bottom) && void 0 !== u ? u : 0) - o),
            v =
              "top" !== l
                ? Math.max(
                    0,
                    r.height +
                      r.top +
                      (null !== (c = r.scroll.top) && void 0 !== c ? c : 0) -
                      y -
                      ((null !== (d = s.top) && void 0 !== d ? d : 0) +
                        (null !== (h = s.bottom) && void 0 !== h ? h : 0) +
                        a),
                  )
                : Math.max(
                    0,
                    y +
                      o -
                      (r.top +
                        (null !== (f = r.scroll.top) && void 0 !== f ? f : 0)) -
                      ((null !== (p = s.top) && void 0 !== p ? p : 0) +
                        (null !== (g = s.bottom) && void 0 !== g ? g : 0) +
                        a),
                  );
          return Math.min(r.height - 2 * a, v);
        }
        function x_(e, r, n, i, s, a) {
          var o, l, u;
          let { placement: c, axis: d, size: h } = a;
          return c === d
            ? Math.max(
                0,
                n[d] -
                  e[d] -
                  (null !== (o = e.scroll[d]) && void 0 !== o ? o : 0) +
                  r[d] -
                  (null !== (l = i[d]) && void 0 !== l ? l : 0) -
                  i[xm[d]] -
                  s,
              )
            : Math.max(
                0,
                e[h] +
                  e[d] +
                  e.scroll[d] -
                  r[d] -
                  n[d] -
                  n[h] -
                  (null !== (u = i[d]) && void 0 !== u ? u : 0) -
                  i[xm[d]] -
                  s,
              );
        }
        function xR(e, r, n, i, s, a, o, l, u, c, d, h, f, p, g, m) {
          var y, v, b, w;
          let T = xA(e),
            {
              size: S,
              crossAxis: E,
              crossSize: C,
              placement: x,
              crossPlacement: A,
            } = T,
            I = xI(r, l, n, T, d, h, c, f, g, m),
            k = d,
            _ = x_(l, c, r, s, a + d, T);
          if (o && i[S] > _) {
            let e = xA(`${xm[x]} ${A}`),
              i = xI(r, l, n, e, d, h, c, f, g, m);
            x_(l, c, r, s, a + d, e) > _ && ((T = e), (I = i), (k = d));
          }
          let R = "bottom";
          "top" === T.axis
            ? "top" === T.placement
              ? (R = "top")
              : "bottom" === T.placement && (R = "bottom")
            : "top" === T.crossAxis &&
              ("top" === T.crossPlacement
                ? (R = "bottom")
                : "bottom" === T.crossPlacement && (R = "top"));
          let D = xC(E, I[E], n[C], l, u, a, c);
          I[E] += D;
          let P = xk(I, l, c, f, s, a, n.height, R);
          p && p < P && (P = p),
            (n.height = Math.min(n.height, P)),
            (D = xC(
              E,
              (I = xI(r, l, n, T, k, h, c, f, g, m))[E],
              n[C],
              l,
              u,
              a,
              c,
            )),
            (I[E] += D);
          let N = {},
            O = r[E] + 0.5 * r[C] - I[E] - s[xg[E]],
            M = g / 2 + m,
            L =
              "left" === xg[E]
                ? (null !== (y = s.left) && void 0 !== y ? y : 0) +
                  (null !== (v = s.right) && void 0 !== v ? v : 0)
                : (null !== (b = s.top) && void 0 !== b ? b : 0) +
                  (null !== (w = s.bottom) && void 0 !== w ? w : 0),
            B = n[C] - L - g / 2 - m,
            F = xp(
              O,
              r[E] + g / 2 - (I[E] + s[xg[E]]),
              r[E] + r[C] - g / 2 - (I[E] + s[xg[E]]),
            );
          return (
            (N[E] = xp(F, M, B)),
            {
              position: I,
              maxHeight: P,
              arrowOffsetLeft: N.left,
              arrowOffsetTop: N.top,
              placement: T.placement,
            }
          );
        }
        function xD(e) {
          var r, n, i, s;
          let {
              placement: a,
              targetNode: o,
              overlayNode: l,
              scrollNode: u,
              padding: c,
              shouldFlip: d,
              boundaryElement: h,
              offset: f,
              crossOffset: p,
              maxHeight: g,
              arrowSize: m = 0,
              arrowBoundaryOffset: y = 0,
            } = e,
            v = l instanceof HTMLElement ? xO(l) : document.documentElement,
            b = v === document.documentElement,
            w = window.getComputedStyle(v).position,
            T = !!w && "static" !== w,
            S = b ? xP(o) : xN(o, v);
          if (!b) {
            let { marginTop: e, marginLeft: r } = window.getComputedStyle(o);
            (S.top += parseInt(e, 10) || 0), (S.left += parseInt(r, 10) || 0);
          }
          let E = xP(l),
            C = xx(l);
          (E.width +=
            (null !== (r = C.left) && void 0 !== r ? r : 0) +
            (null !== (n = C.right) && void 0 !== n ? n : 0)),
            (E.height +=
              (null !== (i = C.top) && void 0 !== i ? i : 0) +
              (null !== (s = C.bottom) && void 0 !== s ? s : 0));
          let x = xE(u),
            A = xS(h),
            I = xS(v),
            k = "BODY" === h.tagName ? xP(v) : xN(v, h);
          return (
            "HTML" === v.tagName &&
              "BODY" === h.tagName &&
              ((I.scroll.top = 0), (I.scroll.left = 0)),
            xR(a, S, E, x, C, c, d, A, I, k, f, p, T, g, m, y)
          );
        }
        function xP(e) {
          let {
              top: r,
              left: n,
              width: i,
              height: s,
            } = e.getBoundingClientRect(),
            {
              scrollTop: a,
              scrollLeft: o,
              clientTop: l,
              clientLeft: u,
            } = document.documentElement;
          return { top: r + a - l, left: n + o - u, width: i, height: s };
        }
        function xN(e, r) {
          let n,
            i = window.getComputedStyle(e);
          if ("fixed" === i.position) {
            let {
              top: r,
              left: i,
              width: s,
              height: a,
            } = e.getBoundingClientRect();
            n = { top: r, left: i, width: s, height: a };
          } else {
            n = xP(e);
            let i = xP(r),
              s = window.getComputedStyle(r);
            (i.top += (parseInt(s.borderTopWidth, 10) || 0) - r.scrollTop),
              (i.left += (parseInt(s.borderLeftWidth, 10) || 0) - r.scrollLeft),
              (n.top -= i.top),
              (n.left -= i.left);
          }
          return (
            (n.top -= parseInt(i.marginTop, 10) || 0),
            (n.left -= parseInt(i.marginLeft, 10) || 0),
            n
          );
        }
        function xO(e) {
          let r = e.offsetParent;
          if (
            (r &&
              r === document.body &&
              "static" === window.getComputedStyle(r).position &&
              !xM(r) &&
              (r = document.documentElement),
            null == r)
          )
            for (r = e.parentElement; r && !xM(r); ) r = r.parentElement;
          return r || document.documentElement;
        }
        function xM(e) {
          let r = window.getComputedStyle(e);
          return (
            "none" !== r.transform ||
            /transform|perspective/.test(r.willChange) ||
            "none" !== r.filter ||
            "paint" === r.contain ||
            ("backdropFilter" in r && "none" !== r.backdropFilter) ||
            ("WebkitBackdropFilter" in r && "none" !== r.WebkitBackdropFilter)
          );
        }
        let xL = new WeakMap();
        function xB(e) {
          let { triggerRef: r, isOpen: n, onClose: i } = e;
          (0, T.useEffect)(() => {
            if (!n || null === i) return;
            let e = (e) => {
              let n = e.target;
              if (
                !r.current ||
                (n instanceof Node && !n.contains(r.current)) ||
                e.target instanceof HTMLInputElement ||
                e.target instanceof HTMLTextAreaElement
              )
                return;
              let s = i || xL.get(r.current);
              s && s();
            };
            return (
              window.addEventListener("scroll", e, !0),
              () => {
                window.removeEventListener("scroll", e, !0);
              }
            );
          }, [n, i, r]);
        }
        function xF() {
          return void 0 !== window.ResizeObserver;
        }
        function xU(e) {
          let { ref: r, box: n, onResize: i } = e;
          (0, T.useEffect)(() => {
            let e = null == r ? void 0 : r.current;
            if (e) {
              if (!xF())
                return (
                  window.addEventListener("resize", i, !1),
                  () => {
                    window.removeEventListener("resize", i, !1);
                  }
                );
              {
                let r = new window.ResizeObserver((e) => {
                  e.length && i();
                });
                return (
                  r.observe(e, { box: n }),
                  () => {
                    e && r.unobserve(e);
                  }
                );
              }
            }
          }, [i, r, n]);
        }
        let xj = new Set([
            "Arab",
            "Syrc",
            "Samr",
            "Mand",
            "Thaa",
            "Mend",
            "Nkoo",
            "Adlm",
            "Rohg",
            "Hebr",
          ]),
          xz = new Set([
            "ae",
            "ar",
            "arc",
            "bcc",
            "bqi",
            "ckb",
            "dv",
            "fa",
            "glk",
            "he",
            "ku",
            "mzn",
            "nqo",
            "pnb",
            "ps",
            "sd",
            "ug",
            "ur",
            "yi",
          ]);
        function xV(e) {
          if (Intl.Locale) {
            let r = new Intl.Locale(e).maximize(),
              n =
                "function" == typeof r.getTextInfo
                  ? r.getTextInfo()
                  : r.textInfo;
            if (n) return "rtl" === n.direction;
            if (r.script) return xj.has(r.script);
          }
          let r = e.split("-")[0];
          return xz.has(r);
        }
        let xK = Symbol.for("react-aria.i18n.locale");
        function xq() {
          let e =
            ("undefined" != typeof window && window[xK]) ||
            ("undefined" != typeof navigator &&
              (navigator.language || navigator.userLanguage)) ||
            "en-US";
          try {
            Intl.DateTimeFormat.supportedLocalesOf([e]);
          } catch {
            e = "en-US";
          }
          return { locale: e, direction: xV(e) ? "rtl" : "ltr" };
        }
        let xH = xq(),
          x$ = new Set();
        function xW() {
          for (let e of ((xH = xq()), x$)) e(xH);
        }
        function xG() {
          let e = (0, wB.wR)(),
            [r, n] = (0, T.useState)(xH);
          return ((0, T.useEffect)(
            () => (
              0 === x$.size && window.addEventListener("languagechange", xW),
              x$.add(n),
              () => {
                x$.delete(n),
                  0 === x$.size &&
                    window.removeEventListener("languagechange", xW);
              }
            ),
            [],
          ),
          e)
            ? { locale: "en-US", direction: "ltr" }
            : r;
        }
        let xQ = T.createContext(null);
        function xY() {
          let e = xG();
          return (0, T.useContext)(xQ) || e;
        }
        let xX = "undefined" != typeof document ? window.visualViewport : null;
        function xJ(e) {
          var r, n;
          let { direction: i } = xY(),
            {
              arrowSize: s = 0,
              targetRef: a,
              overlayRef: o,
              scrollRef: l = o,
              placement: u = "bottom",
              containerPadding: c = 12,
              shouldFlip: d = !0,
              boundaryElement: h = "undefined" != typeof document
                ? document.body
                : null,
              offset: f = 0,
              crossOffset: p = 0,
              shouldUpdatePosition: g = !0,
              isOpen: m = !0,
              onClose: y,
              maxHeight: v,
              arrowBoundaryOffset: b = 0,
            } = e,
            [w, S] = (0, T.useState)(null),
            E = [
              g,
              u,
              o.current,
              a.current,
              l.current,
              c,
              d,
              h,
              f,
              p,
              m,
              i,
              v,
              b,
              s,
            ],
            C = (0, T.useRef)(null == xX ? void 0 : xX.scale);
          (0, T.useEffect)(() => {
            m && (C.current = null == xX ? void 0 : xX.scale);
          }, [m]);
          let x = (0, T.useCallback)(() => {
            var e, r, n, y, w;
            if (
              !1 === g ||
              !m ||
              !o.current ||
              !a.current ||
              !h ||
              (null == xX ? void 0 : xX.scale) !== C.current
            )
              return;
            let T = null;
            if (l.current && l.current.contains(document.activeElement)) {
              let i =
                  null === (e = document.activeElement) || void 0 === e
                    ? void 0
                    : e.getBoundingClientRect(),
                s = l.current.getBoundingClientRect();
              (T = {
                type: "top",
                offset:
                  (null !== (r = null == i ? void 0 : i.top) && void 0 !== r
                    ? r
                    : 0) - s.top,
              }).offset >
                s.height / 2 &&
                ((T.type = "bottom"),
                (T.offset =
                  (null !== (n = null == i ? void 0 : i.bottom) && void 0 !== n
                    ? n
                    : 0) - s.bottom));
            }
            let E = o.current;
            !v &&
              o.current &&
              ((E.style.top = "0px"),
              (E.style.bottom = ""),
              (E.style.maxHeight =
                (null !==
                  (w =
                    null === (y = window.visualViewport) || void 0 === y
                      ? void 0
                      : y.height) && void 0 !== w
                  ? w
                  : window.innerHeight) + "px"));
            let x = xD({
              placement: x0(u, i),
              overlayNode: o.current,
              targetNode: a.current,
              scrollNode: l.current || o.current,
              padding: c,
              shouldFlip: d,
              boundaryElement: h,
              offset: f,
              crossOffset: p,
              maxHeight: v,
              arrowSize: s,
              arrowBoundaryOffset: b,
            });
            if (x.position) {
              if (
                ((E.style.top = ""),
                (E.style.bottom = ""),
                (E.style.left = ""),
                (E.style.right = ""),
                Object.keys(x.position).forEach(
                  (e) => (E.style[e] = x.position[e] + "px"),
                ),
                (E.style.maxHeight =
                  null != x.maxHeight ? x.maxHeight + "px" : ""),
                T && document.activeElement && l.current)
              ) {
                let e = document.activeElement.getBoundingClientRect(),
                  r = l.current.getBoundingClientRect(),
                  n = e[T.type] - r[T.type];
                l.current.scrollTop += n - T.offset;
              }
              S(x);
            }
          }, E);
          E$(x, E),
            xZ(x),
            xU({ ref: o, onResize: x }),
            xU({ ref: a, onResize: x });
          let A = (0, T.useRef)(!1);
          E$(() => {
            let e;
            let r = () => {
                (A.current = !0),
                  clearTimeout(e),
                  (e = setTimeout(() => {
                    A.current = !1;
                  }, 500)),
                  x();
              },
              n = () => {
                A.current && r();
              };
            return (
              null == xX || xX.addEventListener("resize", r),
              null == xX || xX.addEventListener("scroll", n),
              () => {
                null == xX || xX.removeEventListener("resize", r),
                  null == xX || xX.removeEventListener("scroll", n);
              }
            );
          }, [x]);
          let I = (0, T.useCallback)(() => {
            A.current || null == y || y();
          }, [y, A]);
          return (
            xB({ triggerRef: a, isOpen: m, onClose: y && I }),
            {
              overlayProps: {
                style: {
                  position: "absolute",
                  zIndex: 1e5,
                  ...(null == w ? void 0 : w.position),
                  maxHeight:
                    null !== (r = null == w ? void 0 : w.maxHeight) &&
                    void 0 !== r
                      ? r
                      : "100vh",
                },
              },
              placement:
                null !== (n = null == w ? void 0 : w.placement) && void 0 !== n
                  ? n
                  : null,
              arrowProps: {
                "aria-hidden": "true",
                role: "presentation",
                style: {
                  left: null == w ? void 0 : w.arrowOffsetLeft,
                  top: null == w ? void 0 : w.arrowOffsetTop,
                },
              },
              updatePosition: x,
            }
          );
        }
        function xZ(e) {
          E$(
            () => (
              window.addEventListener("resize", e, !1),
              () => {
                window.removeEventListener("resize", e, !1);
              }
            ),
            [e],
          );
        }
        function x0(e, r) {
          return "rtl" === r
            ? e.replace("start", "right").replace("end", "left")
            : e.replace("start", "left").replace("end", "right");
        }
        var x1 = (e) => {
            let r = {
              top: { originY: 1 },
              bottom: { originY: 0 },
              left: { originX: 1 },
              right: { originX: 0 },
              "top-start": { originX: 0, originY: 1 },
              "top-end": { originX: 1, originY: 1 },
              "bottom-start": { originX: 0, originY: 0 },
              "bottom-end": { originX: 1, originY: 0 },
              "right-start": { originX: 0, originY: 0 },
              "right-end": { originX: 0, originY: 1 },
              "left-start": { originX: 1, originY: 0 },
              "left-end": { originX: 1, originY: 1 },
            };
            return (null == r ? void 0 : r[e]) || {};
          },
          x2 = (e) =>
            ({
              top: "top",
              bottom: "bottom",
              left: "left",
              right: "right",
              "top-start": "top start",
              "top-end": "top end",
              "bottom-start": "bottom start",
              "bottom-end": "bottom end",
              "left-start": "left top",
              "left-end": "left bottom",
              "right-start": "right top",
              "right-end": "right bottom",
            })[e],
          x3 = (e, r) => {
            if (r.includes("-")) {
              let [n] = r.split("-");
              if (n.includes(e)) return !1;
            }
            return !0;
          },
          x4 = (e, r) => {
            if (r.includes("-")) {
              let [, n] = r.split("-");
              return `${e}-${n}`;
            }
            return e;
          },
          x5 = (null == globalThis ? void 0 : globalThis.document)
            ? T.useLayoutEffect
            : T.useEffect;
        function x6(e, r) {
          let {
              triggerRef: n,
              popoverRef: i,
              showArrow: s,
              offset: a = 7,
              crossOffset: o = 0,
              scrollRef: l,
              shouldFlip: u,
              boundaryElement: c,
              isDismissable: d = !0,
              shouldCloseOnBlur: h = !0,
              shouldCloseOnScroll: f = !0,
              placement: p = "top",
              containerPadding: g,
              shouldCloseOnInteractOutside: m,
              isNonModal: y,
              isKeyboardDismissDisabled: v,
              updatePositionDeps: b = [],
              ...w
            } = e,
            T = null == y || y,
            { overlayProps: S, underlayProps: E } = xf(
              {
                isOpen: r.isOpen,
                onClose: r.close,
                shouldCloseOnBlur: h,
                isDismissable: d,
                isKeyboardDismissDisabled: v,
                shouldCloseOnInteractOutside: m || ((e) => Eq(e, n, r)),
              },
              i,
            ),
            {
              overlayProps: C,
              arrowProps: x,
              placement: A,
              updatePosition: I,
            } = xJ({
              ...w,
              shouldFlip: u,
              crossOffset: o,
              targetRef: n,
              overlayRef: i,
              isOpen: r.isOpen,
              scrollRef: l,
              boundaryElement: c,
              containerPadding: g,
              placement: x2(p),
              offset: s ? a + 3 : a,
              onClose: T && f ? r.close : () => {},
            });
          return (
            x5(() => {
              b.length && I();
            }, b),
            {
              popoverProps: EX(S, C),
              arrowProps: x,
              underlayProps: E,
              placement: A,
            }
          );
        }
        function x8(e) {
          let r = (0, T.useRef)(null);
          return (0, T.useImperativeHandle)(e, () => r.current), r;
        }
        function x7(e) {
          let [r, n] = (0, b6.P)(e.isOpen, e.defaultOpen || !1, e.onOpenChange),
            i = (0, T.useCallback)(() => {
              n(!0);
            }, [n]),
            s = (0, T.useCallback)(() => {
              n(!1);
            }, [n]),
            a = (0, T.useCallback)(() => {
              n(!r);
            }, [n, r]);
          return { isOpen: r, setOpen: n, open: i, close: s, toggle: a };
        }
        function x9(e) {
          let { isDisabled: r, onFocus: n, onBlur: i, onFocusChange: s } = e,
            a = (0, T.useCallback)(
              (e) => {
                if (e.target === e.currentTarget)
                  return i && i(e), s && s(!1), !0;
              },
              [i, s],
            ),
            o = xc(a),
            l = (0, T.useCallback)(
              (e) => {
                let r = E3(e.target);
                e.target === e.currentTarget &&
                  r.activeElement === e.target &&
                  (n && n(e), s && s(!0), o(e));
              },
              [s, n, o],
            );
          return {
            focusProps: {
              onFocus: !r && (n || s || i) ? l : void 0,
              onBlur: !r && (i || s) ? a : void 0,
            },
          };
        }
        function Ae(e = {}) {
          let { autoFocus: r = !1, isTextInput: n, within: i } = e,
            s = (0, T.useRef)({ isFocused: !1, isFocusVisible: r || CN() }),
            [a, o] = (0, T.useState)(!1),
            [l, u] = (0, T.useState)(
              () => s.current.isFocused && s.current.isFocusVisible,
            ),
            c = (0, T.useCallback)(
              () => u(s.current.isFocused && s.current.isFocusVisible),
              [],
            ),
            d = (0, T.useCallback)(
              (e) => {
                (s.current.isFocused = e), o(e), c();
              },
              [c],
            );
          CB(
            (e) => {
              (s.current.isFocusVisible = e), c();
            },
            [],
            { isTextInput: n },
          );
          let { focusProps: h } = x9({ isDisabled: i, onFocusChange: d }),
            { focusWithinProps: f } = xd({
              isDisabled: !i,
              onFocusWithinChange: d,
            });
          return { isFocused: a, isFocusVisible: l, focusProps: i ? f : h };
        }
        function At(e, r, n) {
          let i,
            { type: s } = e,
            { isOpen: a } = r;
          (0, T.useEffect)(() => {
            n && n.current && xL.set(n.current, r.close);
          }),
            "menu" === s ? (i = !0) : "listbox" === s && (i = "listbox");
          let o = EQ();
          return {
            triggerProps: {
              "aria-haspopup": i,
              "aria-expanded": a,
              "aria-controls": a ? o : void 0,
              onPress: r.toggle,
            },
            overlayProps: { id: o },
          };
        }
        function Ar(e, r) {
          if (!e) return !1;
          let n = window.getComputedStyle(e),
            i = /(auto|scroll)/.test(n.overflow + n.overflowX + n.overflowY);
          return (
            i &&
              r &&
              (i =
                e.scrollHeight !== e.clientHeight ||
                e.scrollWidth !== e.clientWidth),
            i
          );
        }
        function An(e, r) {
          let n = e;
          for (Ar(n, r) && (n = n.parentElement); n && !Ar(n, r); )
            n = n.parentElement;
          return n || document.scrollingElement || document.documentElement;
        }
        let Ai = "undefined" != typeof document && window.visualViewport,
          As = new Set([
            "checkbox",
            "radio",
            "range",
            "color",
            "file",
            "image",
            "button",
            "submit",
            "reset",
          ]),
          Aa = 0;
        function Ao(e = {}) {
          let { isDisabled: r } = e;
          E$(() => {
            if (!r)
              return (
                1 == ++Aa && (o = Cc() ? Au() : Al()),
                () => {
                  0 == --Aa && o();
                }
              );
          }, [r]);
        }
        function Al() {
          return EH(
            Ac(
              document.documentElement,
              "paddingRight",
              `${window.innerWidth - document.documentElement.clientWidth}px`,
            ),
            Ac(document.documentElement, "overflow", "hidden"),
          );
        }
        function Au() {
          let e, r;
          let n = (n) => {
              ((e = An(n.target, !0)) !== document.documentElement ||
                e !== document.body) &&
                e instanceof HTMLElement &&
                "auto" === window.getComputedStyle(e).overscrollBehavior &&
                (r = Ac(e, "overscrollBehavior", "contain"));
            },
            i = (r) => {
              if (!e || e === document.documentElement || e === document.body) {
                r.preventDefault();
                return;
              }
              e.scrollHeight === e.clientHeight &&
                e.scrollWidth === e.clientWidth &&
                r.preventDefault();
            },
            s = () => {
              r && r();
            },
            a = (e) => {
              let r = e.target;
              Af(r) &&
                (l(),
                (r.style.transform = "translateY(-2000px)"),
                requestAnimationFrame(() => {
                  (r.style.transform = ""),
                    Ai &&
                      (Ai.height < window.innerHeight
                        ? requestAnimationFrame(() => {
                            Ah(r);
                          })
                        : Ai.addEventListener("resize", () => Ah(r), {
                            once: !0,
                          }));
                }));
            },
            o = null,
            l = () => {
              if (o) return;
              let e = () => {
                  window.scrollTo(0, 0);
                },
                r = window.pageXOffset,
                n = window.pageYOffset;
              (o = EH(
                Ad(window, "scroll", e),
                Ac(
                  document.documentElement,
                  "paddingRight",
                  `${window.innerWidth - document.documentElement.clientWidth}px`,
                ),
                Ac(document.documentElement, "overflow", "hidden"),
                Ac(document.body, "marginTop", `-${n}px`),
                () => {
                  window.scrollTo(r, n);
                },
              )),
                window.scrollTo(0, 0);
            },
            u = EH(
              Ad(document, "touchstart", n, { passive: !1, capture: !0 }),
              Ad(document, "touchmove", i, { passive: !1, capture: !0 }),
              Ad(document, "touchend", s, { passive: !1, capture: !0 }),
              Ad(document, "focus", a, !0),
            );
          return () => {
            null == r || r(), null == o || o(), u();
          };
        }
        function Ac(e, r, n) {
          let i = e.style[r];
          return (
            (e.style[r] = n),
            () => {
              e.style[r] = i;
            }
          );
        }
        function Ad(e, r, n, i) {
          return (
            e.addEventListener(r, n, i),
            () => {
              e.removeEventListener(r, n, i);
            }
          );
        }
        function Ah(e) {
          let r = document.scrollingElement || document.documentElement,
            n = e;
          for (; n && n !== r; ) {
            let e = An(n);
            if (
              e !== document.documentElement &&
              e !== document.body &&
              e !== n
            ) {
              let r = e.getBoundingClientRect().top,
                i = n.getBoundingClientRect().top;
              i > r + n.clientHeight && (e.scrollTop += i - r);
            }
            n = e.parentElement;
          }
        }
        function Af(e) {
          return (
            (e instanceof HTMLInputElement && !As.has(e.type)) ||
            e instanceof HTMLTextAreaElement ||
            (e instanceof HTMLElement && e.isContentEditable)
          );
        }
        function Ap(e) {
          return (0, T.forwardRef)(e);
        }
        new WeakMap();
        var Ag = (e, r, n = !0) => {
            if (!r) return [e, {}];
            let i = r.reduce((r, n) => (n in e ? { ...r, [n]: e[n] } : r), {});
            return n
              ? [
                  Object.keys(e)
                    .filter((e) => !r.includes(e))
                    .reduce((r, n) => ({ ...r, [n]: e[n] }), {}),
                  i,
                ]
              : [e, i];
          },
          Am = {
            solid: {
              default: "bg-default text-default-foreground",
              primary: "bg-primary text-primary-foreground",
              secondary: "bg-secondary text-secondary-foreground",
              success: "bg-success text-success-foreground",
              warning: "bg-warning text-warning-foreground",
              danger: "bg-danger text-danger-foreground",
              foreground: "bg-foreground text-background",
            },
            shadow: {
              default:
                "shadow-lg shadow-default/50 bg-default text-default-foreground",
              primary:
                "shadow-lg shadow-primary/40 bg-primary text-primary-foreground",
              secondary:
                "shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",
              success:
                "shadow-lg shadow-success/40 bg-success text-success-foreground",
              warning:
                "shadow-lg shadow-warning/40 bg-warning text-warning-foreground",
              danger:
                "shadow-lg shadow-danger/40 bg-danger text-danger-foreground",
              foreground:
                "shadow-lg shadow-foreground/40 bg-foreground text-background",
            },
            bordered: {
              default: "bg-transparent border-default text-foreground",
              primary: "bg-transparent border-primary text-primary",
              secondary: "bg-transparent border-secondary text-secondary",
              success: "bg-transparent border-success text-success",
              warning: "bg-transparent border-warning text-warning",
              danger: "bg-transparent border-danger text-danger",
              foreground: "bg-transparent border-foreground text-foreground",
            },
            flat: {
              default: "bg-default/40 text-default-700",
              primary: "bg-primary/20 text-primary-600",
              secondary: "bg-secondary/20 text-secondary-600",
              success: "bg-success/20 text-success-700 dark:text-success",
              warning: "bg-warning/20 text-warning-700 dark:text-warning",
              danger: "bg-danger/20 text-danger-600 dark:text-danger-500",
              foreground: "bg-foreground/10 text-foreground",
            },
            faded: {
              default: "border-default bg-default-100 text-default-foreground",
              primary: "border-default bg-default-100 text-primary",
              secondary: "border-default bg-default-100 text-secondary",
              success: "border-default bg-default-100 text-success",
              warning: "border-default bg-default-100 text-warning",
              danger: "border-default bg-default-100 text-danger",
              foreground: "border-default bg-default-100 text-foreground",
            },
            light: {
              default: "bg-transparent text-default-foreground",
              primary: "bg-transparent text-primary",
              secondary: "bg-transparent text-secondary",
              success: "bg-transparent text-success",
              warning: "bg-transparent text-warning",
              danger: "bg-transparent text-danger",
              foreground: "bg-transparent text-foreground",
            },
            ghost: {
              default: "border-default text-default-foreground",
              primary: "border-primary text-primary",
              secondary: "border-secondary text-secondary",
              success: "border-success text-success",
              warning: "border-warning text-warning",
              danger: "border-danger text-danger",
              foreground:
                "border-foreground text-foreground hover:!bg-foreground",
            },
          },
          Ay = ET({
            slots: {
              base: [
                "z-0",
                "relative",
                "bg-transparent",
                "before:content-['']",
                "before:hidden",
                "before:z-[-1]",
                "before:absolute",
                "before:rotate-45",
                "before:w-2.5",
                "before:h-2.5",
                "before:rounded-sm",
                "data-[arrow=true]:before:block",
                "data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]",
                "data-[placement=top]:before:left-1/2",
                "data-[placement=top]:before:-translate-x-1/2",
                "data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]",
                "data-[placement=top-start]:before:left-3",
                "data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]",
                "data-[placement=top-end]:before:right-3",
                "data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]",
                "data-[placement=bottom]:before:left-1/2",
                "data-[placement=bottom]:before:-translate-x-1/2",
                "data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]",
                "data-[placement=bottom-start]:before:left-3",
                "data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]",
                "data-[placement=bottom-end]:before:right-3",
                "data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]",
                "data-[placement=left]:before:top-1/2",
                "data-[placement=left]:before:-translate-y-1/2",
                "data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]",
                "data-[placement=left-start]:before:top-1/4",
                "data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]",
                "data-[placement=left-end]:before:bottom-1/4",
                "data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]",
                "data-[placement=right]:before:top-1/2",
                "data-[placement=right]:before:-translate-y-1/2",
                "data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]",
                "data-[placement=right-start]:before:top-1/4",
                "data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]",
                "data-[placement=right-end]:before:bottom-1/4",
                ...ES,
              ],
              content: [
                "z-10",
                "px-2.5",
                "py-1",
                "w-full",
                "inline-flex",
                "flex-col",
                "items-center",
                "justify-center",
                "box-border",
                "subpixel-antialiased",
                "outline-none",
                "box-border",
              ],
              trigger: ["z-10"],
              backdrop: ["hidden"],
              arrow: [],
            },
            variants: {
              size: {
                sm: { content: "text-tiny" },
                md: { content: "text-small" },
                lg: { content: "text-medium" },
              },
              color: {
                default: {
                  base: "before:bg-content1 before:shadow-small",
                  content: "bg-content1",
                },
                foreground: {
                  base: "before:bg-foreground",
                  content: Am.solid.foreground,
                },
                primary: {
                  base: "before:bg-primary",
                  content: Am.solid.primary,
                },
                secondary: {
                  base: "before:bg-secondary",
                  content: Am.solid.secondary,
                },
                success: {
                  base: "before:bg-success",
                  content: Am.solid.success,
                },
                warning: {
                  base: "before:bg-warning",
                  content: Am.solid.warning,
                },
                danger: { base: "before:bg-danger", content: Am.solid.danger },
              },
              radius: {
                none: { content: "rounded-none" },
                sm: { content: "rounded-small" },
                md: { content: "rounded-medium" },
                lg: { content: "rounded-large" },
                full: { content: "rounded-full" },
              },
              shadow: {
                none: { content: "shadow-none" },
                sm: { content: "shadow-small" },
                md: { content: "shadow-medium" },
                lg: { content: "shadow-large" },
              },
              backdrop: {
                transparent: {},
                opaque: { backdrop: "bg-overlay/50 backdrop-opacity-disabled" },
                blur: {
                  backdrop:
                    "backdrop-blur-sm backdrop-saturate-150 bg-overlay/30",
                },
              },
              triggerScaleOnOpen: {
                true: {
                  trigger: [
                    "aria-expanded:scale-[0.97]",
                    "aria-expanded:opacity-70",
                    "subpixel-antialiased",
                  ],
                },
                false: {},
              },
              disableAnimation: { true: { base: "animate-none" } },
              isTriggerDisabled: {
                true: { trigger: "opacity-disabled pointer-events-none" },
                false: {},
              },
            },
            defaultVariants: {
              color: "default",
              radius: "lg",
              size: "md",
              shadow: "md",
              backdrop: "transparent",
              triggerScaleOnOpen: !0,
            },
            compoundVariants: [
              {
                backdrop: ["opaque", "blur"],
                class: { backdrop: "block w-full h-full fixed inset-0 -z-30" },
              },
            ],
          });
        function Av(...e) {
          return 1 === e.length && e[0]
            ? e[0]
            : (r) => {
                for (let n of e)
                  "function" == typeof n ? n(r) : null != n && (n.current = r);
              };
        }
        var Ab = "top";
        function Aw(e) {
          var r, n, i;
          let s = b5(),
            [a, o] = Ag(e, Ay.variantKeys),
            {
              as: l,
              ref: u,
              children: c,
              state: d,
              triggerRef: h,
              scrollRef: f,
              defaultOpen: p,
              onOpenChange: g,
              isOpen: m,
              isNonModal: y = !0,
              shouldFlip: v = !0,
              containerPadding: b = 12,
              shouldBlockScroll: w = !1,
              isDismissable: S = !0,
              shouldCloseOnBlur: E,
              portalContainer: C,
              updatePositionDeps: x,
              dialogProps: A,
              placement: I = Ab,
              triggerType: k = "dialog",
              showArrow: _ = !1,
              offset: R = 7,
              crossOffset: D = 0,
              boundaryElement: P,
              isKeyboardDismissDisabled: N,
              shouldCloseOnInteractOutside: O,
              shouldCloseOnScroll: M,
              motionProps: L,
              className: B,
              classNames: F,
              onClose: U,
              ...j
            } = a,
            z = l || "div",
            V = x8(u),
            K = (0, T.useRef)(null),
            q = (0, T.useRef)(!1),
            H = h || K,
            $ =
              null !=
                (n =
                  null != (r = e.disableAnimation)
                    ? r
                    : null == s
                      ? void 0
                      : s.disableAnimation) && n,
            W = x7({
              isOpen: m,
              defaultOpen: p,
              onOpenChange: (e) => {
                null == g || g(e), e || null == U || U();
              },
            }),
            G = d || W,
            {
              popoverProps: Q,
              underlayProps: Y,
              placement: X,
            } = x6(
              {
                triggerRef: H,
                isNonModal: y,
                popoverRef: V,
                placement: I,
                offset: R,
                scrollRef: f,
                isDismissable: S,
                shouldCloseOnBlur: E,
                boundaryElement: P,
                crossOffset: D,
                shouldFlip: v,
                containerPadding: b,
                updatePositionDeps: x,
                isKeyboardDismissDisabled: N,
                shouldCloseOnScroll: M,
                shouldCloseOnInteractOutside: O,
              },
              G,
            ),
            J = (0, T.useMemo)(() => (X ? (x3(X, I) ? X : I) : null), [X, I]),
            { triggerProps: Z } = At({ type: k }, G, H),
            { isFocusVisible: ee, isFocused: et, focusProps: er } = Ae(),
            en = (0, T.useMemo)(() => Ay({ ...o }), [EF(o)]),
            ei = EO(null == F ? void 0 : F.base, B);
          Ao({ isDisabled: !(w && G.isOpen) });
          let es = (e = {}) => ({
              ref: V,
              ...EX(Q, j, e),
              style: EX(Q.style, j.style, e.style),
            }),
            ea = (e = {}) => ({
              "data-slot": "base",
              "data-open": EP(G.isOpen),
              "data-focus": EP(et),
              "data-arrow": EP(_),
              "data-focus-visible": EP(ee),
              "data-placement": X ? x4(X, I) : void 0,
              ...EX(er, A, e),
              className: en.base({ class: EO(ei) }),
              style: { outline: "none" },
            }),
            eo = (0, T.useCallback)(
              (e = {}) => ({
                "data-slot": "content",
                "data-open": EP(G.isOpen),
                "data-arrow": EP(_),
                "data-placement": X ? x4(X, I) : void 0,
                className: en.content({
                  class: EO(null == F ? void 0 : F.content, e.className),
                }),
              }),
              [en, G.isOpen, _, J, I, F, X],
            ),
            el = (0, T.useCallback)(
              (r) => {
                var n;
                let i;
                return (
                  "touch" === r.pointerType &&
                  ((null == e ? void 0 : e.backdrop) === "blur" ||
                    (null == e ? void 0 : e.backdrop) === "opaque")
                    ? (i = setTimeout(() => {
                        q.current = !0;
                      }, 100))
                    : (q.current = !0),
                  null == (n = Z.onPress) || n.call(Z, r),
                  () => {
                    clearTimeout(i);
                  }
                );
              },
              [null == Z ? void 0 : Z.onPress],
            ),
            eu = (0, T.useCallback)(
              (e = {}, r = null) => {
                let { isDisabled: n, ...i } = e;
                return {
                  "data-slot": "trigger",
                  ...EX({ "aria-haspopup": "dialog" }, Z, i),
                  onPress: el,
                  isDisabled: n,
                  className: en.trigger({
                    class: EO(null == F ? void 0 : F.trigger, e.className),
                    isTriggerDisabled: n,
                  }),
                  ref: Av(r, H),
                };
              },
              [G, Z, el, H],
            ),
            ec = (0, T.useCallback)(
              (e = {}) => ({
                "data-slot": "backdrop",
                className: en.backdrop({
                  class: null == F ? void 0 : F.backdrop,
                }),
                onClick: (e) => {
                  if (!q.current) {
                    e.preventDefault();
                    return;
                  }
                  G.close(), (q.current = !1);
                },
                ...Y,
                ...e,
              }),
              [en, G.isOpen, F, Y],
            );
          return {
            state: G,
            Component: z,
            children: c,
            classNames: F,
            showArrow: _,
            triggerRef: H,
            placement: J,
            isNonModal: y,
            popoverRef: V,
            portalContainer: C,
            isOpen: G.isOpen,
            onClose: G.close,
            disableAnimation: $,
            shouldBlockScroll: w,
            backdrop: null != (i = e.backdrop) ? i : "transparent",
            motionProps: L,
            getBackdropProps: ec,
            getPopoverProps: es,
            getTriggerProps: eu,
            getDialogProps: ea,
            getContentProps: eo,
          };
        }
        let AT = (0, T.createContext)({});
        function AS() {
          var e;
          return null !== (e = (0, T.useContext)(AT)) && void 0 !== e ? e : {};
        }
        let AE = T.createContext({ register: () => {} });
        function AC({ children: e }) {
          let r = (0, T.useMemo)(() => ({ register: () => {} }), []);
          return T.createElement(AE.Provider, { value: r }, e);
        }
        AE.displayName = "PressResponderContext";
        var Ax = n(55740);
        let AA = T.createContext(null);
        function AI(e) {
          let r = (0, wB.wR)(),
            { portalContainer: n = r ? null : document.body, isExiting: i } = e,
            [s, a] = (0, T.useState)(!1),
            o = (0, T.useMemo)(() => ({ contain: s, setContain: a }), [s, a]),
            { getContainer: l } = AS();
          if ((!e.portalContainer && l && (n = l()), !n)) return null;
          let u = e.children;
          return (
            e.disableFocusManagement ||
              (u = T.createElement(
                CH,
                { restoreFocus: !0, contain: s && !i },
                u,
              )),
            (u = T.createElement(
              AA.Provider,
              { value: o },
              T.createElement(AC, null, u),
            )),
            Ax.createPortal(u, n)
          );
        }
        var Ak = n(6648),
          A_ = Ap((e, r) => {
            let { children: n, ...i } = e,
              s = Aw({ ...i, ref: r }),
              [a, o] = T.Children.toArray(n),
              l = (0, w.jsx)(AI, {
                portalContainer: s.portalContainer,
                children: o,
              });
            return (0, w.jsxs)(E1, {
              value: s,
              children: [
                a,
                s.disableAnimation && s.isOpen
                  ? l
                  : (0, w.jsx)(Ak.N, { children: s.isOpen ? l : null }),
              ],
            });
          });
        A_.displayName = "HeroUI.Popover";
        var AR = A_,
          AD = (e) => {
            let { children: r, ...n } = e,
              i = E0(n),
              [s, a] = T.Children.toArray(r);
            return (0, w.jsx)(b2, {
              value: i,
              children: (0, w.jsxs)(AR, {
                ...i.getPopoverProps(),
                children: [s, a],
              }),
            });
          };
        AD.displayName = "HeroUI.Dropdown";
        var AP = AD,
          AN = (e, r) => {
            var n;
            let i = [];
            return [
              null ==
              (n = T.Children.map(e, (e) =>
                (0, T.isValidElement)(e) && e.type === r
                  ? (i.push(e), null)
                  : e,
              ))
                ? void 0
                : n.filter(Boolean),
              i.length >= 0 ? i : void 0,
            ];
          };
        let AO = new Set(["id"]),
          AM = new Set([
            "aria-label",
            "aria-labelledby",
            "aria-describedby",
            "aria-details",
          ]),
          AL = new Set([
            "href",
            "hrefLang",
            "target",
            "rel",
            "download",
            "ping",
            "referrerPolicy",
          ]),
          AB = /^(data-.*)$/;
        function AF(e, r = {}) {
          let { labelable: n, isLink: i, propNames: s } = r,
            a = {};
          for (let r in e)
            Object.prototype.hasOwnProperty.call(e, r) &&
              (AO.has(r) ||
                (n && AM.has(r)) ||
                (i && AL.has(r)) ||
                (null == s ? void 0 : s.has(r)) ||
                AB.test(r)) &&
              (a[r] = e[r]);
          return a;
        }
        function AU(e, r) {
          E$(() => {
            if (e && e.ref && r)
              return (
                (e.ref.current = r.current),
                () => {
                  e.ref && (e.ref.current = null);
                }
              );
          });
        }
        function Aj(e) {
          if (!e) return;
          let r = !0;
          return (n) => {
            e({
              ...n,
              preventDefault() {
                n.preventDefault();
              },
              isDefaultPrevented: () => n.isDefaultPrevented(),
              stopPropagation() {
                r
                  ? console.error(
                      "stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.",
                    )
                  : (r = !0);
              },
              continuePropagation() {
                r = !1;
              },
              isPropagationStopped: () => r,
            }),
              r && n.stopPropagation();
          };
        }
        function Az(e) {
          return {
            keyboardProps: e.isDisabled
              ? {}
              : { onKeyDown: Aj(e.onKeyDown), onKeyUp: Aj(e.onKeyUp) },
          };
        }
        let AV = T.createContext(null);
        function AK(e) {
          let r = (0, T.useContext)(AV) || {};
          AU(r, e);
          let { ref: n, ...i } = r;
          return i;
        }
        function Aq(e, r) {
          let { focusProps: n } = x9(e),
            { keyboardProps: i } = Az(e),
            s = EX(n, i),
            a = AK(r),
            o = e.isDisabled ? {} : a,
            l = (0, T.useRef)(e.autoFocus);
          return (
            (0, T.useEffect)(() => {
              l.current && r.current && CF(r.current), (l.current = !1);
            }, [r]),
            {
              focusableProps: EX(
                {
                  ...s,
                  tabIndex:
                    e.excludeFromTabOrder && !e.isDisabled ? -1 : void 0,
                },
                o,
              ),
            }
          );
        }
        let AH = "default",
          A$ = "",
          AW = new WeakMap();
        function AG(e) {
          if (Cc()) {
            if ("default" === AH) {
              let r = E3(e);
              (A$ = r.documentElement.style.webkitUserSelect),
                (r.documentElement.style.webkitUserSelect = "none");
            }
            AH = "disabled";
          } else
            (e instanceof HTMLElement || e instanceof SVGElement) &&
              (AW.set(e, e.style.userSelect), (e.style.userSelect = "none"));
        }
        function AQ(e) {
          if (Cc())
            "disabled" === AH &&
              ((AH = "restoring"),
              setTimeout(() => {
                E7(() => {
                  if ("restoring" === AH) {
                    let r = E3(e);
                    "none" === r.documentElement.style.webkitUserSelect &&
                      (r.documentElement.style.webkitUserSelect = A$ || ""),
                      (A$ = ""),
                      (AH = "default");
                  }
                });
              }, 300));
          else if (
            (e instanceof HTMLElement || e instanceof SVGElement) &&
            e &&
            AW.has(e)
          ) {
            let r = AW.get(e);
            "none" === e.style.userSelect && (e.style.userSelect = r),
              "" === e.getAttribute("style") && e.removeAttribute("style"),
              AW.delete(e);
          }
        }
        function AY() {
          let e = (0, T.useRef)(new Map()),
            r = (0, T.useCallback)((r, n, i, s) => {
              let a = (null == s ? void 0 : s.once)
                ? (...r) => {
                    e.current.delete(i), i(...r);
                  }
                : i;
              e.current.set(i, { type: n, eventTarget: r, fn: a, options: s }),
                r.addEventListener(n, a, s);
            }, []),
            n = (0, T.useCallback)((r, n, i, s) => {
              var a;
              let o =
                (null === (a = e.current.get(i)) || void 0 === a
                  ? void 0
                  : a.fn) || i;
              r.removeEventListener(n, o, s), e.current.delete(i);
            }, []),
            i = (0, T.useCallback)(() => {
              e.current.forEach((e, r) => {
                n(e.eventTarget, e.type, r, e.options);
              });
            }, [n]);
          return (
            (0, T.useEffect)(() => i, [i]),
            {
              addGlobalListener: r,
              removeGlobalListener: n,
              removeAllGlobalListeners: i,
            }
          );
        }
        function AX(e, r, n = !0) {
          var i, s;
          let { metaKey: a, ctrlKey: o, altKey: l, shiftKey: u } = r;
          Cp() &&
            (null === (s = window.event) || void 0 === s
              ? void 0
              : null === (i = s.type) || void 0 === i
                ? void 0
                : i.startsWith("key")) &&
            "_blank" === e.target &&
            (Co() ? (a = !0) : (o = !0));
          let c =
            Cd() && Co() && !Cu()
              ? new KeyboardEvent("keydown", {
                  keyIdentifier: "Enter",
                  metaKey: a,
                  ctrlKey: o,
                  altKey: l,
                  shiftKey: u,
                })
              : new MouseEvent("click", {
                  metaKey: a,
                  ctrlKey: o,
                  altKey: l,
                  shiftKey: u,
                  bubbles: !0,
                  cancelable: !0,
                });
          (AX.isOpening = n), E9(e), e.dispatchEvent(c), (AX.isOpening = !1);
        }
        function AJ(e, r) {
          if (e instanceof HTMLAnchorElement) r(e);
          else if (e.hasAttribute("data-href")) {
            let n = document.createElement("a");
            (n.href = e.getAttribute("data-href")),
              e.hasAttribute("data-target") &&
                (n.target = e.getAttribute("data-target")),
              e.hasAttribute("data-rel") &&
                (n.rel = e.getAttribute("data-rel")),
              e.hasAttribute("data-download") &&
                (n.download = e.getAttribute("data-download")),
              e.hasAttribute("data-ping") &&
                (n.ping = e.getAttribute("data-ping")),
              e.hasAttribute("data-referrer-policy") &&
                (n.referrerPolicy = e.getAttribute("data-referrer-policy")),
              e.appendChild(n),
              r(n),
              e.removeChild(n);
          }
        }
        function AZ(e, r) {
          AJ(e, (e) => AX(e, r));
        }
        function A0(e) {
          let r = (0, T.useContext)(AE);
          if (r) {
            let { register: n, ...i } = r;
            (e = EX(i, e)), n();
          }
          return AU(r, e.ref), e;
        }
        AX.isOpening = !1;
        var A1 = new WeakMap();
        class A2 {
          continuePropagation() {
            (0, TI._)(this, A1, !1);
          }
          get shouldStopPropagation() {
            return (0, Tx._)(this, A1);
          }
          constructor(e, r, n, i) {
            var s;
            (0, TA._)(this, A1, { writable: !0, value: void 0 }),
              (0, TI._)(this, A1, !0);
            let a =
                null !== (s = null == i ? void 0 : i.target) && void 0 !== s
                  ? s
                  : n.currentTarget,
              o = null == a ? void 0 : a.getBoundingClientRect(),
              l,
              u = 0,
              c,
              d = null;
            null != n.clientX &&
              null != n.clientY &&
              ((c = n.clientX), (d = n.clientY)),
              o &&
                (null != c && null != d
                  ? ((l = c - o.left), (u = d - o.top))
                  : ((l = o.width / 2), (u = o.height / 2))),
              (this.type = e),
              (this.pointerType = r),
              (this.target = n.currentTarget),
              (this.shiftKey = n.shiftKey),
              (this.metaKey = n.metaKey),
              (this.ctrlKey = n.ctrlKey),
              (this.altKey = n.altKey),
              (this.x = l),
              (this.y = u);
          }
        }
        let A3 = Symbol("linkClicked");
        function A4(e) {
          let {
              onPress: r,
              onPressChange: n,
              onPressStart: i,
              onPressEnd: s,
              onPressUp: a,
              isDisabled: o,
              isPressed: l,
              preventFocusOnPress: u,
              shouldCancelOnPointerExit: c,
              allowTextSelectionOnPress: d,
              ref: h,
              ...f
            } = A0(e),
            [p, g] = (0, T.useState)(!1),
            m = (0, T.useRef)({
              isPressed: !1,
              ignoreEmulatedMouseEvents: !1,
              ignoreClickAfterPress: !1,
              didFirePressStart: !1,
              isTriggeringEvent: !1,
              activePointerId: null,
              target: null,
              isOverTarget: !1,
              pointerType: null,
            }),
            { addGlobalListener: y, removeAllGlobalListeners: v } = AY(),
            b = xa((e, r) => {
              let s = m.current;
              if (o || s.didFirePressStart) return !1;
              let a = !0;
              if (((s.isTriggeringEvent = !0), i)) {
                let n = new A2("pressstart", r, e);
                i(n), (a = n.shouldStopPropagation);
              }
              return (
                n && n(!0),
                (s.isTriggeringEvent = !1),
                (s.didFirePressStart = !0),
                g(!0),
                a
              );
            }),
            w = xa((e, i, a = !0) => {
              let l = m.current;
              if (!l.didFirePressStart) return !1;
              (l.ignoreClickAfterPress = !0),
                (l.didFirePressStart = !1),
                (l.isTriggeringEvent = !0);
              let u = !0;
              if (s) {
                let r = new A2("pressend", i, e);
                s(r), (u = r.shouldStopPropagation);
              }
              if ((n && n(!1), g(!1), r && a && !o)) {
                let n = new A2("press", i, e);
                r(n), u && (u = n.shouldStopPropagation);
              }
              return (l.isTriggeringEvent = !1), u;
            }),
            S = xa((e, r) => {
              let n = m.current;
              if (o) return !1;
              if (a) {
                n.isTriggeringEvent = !0;
                let i = new A2("pressup", r, e);
                return (
                  a(i), (n.isTriggeringEvent = !1), i.shouldStopPropagation
                );
              }
              return !0;
            }),
            E = xa((e) => {
              let r = m.current;
              r.isPressed &&
                r.target &&
                (r.isOverTarget &&
                  null != r.pointerType &&
                  w(Ie(r.target, e), r.pointerType, !1),
                (r.isPressed = !1),
                (r.isOverTarget = !1),
                (r.activePointerId = null),
                (r.pointerType = null),
                v(),
                d || AQ(r.target));
            }),
            C = xa((e) => {
              c && E(e);
            }),
            x = (0, T.useMemo)(() => {
              let e = m.current,
                r = {
                  onKeyDown(r) {
                    if (
                      A6(r.nativeEvent, r.currentTarget) &&
                      r.currentTarget.contains(r.target)
                    ) {
                      var i;
                      Ia(r.target, r.key) && r.preventDefault();
                      let s = !0;
                      if (!e.isPressed && !r.repeat) {
                        (e.target = r.currentTarget),
                          (e.isPressed = !0),
                          (s = b(r, "keyboard"));
                        let i = r.currentTarget,
                          a = (r) => {
                            A6(r, i) &&
                              !r.repeat &&
                              i.contains(r.target) &&
                              e.target &&
                              S(Ie(e.target, r), "keyboard");
                          };
                        y(E3(r.currentTarget), "keyup", EH(a, n), !0);
                      }
                      s && r.stopPropagation(),
                        r.metaKey &&
                          Co() &&
                          (null === (i = e.metaKeyEvents) ||
                            void 0 === i ||
                            i.set(r.key, r.nativeEvent));
                    } else "Meta" === r.key && (e.metaKeyEvents = new Map());
                  },
                  onClick(r) {
                    if (
                      (!r || r.currentTarget.contains(r.target)) &&
                      r &&
                      0 === r.button &&
                      !e.isTriggeringEvent &&
                      !AX.isOpening
                    ) {
                      let n = !0;
                      if (
                        (o && r.preventDefault(),
                        !e.ignoreClickAfterPress &&
                          !e.ignoreEmulatedMouseEvents &&
                          !e.isPressed &&
                          ("virtual" === e.pointerType || Cg(r.nativeEvent)))
                      ) {
                        o || u || E9(r.currentTarget);
                        let e = b(r, "virtual"),
                          i = S(r, "virtual"),
                          s = w(r, "virtual");
                        n = e && i && s;
                      }
                      (e.ignoreEmulatedMouseEvents = !1),
                        (e.ignoreClickAfterPress = !1),
                        n && r.stopPropagation();
                    }
                  },
                },
                n = (r) => {
                  var n, i, s;
                  if (e.isPressed && e.target && A6(r, e.target)) {
                    Ia(r.target, r.key) && r.preventDefault();
                    let n = r.target;
                    w(Ie(e.target, r), "keyboard", e.target.contains(n)),
                      v(),
                      "Enter" !== r.key &&
                        A5(e.target) &&
                        e.target.contains(n) &&
                        !r[A3] &&
                        ((r[A3] = !0), AX(e.target, r, !1)),
                      (e.isPressed = !1),
                      null === (i = e.metaKeyEvents) ||
                        void 0 === i ||
                        i.delete(r.key);
                  } else if (
                    "Meta" === r.key &&
                    (null === (n = e.metaKeyEvents) || void 0 === n
                      ? void 0
                      : n.size)
                  ) {
                    let r = e.metaKeyEvents;
                    for (let n of ((e.metaKeyEvents = void 0), r.values()))
                      null === (s = e.target) ||
                        void 0 === s ||
                        s.dispatchEvent(new KeyboardEvent("keyup", n));
                  }
                };
              if ("undefined" != typeof PointerEvent) {
                (r.onPointerDown = (r) => {
                  if (0 !== r.button || !r.currentTarget.contains(r.target))
                    return;
                  if (Cm(r.nativeEvent)) {
                    e.pointerType = "virtual";
                    return;
                  }
                  Ii(r.currentTarget) && r.preventDefault(),
                    (e.pointerType = r.pointerType);
                  let i = !0;
                  if (!e.isPressed) {
                    (e.isPressed = !0),
                      (e.isOverTarget = !0),
                      (e.activePointerId = r.pointerId),
                      (e.target = r.currentTarget),
                      o || u || E9(r.currentTarget),
                      d || AG(e.target),
                      (i = b(r, e.pointerType));
                    let a = r.target;
                    "releasePointerCapture" in a &&
                      a.releasePointerCapture(r.pointerId),
                      y(E3(r.currentTarget), "pointerup", n, !1),
                      y(E3(r.currentTarget), "pointercancel", s, !1);
                  }
                  i && r.stopPropagation();
                }),
                  (r.onMouseDown = (e) => {
                    e.currentTarget.contains(e.target) &&
                      0 === e.button &&
                      (Ii(e.currentTarget) && e.preventDefault(),
                      e.stopPropagation());
                  }),
                  (r.onPointerUp = (r) => {
                    r.currentTarget.contains(r.target) &&
                      "virtual" !== e.pointerType &&
                      0 === r.button &&
                      S(r, e.pointerType || r.pointerType);
                  }),
                  (r.onPointerEnter = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.target &&
                      !e.isOverTarget &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !0),
                      b(Ie(e.target, r), e.pointerType));
                  }),
                  (r.onPointerLeave = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.target &&
                      e.isOverTarget &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !1),
                      w(Ie(e.target, r), e.pointerType, !1),
                      C(r));
                  });
                let n = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.isPressed &&
                      0 === r.button &&
                      e.target &&
                      (e.target.contains(r.target) && null != e.pointerType
                        ? w(Ie(e.target, r), e.pointerType)
                        : e.isOverTarget &&
                          null != e.pointerType &&
                          w(Ie(e.target, r), e.pointerType, !1),
                      (e.isPressed = !1),
                      (e.isOverTarget = !1),
                      (e.activePointerId = null),
                      (e.pointerType = null),
                      v(),
                      d || AQ(e.target),
                      "ontouchend" in e.target &&
                        "mouse" !== r.pointerType &&
                        y(e.target, "touchend", i, { once: !0 }));
                  },
                  i = (e) => {
                    Is(e.currentTarget) && e.preventDefault();
                  },
                  s = (e) => {
                    E(e);
                  };
                r.onDragStart = (e) => {
                  e.currentTarget.contains(e.target) && E(e);
                };
              } else {
                (r.onMouseDown = (r) => {
                  if (0 === r.button && r.currentTarget.contains(r.target)) {
                    if (
                      (Ii(r.currentTarget) && r.preventDefault(),
                      e.ignoreEmulatedMouseEvents)
                    ) {
                      r.stopPropagation();
                      return;
                    }
                    (e.isPressed = !0),
                      (e.isOverTarget = !0),
                      (e.target = r.currentTarget),
                      (e.pointerType = Cg(r.nativeEvent) ? "virtual" : "mouse"),
                      o || u || E9(r.currentTarget),
                      b(r, e.pointerType) && r.stopPropagation(),
                      y(E3(r.currentTarget), "mouseup", n, !1);
                  }
                }),
                  (r.onMouseEnter = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    let n = !0;
                    e.isPressed &&
                      !e.ignoreEmulatedMouseEvents &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !0), (n = b(r, e.pointerType))),
                      n && r.stopPropagation();
                  }),
                  (r.onMouseLeave = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    let n = !0;
                    e.isPressed &&
                      !e.ignoreEmulatedMouseEvents &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !1),
                      (n = w(r, e.pointerType, !1)),
                      C(r)),
                      n && r.stopPropagation();
                  }),
                  (r.onMouseUp = (r) => {
                    r.currentTarget.contains(r.target) &&
                      !e.ignoreEmulatedMouseEvents &&
                      0 === r.button &&
                      S(r, e.pointerType || "mouse");
                  });
                let n = (r) => {
                  if (0 === r.button) {
                    if (
                      ((e.isPressed = !1), v(), e.ignoreEmulatedMouseEvents)
                    ) {
                      e.ignoreEmulatedMouseEvents = !1;
                      return;
                    }
                    e.target && In(r, e.target) && null != e.pointerType
                      ? w(Ie(e.target, r), e.pointerType)
                      : e.target &&
                        e.isOverTarget &&
                        null != e.pointerType &&
                        w(Ie(e.target, r), e.pointerType, !1),
                      (e.isOverTarget = !1);
                  }
                };
                (r.onTouchStart = (r) => {
                  if (!r.currentTarget.contains(r.target)) return;
                  let n = A8(r.nativeEvent);
                  n &&
                    ((e.activePointerId = n.identifier),
                    (e.ignoreEmulatedMouseEvents = !0),
                    (e.isOverTarget = !0),
                    (e.isPressed = !0),
                    (e.target = r.currentTarget),
                    (e.pointerType = "touch"),
                    o || u || E9(r.currentTarget),
                    d || AG(e.target),
                    b(A9(e.target, r), e.pointerType) && r.stopPropagation(),
                    y(E4(r.currentTarget), "scroll", i, !0));
                }),
                  (r.onTouchMove = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    if (!e.isPressed) {
                      r.stopPropagation();
                      return;
                    }
                    let n = A7(r.nativeEvent, e.activePointerId),
                      i = !0;
                    n && In(n, r.currentTarget)
                      ? e.isOverTarget ||
                        null == e.pointerType ||
                        ((e.isOverTarget = !0),
                        (i = b(A9(e.target, r), e.pointerType)))
                      : e.isOverTarget &&
                        null != e.pointerType &&
                        ((e.isOverTarget = !1),
                        (i = w(A9(e.target, r), e.pointerType, !1)),
                        C(A9(e.target, r))),
                      i && r.stopPropagation();
                  }),
                  (r.onTouchEnd = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    if (!e.isPressed) {
                      r.stopPropagation();
                      return;
                    }
                    let n = A7(r.nativeEvent, e.activePointerId),
                      i = !0;
                    n && In(n, r.currentTarget) && null != e.pointerType
                      ? (S(A9(e.target, r), e.pointerType),
                        (i = w(A9(e.target, r), e.pointerType)))
                      : e.isOverTarget &&
                        null != e.pointerType &&
                        (i = w(A9(e.target, r), e.pointerType, !1)),
                      i && r.stopPropagation(),
                      (e.isPressed = !1),
                      (e.activePointerId = null),
                      (e.isOverTarget = !1),
                      (e.ignoreEmulatedMouseEvents = !0),
                      e.target && !d && AQ(e.target),
                      v();
                  }),
                  (r.onTouchCancel = (r) => {
                    r.currentTarget.contains(r.target) &&
                      (r.stopPropagation(), e.isPressed && E(A9(e.target, r)));
                  });
                let i = (r) => {
                  e.isPressed &&
                    r.target.contains(e.target) &&
                    E({
                      currentTarget: e.target,
                      shiftKey: !1,
                      ctrlKey: !1,
                      metaKey: !1,
                      altKey: !1,
                    });
                };
                r.onDragStart = (e) => {
                  e.currentTarget.contains(e.target) && E(e);
                };
              }
              return r;
            }, [y, o, u, v, d, E, C, w, b, S]);
          return (
            (0, T.useEffect)(
              () => () => {
                var e;
                d ||
                  AQ(
                    null !== (e = m.current.target) && void 0 !== e
                      ? e
                      : void 0,
                  );
              },
              [d],
            ),
            { isPressed: l || p, pressProps: EX(f, x) }
          );
        }
        function A5(e) {
          return "A" === e.tagName && e.hasAttribute("href");
        }
        function A6(e, r) {
          let { key: n, code: i } = e,
            s = r,
            a = s.getAttribute("role");
          return (
            ("Enter" === n || " " === n || "Spacebar" === n || "Space" === i) &&
            !(
              (s instanceof E4(s).HTMLInputElement && !Il(s, n)) ||
              s instanceof E4(s).HTMLTextAreaElement ||
              s.isContentEditable
            ) &&
            !(("link" === a || (!a && A5(s))) && "Enter" !== n)
          );
        }
        function A8(e) {
          let { targetTouches: r } = e;
          return r.length > 0 ? r[0] : null;
        }
        function A7(e, r) {
          let n = e.changedTouches;
          for (let e = 0; e < n.length; e++) {
            let i = n[e];
            if (i.identifier === r) return i;
          }
          return null;
        }
        function A9(e, r) {
          let n = 0,
            i = 0;
          return (
            r.targetTouches &&
              1 === r.targetTouches.length &&
              ((n = r.targetTouches[0].clientX),
              (i = r.targetTouches[0].clientY)),
            {
              currentTarget: e,
              shiftKey: r.shiftKey,
              ctrlKey: r.ctrlKey,
              metaKey: r.metaKey,
              altKey: r.altKey,
              clientX: n,
              clientY: i,
            }
          );
        }
        function Ie(e, r) {
          let n = r.clientX,
            i = r.clientY;
          return {
            currentTarget: e,
            shiftKey: r.shiftKey,
            ctrlKey: r.ctrlKey,
            metaKey: r.metaKey,
            altKey: r.altKey,
            clientX: n,
            clientY: i,
          };
        }
        function It(e) {
          let r = 0,
            n = 0;
          return (
            void 0 !== e.width
              ? (r = e.width / 2)
              : void 0 !== e.radiusX && (r = e.radiusX),
            void 0 !== e.height
              ? (n = e.height / 2)
              : void 0 !== e.radiusY && (n = e.radiusY),
            {
              top: e.clientY - n,
              right: e.clientX + r,
              bottom: e.clientY + n,
              left: e.clientX - r,
            }
          );
        }
        function Ir(e, r) {
          return (
            !(e.left > r.right) &&
            !(r.left > e.right) &&
            !(e.top > r.bottom) &&
            !(r.top > e.bottom)
          );
        }
        function In(e, r) {
          return Ir(r.getBoundingClientRect(), It(e));
        }
        function Ii(e) {
          return !(e instanceof HTMLElement) || !e.hasAttribute("draggable");
        }
        function Is(e) {
          return (
            !(e instanceof HTMLInputElement) &&
            (e instanceof HTMLButtonElement
              ? "submit" !== e.type && "reset" !== e.type
              : !A5(e))
          );
        }
        function Ia(e, r) {
          return e instanceof HTMLInputElement ? !Il(e, r) : Is(e);
        }
        let Io = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function Il(e, r) {
          return "checkbox" === e.type || "radio" === e.type
            ? " " === r
            : Io.has(e.type);
        }
        function Iu(e, r) {
          let n,
            {
              elementType: i = "button",
              isDisabled: s,
              onPress: a,
              onPressStart: o,
              onPressEnd: l,
              onPressChange: u,
              preventFocusOnPress: c,
              allowFocusWhenDisabled: d,
              onClick: h,
              href: f,
              target: p,
              rel: g,
              type: m = "button",
              allowTextSelectionOnPress: y,
              role: v,
            } = e;
          n =
            "button" === i
              ? { type: m, disabled: s }
              : {
                  role: "button",
                  tabIndex: s ? void 0 : 0,
                  href: "a" !== i || s ? void 0 : f,
                  target: "a" === i ? p : void 0,
                  type: "input" === i ? m : void 0,
                  disabled: "input" === i ? s : void 0,
                  "aria-disabled": s && "input" !== i ? s : void 0,
                  rel: "a" === i ? g : void 0,
                };
          let b = Cc() || Cf();
          h &&
            "function" == typeof h &&
            "link" !== v &&
            !(
              e.hasOwnProperty("aria-expanded") &&
              e.hasOwnProperty("aria-controls")
            ) &&
            Ez(
              "onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292",
              "useButton",
            );
          let { pressProps: w, isPressed: T } = A4({
              onPressStart: o,
              onPressEnd: l,
              onPressChange: u,
              onPress: (e) => {
                b && (null == h || h(e)), null == a || a(e);
              },
              isDisabled: s,
              preventFocusOnPress: c,
              allowTextSelectionOnPress: y,
              ref: r,
            }),
            { focusableProps: S } = Aq(e, r);
          d && (S.tabIndex = s ? -1 : S.tabIndex);
          let E = EX(S, w, AF(e, { labelable: !0 }));
          return {
            isPressed: T,
            buttonProps: EX(n, E, {
              "aria-haspopup": e["aria-haspopup"],
              "aria-expanded": e["aria-expanded"],
              "aria-controls": e["aria-controls"],
              "aria-pressed": e["aria-pressed"],
              onClick: (e) => {
                ("button" === m && b) || null == h || h(e);
              },
            }),
          };
        }
        var [Ic, Id] = b1({ name: "ButtonGroupContext", strict: !1 }),
          Ih = new Set([
            "id",
            "type",
            "style",
            "title",
            "role",
            "tabIndex",
            "htmlFor",
            "width",
            "height",
            "abbr",
            "accept",
            "acceptCharset",
            "accessKey",
            "action",
            "allowFullScreen",
            "allowTransparency",
            "alt",
            "async",
            "autoComplete",
            "autoFocus",
            "autoPlay",
            "cellPadding",
            "cellSpacing",
            "challenge",
            "charset",
            "checked",
            "cite",
            "class",
            "className",
            "cols",
            "colSpan",
            "command",
            "content",
            "contentEditable",
            "contextMenu",
            "controls",
            "coords",
            "crossOrigin",
            "data",
            "dateTime",
            "default",
            "defer",
            "dir",
            "disabled",
            "download",
            "draggable",
            "dropzone",
            "encType",
            "enterKeyHint",
            "for",
            "form",
            "formAction",
            "formEncType",
            "formMethod",
            "formNoValidate",
            "formTarget",
            "frameBorder",
            "headers",
            "hidden",
            "high",
            "href",
            "hrefLang",
            "httpEquiv",
            "icon",
            "inputMode",
            "isMap",
            "itemId",
            "itemProp",
            "itemRef",
            "itemScope",
            "itemType",
            "kind",
            "label",
            "lang",
            "list",
            "loop",
            "manifest",
            "max",
            "maxLength",
            "media",
            "mediaGroup",
            "method",
            "min",
            "minLength",
            "multiple",
            "muted",
            "name",
            "noValidate",
            "open",
            "optimum",
            "pattern",
            "ping",
            "placeholder",
            "poster",
            "preload",
            "radioGroup",
            "referrerPolicy",
            "readOnly",
            "rel",
            "required",
            "rows",
            "rowSpan",
            "sandbox",
            "scope",
            "scoped",
            "scrolling",
            "seamless",
            "selected",
            "shape",
            "size",
            "sizes",
            "slot",
            "sortable",
            "span",
            "spellCheck",
            "src",
            "srcDoc",
            "srcSet",
            "start",
            "step",
            "target",
            "translate",
            "typeMustMatch",
            "useMap",
            "value",
            "wmode",
            "wrap",
          ]),
          If = new Set([
            "onCopy",
            "onCut",
            "onPaste",
            "onLoad",
            "onError",
            "onWheel",
            "onScroll",
            "onCompositionEnd",
            "onCompositionStart",
            "onCompositionUpdate",
            "onKeyDown",
            "onKeyPress",
            "onKeyUp",
            "onFocus",
            "onBlur",
            "onChange",
            "onInput",
            "onSubmit",
            "onClick",
            "onContextMenu",
            "onDoubleClick",
            "onDrag",
            "onDragEnd",
            "onDragEnter",
            "onDragExit",
            "onDragLeave",
            "onDragOver",
            "onDragStart",
            "onDrop",
            "onMouseDown",
            "onMouseEnter",
            "onMouseLeave",
            "onMouseMove",
            "onMouseOut",
            "onMouseOver",
            "onMouseUp",
            "onPointerDown",
            "onPointerEnter",
            "onPointerLeave",
            "onPointerUp",
            "onSelect",
            "onTouchCancel",
            "onTouchEnd",
            "onTouchMove",
            "onTouchStart",
            "onAnimationStart",
            "onAnimationEnd",
            "onAnimationIteration",
            "onTransitionEnd",
          ]),
          Ip = /^(data-.*)$/,
          Ig = /^(aria-.*)$/,
          Im = /^(on[A-Z].*)$/;
        function Iy(e, r = {}) {
          let {
              labelable: n = !0,
              enabled: i = !0,
              propNames: s,
              omitPropNames: a,
              omitEventNames: o,
              omitDataProps: l,
              omitEventProps: u,
            } = r,
            c = {};
          if (!i) return e;
          for (let r in e)
            !(
              (null == a ? void 0 : a.has(r)) ||
              ((null == o ? void 0 : o.has(r)) && Im.test(r)) ||
              (Im.test(r) && !If.has(r)) ||
              (l && Ip.test(r)) ||
              (u && Im.test(r))
            ) &&
              ((Object.prototype.hasOwnProperty.call(e, r) &&
                (Ih.has(r) ||
                  (n && Ig.test(r)) ||
                  (null == s ? void 0 : s.has(r)) ||
                  Ip.test(r))) ||
                Im.test(r)) &&
              (c[r] = e[r]);
          return c;
        }
        var Iv = ET({
          base: [
            "z-0",
            "group",
            "relative",
            "inline-flex",
            "items-center",
            "justify-center",
            "box-border",
            "appearance-none",
            "outline-none",
            "select-none",
            "whitespace-nowrap",
            "min-w-max",
            "font-normal",
            "subpixel-antialiased",
            "overflow-hidden",
            "tap-highlight-transparent",
            "data-[pressed=true]:scale-[0.97]",
            ...ES,
          ],
          variants: {
            variant: {
              solid: "",
              bordered: "border-medium bg-transparent",
              light: "bg-transparent",
              flat: "",
              faded: "border-medium",
              shadow: "",
              ghost: "border-medium bg-transparent",
            },
            size: {
              sm: "px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",
              md: "px-4 min-w-20 h-10 text-small gap-2 rounded-medium",
              lg: "px-6 min-w-24 h-12 text-medium gap-3 rounded-large",
            },
            color: {
              default: "",
              primary: "",
              secondary: "",
              success: "",
              warning: "",
              danger: "",
            },
            radius: {
              none: "rounded-none",
              sm: "rounded-small",
              md: "rounded-medium",
              lg: "rounded-large",
              full: "rounded-full",
            },
            fullWidth: { true: "w-full" },
            isDisabled: { true: "opacity-disabled pointer-events-none" },
            isInGroup: {
              true: "[&:not(:first-child):not(:last-child)]:rounded-none",
            },
            isIconOnly: {
              true: "px-0 !gap-0",
              false: "[&>svg]:max-w-[theme(spacing.8)]",
            },
            disableAnimation: {
              true: "!transition-none data-[pressed=true]:scale-100",
              false:
                "transition-transform-colors-opacity motion-reduce:transition-none",
            },
          },
          defaultVariants: {
            size: "md",
            variant: "solid",
            color: "default",
            fullWidth: !1,
            isDisabled: !1,
            isInGroup: !1,
          },
          compoundVariants: [
            { variant: "solid", color: "default", class: Am.solid.default },
            { variant: "solid", color: "primary", class: Am.solid.primary },
            { variant: "solid", color: "secondary", class: Am.solid.secondary },
            { variant: "solid", color: "success", class: Am.solid.success },
            { variant: "solid", color: "warning", class: Am.solid.warning },
            { variant: "solid", color: "danger", class: Am.solid.danger },
            { variant: "shadow", color: "default", class: Am.shadow.default },
            { variant: "shadow", color: "primary", class: Am.shadow.primary },
            {
              variant: "shadow",
              color: "secondary",
              class: Am.shadow.secondary,
            },
            { variant: "shadow", color: "success", class: Am.shadow.success },
            { variant: "shadow", color: "warning", class: Am.shadow.warning },
            { variant: "shadow", color: "danger", class: Am.shadow.danger },
            {
              variant: "bordered",
              color: "default",
              class: Am.bordered.default,
            },
            {
              variant: "bordered",
              color: "primary",
              class: Am.bordered.primary,
            },
            {
              variant: "bordered",
              color: "secondary",
              class: Am.bordered.secondary,
            },
            {
              variant: "bordered",
              color: "success",
              class: Am.bordered.success,
            },
            {
              variant: "bordered",
              color: "warning",
              class: Am.bordered.warning,
            },
            { variant: "bordered", color: "danger", class: Am.bordered.danger },
            { variant: "flat", color: "default", class: Am.flat.default },
            { variant: "flat", color: "primary", class: Am.flat.primary },
            { variant: "flat", color: "secondary", class: Am.flat.secondary },
            { variant: "flat", color: "success", class: Am.flat.success },
            { variant: "flat", color: "warning", class: Am.flat.warning },
            { variant: "flat", color: "danger", class: Am.flat.danger },
            { variant: "faded", color: "default", class: Am.faded.default },
            { variant: "faded", color: "primary", class: Am.faded.primary },
            { variant: "faded", color: "secondary", class: Am.faded.secondary },
            { variant: "faded", color: "success", class: Am.faded.success },
            { variant: "faded", color: "warning", class: Am.faded.warning },
            { variant: "faded", color: "danger", class: Am.faded.danger },
            {
              variant: "light",
              color: "default",
              class: [Am.light.default, "data-[hover=true]:bg-default/40"],
            },
            {
              variant: "light",
              color: "primary",
              class: [Am.light.primary, "data-[hover=true]:bg-primary/20"],
            },
            {
              variant: "light",
              color: "secondary",
              class: [Am.light.secondary, "data-[hover=true]:bg-secondary/20"],
            },
            {
              variant: "light",
              color: "success",
              class: [Am.light.success, "data-[hover=true]:bg-success/20"],
            },
            {
              variant: "light",
              color: "warning",
              class: [Am.light.warning, "data-[hover=true]:bg-warning/20"],
            },
            {
              variant: "light",
              color: "danger",
              class: [Am.light.danger, "data-[hover=true]:bg-danger/20"],
            },
            {
              variant: "ghost",
              color: "default",
              class: [Am.ghost.default, "data-[hover=true]:!bg-default"],
            },
            {
              variant: "ghost",
              color: "primary",
              class: [
                Am.ghost.primary,
                "data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground",
              ],
            },
            {
              variant: "ghost",
              color: "secondary",
              class: [
                Am.ghost.secondary,
                "data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground",
              ],
            },
            {
              variant: "ghost",
              color: "success",
              class: [
                Am.ghost.success,
                "data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground",
              ],
            },
            {
              variant: "ghost",
              color: "warning",
              class: [
                Am.ghost.warning,
                "data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground",
              ],
            },
            {
              variant: "ghost",
              color: "danger",
              class: [
                Am.ghost.danger,
                "data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground",
              ],
            },
            {
              isInGroup: !0,
              class:
                "rounded-none first:rounded-s-medium last:rounded-e-medium",
            },
            {
              isInGroup: !0,
              size: "sm",
              class: "rounded-none first:rounded-s-small last:rounded-e-small",
            },
            {
              isInGroup: !0,
              size: "md",
              class:
                "rounded-none first:rounded-s-medium last:rounded-e-medium",
            },
            {
              isInGroup: !0,
              size: "lg",
              class: "rounded-none first:rounded-s-large last:rounded-e-large",
            },
            {
              isInGroup: !0,
              isRounded: !0,
              class: "rounded-none first:rounded-s-full last:rounded-e-full",
            },
            {
              isInGroup: !0,
              radius: "none",
              class: "rounded-none first:rounded-s-none last:rounded-e-none",
            },
            {
              isInGroup: !0,
              radius: "sm",
              class: "rounded-none first:rounded-s-small last:rounded-e-small",
            },
            {
              isInGroup: !0,
              radius: "md",
              class:
                "rounded-none first:rounded-s-medium last:rounded-e-medium",
            },
            {
              isInGroup: !0,
              radius: "lg",
              class: "rounded-none first:rounded-s-large last:rounded-e-large",
            },
            {
              isInGroup: !0,
              radius: "full",
              class: "rounded-none first:rounded-s-full last:rounded-e-full",
            },
            {
              isInGroup: !0,
              variant: ["ghost", "bordered"],
              color: "default",
              className: EC.default,
            },
            {
              isInGroup: !0,
              variant: ["ghost", "bordered"],
              color: "primary",
              className: EC.primary,
            },
            {
              isInGroup: !0,
              variant: ["ghost", "bordered"],
              color: "secondary",
              className: EC.secondary,
            },
            {
              isInGroup: !0,
              variant: ["ghost", "bordered"],
              color: "success",
              className: EC.success,
            },
            {
              isInGroup: !0,
              variant: ["ghost", "bordered"],
              color: "warning",
              className: EC.warning,
            },
            {
              isInGroup: !0,
              variant: ["ghost", "bordered"],
              color: "danger",
              className: EC.danger,
            },
            { isIconOnly: !0, size: "sm", class: "min-w-8 w-8 h-8" },
            { isIconOnly: !0, size: "md", class: "min-w-10 w-10 h-10" },
            { isIconOnly: !0, size: "lg", class: "min-w-12 w-12 h-12" },
            {
              variant: ["solid", "faded", "flat", "bordered", "shadow"],
              class: "data-[hover=true]:opacity-hover",
            },
          ],
        });
        ET({
          base: "inline-flex items-center justify-center h-auto",
          variants: { fullWidth: { true: "w-full" } },
          defaultVariants: { fullWidth: !1 },
        });
        let Ib = !1,
          Iw = 0;
        function IT() {
          (Ib = !0),
            setTimeout(() => {
              Ib = !1;
            }, 50);
        }
        function IS(e) {
          "touch" === e.pointerType && IT();
        }
        function IE() {
          if ("undefined" != typeof document)
            return (
              "undefined" != typeof PointerEvent
                ? document.addEventListener("pointerup", IS)
                : document.addEventListener("touchend", IT),
              Iw++,
              () => {
                --Iw > 0 ||
                  ("undefined" != typeof PointerEvent
                    ? document.removeEventListener("pointerup", IS)
                    : document.removeEventListener("touchend", IT));
              }
            );
        }
        function IC(e) {
          let {
              onHoverStart: r,
              onHoverChange: n,
              onHoverEnd: i,
              isDisabled: s,
            } = e,
            [a, o] = (0, T.useState)(!1),
            l = (0, T.useRef)({
              isHovered: !1,
              ignoreEmulatedMouseEvents: !1,
              pointerType: "",
              target: null,
            }).current;
          (0, T.useEffect)(IE, []);
          let { hoverProps: u, triggerHoverEnd: c } = (0, T.useMemo)(() => {
            let e = (e, i) => {
                if (
                  ((l.pointerType = i),
                  s ||
                    "touch" === i ||
                    l.isHovered ||
                    !e.currentTarget.contains(e.target))
                )
                  return;
                l.isHovered = !0;
                let a = e.currentTarget;
                (l.target = a),
                  r && r({ type: "hoverstart", target: a, pointerType: i }),
                  n && n(!0),
                  o(!0);
              },
              a = (e, r) => {
                if (
                  ((l.pointerType = ""),
                  (l.target = null),
                  "touch" === r || !l.isHovered)
                )
                  return;
                l.isHovered = !1;
                let s = e.currentTarget;
                i && i({ type: "hoverend", target: s, pointerType: r }),
                  n && n(!1),
                  o(!1);
              },
              u = {};
            return (
              "undefined" != typeof PointerEvent
                ? ((u.onPointerEnter = (r) => {
                    (Ib && "mouse" === r.pointerType) || e(r, r.pointerType);
                  }),
                  (u.onPointerLeave = (e) => {
                    !s &&
                      e.currentTarget.contains(e.target) &&
                      a(e, e.pointerType);
                  }))
                : ((u.onTouchStart = () => {
                    l.ignoreEmulatedMouseEvents = !0;
                  }),
                  (u.onMouseEnter = (r) => {
                    l.ignoreEmulatedMouseEvents || Ib || e(r, "mouse"),
                      (l.ignoreEmulatedMouseEvents = !1);
                  }),
                  (u.onMouseLeave = (e) => {
                    !s && e.currentTarget.contains(e.target) && a(e, "mouse");
                  })),
              { hoverProps: u, triggerHoverEnd: a }
            );
          }, [r, n, i, s, l]);
          return (
            (0, T.useEffect)(() => {
              s && c({ currentTarget: l.target }, l.pointerType);
            }, [s]),
            { hoverProps: u, isHovered: a }
          );
        }
        function Ix(e = {}) {
          let [r, n] = (0, T.useState)([]),
            i = (0, T.useCallback)((e) => {
              let r = e.target,
                i = Math.max(r.clientWidth, r.clientHeight);
              n((r) => [
                ...r,
                {
                  key: EL(r.length.toString()),
                  size: i,
                  x: e.x - i / 2,
                  y: e.y - i / 2,
                },
              ]);
            }, []);
          return {
            ripples: r,
            onClear: (0, T.useCallback)((e) => {
              n((r) => r.filter((r) => r.key !== e));
            }, []),
            onPress: i,
            ...e,
          };
        }
        function IA(e) {
          var r, n, i, s, a, o, l, u, c;
          let d = Id(),
            h = b5(),
            f = !!d,
            {
              ref: p,
              as: g,
              children: m,
              startContent: y,
              endContent: v,
              autoFocus: b,
              className: w,
              spinner: S,
              isLoading: E = !1,
              disableRipple: C = !1,
              fullWidth: x = null != (r = null == d ? void 0 : d.fullWidth) &&
                r,
              radius: A = null == d ? void 0 : d.radius,
              size: I = null != (n = null == d ? void 0 : d.size) ? n : "md",
              color: k = null != (i = null == d ? void 0 : d.color)
                ? i
                : "default",
              variant: _ = null != (s = null == d ? void 0 : d.variant)
                ? s
                : "solid",
              disableAnimation: R = null !=
                (o =
                  null != (a = null == d ? void 0 : d.disableAnimation)
                    ? a
                    : null == h
                      ? void 0
                      : h.disableAnimation) && o,
              isDisabled: D = null != (l = null == d ? void 0 : d.isDisabled) &&
                l,
              isIconOnly: P = null != (u = null == d ? void 0 : d.isIconOnly) &&
                u,
              spinnerPlacement: N = "start",
              onPress: O,
              onClick: M,
              ...L
            } = e,
            B = g || "button",
            F = "string" == typeof B,
            U = x8(p),
            j =
              null != (c = C || (null == h ? void 0 : h.disableRipple)) ? c : R,
            {
              isFocusVisible: z,
              isFocused: V,
              focusProps: K,
            } = Ae({ autoFocus: b }),
            q = D || E,
            H = (0, T.useMemo)(
              () =>
                Iv({
                  size: I,
                  color: k,
                  variant: _,
                  radius: A,
                  fullWidth: x,
                  isDisabled: q,
                  isInGroup: f,
                  disableAnimation: R,
                  isIconOnly: P,
                  className: w,
                }),
              [I, k, _, A, x, q, f, P, R, w],
            ),
            { onPress: $, onClear: W, ripples: G } = Ix(),
            Q = (0, T.useCallback)(
              (e) => {
                j || q || R || !U.current || $(e);
              },
              [j, q, R, U, $],
            ),
            { buttonProps: Y, isPressed: X } = Iu(
              {
                elementType: g,
                isDisabled: q,
                onPress: EH(O, Q),
                onClick: M,
                ...L,
              },
              U,
            ),
            { isHovered: J, hoverProps: Z } = IC({ isDisabled: q }),
            ee = (0, T.useCallback)(
              (e = {}) => ({
                "data-disabled": EP(q),
                "data-focus": EP(V),
                "data-pressed": EP(X),
                "data-focus-visible": EP(z),
                "data-hover": EP(J),
                "data-loading": EP(E),
                ...EX(Y, K, Z, Iy(L, { enabled: F }), Iy(e)),
                className: H,
              }),
              [E, q, V, X, F, z, J, Y, K, Z, L, H],
            ),
            et = (e) =>
              (0, T.isValidElement)(e)
                ? (0, T.cloneElement)(e, {
                    "aria-hidden": !0,
                    focusable: !1,
                    tabIndex: -1,
                  })
                : null,
            er = et(y);
          return {
            Component: B,
            children: m,
            domRef: U,
            spinner: S,
            styles: H,
            startContent: er,
            endContent: et(v),
            isLoading: E,
            spinnerPlacement: N,
            spinnerSize: (0, T.useMemo)(
              () => ({ sm: "sm", md: "sm", lg: "md" })[I],
              [I],
            ),
            disableRipple: j,
            getButtonProps: ee,
            getRippleProps: (0, T.useCallback)(
              () => ({ ripples: G, onClear: W }),
              [G, W],
            ),
            isIconOnly: P,
          };
        }
        var II = ET({
          slots: {
            base: "relative inline-flex flex-col gap-2 items-center justify-center",
            wrapper: "relative flex",
            label: "text-foreground dark:text-foreground-dark font-regular",
            circle1: "absolute w-full h-full rounded-full",
            circle2: "absolute w-full h-full rounded-full",
            dots: "relative rounded-full mx-auto",
            spinnerBars: [
              "absolute",
              "animate-fade-out",
              "rounded-full",
              "w-[25%]",
              "h-[8%]",
              "left-[calc(37.5%)]",
              "top-[calc(46%)]",
              "spinner-bar-animation",
            ],
          },
          variants: {
            size: {
              sm: {
                wrapper: "w-5 h-5",
                circle1: "border-2",
                circle2: "border-2",
                dots: "size-1",
                label: "text-small",
              },
              md: {
                wrapper: "w-8 h-8",
                circle1: "border-3",
                circle2: "border-3",
                dots: "size-1.5",
                label: "text-medium",
              },
              lg: {
                wrapper: "w-10 h-10",
                circle1: "border-3",
                circle2: "border-3",
                dots: "size-2",
                label: "text-large",
              },
            },
            color: {
              current: {
                circle1: "border-b-current",
                circle2: "border-b-current",
                dots: "bg-current",
                spinnerBars: "bg-current",
              },
              white: {
                circle1: "border-b-white",
                circle2: "border-b-white",
                dots: "bg-white",
                spinnerBars: "bg-white",
              },
              default: {
                circle1: "border-b-default",
                circle2: "border-b-default",
                dots: "bg-default",
                spinnerBars: "bg-default",
              },
              primary: {
                circle1: "border-b-primary",
                circle2: "border-b-primary",
                dots: "bg-primary",
                spinnerBars: "bg-primary",
              },
              secondary: {
                circle1: "border-b-secondary",
                circle2: "border-b-secondary",
                dots: "bg-secondary",
                spinnerBars: "bg-secondary",
              },
              success: {
                circle1: "border-b-success",
                circle2: "border-b-success",
                dots: "bg-success",
                spinnerBars: "bg-success",
              },
              warning: {
                circle1: "border-b-warning",
                circle2: "border-b-warning",
                dots: "bg-warning",
                spinnerBars: "bg-warning",
              },
              danger: {
                circle1: "border-b-danger",
                circle2: "border-b-danger",
                dots: "bg-danger",
                spinnerBars: "bg-danger",
              },
            },
            labelColor: {
              foreground: { label: "text-foreground" },
              primary: { label: "text-primary" },
              secondary: { label: "text-secondary" },
              success: { label: "text-success" },
              warning: { label: "text-warning" },
              danger: { label: "text-danger" },
            },
            variant: {
              default: {
                circle1: [
                  "animate-spinner-ease-spin",
                  "border-solid",
                  "border-t-transparent",
                  "border-l-transparent",
                  "border-r-transparent",
                ],
                circle2: [
                  "opacity-75",
                  "animate-spinner-linear-spin",
                  "border-dotted",
                  "border-t-transparent",
                  "border-l-transparent",
                  "border-r-transparent",
                ],
              },
              gradient: {
                circle1: [
                  "border-0",
                  "bg-gradient-to-b",
                  "from-transparent",
                  "via-transparent",
                  "to-primary",
                  "animate-spinner-linear-spin",
                  "[animation-duration:1s]",
                  "[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]",
                ],
                circle2: ["hidden"],
              },
              wave: {
                wrapper: "translate-y-3/4",
                dots: ["animate-sway", "spinner-dot-animation"],
              },
              dots: {
                wrapper: "translate-y-2/4",
                dots: ["animate-blink", "spinner-dot-blink-animation"],
              },
              spinner: {},
              simple: {
                wrapper: "text-foreground h-5 w-5 animate-spin",
                circle1: "opacity-25",
                circle2: "opacity-75",
              },
            },
          },
          defaultVariants: {
            size: "md",
            color: "primary",
            labelColor: "foreground",
            variant: "default",
          },
          compoundVariants: [
            {
              variant: "gradient",
              color: "current",
              class: { circle1: "to-current" },
            },
            {
              variant: "gradient",
              color: "white",
              class: { circle1: "to-white" },
            },
            {
              variant: "gradient",
              color: "default",
              class: { circle1: "to-default" },
            },
            {
              variant: "gradient",
              color: "primary",
              class: { circle1: "to-primary" },
            },
            {
              variant: "gradient",
              color: "secondary",
              class: { circle1: "to-secondary" },
            },
            {
              variant: "gradient",
              color: "success",
              class: { circle1: "to-success" },
            },
            {
              variant: "gradient",
              color: "warning",
              class: { circle1: "to-warning" },
            },
            {
              variant: "gradient",
              color: "danger",
              class: { circle1: "to-danger" },
            },
            { variant: "wave", size: "sm", class: { wrapper: "w-5 h-5" } },
            { variant: "wave", size: "md", class: { wrapper: "w-8 h-8" } },
            { variant: "wave", size: "lg", class: { wrapper: "w-12 h-12" } },
            { variant: "dots", size: "sm", class: { wrapper: "w-5 h-5" } },
            { variant: "dots", size: "md", class: { wrapper: "w-8 h-8" } },
            { variant: "dots", size: "lg", class: { wrapper: "w-12 h-12" } },
            { variant: "simple", size: "sm", class: { wrapper: "w-5 h-5" } },
            { variant: "simple", size: "md", class: { wrapper: "w-8 h-8" } },
            { variant: "simple", size: "lg", class: { wrapper: "w-12 h-12" } },
            {
              variant: "simple",
              color: "current",
              class: { wrapper: "text-current" },
            },
            {
              variant: "simple",
              color: "white",
              class: { wrapper: "text-white" },
            },
            {
              variant: "simple",
              color: "default",
              class: { wrapper: "text-default" },
            },
            {
              variant: "simple",
              color: "primary",
              class: { wrapper: "text-primary" },
            },
            {
              variant: "simple",
              color: "secondary",
              class: { wrapper: "text-secondary" },
            },
            {
              variant: "simple",
              color: "success",
              class: { wrapper: "text-success" },
            },
            {
              variant: "simple",
              color: "warning",
              class: { wrapper: "text-warning" },
            },
            {
              variant: "simple",
              color: "danger",
              class: { wrapper: "text-danger" },
            },
          ],
        });
        function Ik(e) {
          var r, n;
          let [i, s] = Ag(e, II.variantKeys),
            a = b5(),
            o =
              null !=
              (n =
                null != (r = null == e ? void 0 : e.variant)
                  ? r
                  : null == a
                    ? void 0
                    : a.spinnerVariant)
                ? n
                : "default",
            { children: l, className: u, classNames: c, label: d, ...h } = i,
            f = (0, T.useMemo)(() => II({ ...s }), [EF(s)]),
            p = EO(null == c ? void 0 : c.base, u),
            g = d || l,
            m = (0, T.useMemo)(
              () =>
                g && "string" == typeof g
                  ? g
                  : h["aria-label"]
                    ? ""
                    : "Loading",
              [l, g, h["aria-label"]],
            ),
            y = (0, T.useCallback)(
              () => ({
                "aria-label": m,
                className: f.base({ class: p }),
                ...h,
              }),
              [m, f, p, h],
            );
          return {
            label: g,
            slots: f,
            classNames: c,
            variant: o,
            getSpinnerProps: y,
          };
        }
        var I_ = Ap((e, r) => {
          let {
            slots: n,
            classNames: i,
            label: s,
            variant: a,
            getSpinnerProps: o,
          } = Ik({ ...e });
          return "wave" === a || "dots" === a
            ? (0, w.jsxs)("div", {
                ref: r,
                ...o(),
                children: [
                  (0, w.jsx)("div", {
                    className: n.wrapper({
                      class: null == i ? void 0 : i.wrapper,
                    }),
                    children: [void 0, void 0, void 0].map((e, r) =>
                      (0, w.jsx)(
                        "i",
                        {
                          className: n.dots({
                            class: null == i ? void 0 : i.dots,
                          }),
                          style: { "--dot-index": r },
                        },
                        `dot-${r}`,
                      ),
                    ),
                  }),
                  s &&
                    (0, w.jsx)("span", {
                      className: n.label({
                        class: null == i ? void 0 : i.label,
                      }),
                      children: s,
                    }),
                ],
              })
            : "simple" === a
              ? (0, w.jsxs)("div", {
                  ref: r,
                  ...o(),
                  children: [
                    (0, w.jsxs)("svg", {
                      className: n.wrapper({
                        class: null == i ? void 0 : i.wrapper,
                      }),
                      fill: "none",
                      viewBox: "0 0 24 24",
                      children: [
                        (0, w.jsx)("circle", {
                          className: n.circle1({
                            class: null == i ? void 0 : i.circle1,
                          }),
                          cx: "12",
                          cy: "12",
                          r: "10",
                          stroke: "currentColor",
                          strokeWidth: "4",
                        }),
                        (0, w.jsx)("path", {
                          className: n.circle2({
                            class: null == i ? void 0 : i.circle2,
                          }),
                          d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",
                          fill: "currentColor",
                        }),
                      ],
                    }),
                    s &&
                      (0, w.jsx)("span", {
                        className: n.label({
                          class: null == i ? void 0 : i.label,
                        }),
                        children: s,
                      }),
                  ],
                })
              : "spinner" === a
                ? (0, w.jsxs)("div", {
                    ref: r,
                    ...o(),
                    children: [
                      (0, w.jsx)("div", {
                        className: n.wrapper({
                          class: null == i ? void 0 : i.wrapper,
                        }),
                        children: [...Array(12)].map((e, r) =>
                          (0, w.jsx)(
                            "i",
                            {
                              className: n.spinnerBars({
                                class: null == i ? void 0 : i.spinnerBars,
                              }),
                              style: { "--bar-index": r },
                            },
                            `star-${r}`,
                          ),
                        ),
                      }),
                      s &&
                        (0, w.jsx)("span", {
                          className: n.label({
                            class: null == i ? void 0 : i.label,
                          }),
                          children: s,
                        }),
                    ],
                  })
                : (0, w.jsxs)("div", {
                    ref: r,
                    ...o(),
                    children: [
                      (0, w.jsxs)("div", {
                        className: n.wrapper({
                          class: null == i ? void 0 : i.wrapper,
                        }),
                        children: [
                          (0, w.jsx)("i", {
                            className: n.circle1({
                              class: null == i ? void 0 : i.circle1,
                            }),
                          }),
                          (0, w.jsx)("i", {
                            className: n.circle2({
                              class: null == i ? void 0 : i.circle2,
                            }),
                          }),
                        ],
                      }),
                      s &&
                        (0, w.jsx)("span", {
                          className: n.label({
                            class: null == i ? void 0 : i.label,
                          }),
                          children: s,
                        }),
                    ],
                  });
        });
        I_.displayName = "HeroUI.Spinner";
        var IR = I_,
          ID = n(71746),
          IP = n(16030),
          IN = () =>
            Promise.all([n.e(93), n.e(675)])
              .then(n.bind(n, 19675))
              .then((e) => e.default),
          IO = (e) => {
            let {
              ripples: r = [],
              motionProps: n,
              color: i = "currentColor",
              style: s,
              onClear: a,
            } = e;
            return (0, w.jsx)(w.Fragment, {
              children: r.map((e) => {
                let r = EU(0.01 * e.size, 0.2, e.size > 100 ? 0.75 : 0.5);
                return (0, w.jsx)(
                  ID.F,
                  {
                    features: IN,
                    children: (0, w.jsx)(Ak.N, {
                      mode: "popLayout",
                      children: (0, w.jsx)(IP.m.span, {
                        animate: { transform: "scale(2)", opacity: 0 },
                        className: "heroui-ripple",
                        exit: { opacity: 0 },
                        initial: { transform: "scale(0)", opacity: 0.35 },
                        style: {
                          position: "absolute",
                          backgroundColor: i,
                          borderRadius: "100%",
                          transformOrigin: "center",
                          pointerEvents: "none",
                          overflow: "hidden",
                          inset: 0,
                          zIndex: 0,
                          top: e.y,
                          left: e.x,
                          width: `${e.size}px`,
                          height: `${e.size}px`,
                          ...s,
                        },
                        transition: { duration: r },
                        onAnimationComplete: () => {
                          a(e.key);
                        },
                        ...n,
                      }),
                    }),
                  },
                  e.key,
                );
              }),
            });
          };
        IO.displayName = "HeroUI.Ripple";
        var IM = IO,
          IL = Ap((e, r) => {
            let {
              Component: n,
              domRef: i,
              children: s,
              spinnerSize: a,
              spinner: o = (0, w.jsx)(IR, { color: "current", size: a }),
              spinnerPlacement: l,
              startContent: u,
              endContent: c,
              isLoading: d,
              disableRipple: h,
              getButtonProps: f,
              getRippleProps: p,
              isIconOnly: g,
            } = IA({ ...e, ref: r });
            return (0, w.jsxs)(n, {
              ref: i,
              ...f(),
              children: [
                u,
                d && "start" === l && o,
                d && g ? null : s,
                d && "end" === l && o,
                c,
                !h && (0, w.jsx)(IM, { ...p() }),
              ],
            });
          });
        IL.displayName = "HeroUI.Button";
        var IB = IL,
          IF = (e) => {
            var r;
            let { triggerRef: n, getTriggerProps: i } = E2(),
              { children: s, ...a } = e,
              o = (0, T.useMemo)(
                () =>
                  "string" == typeof s
                    ? (0, w.jsx)("p", { children: s })
                    : T.Children.only(s),
                [s],
              ),
              l = null != (r = o.props.ref) ? r : o.ref,
              {
                onPress: u,
                isDisabled: c,
                ...d
              } = (0, T.useMemo)(
                () => i(EX(a, o.props), l),
                [i, o.props, a, l],
              ),
              [, h] = AN(s, IB),
              { buttonProps: f } = Iu({ onPress: u, isDisabled: c }, n),
              p = (0, T.useMemo)(
                () => (null == h ? void 0 : h[0]) !== void 0,
                [h],
              );
            return (0, T.cloneElement)(
              o,
              EX(d, p ? { onPress: u, isDisabled: c } : f),
            );
          };
        IF.displayName = "HeroUI.PopoverTrigger";
        var IU = IF,
          Ij = (e) => {
            let { getMenuTriggerProps: r } = b3(),
              { children: n, ...i } = e;
            return (0, w.jsx)(IU, { ...r(i), children: n });
          };
        Ij.displayName = "HeroUI.DropdownTrigger";
        var Iz = Ij,
          IV = {},
          IK = {},
          Iq = {},
          IH = {},
          I$ = {},
          IW = {},
          IG = {},
          IQ = {},
          IY = {},
          IX = {},
          IJ = {},
          IZ = {},
          I0 = {},
          I1 = {},
          I2 = {},
          I3 = {},
          I4 = {},
          I5 = {},
          I6 = {},
          I8 = {},
          I7 = {},
          I9 = {},
          ke = {},
          kt = {},
          kr = {},
          kn = {},
          ki = {},
          ks = {},
          ka = {},
          ko = {},
          kl = {},
          ku = {},
          kc = {},
          kd = {},
          kh = {};
        function kf(e, r) {
          let { id: n, "aria-label": i, "aria-labelledby": s } = e;
          return (
            (n = EQ(n)),
            s && i
              ? (s = [...new Set([n, ...s.trim().split(/\s+/)])].join(" "))
              : s && (s = s.trim().split(/\s+/).join(" ")),
            i || s || !r || (i = r),
            { id: n, "aria-label": i, "aria-labelledby": s }
          );
        }
        kh = {
          "ar-AE": (IV = { dismiss: `\u{62A}\u{62C}\u{627}\u{647}\u{644}` }),
          "bg-BG": (IK = {
            dismiss: `\u{41E}\u{442}\u{445}\u{432}\u{44A}\u{440}\u{43B}\u{44F}\u{43D}\u{435}`,
          }),
          "cs-CZ": (Iq = { dismiss: "Odstranit" }),
          "da-DK": (IH = { dismiss: "Luk" }),
          "de-DE": (I$ = { dismiss: `Schlie\xdfen` }),
          "el-GR": (IW = {
            dismiss: `\u{391}\u{3C0}\u{3CC}\u{3C1}\u{3C1}\u{3B9}\u{3C8}\u{3B7}`,
          }),
          "en-US": (IG = { dismiss: "Dismiss" }),
          "es-ES": (IQ = { dismiss: "Descartar" }),
          "et-EE": (IY = { dismiss: `L\xf5peta` }),
          "fi-FI": (IX = { dismiss: `Hylk\xe4\xe4` }),
          "fr-FR": (IJ = { dismiss: "Rejeter" }),
          "he-IL": (IZ = { dismiss: `\u{5D4}\u{5EA}\u{5E2}\u{5DC}\u{5DD}` }),
          "hr-HR": (I0 = { dismiss: "Odbaci" }),
          "hu-HU": (I1 = { dismiss: `Elutas\xedt\xe1s` }),
          "it-IT": (I2 = { dismiss: "Ignora" }),
          "ja-JP": (I3 = { dismiss: `\u{9589}\u{3058}\u{308B}` }),
          "ko-KR": (I4 = { dismiss: `\u{BB34}\u{C2DC}` }),
          "lt-LT": (I5 = { dismiss: "Atmesti" }),
          "lv-LV": (I6 = { dismiss: `Ner\u{101}d\u{12B}t` }),
          "nb-NO": (I8 = { dismiss: "Lukk" }),
          "nl-NL": (I7 = { dismiss: "Negeren" }),
          "pl-PL": (I9 = { dismiss: "Zignoruj" }),
          "pt-BR": (ke = { dismiss: "Descartar" }),
          "pt-PT": (kt = { dismiss: "Dispensar" }),
          "ro-RO": (kr = { dismiss: "Revocare" }),
          "ru-RU": (kn = {
            dismiss: `\u{41F}\u{440}\u{43E}\u{43F}\u{443}\u{441}\u{442}\u{438}\u{442}\u{44C}`,
          }),
          "sk-SK": (ki = { dismiss: `Zru\u{161}i\u{165}` }),
          "sl-SI": (ks = { dismiss: "Opusti" }),
          "sr-SP": (ka = { dismiss: "Odbaci" }),
          "sv-SE": (ko = { dismiss: "Avvisa" }),
          "tr-TR": (kl = { dismiss: "Kapat" }),
          "uk-UA": (ku = {
            dismiss: `\u{421}\u{43A}\u{430}\u{441}\u{443}\u{432}\u{430}\u{442}\u{438}`,
          }),
          "zh-CN": (kc = { dismiss: `\u{53D6}\u{6D88}` }),
          "zh-TW": (kd = { dismiss: `\u{95DC}\u{9589}` }),
        };
        let kp = new WeakMap();
        function kg(e) {
          let r = kp.get(e);
          return r || ((r = new w2(e)), kp.set(e, r)), r;
        }
        function km(e, r) {
          return (r && w2.getGlobalDictionaryForPackage(r)) || kg(e);
        }
        function ky(e, r) {
          let { locale: n } = xY(),
            i = km(e, r);
          return (0, T.useMemo)(() => new w8(n, i), [n, i]);
        }
        let kv = {
          border: 0,
          clip: "rect(0 0 0 0)",
          clipPath: "inset(50%)",
          height: "1px",
          margin: "-1px",
          overflow: "hidden",
          padding: 0,
          position: "absolute",
          width: "1px",
          whiteSpace: "nowrap",
        };
        function kb(e = {}) {
          let { style: r, isFocusable: n } = e,
            [i, s] = (0, T.useState)(!1),
            { focusWithinProps: a } = xd({
              isDisabled: !n,
              onFocusWithinChange: (e) => s(e),
            }),
            o = (0, T.useMemo)(() => (i ? r : r ? { ...kv, ...r } : kv), [i]);
          return { visuallyHiddenProps: { ...a, style: o } };
        }
        function kw(e) {
          let {
              children: r,
              elementType: n = "div",
              isFocusable: i,
              style: s,
              ...a
            } = e,
            { visuallyHiddenProps: o } = kb(e);
          return T.createElement(n, EX(a, o), r);
        }
        function kT(e) {
          return e && e.__esModule ? e.default : e;
        }
        function kS(e) {
          let { onDismiss: r, ...n } = e,
            i = kf(n, ky(kT(kh), "@react-aria/overlays").format("dismiss")),
            s = () => {
              r && r();
            };
          return T.createElement(
            kw,
            null,
            T.createElement("button", {
              ...i,
              tabIndex: -1,
              onClick: s,
              style: { width: 1, height: 1 },
            }),
          );
        }
        var kE = {
          ease: [0.36, 0.66, 0.4, 1],
          easeIn: [0.4, 0, 1, 1],
          easeOut: [0, 0, 0.2, 1],
        };
        kE.easeOut, kE.easeIn;
        var kC = {
          scaleSpring: {
            enter: {
              transform: "scale(1)",
              opacity: 1,
              transition: { type: "spring", bounce: 0, duration: 0.2 },
            },
            exit: {
              transform: "scale(0.85)",
              opacity: 0,
              transition: { type: "easeOut", duration: 0.15 },
            },
          },
          scaleSpringOpacity: {
            initial: { opacity: 0, transform: "scale(0.8)" },
            enter: {
              opacity: 1,
              transform: "scale(1)",
              transition: { type: "spring", bounce: 0, duration: 0.3 },
            },
            exit: {
              opacity: 0,
              transform: "scale(0.96)",
              transition: { type: "easeOut", bounce: 0, duration: 0.15 },
            },
          },
          scale: { enter: { scale: 1 }, exit: { scale: 0.95 } },
          scaleFadeIn: {
            enter: {
              transform: "scale(1)",
              opacity: 1,
              transition: { duration: 0.25, ease: kE.easeIn },
            },
            exit: {
              transform: "scale(0.95)",
              opacity: 0,
              transition: { duration: 0.2, ease: kE.easeOut },
            },
          },
          scaleInOut: {
            enter: {
              transform: "scale(1)",
              opacity: 1,
              transition: { duration: 0.4, ease: kE.ease },
            },
            exit: {
              transform: "scale(1.03)",
              opacity: 0,
              transition: { duration: 0.3, ease: kE.ease },
            },
          },
          fade: {
            enter: { opacity: 1, transition: { duration: 0.4, ease: kE.ease } },
            exit: { opacity: 0, transition: { duration: 0.3, ease: kE.ease } },
          },
          collapse: {
            enter: {
              opacity: 1,
              height: "auto",
              transition: {
                height: { type: "spring", bounce: 0, duration: 0.3 },
                opacity: { easings: "ease", duration: 0.4 },
              },
            },
            exit: {
              opacity: 0,
              height: 0,
              transition: { easings: "ease", duration: 0.3 },
            },
          },
        };
        let kx = "undefined" != typeof document ? T.useLayoutEffect : () => {};
        function kA(e) {
          let r = (0, T.useRef)(null);
          return (
            kx(() => {
              r.current = e;
            }, [e]),
            (0, T.useCallback)((...e) => {
              let n = r.current;
              return null == n ? void 0 : n(...e);
            }, [])
          );
        }
        function kI(e) {
          let [r, n] = (0, T.useState)(e),
            i = (0, T.useRef)(null),
            s = kA(() => {
              if (!i.current) return;
              let e = i.current.next();
              if (e.done) {
                i.current = null;
                return;
              }
              r === e.value ? s() : n(e.value);
            });
          kx(() => {
            i.current && s();
          });
          let a = kA((e) => {
            (i.current = e(r)), s();
          });
          return [r, a];
        }
        let kk = !!(
            "undefined" != typeof window &&
            window.document &&
            window.document.createElement
          ),
          k_ = new Map();
        function kR(e) {
          let [r, n] = (0, T.useState)(e),
            i = (0, T.useRef)(null),
            s = (0, wB.Cc)(r),
            a = (0, T.useCallback)((e) => {
              i.current = e;
            }, []);
          return (
            kk &&
              (k_.has(s) && !k_.get(s).includes(a)
                ? k_.set(s, [...k_.get(s), a])
                : k_.set(s, [a])),
            kx(() => {
              let e = s;
              return () => {
                k_.delete(e);
              };
            }, [s]),
            (0, T.useEffect)(() => {
              let e = i.current;
              e && ((i.current = null), n(e));
            }),
            s
          );
        }
        function kD(e = []) {
          let r = kR(),
            [n, i] = kI(r),
            s = (0, T.useCallback)(() => {
              i(function* () {
                yield r, yield document.getElementById(r) ? r : void 0;
              });
            }, [r, i]);
          return kx(s, [r, s, ...e]), n;
        }
        let kP = new Set(["id"]),
          kN = new Set([
            "aria-label",
            "aria-labelledby",
            "aria-describedby",
            "aria-details",
          ]),
          kO = new Set([
            "href",
            "hrefLang",
            "target",
            "rel",
            "download",
            "ping",
            "referrerPolicy",
          ]),
          kM = /^(data-.*)$/;
        function kL(e, r = {}) {
          let { labelable: n, isLink: i, propNames: s } = r,
            a = {};
          for (let r in e)
            Object.prototype.hasOwnProperty.call(e, r) &&
              (kP.has(r) ||
                (n && kN.has(r)) ||
                (i && kO.has(r)) ||
                (null == s ? void 0 : s.has(r)) ||
                kM.test(r)) &&
              (a[r] = e[r]);
          return a;
        }
        let kB = (e) => {
            var r;
            return null !== (r = null == e ? void 0 : e.ownerDocument) &&
              void 0 !== r
              ? r
              : document;
          },
          kF = (e) =>
            e && "window" in e && e.window === e
              ? e
              : kB(e).defaultView || window,
          kU = new Map(),
          kj = new Set();
        function kz() {
          if ("undefined" == typeof window) return;
          function e(e) {
            return "propertyName" in e;
          }
          let r = (r) => {
              if (!e(r) || !r.target) return;
              let i = kU.get(r.target);
              i ||
                ((i = new Set()),
                kU.set(r.target, i),
                r.target.addEventListener("transitioncancel", n, { once: !0 })),
                i.add(r.propertyName);
            },
            n = (r) => {
              if (!e(r) || !r.target) return;
              let i = kU.get(r.target);
              if (
                i &&
                (i.delete(r.propertyName),
                0 === i.size &&
                  (r.target.removeEventListener("transitioncancel", n),
                  kU.delete(r.target)),
                0 === kU.size)
              ) {
                for (let e of kj) e();
                kj.clear();
              }
            };
          document.body.addEventListener("transitionrun", r),
            document.body.addEventListener("transitionend", n);
        }
        function kV(e) {
          requestAnimationFrame(() => {
            0 === kU.size ? e() : kj.add(e);
          });
        }
        function kK(e) {
          if (kH()) e.focus({ preventScroll: !0 });
          else {
            let r = k$(e);
            e.focus(), kW(r);
          }
        }
        "undefined" != typeof document &&
          ("loading" !== document.readyState
            ? kz()
            : document.addEventListener("DOMContentLoaded", kz));
        let kq = null;
        function kH() {
          if (null == kq) {
            kq = !1;
            try {
              document.createElement("div").focus({
                get preventScroll() {
                  return (kq = !0), !0;
                },
              });
            } catch {}
          }
          return kq;
        }
        function k$(e) {
          let r = e.parentNode,
            n = [],
            i = document.scrollingElement || document.documentElement;
          for (; r instanceof HTMLElement && r !== i; )
            (r.offsetHeight < r.scrollHeight ||
              r.offsetWidth < r.scrollWidth) &&
              n.push({
                element: r,
                scrollTop: r.scrollTop,
                scrollLeft: r.scrollLeft,
              }),
              (r = r.parentNode);
          return (
            i instanceof HTMLElement &&
              n.push({
                element: i,
                scrollTop: i.scrollTop,
                scrollLeft: i.scrollLeft,
              }),
            n
          );
        }
        function kW(e) {
          for (let { element: r, scrollTop: n, scrollLeft: i } of e)
            (r.scrollTop = n), (r.scrollLeft = i);
        }
        function kG(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            ((null === (r = window.navigator.userAgentData) || void 0 === r
              ? void 0
              : r.brands.some((r) => e.test(r.brand))) ||
              e.test(window.navigator.userAgent))
          );
        }
        function kQ(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            e.test(
              (null === (r = window.navigator.userAgentData) || void 0 === r
                ? void 0
                : r.platform) || window.navigator.platform,
            )
          );
        }
        function kY(e) {
          let r = null;
          return () => (null == r && (r = e()), r);
        }
        let kX = kY(function () {
            return kQ(/^Mac/i);
          }),
          kJ = kY(function () {
            return kQ(/^iPhone/i);
          }),
          kZ = kY(function () {
            return kQ(/^iPad/i) || (kX() && navigator.maxTouchPoints > 1);
          }),
          k0 = kY(function () {
            return kJ() || kZ();
          });
        kY(function () {
          return kX() || k0();
        }),
          kY(function () {
            return kG(/AppleWebKit/i) && !k1();
          });
        let k1 = kY(function () {
            return kG(/Chrome/i);
          }),
          k2 = kY(function () {
            return kG(/Android/i);
          });
        function k3(e) {
          return (
            (0 === e.mozInputSource && !!e.isTrusted) ||
            (k2() && e.pointerType
              ? "click" === e.type && 1 === e.buttons
              : 0 === e.detail && !e.pointerType)
          );
        }
        kY(function () {
          return kG(/Firefox/i);
        });
        let k4 = null,
          k5 = new Set(),
          k6 = new Map(),
          k8 = !1,
          k7 = !1,
          k9 = { Tab: !0, Escape: !0 };
        function _e(e, r) {
          for (let n of k5) n(e, r);
        }
        function _t(e) {
          return !(
            e.metaKey ||
            (!kX() && e.altKey) ||
            e.ctrlKey ||
            "Control" === e.key ||
            "Shift" === e.key ||
            "Meta" === e.key
          );
        }
        function _r(e) {
          (k8 = !0), _t(e) && ((k4 = "keyboard"), _e("keyboard", e));
        }
        function _n(e) {
          (k4 = "pointer"),
            ("mousedown" === e.type || "pointerdown" === e.type) &&
              ((k8 = !0), _e("pointer", e));
        }
        function _i(e) {
          k3(e) && ((k8 = !0), (k4 = "virtual"));
        }
        function _s(e) {
          e.target !== window &&
            e.target !== document &&
            (k8 || k7 || ((k4 = "virtual"), _e("virtual", e)),
            (k8 = !1),
            (k7 = !1));
        }
        function _a() {
          (k8 = !1), (k7 = !0);
        }
        function _o(e) {
          if ("undefined" == typeof window || k6.get(kF(e))) return;
          let r = kF(e),
            n = kB(e),
            i = r.HTMLElement.prototype.focus;
          (r.HTMLElement.prototype.focus = function () {
            (k8 = !0), i.apply(this, arguments);
          }),
            n.addEventListener("keydown", _r, !0),
            n.addEventListener("keyup", _r, !0),
            n.addEventListener("click", _i, !0),
            r.addEventListener("focus", _s, !0),
            r.addEventListener("blur", _a, !1),
            "undefined" != typeof PointerEvent
              ? (n.addEventListener("pointerdown", _n, !0),
                n.addEventListener("pointermove", _n, !0),
                n.addEventListener("pointerup", _n, !0))
              : (n.addEventListener("mousedown", _n, !0),
                n.addEventListener("mousemove", _n, !0),
                n.addEventListener("mouseup", _n, !0)),
            r.addEventListener(
              "beforeunload",
              () => {
                _l(e);
              },
              { once: !0 },
            ),
            k6.set(r, { focus: i });
        }
        let _l = (e, r) => {
          let n = kF(e),
            i = kB(e);
          r && i.removeEventListener("DOMContentLoaded", r),
            k6.has(n) &&
              ((n.HTMLElement.prototype.focus = k6.get(n).focus),
              i.removeEventListener("keydown", _r, !0),
              i.removeEventListener("keyup", _r, !0),
              i.removeEventListener("click", _i, !0),
              n.removeEventListener("focus", _s, !0),
              n.removeEventListener("blur", _a, !1),
              "undefined" != typeof PointerEvent
                ? (i.removeEventListener("pointerdown", _n, !0),
                  i.removeEventListener("pointermove", _n, !0),
                  i.removeEventListener("pointerup", _n, !0))
                : (i.removeEventListener("mousedown", _n, !0),
                  i.removeEventListener("mousemove", _n, !0),
                  i.removeEventListener("mouseup", _n, !0)),
              k6.delete(n));
        };
        function _u(e) {
          let r;
          let n = kB(e);
          return (
            "loading" !== n.readyState
              ? _o(e)
              : ((r = () => {
                  _o(e);
                }),
                n.addEventListener("DOMContentLoaded", r)),
            () => _l(e, r)
          );
        }
        function _c() {
          return k4;
        }
        "undefined" != typeof document && _u();
        let _d = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function _h(e) {
          let r = kB(e);
          if ("virtual" === _c()) {
            let n = r.activeElement;
            kV(() => {
              r.activeElement === n && e.isConnected && kK(e);
            });
          } else kK(e);
        }
        let _f = T.createContext(null);
        function _p() {
          let e = (0, T.useContext)(_f),
            r = null == e ? void 0 : e.setContain;
          kx(() => {
            null == r || r(!0);
          }, [r]);
        }
        function _g(e, r) {
          let { role: n = "dialog" } = e,
            i = kD();
          i = e["aria-label"] ? void 0 : i;
          let s = (0, T.useRef)(!1);
          return (
            (0, T.useEffect)(() => {
              if (r.current && !r.current.contains(document.activeElement)) {
                _h(r.current);
                let e = setTimeout(() => {
                  document.activeElement === r.current &&
                    ((s.current = !0),
                    r.current && (r.current.blur(), _h(r.current)),
                    (s.current = !1));
                }, 500);
                return () => {
                  clearTimeout(e);
                };
              }
            }, [r]),
            _p(),
            {
              dialogProps: {
                ...kL(e, { labelable: !0 }),
                role: n,
                tabIndex: -1,
                "aria-labelledby": e["aria-labelledby"] || i,
                onBlur: (e) => {
                  s.current && e.stopPropagation();
                },
              },
              titleProps: { id: i },
            }
          );
        }
        var _m = () =>
            Promise.all([n.e(93), n.e(675)])
              .then(n.bind(n, 19675))
              .then((e) => e.default),
          _y = (e) => {
            let { as: r, children: n, className: i, ...s } = e,
              {
                Component: a,
                placement: o,
                backdrop: l,
                motionProps: u,
                disableAnimation: c,
                getPopoverProps: d,
                getDialogProps: h,
                getBackdropProps: f,
                getContentProps: p,
                isNonModal: g,
                onClose: m,
              } = E2(),
              y = (0, T.useRef)(null),
              { dialogProps: v, titleProps: b } = _g({}, y),
              S = h({ ref: y, ...v, ...s }),
              E = r || a || "div",
              C = (0, w.jsxs)(w.Fragment, {
                children: [
                  !g && (0, w.jsx)(kS, { onDismiss: m }),
                  (0, w.jsx)(E, {
                    ...S,
                    children: (0, w.jsx)("div", {
                      ...p({ className: i }),
                      children: "function" == typeof n ? n(b) : n,
                    }),
                  }),
                  (0, w.jsx)(kS, { onDismiss: m }),
                ],
              }),
              x = (0, T.useMemo)(
                () =>
                  "transparent" === l
                    ? null
                    : c
                      ? (0, w.jsx)("div", { ...f() })
                      : (0, w.jsx)(ID.F, {
                          features: _m,
                          children: (0, w.jsx)(IP.m.div, {
                            animate: "enter",
                            exit: "exit",
                            initial: "exit",
                            variants: kC.fade,
                            ...f(),
                          }),
                        }),
                [l, c, f],
              ),
              A = o ? x1("center" === o ? "top" : o) : void 0,
              I = (0, w.jsx)(w.Fragment, {
                children: c
                  ? C
                  : (0, w.jsx)(ID.F, {
                      features: _m,
                      children: (0, w.jsx)(IP.m.div, {
                        animate: "enter",
                        exit: "exit",
                        initial: "initial",
                        style: A,
                        variants: kC.scaleSpringOpacity,
                        ...u,
                        children: C,
                      }),
                    }),
              });
            return (0, w.jsxs)("div", { ...d(), children: [x, I] });
          };
        _y.displayName = "HeroUI.PopoverContent";
        var _v = _y;
        function _b(e) {
          let { isSelected: r, disableAnimation: n, ...i } = e;
          return (0, w.jsx)("svg", {
            "aria-hidden": "true",
            "data-selected": r,
            role: "presentation",
            viewBox: "0 0 17 18",
            ...i,
            children: (0, w.jsx)("polyline", {
              fill: "none",
              points: "1 9 7 14 15 4",
              stroke: "currentColor",
              strokeDasharray: 22,
              strokeDashoffset: r ? 44 : 66,
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              style: n ? {} : { transition: "stroke-dashoffset 200ms ease" },
            }),
          });
        }
        var _w = ET({
            slots: {
              base: "w-full relative flex flex-col gap-1 p-1 overflow-clip",
              list: "w-full flex flex-col gap-0.5 outline-none",
              emptyContent: [
                "h-10",
                "px-2",
                "py-1.5",
                "w-full",
                "h-full",
                "text-foreground-400",
                "text-start",
              ],
            },
          }),
          _T = ET({
            slots: {
              base: [
                "flex",
                "group",
                "gap-2",
                "items-center",
                "justify-between",
                "relative",
                "px-2",
                "py-1.5",
                "w-full",
                "h-full",
                "box-border",
                "rounded-small",
                "subpixel-antialiased",
                "outline-none",
                "cursor-pointer",
                "tap-highlight-transparent",
                ...ES,
                "data-[focus-visible=true]:dark:ring-offset-background-content1",
              ],
              wrapper: "w-full flex flex-col items-start justify-center",
              title: "flex-1 text-small font-normal",
              description: [
                "w-full",
                "text-tiny",
                "text-foreground-500",
                "group-hover:text-current",
              ],
              selectedIcon: ["text-inherit", "w-3", "h-3", "flex-shrink-0"],
              shortcut: [
                "px-1",
                "py-0.5",
                "rounded",
                "font-sans",
                "text-foreground-500",
                "text-tiny",
                "border-small",
                "border-default-300",
                "group-hover:border-current",
              ],
            },
            variants: {
              variant: {
                solid: { base: "" },
                bordered: {
                  base: "border-medium border-transparent bg-transparent",
                },
                light: { base: "bg-transparent" },
                faded: {
                  base: [
                    "border-small border-transparent hover:border-default data-[hover=true]:bg-default-100",
                    "data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100",
                  ],
                },
                flat: { base: "" },
                shadow: { base: "data-[hover=true]:shadow-lg" },
              },
              color: {
                default: {},
                primary: {},
                secondary: {},
                success: {},
                warning: {},
                danger: {},
              },
              showDivider: {
                true: {
                  base: [
                    "mb-1.5",
                    "after:content-['']",
                    "after:absolute",
                    "after:-bottom-1",
                    "after:left-0",
                    "after:right-0",
                    "after:h-divider",
                    "after:bg-divider",
                  ],
                },
                false: {},
              },
              isDisabled: {
                true: { base: "opacity-disabled pointer-events-none" },
              },
              disableAnimation: {
                true: {},
                false: { base: "data-[hover=true]:transition-colors" },
              },
              hasTitleTextChild: { true: { title: "truncate" } },
              hasDescriptionTextChild: { true: { description: "truncate" } },
            },
            defaultVariants: {
              variant: "solid",
              color: "default",
              showDivider: !1,
            },
            compoundVariants: [
              {
                variant: "solid",
                color: "default",
                class: {
                  base: [
                    "data-[hover=true]:bg-default",
                    "data-[hover=true]:text-default-foreground",
                    "data-[selectable=true]:focus:bg-default",
                    "data-[selectable=true]:focus:text-default-foreground",
                  ],
                },
              },
              {
                variant: "solid",
                color: "primary",
                class: {
                  base: [
                    "data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground",
                    "data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground",
                  ],
                },
              },
              {
                variant: "solid",
                color: "secondary",
                class: {
                  base: [
                    "data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground",
                    "data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground",
                  ],
                },
              },
              {
                variant: "solid",
                color: "success",
                class: {
                  base: [
                    "data-[hover=true]:bg-success data-[hover=true]:text-success-foreground",
                    "data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground",
                  ],
                },
              },
              {
                variant: "solid",
                color: "warning",
                class: {
                  base: [
                    "data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground",
                    "data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground",
                  ],
                },
              },
              {
                variant: "solid",
                color: "danger",
                class: {
                  base: [
                    "data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground",
                    "data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground",
                  ],
                },
              },
              {
                variant: "shadow",
                color: "default",
                class: {
                  base: [
                    "data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground",
                    "data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground",
                  ],
                },
              },
              {
                variant: "shadow",
                color: "primary",
                class: {
                  base: [
                    "data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground",
                    "data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground",
                  ],
                },
              },
              {
                variant: "shadow",
                color: "secondary",
                class: {
                  base: [
                    "data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground",
                    "data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground",
                  ],
                },
              },
              {
                variant: "shadow",
                color: "success",
                class: {
                  base: [
                    "data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground",
                    "data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground",
                  ],
                },
              },
              {
                variant: "shadow",
                color: "warning",
                class: {
                  base: [
                    "data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground",
                    "data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground",
                  ],
                },
              },
              {
                variant: "shadow",
                color: "danger",
                class: {
                  base: [
                    "data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground",
                    "data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground",
                  ],
                },
              },
              {
                variant: "bordered",
                color: "default",
                class: {
                  base: [
                    "data-[hover=true]:border-default",
                    "data-[selectable=true]:focus:border-default",
                  ],
                },
              },
              {
                variant: "bordered",
                color: "primary",
                class: {
                  base: [
                    "data-[hover=true]:border-primary data-[hover=true]:text-primary",
                    "data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary",
                  ],
                },
              },
              {
                variant: "bordered",
                color: "secondary",
                class: {
                  base: [
                    "data-[hover=true]:border-secondary data-[hover=true]:text-secondary",
                    "data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary",
                  ],
                },
              },
              {
                variant: "bordered",
                color: "success",
                class: {
                  base: [
                    "data-[hover=true]:border-success data-[hover=true]:text-success",
                    "data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success",
                  ],
                },
              },
              {
                variant: "bordered",
                color: "warning",
                class: {
                  base: [
                    "data-[hover=true]:border-warning data-[hover=true]:text-warning",
                    "data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning",
                  ],
                },
              },
              {
                variant: "bordered",
                color: "danger",
                class: {
                  base: [
                    "data-[hover=true]:border-danger data-[hover=true]:text-danger",
                    "data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger",
                  ],
                },
              },
              {
                variant: "flat",
                color: "default",
                class: {
                  base: [
                    "data-[hover=true]:bg-default/40",
                    "data-[hover=true]:text-default-foreground",
                    "data-[selectable=true]:focus:bg-default/40",
                    "data-[selectable=true]:focus:text-default-foreground",
                  ],
                },
              },
              {
                variant: "flat",
                color: "primary",
                class: {
                  base: [
                    "data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary",
                    "data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary",
                  ],
                },
              },
              {
                variant: "flat",
                color: "secondary",
                class: {
                  base: [
                    "data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary",
                    "data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary",
                  ],
                },
              },
              {
                variant: "flat",
                color: "success",
                class: {
                  base: [
                    "data-[hover=true]:bg-success/20 data-[hover=true]:text-success",
                    "data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success",
                  ],
                },
              },
              {
                variant: "flat",
                color: "warning",
                class: {
                  base: [
                    "data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning",
                    "data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning",
                  ],
                },
              },
              {
                variant: "flat",
                color: "danger",
                class: {
                  base: [
                    "data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger",
                    "data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger",
                  ],
                },
              },
              {
                variant: "faded",
                color: "default",
                class: {
                  base: [
                    "data-[hover=true]:text-default-foreground",
                    "data-[selectable=true]:focus:text-default-foreground",
                  ],
                },
              },
              {
                variant: "faded",
                color: "primary",
                class: {
                  base: [
                    "data-[hover=true]:text-primary",
                    "data-[selectable=true]:focus:text-primary",
                  ],
                },
              },
              {
                variant: "faded",
                color: "secondary",
                class: {
                  base: [
                    "data-[hover=true]:text-secondary",
                    "data-[selectable=true]:focus:text-secondary",
                  ],
                },
              },
              {
                variant: "faded",
                color: "success",
                class: {
                  base: [
                    "data-[hover=true]:text-success",
                    "data-[selectable=true]:focus:text-success",
                  ],
                },
              },
              {
                variant: "faded",
                color: "warning",
                class: {
                  base: [
                    "data-[hover=true]:text-warning",
                    "data-[selectable=true]:focus:text-warning",
                  ],
                },
              },
              {
                variant: "faded",
                color: "danger",
                class: {
                  base: [
                    "data-[hover=true]:text-danger",
                    "data-[selectable=true]:focus:text-danger",
                  ],
                },
              },
              {
                variant: "light",
                color: "default",
                class: {
                  base: [
                    "data-[hover=true]:text-default-500",
                    "data-[selectable=true]:focus:text-default-500",
                  ],
                },
              },
              {
                variant: "light",
                color: "primary",
                class: {
                  base: [
                    "data-[hover=true]:text-primary",
                    "data-[selectable=true]:focus:text-primary",
                  ],
                },
              },
              {
                variant: "light",
                color: "secondary",
                class: {
                  base: [
                    "data-[hover=true]:text-secondary",
                    "data-[selectable=true]:focus:text-secondary",
                  ],
                },
              },
              {
                variant: "light",
                color: "success",
                class: {
                  base: [
                    "data-[hover=true]:text-success",
                    "data-[selectable=true]:focus:text-success",
                  ],
                },
              },
              {
                variant: "light",
                color: "warning",
                class: {
                  base: [
                    "data-[hover=true]:text-warning",
                    "data-[selectable=true]:focus:text-warning",
                  ],
                },
              },
              {
                variant: "light",
                color: "danger",
                class: {
                  base: [
                    "data-[hover=true]:text-danger",
                    "data-[selectable=true]:focus:text-danger",
                  ],
                },
              },
            ],
          }),
          _S = ET({
            slots: {
              base: "relative mb-2",
              heading: "pl-1 text-tiny text-foreground-500",
              group: "data-[has-title=true]:pt-1",
              divider: "mt-2",
            },
          });
        let _E = new WeakMap(),
          _C = new Set(["id"]),
          _x = new Set([
            "aria-label",
            "aria-labelledby",
            "aria-describedby",
            "aria-details",
          ]),
          _A = new Set([
            "href",
            "hrefLang",
            "target",
            "rel",
            "download",
            "ping",
            "referrerPolicy",
          ]),
          _I = /^(data-.*)$/;
        function _k(e, r = {}) {
          let { labelable: n, isLink: i, propNames: s } = r,
            a = {};
          for (let r in e)
            Object.prototype.hasOwnProperty.call(e, r) &&
              (_C.has(r) ||
                (n && _x.has(r)) ||
                (i && _A.has(r)) ||
                (null == s ? void 0 : s.has(r)) ||
                _I.test(r)) &&
              (a[r] = e[r]);
          return a;
        }
        function __(e, r) {
          return "function" == typeof r.getChildren
            ? r.getChildren(e.key)
            : e.childNodes;
        }
        let _R = new WeakMap();
        function _D(e) {
          let r = _R.get(e);
          if (null != r) return r;
          let n = 0,
            i = (r) => {
              for (let s of r) "section" === s.type ? i(__(s, e)) : n++;
            };
          return i(e), _R.set(e, n), n;
        }
        let _P = !1,
          _N = 0;
        function _O() {
          (_P = !0),
            setTimeout(() => {
              _P = !1;
            }, 50);
        }
        function _M(e) {
          "touch" === e.pointerType && _O();
        }
        function _L() {
          if ("undefined" != typeof document)
            return (
              "undefined" != typeof PointerEvent
                ? document.addEventListener("pointerup", _M)
                : document.addEventListener("touchend", _O),
              _N++,
              () => {
                --_N > 0 ||
                  ("undefined" != typeof PointerEvent
                    ? document.removeEventListener("pointerup", _M)
                    : document.removeEventListener("touchend", _O));
              }
            );
        }
        function _B(e) {
          let {
              onHoverStart: r,
              onHoverChange: n,
              onHoverEnd: i,
              isDisabled: s,
            } = e,
            [a, o] = (0, T.useState)(!1),
            l = (0, T.useRef)({
              isHovered: !1,
              ignoreEmulatedMouseEvents: !1,
              pointerType: "",
              target: null,
            }).current;
          (0, T.useEffect)(_L, []);
          let { hoverProps: u, triggerHoverEnd: c } = (0, T.useMemo)(() => {
            let e = (e, i) => {
                if (
                  ((l.pointerType = i),
                  s ||
                    "touch" === i ||
                    l.isHovered ||
                    !e.currentTarget.contains(e.target))
                )
                  return;
                l.isHovered = !0;
                let a = e.currentTarget;
                (l.target = a),
                  r && r({ type: "hoverstart", target: a, pointerType: i }),
                  n && n(!0),
                  o(!0);
              },
              a = (e, r) => {
                if (
                  ((l.pointerType = ""),
                  (l.target = null),
                  "touch" === r || !l.isHovered)
                )
                  return;
                l.isHovered = !1;
                let s = e.currentTarget;
                i && i({ type: "hoverend", target: s, pointerType: r }),
                  n && n(!1),
                  o(!1);
              },
              u = {};
            return (
              "undefined" != typeof PointerEvent
                ? ((u.onPointerEnter = (r) => {
                    (_P && "mouse" === r.pointerType) || e(r, r.pointerType);
                  }),
                  (u.onPointerLeave = (e) => {
                    !s &&
                      e.currentTarget.contains(e.target) &&
                      a(e, e.pointerType);
                  }))
                : ((u.onTouchStart = () => {
                    l.ignoreEmulatedMouseEvents = !0;
                  }),
                  (u.onMouseEnter = (r) => {
                    l.ignoreEmulatedMouseEvents || _P || e(r, "mouse"),
                      (l.ignoreEmulatedMouseEvents = !1);
                  }),
                  (u.onMouseLeave = (e) => {
                    !s && e.currentTarget.contains(e.target) && a(e, "mouse");
                  })),
              { hoverProps: u, triggerHoverEnd: a }
            );
          }, [r, n, i, s, l]);
          return (
            (0, T.useEffect)(() => {
              s && c({ currentTarget: l.target }, l.pointerType);
            }, [s]),
            { hoverProps: u, isHovered: a }
          );
        }
        let _F = null,
          _U = new Set(),
          _j = new Map(),
          _z = !1,
          _V = !1,
          _K = { Tab: !0, Escape: !0 };
        function _q(e, r) {
          for (let n of _U) n(e, r);
        }
        function _H(e) {
          return !(
            e.metaKey ||
            (!Ts() && e.altKey) ||
            e.ctrlKey ||
            "Control" === e.key ||
            "Shift" === e.key ||
            "Meta" === e.key
          );
        }
        function _$(e) {
          (_z = !0), _H(e) && ((_F = "keyboard"), _q("keyboard", e));
        }
        function _W(e) {
          (_F = "pointer"),
            ("mousedown" === e.type || "pointerdown" === e.type) &&
              ((_z = !0), _q("pointer", e));
        }
        function _G(e) {
          Tq(e) && ((_z = !0), (_F = "virtual"));
        }
        function _Q(e) {
          e.target !== window &&
            e.target !== document &&
            (_z || _V || ((_F = "virtual"), _q("virtual", e)),
            (_z = !1),
            (_V = !1));
        }
        function _Y() {
          (_z = !1), (_V = !0);
        }
        function _X(e) {
          if ("undefined" == typeof window || _j.get(Tp(e))) return;
          let r = Tp(e),
            n = Tf(e),
            i = r.HTMLElement.prototype.focus;
          (r.HTMLElement.prototype.focus = function () {
            (_z = !0), i.apply(this, arguments);
          }),
            n.addEventListener("keydown", _$, !0),
            n.addEventListener("keyup", _$, !0),
            n.addEventListener("click", _G, !0),
            r.addEventListener("focus", _Q, !0),
            r.addEventListener("blur", _Y, !1),
            "undefined" != typeof PointerEvent
              ? (n.addEventListener("pointerdown", _W, !0),
                n.addEventListener("pointermove", _W, !0),
                n.addEventListener("pointerup", _W, !0))
              : (n.addEventListener("mousedown", _W, !0),
                n.addEventListener("mousemove", _W, !0),
                n.addEventListener("mouseup", _W, !0)),
            r.addEventListener(
              "beforeunload",
              () => {
                _J(e);
              },
              { once: !0 },
            ),
            _j.set(r, { focus: i });
        }
        let _J = (e, r) => {
          let n = Tp(e),
            i = Tf(e);
          r && i.removeEventListener("DOMContentLoaded", r),
            _j.has(n) &&
              ((n.HTMLElement.prototype.focus = _j.get(n).focus),
              i.removeEventListener("keydown", _$, !0),
              i.removeEventListener("keyup", _$, !0),
              i.removeEventListener("click", _G, !0),
              n.removeEventListener("focus", _Q, !0),
              n.removeEventListener("blur", _Y, !1),
              "undefined" != typeof PointerEvent
                ? (i.removeEventListener("pointerdown", _W, !0),
                  i.removeEventListener("pointermove", _W, !0),
                  i.removeEventListener("pointerup", _W, !0))
                : (i.removeEventListener("mousedown", _W, !0),
                  i.removeEventListener("mousemove", _W, !0),
                  i.removeEventListener("mouseup", _W, !0)),
              _j.delete(n));
        };
        function _Z(e) {
          let r;
          let n = Tf(e);
          return (
            "loading" !== n.readyState
              ? _X(e)
              : ((r = () => {
                  _X(e);
                }),
                n.addEventListener("DOMContentLoaded", r)),
            () => _J(e, r)
          );
        }
        function _0() {
          return "pointer" !== _F;
        }
        "undefined" != typeof document && _Z();
        let _1 = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function _2(e) {
          if (!e) return;
          let r = !0;
          return (n) => {
            e({
              ...n,
              preventDefault() {
                n.preventDefault();
              },
              isDefaultPrevented: () => n.isDefaultPrevented(),
              stopPropagation() {
                r
                  ? console.error(
                      "stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.",
                    )
                  : (r = !0);
              },
              continuePropagation() {
                r = !1;
              },
              isPropagationStopped: () => r,
            }),
              r && n.stopPropagation();
          };
        }
        function _3(e) {
          return {
            keyboardProps: e.isDisabled
              ? {}
              : { onKeyDown: _2(e.onKeyDown), onKeyUp: _2(e.onKeyUp) },
          };
        }
        class _4 {
          isDefaultPrevented() {
            return this.nativeEvent.defaultPrevented;
          }
          preventDefault() {
            (this.defaultPrevented = !0), this.nativeEvent.preventDefault();
          }
          stopPropagation() {
            this.nativeEvent.stopPropagation(),
              (this.isPropagationStopped = () => !0);
          }
          isPropagationStopped() {
            return !1;
          }
          persist() {}
          constructor(e, r) {
            (this.nativeEvent = r),
              (this.target = r.target),
              (this.currentTarget = r.currentTarget),
              (this.relatedTarget = r.relatedTarget),
              (this.bubbles = r.bubbles),
              (this.cancelable = r.cancelable),
              (this.defaultPrevented = r.defaultPrevented),
              (this.eventPhase = r.eventPhase),
              (this.isTrusted = r.isTrusted),
              (this.timeStamp = r.timeStamp),
              (this.type = e);
          }
        }
        function _5(e) {
          let r = (0, T.useRef)({ isFocused: !1, observer: null });
          wO(() => {
            let e = r.current;
            return () => {
              e.observer && (e.observer.disconnect(), (e.observer = null));
            };
          }, []);
          let n = wM((r) => {
            null == e || e(r);
          });
          return (0, T.useCallback)(
            (e) => {
              if (
                e.target instanceof HTMLButtonElement ||
                e.target instanceof HTMLInputElement ||
                e.target instanceof HTMLTextAreaElement ||
                e.target instanceof HTMLSelectElement
              ) {
                r.current.isFocused = !0;
                let i = e.target,
                  s = (e) => {
                    (r.current.isFocused = !1),
                      i.disabled && n(new _4("blur", e)),
                      r.current.observer &&
                        (r.current.observer.disconnect(),
                        (r.current.observer = null));
                  };
                i.addEventListener("focusout", s, { once: !0 }),
                  (r.current.observer = new MutationObserver(() => {
                    if (r.current.isFocused && i.disabled) {
                      var e;
                      null === (e = r.current.observer) ||
                        void 0 === e ||
                        e.disconnect();
                      let n =
                        i === document.activeElement
                          ? null
                          : document.activeElement;
                      i.dispatchEvent(
                        new FocusEvent("blur", { relatedTarget: n }),
                      ),
                        i.dispatchEvent(
                          new FocusEvent("focusout", {
                            bubbles: !0,
                            relatedTarget: n,
                          }),
                        );
                    }
                  })),
                  r.current.observer.observe(i, {
                    attributes: !0,
                    attributeFilter: ["disabled"],
                  });
              }
            },
            [n],
          );
        }
        function _6(e) {
          let { isDisabled: r, onFocus: n, onBlur: i, onFocusChange: s } = e,
            a = (0, T.useCallback)(
              (e) => {
                if (e.target === e.currentTarget)
                  return i && i(e), s && s(!1), !0;
              },
              [i, s],
            ),
            o = _5(a),
            l = (0, T.useCallback)(
              (e) => {
                let r = Tf(e.target);
                e.target === e.currentTarget &&
                  r.activeElement === e.target &&
                  (n && n(e), s && s(!0), o(e));
              },
              [s, n, o],
            );
          return {
            focusProps: {
              onFocus: !r && (n || s || i) ? l : void 0,
              onBlur: !r && (i || s) ? a : void 0,
            },
          };
        }
        function _8(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            ((null === (r = window.navigator.userAgentData) || void 0 === r
              ? void 0
              : r.brands.some((r) => e.test(r.brand))) ||
              e.test(window.navigator.userAgent))
          );
        }
        function _7(e) {
          var r;
          return (
            "undefined" != typeof window &&
            null != window.navigator &&
            e.test(
              (null === (r = window.navigator.userAgentData) || void 0 === r
                ? void 0
                : r.platform) || window.navigator.platform,
            )
          );
        }
        function _9(e) {
          let r = null;
          return () => (null == r && (r = e()), r);
        }
        let Re = _9(function () {
            return _7(/^Mac/i);
          }),
          Rt = _9(function () {
            return _7(/^iPhone/i);
          }),
          Rr = _9(function () {
            return _7(/^iPad/i) || (Re() && navigator.maxTouchPoints > 1);
          }),
          Rn = _9(function () {
            return Rt() || Rr();
          }),
          Ri = _9(function () {
            return Re() || Rn();
          }),
          Rs = _9(function () {
            return _8(/AppleWebKit/i) && !Ra();
          }),
          Ra = _9(function () {
            return _8(/Chrome/i);
          }),
          Ro = _9(function () {
            return _8(/Android/i);
          }),
          Rl = _9(function () {
            return _8(/Firefox/i);
          });
        function Ru(e) {
          return Ri() ? e.altKey : e.ctrlKey;
        }
        let Rc = (e) => {
            var r;
            return null !== (r = null == e ? void 0 : e.ownerDocument) &&
              void 0 !== r
              ? r
              : document;
          },
          Rd = (e) =>
            e && "window" in e && e.window === e
              ? e
              : Rc(e).defaultView || window,
          Rh = new Map(),
          Rf = new Set();
        function Rp() {
          if ("undefined" == typeof window) return;
          function e(e) {
            return "propertyName" in e;
          }
          let r = (r) => {
              if (!e(r) || !r.target) return;
              let i = Rh.get(r.target);
              i ||
                ((i = new Set()),
                Rh.set(r.target, i),
                r.target.addEventListener("transitioncancel", n, { once: !0 })),
                i.add(r.propertyName);
            },
            n = (r) => {
              if (!e(r) || !r.target) return;
              let i = Rh.get(r.target);
              if (
                i &&
                (i.delete(r.propertyName),
                0 === i.size &&
                  (r.target.removeEventListener("transitioncancel", n),
                  Rh.delete(r.target)),
                0 === Rh.size)
              ) {
                for (let e of Rf) e();
                Rf.clear();
              }
            };
          document.body.addEventListener("transitionrun", r),
            document.body.addEventListener("transitionend", n);
        }
        function Rg(e) {
          requestAnimationFrame(() => {
            0 === Rh.size ? e() : Rf.add(e);
          });
        }
        function Rm(e) {
          if (Rv()) e.focus({ preventScroll: !0 });
          else {
            let r = Rb(e);
            e.focus(), Rw(r);
          }
        }
        "undefined" != typeof document &&
          ("loading" !== document.readyState
            ? Rp()
            : document.addEventListener("DOMContentLoaded", Rp));
        let Ry = null;
        function Rv() {
          if (null == Ry) {
            Ry = !1;
            try {
              document.createElement("div").focus({
                get preventScroll() {
                  return (Ry = !0), !0;
                },
              });
            } catch {}
          }
          return Ry;
        }
        function Rb(e) {
          let r = e.parentNode,
            n = [],
            i = document.scrollingElement || document.documentElement;
          for (; r instanceof HTMLElement && r !== i; )
            (r.offsetHeight < r.scrollHeight ||
              r.offsetWidth < r.scrollWidth) &&
              n.push({
                element: r,
                scrollTop: r.scrollTop,
                scrollLeft: r.scrollLeft,
              }),
              (r = r.parentNode);
          return (
            i instanceof HTMLElement &&
              n.push({
                element: i,
                scrollTop: i.scrollTop,
                scrollLeft: i.scrollLeft,
              }),
            n
          );
        }
        function Rw(e) {
          for (let { element: r, scrollTop: n, scrollLeft: i } of e)
            (r.scrollTop = n), (r.scrollLeft = i);
        }
        function RT(e) {
          return (
            (0 === e.mozInputSource && !!e.isTrusted) ||
            (Ro() && e.pointerType
              ? "click" === e.type && 1 === e.buttons
              : 0 === e.detail && !e.pointerType)
          );
        }
        function RS(e) {
          return (
            (!Ro() && 0 === e.width && 0 === e.height) ||
            (1 === e.width &&
              1 === e.height &&
              0 === e.pressure &&
              0 === e.detail &&
              "mouse" === e.pointerType)
          );
        }
        let RE = null,
          RC = new Set(),
          Rx = new Map(),
          RA = !1,
          RI = !1,
          Rk = { Tab: !0, Escape: !0 };
        function R_(e, r) {
          for (let n of RC) n(e, r);
        }
        function RR(e) {
          return !(
            e.metaKey ||
            (!Re() && e.altKey) ||
            e.ctrlKey ||
            "Control" === e.key ||
            "Shift" === e.key ||
            "Meta" === e.key
          );
        }
        function RD(e) {
          (RA = !0), RR(e) && ((RE = "keyboard"), R_("keyboard", e));
        }
        function RP(e) {
          (RE = "pointer"),
            ("mousedown" === e.type || "pointerdown" === e.type) &&
              ((RA = !0), R_("pointer", e));
        }
        function RN(e) {
          RT(e) && ((RA = !0), (RE = "virtual"));
        }
        function RO(e) {
          e.target !== window &&
            e.target !== document &&
            (RA || RI || ((RE = "virtual"), R_("virtual", e)),
            (RA = !1),
            (RI = !1));
        }
        function RM() {
          (RA = !1), (RI = !0);
        }
        function RL(e) {
          if ("undefined" == typeof window || Rx.get(Rd(e))) return;
          let r = Rd(e),
            n = Rc(e),
            i = r.HTMLElement.prototype.focus;
          (r.HTMLElement.prototype.focus = function () {
            (RA = !0), i.apply(this, arguments);
          }),
            n.addEventListener("keydown", RD, !0),
            n.addEventListener("keyup", RD, !0),
            n.addEventListener("click", RN, !0),
            r.addEventListener("focus", RO, !0),
            r.addEventListener("blur", RM, !1),
            "undefined" != typeof PointerEvent
              ? (n.addEventListener("pointerdown", RP, !0),
                n.addEventListener("pointermove", RP, !0),
                n.addEventListener("pointerup", RP, !0))
              : (n.addEventListener("mousedown", RP, !0),
                n.addEventListener("mousemove", RP, !0),
                n.addEventListener("mouseup", RP, !0)),
            r.addEventListener(
              "beforeunload",
              () => {
                RB(e);
              },
              { once: !0 },
            ),
            Rx.set(r, { focus: i });
        }
        let RB = (e, r) => {
          let n = Rd(e),
            i = Rc(e);
          r && i.removeEventListener("DOMContentLoaded", r),
            Rx.has(n) &&
              ((n.HTMLElement.prototype.focus = Rx.get(n).focus),
              i.removeEventListener("keydown", RD, !0),
              i.removeEventListener("keyup", RD, !0),
              i.removeEventListener("click", RN, !0),
              n.removeEventListener("focus", RO, !0),
              n.removeEventListener("blur", RM, !1),
              "undefined" != typeof PointerEvent
                ? (i.removeEventListener("pointerdown", RP, !0),
                  i.removeEventListener("pointermove", RP, !0),
                  i.removeEventListener("pointerup", RP, !0))
                : (i.removeEventListener("mousedown", RP, !0),
                  i.removeEventListener("mousemove", RP, !0),
                  i.removeEventListener("mouseup", RP, !0)),
              Rx.delete(n));
        };
        function RF(e) {
          let r;
          let n = Rc(e);
          return (
            "loading" !== n.readyState
              ? RL(e)
              : ((r = () => {
                  RL(e);
                }),
                n.addEventListener("DOMContentLoaded", r)),
            () => RB(e, r)
          );
        }
        function RU() {
          return RE;
        }
        "undefined" != typeof document && RF();
        let Rj = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function Rz(e) {
          let r = Rc(e);
          if ("virtual" === RU()) {
            let n = r.activeElement;
            Rg(() => {
              r.activeElement === n && e.isConnected && Rm(e);
            });
          } else Rm(e);
        }
        let RV = (0, T.createContext)({
          isNative: !0,
          open: R$,
          useHref: (e) => e,
        });
        function RK() {
          return (0, T.useContext)(RV);
        }
        function Rq(e, r, n = !0) {
          var i, s;
          let { metaKey: a, ctrlKey: o, altKey: l, shiftKey: u } = r;
          Rl() &&
            (null === (s = window.event) || void 0 === s
              ? void 0
              : null === (i = s.type) || void 0 === i
                ? void 0
                : i.startsWith("key")) &&
            "_blank" === e.target &&
            (Re() ? (a = !0) : (o = !0));
          let c =
            Rs() && Re() && !Rr()
              ? new KeyboardEvent("keydown", {
                  keyIdentifier: "Enter",
                  metaKey: a,
                  ctrlKey: o,
                  altKey: l,
                  shiftKey: u,
                })
              : new MouseEvent("click", {
                  metaKey: a,
                  ctrlKey: o,
                  altKey: l,
                  shiftKey: u,
                  bubbles: !0,
                  cancelable: !0,
                });
          (Rq.isOpening = n), Rm(e), e.dispatchEvent(c), (Rq.isOpening = !1);
        }
        function RH(e, r) {
          if (e instanceof HTMLAnchorElement) r(e);
          else if (e.hasAttribute("data-href")) {
            let n = document.createElement("a");
            (n.href = e.getAttribute("data-href")),
              e.hasAttribute("data-target") &&
                (n.target = e.getAttribute("data-target")),
              e.hasAttribute("data-rel") &&
                (n.rel = e.getAttribute("data-rel")),
              e.hasAttribute("data-download") &&
                (n.download = e.getAttribute("data-download")),
              e.hasAttribute("data-ping") &&
                (n.ping = e.getAttribute("data-ping")),
              e.hasAttribute("data-referrer-policy") &&
                (n.referrerPolicy = e.getAttribute("data-referrer-policy")),
              e.appendChild(n),
              r(n),
              e.removeChild(n);
          }
        }
        function R$(e, r) {
          RH(e, (e) => Rq(e, r));
        }
        Rq.isOpening = !1;
        let RW = "undefined" != typeof document ? T.useLayoutEffect : () => {},
          RG = !!(
            "undefined" != typeof window &&
            window.document &&
            window.document.createElement
          ),
          RQ = new Map();
        function RY(e) {
          let [r, n] = (0, T.useState)(e),
            i = (0, T.useRef)(null),
            s = (0, wB.Cc)(r),
            a = (0, T.useCallback)((e) => {
              i.current = e;
            }, []);
          return (
            RG &&
              (RQ.has(s) && !RQ.get(s).includes(a)
                ? RQ.set(s, [...RQ.get(s), a])
                : RQ.set(s, [a])),
            RW(() => {
              let e = s;
              return () => {
                RQ.delete(e);
              };
            }, [s]),
            (0, T.useEffect)(() => {
              let e = i.current;
              e && ((i.current = null), n(e));
            }),
            s
          );
        }
        function RX(e, r) {
          if (e === r) return e;
          let n = RQ.get(e);
          if (n) return n.forEach((e) => e(r)), r;
          let i = RQ.get(r);
          return i ? (i.forEach((r) => r(e)), e) : r;
        }
        function RJ(e) {
          return Re() ? e.metaKey : e.ctrlKey;
        }
        let RZ = "react-aria-clear-focus",
          R0 = "react-aria-focus",
          R1 = "react-aria-update-activedescendant";
        function R2(...e) {
          return (...r) => {
            for (let n of e) "function" == typeof n && n(...r);
          };
        }
        function R3(...e) {
          let r = { ...e[0] };
          for (let n = 1; n < e.length; n++) {
            let i = e[n];
            for (let e in i) {
              let n = r[e],
                s = i[e];
              "function" == typeof n &&
              "function" == typeof s &&
              "o" === e[0] &&
              "n" === e[1] &&
              e.charCodeAt(2) >= 65 &&
              90 >= e.charCodeAt(2)
                ? (r[e] = R2(n, s))
                : ("className" === e || "UNSAFE_className" === e) &&
                    "string" == typeof n &&
                    "string" == typeof s
                  ? (r[e] = (0, T_.A)(n, s))
                  : "id" === e && n && s
                    ? (r.id = RX(n, s))
                    : (r[e] = void 0 !== s ? s : n);
            }
          }
          return r;
        }
        let R4 = "default",
          R5 = "",
          R6 = new WeakMap();
        function R8(e) {
          if (Rn()) {
            if ("default" === R4) {
              let r = Rc(e);
              (R5 = r.documentElement.style.webkitUserSelect),
                (r.documentElement.style.webkitUserSelect = "none");
            }
            R4 = "disabled";
          } else
            (e instanceof HTMLElement || e instanceof SVGElement) &&
              (R6.set(e, e.style.userSelect), (e.style.userSelect = "none"));
        }
        function R7(e) {
          if (Rn())
            "disabled" === R4 &&
              ((R4 = "restoring"),
              setTimeout(() => {
                Rg(() => {
                  if ("restoring" === R4) {
                    let r = Rc(e);
                    "none" === r.documentElement.style.webkitUserSelect &&
                      (r.documentElement.style.webkitUserSelect = R5 || ""),
                      (R5 = ""),
                      (R4 = "default");
                  }
                });
              }, 300));
          else if (
            (e instanceof HTMLElement || e instanceof SVGElement) &&
            e &&
            R6.has(e)
          ) {
            let r = R6.get(e);
            "none" === e.style.userSelect && (e.style.userSelect = r),
              "" === e.getAttribute("style") && e.removeAttribute("style"),
              R6.delete(e);
          }
        }
        let R9 = T.createContext({ register: () => {} });
        function De(e, r) {
          RW(() => {
            if (e && e.ref && r)
              return (
                (e.ref.current = r.current),
                () => {
                  e.ref && (e.ref.current = null);
                }
              );
          });
        }
        function Dt() {
          let e = (0, T.useRef)(new Map()),
            r = (0, T.useCallback)((r, n, i, s) => {
              let a = (null == s ? void 0 : s.once)
                ? (...r) => {
                    e.current.delete(i), i(...r);
                  }
                : i;
              e.current.set(i, { type: n, eventTarget: r, fn: a, options: s }),
                r.addEventListener(n, a, s);
            }, []),
            n = (0, T.useCallback)((r, n, i, s) => {
              var a;
              let o =
                (null === (a = e.current.get(i)) || void 0 === a
                  ? void 0
                  : a.fn) || i;
              r.removeEventListener(n, o, s), e.current.delete(i);
            }, []),
            i = (0, T.useCallback)(() => {
              e.current.forEach((e, r) => {
                n(e.eventTarget, e.type, r, e.options);
              });
            }, [n]);
          return (
            (0, T.useEffect)(() => i, [i]),
            {
              addGlobalListener: r,
              removeGlobalListener: n,
              removeAllGlobalListeners: i,
            }
          );
        }
        function Dr(e) {
          let r = (0, T.useRef)(null);
          return (
            RW(() => {
              r.current = e;
            }, [e]),
            (0, T.useCallback)((...e) => {
              let n = r.current;
              return null == n ? void 0 : n(...e);
            }, [])
          );
        }
        function Dn(e) {
          let r = (0, T.useContext)(R9);
          if (r) {
            let { register: n, ...i } = r;
            (e = R3(i, e)), n();
          }
          return De(r, e.ref), e;
        }
        R9.displayName = "PressResponderContext";
        var Di = new WeakMap();
        class Ds {
          continuePropagation() {
            (0, TI._)(this, Di, !1);
          }
          get shouldStopPropagation() {
            return (0, Tx._)(this, Di);
          }
          constructor(e, r, n, i) {
            var s;
            (0, TA._)(this, Di, { writable: !0, value: void 0 }),
              (0, TI._)(this, Di, !0);
            let a =
                null !== (s = null == i ? void 0 : i.target) && void 0 !== s
                  ? s
                  : n.currentTarget,
              o = null == a ? void 0 : a.getBoundingClientRect(),
              l,
              u = 0,
              c,
              d = null;
            null != n.clientX &&
              null != n.clientY &&
              ((c = n.clientX), (d = n.clientY)),
              o &&
                (null != c && null != d
                  ? ((l = c - o.left), (u = d - o.top))
                  : ((l = o.width / 2), (u = o.height / 2))),
              (this.type = e),
              (this.pointerType = r),
              (this.target = n.currentTarget),
              (this.shiftKey = n.shiftKey),
              (this.metaKey = n.metaKey),
              (this.ctrlKey = n.ctrlKey),
              (this.altKey = n.altKey),
              (this.x = l),
              (this.y = u);
          }
        }
        let Da = Symbol("linkClicked");
        function Do(e) {
          let {
              onPress: r,
              onPressChange: n,
              onPressStart: i,
              onPressEnd: s,
              onPressUp: a,
              isDisabled: o,
              isPressed: l,
              preventFocusOnPress: u,
              shouldCancelOnPointerExit: c,
              allowTextSelectionOnPress: d,
              ref: h,
              ...f
            } = Dn(e),
            [p, g] = (0, T.useState)(!1),
            m = (0, T.useRef)({
              isPressed: !1,
              ignoreEmulatedMouseEvents: !1,
              ignoreClickAfterPress: !1,
              didFirePressStart: !1,
              isTriggeringEvent: !1,
              activePointerId: null,
              target: null,
              isOverTarget: !1,
              pointerType: null,
            }),
            { addGlobalListener: y, removeAllGlobalListeners: v } = Dt(),
            b = Dr((e, r) => {
              let s = m.current;
              if (o || s.didFirePressStart) return !1;
              let a = !0;
              if (((s.isTriggeringEvent = !0), i)) {
                let n = new Ds("pressstart", r, e);
                i(n), (a = n.shouldStopPropagation);
              }
              return (
                n && n(!0),
                (s.isTriggeringEvent = !1),
                (s.didFirePressStart = !0),
                g(!0),
                a
              );
            }),
            w = Dr((e, i, a = !0) => {
              let l = m.current;
              if (!l.didFirePressStart) return !1;
              (l.ignoreClickAfterPress = !0),
                (l.didFirePressStart = !1),
                (l.isTriggeringEvent = !0);
              let u = !0;
              if (s) {
                let r = new Ds("pressend", i, e);
                s(r), (u = r.shouldStopPropagation);
              }
              if ((n && n(!1), g(!1), r && a && !o)) {
                let n = new Ds("press", i, e);
                r(n), u && (u = n.shouldStopPropagation);
              }
              return (l.isTriggeringEvent = !1), u;
            }),
            S = Dr((e, r) => {
              let n = m.current;
              if (o) return !1;
              if (a) {
                n.isTriggeringEvent = !0;
                let i = new Ds("pressup", r, e);
                return (
                  a(i), (n.isTriggeringEvent = !1), i.shouldStopPropagation
                );
              }
              return !0;
            }),
            E = Dr((e) => {
              let r = m.current;
              r.isPressed &&
                r.target &&
                (r.isOverTarget &&
                  null != r.pointerType &&
                  w(Df(r.target, e), r.pointerType, !1),
                (r.isPressed = !1),
                (r.isOverTarget = !1),
                (r.activePointerId = null),
                (r.pointerType = null),
                v(),
                d || R7(r.target));
            }),
            C = Dr((e) => {
              c && E(e);
            }),
            x = (0, T.useMemo)(() => {
              let e = m.current,
                r = {
                  onKeyDown(r) {
                    if (
                      Du(r.nativeEvent, r.currentTarget) &&
                      r.currentTarget.contains(r.target)
                    ) {
                      var i;
                      Db(r.target, r.key) && r.preventDefault();
                      let s = !0;
                      if (!e.isPressed && !r.repeat) {
                        (e.target = r.currentTarget),
                          (e.isPressed = !0),
                          (s = b(r, "keyboard"));
                        let i = r.currentTarget,
                          a = (r) => {
                            Du(r, i) &&
                              !r.repeat &&
                              i.contains(r.target) &&
                              e.target &&
                              S(Df(e.target, r), "keyboard");
                          };
                        y(Rc(r.currentTarget), "keyup", R2(a, n), !0);
                      }
                      s && r.stopPropagation(),
                        r.metaKey &&
                          Re() &&
                          (null === (i = e.metaKeyEvents) ||
                            void 0 === i ||
                            i.set(r.key, r.nativeEvent));
                    } else "Meta" === r.key && (e.metaKeyEvents = new Map());
                  },
                  onClick(r) {
                    if (
                      (!r || r.currentTarget.contains(r.target)) &&
                      r &&
                      0 === r.button &&
                      !e.isTriggeringEvent &&
                      !Rq.isOpening
                    ) {
                      let n = !0;
                      if (
                        (o && r.preventDefault(),
                        !e.ignoreClickAfterPress &&
                          !e.ignoreEmulatedMouseEvents &&
                          !e.isPressed &&
                          ("virtual" === e.pointerType || RT(r.nativeEvent)))
                      ) {
                        o || u || Rm(r.currentTarget);
                        let e = b(r, "virtual"),
                          i = S(r, "virtual"),
                          s = w(r, "virtual");
                        n = e && i && s;
                      }
                      (e.ignoreEmulatedMouseEvents = !1),
                        (e.ignoreClickAfterPress = !1),
                        n && r.stopPropagation();
                    }
                  },
                },
                n = (r) => {
                  var n, i, s;
                  if (e.isPressed && e.target && Du(r, e.target)) {
                    Db(r.target, r.key) && r.preventDefault();
                    let n = r.target;
                    w(Df(e.target, r), "keyboard", e.target.contains(n)),
                      v(),
                      "Enter" !== r.key &&
                        Dl(e.target) &&
                        e.target.contains(n) &&
                        !r[Da] &&
                        ((r[Da] = !0), Rq(e.target, r, !1)),
                      (e.isPressed = !1),
                      null === (i = e.metaKeyEvents) ||
                        void 0 === i ||
                        i.delete(r.key);
                  } else if (
                    "Meta" === r.key &&
                    (null === (n = e.metaKeyEvents) || void 0 === n
                      ? void 0
                      : n.size)
                  ) {
                    let r = e.metaKeyEvents;
                    for (let n of ((e.metaKeyEvents = void 0), r.values()))
                      null === (s = e.target) ||
                        void 0 === s ||
                        s.dispatchEvent(new KeyboardEvent("keyup", n));
                  }
                };
              if ("undefined" != typeof PointerEvent) {
                (r.onPointerDown = (r) => {
                  if (0 !== r.button || !r.currentTarget.contains(r.target))
                    return;
                  if (RS(r.nativeEvent)) {
                    e.pointerType = "virtual";
                    return;
                  }
                  Dy(r.currentTarget) && r.preventDefault(),
                    (e.pointerType = r.pointerType);
                  let i = !0;
                  if (!e.isPressed) {
                    (e.isPressed = !0),
                      (e.isOverTarget = !0),
                      (e.activePointerId = r.pointerId),
                      (e.target = r.currentTarget),
                      o || u || Rm(r.currentTarget),
                      d || R8(e.target),
                      (i = b(r, e.pointerType));
                    let a = r.target;
                    "releasePointerCapture" in a &&
                      a.releasePointerCapture(r.pointerId),
                      y(Rc(r.currentTarget), "pointerup", n, !1),
                      y(Rc(r.currentTarget), "pointercancel", s, !1);
                  }
                  i && r.stopPropagation();
                }),
                  (r.onMouseDown = (e) => {
                    e.currentTarget.contains(e.target) &&
                      0 === e.button &&
                      (Dy(e.currentTarget) && e.preventDefault(),
                      e.stopPropagation());
                  }),
                  (r.onPointerUp = (r) => {
                    r.currentTarget.contains(r.target) &&
                      "virtual" !== e.pointerType &&
                      0 === r.button &&
                      S(r, e.pointerType || r.pointerType);
                  }),
                  (r.onPointerEnter = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.target &&
                      !e.isOverTarget &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !0),
                      b(Df(e.target, r), e.pointerType));
                  }),
                  (r.onPointerLeave = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.target &&
                      e.isOverTarget &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !1),
                      w(Df(e.target, r), e.pointerType, !1),
                      C(r));
                  });
                let n = (r) => {
                    r.pointerId === e.activePointerId &&
                      e.isPressed &&
                      0 === r.button &&
                      e.target &&
                      (e.target.contains(r.target) && null != e.pointerType
                        ? w(Df(e.target, r), e.pointerType)
                        : e.isOverTarget &&
                          null != e.pointerType &&
                          w(Df(e.target, r), e.pointerType, !1),
                      (e.isPressed = !1),
                      (e.isOverTarget = !1),
                      (e.activePointerId = null),
                      (e.pointerType = null),
                      v(),
                      d || R7(e.target),
                      "ontouchend" in e.target &&
                        "mouse" !== r.pointerType &&
                        y(e.target, "touchend", i, { once: !0 }));
                  },
                  i = (e) => {
                    Dv(e.currentTarget) && e.preventDefault();
                  },
                  s = (e) => {
                    E(e);
                  };
                r.onDragStart = (e) => {
                  e.currentTarget.contains(e.target) && E(e);
                };
              } else {
                (r.onMouseDown = (r) => {
                  if (0 === r.button && r.currentTarget.contains(r.target)) {
                    if (
                      (Dy(r.currentTarget) && r.preventDefault(),
                      e.ignoreEmulatedMouseEvents)
                    ) {
                      r.stopPropagation();
                      return;
                    }
                    (e.isPressed = !0),
                      (e.isOverTarget = !0),
                      (e.target = r.currentTarget),
                      (e.pointerType = RT(r.nativeEvent) ? "virtual" : "mouse"),
                      o || u || Rm(r.currentTarget),
                      b(r, e.pointerType) && r.stopPropagation(),
                      y(Rc(r.currentTarget), "mouseup", n, !1);
                  }
                }),
                  (r.onMouseEnter = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    let n = !0;
                    e.isPressed &&
                      !e.ignoreEmulatedMouseEvents &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !0), (n = b(r, e.pointerType))),
                      n && r.stopPropagation();
                  }),
                  (r.onMouseLeave = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    let n = !0;
                    e.isPressed &&
                      !e.ignoreEmulatedMouseEvents &&
                      null != e.pointerType &&
                      ((e.isOverTarget = !1),
                      (n = w(r, e.pointerType, !1)),
                      C(r)),
                      n && r.stopPropagation();
                  }),
                  (r.onMouseUp = (r) => {
                    r.currentTarget.contains(r.target) &&
                      !e.ignoreEmulatedMouseEvents &&
                      0 === r.button &&
                      S(r, e.pointerType || "mouse");
                  });
                let n = (r) => {
                  if (0 === r.button) {
                    if (
                      ((e.isPressed = !1), v(), e.ignoreEmulatedMouseEvents)
                    ) {
                      e.ignoreEmulatedMouseEvents = !1;
                      return;
                    }
                    e.target && Dm(r, e.target) && null != e.pointerType
                      ? w(Df(e.target, r), e.pointerType)
                      : e.target &&
                        e.isOverTarget &&
                        null != e.pointerType &&
                        w(Df(e.target, r), e.pointerType, !1),
                      (e.isOverTarget = !1);
                  }
                };
                (r.onTouchStart = (r) => {
                  if (!r.currentTarget.contains(r.target)) return;
                  let n = Dc(r.nativeEvent);
                  n &&
                    ((e.activePointerId = n.identifier),
                    (e.ignoreEmulatedMouseEvents = !0),
                    (e.isOverTarget = !0),
                    (e.isPressed = !0),
                    (e.target = r.currentTarget),
                    (e.pointerType = "touch"),
                    o || u || Rm(r.currentTarget),
                    d || R8(e.target),
                    b(Dh(e.target, r), e.pointerType) && r.stopPropagation(),
                    y(Rd(r.currentTarget), "scroll", i, !0));
                }),
                  (r.onTouchMove = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    if (!e.isPressed) {
                      r.stopPropagation();
                      return;
                    }
                    let n = Dd(r.nativeEvent, e.activePointerId),
                      i = !0;
                    n && Dm(n, r.currentTarget)
                      ? e.isOverTarget ||
                        null == e.pointerType ||
                        ((e.isOverTarget = !0),
                        (i = b(Dh(e.target, r), e.pointerType)))
                      : e.isOverTarget &&
                        null != e.pointerType &&
                        ((e.isOverTarget = !1),
                        (i = w(Dh(e.target, r), e.pointerType, !1)),
                        C(Dh(e.target, r))),
                      i && r.stopPropagation();
                  }),
                  (r.onTouchEnd = (r) => {
                    if (!r.currentTarget.contains(r.target)) return;
                    if (!e.isPressed) {
                      r.stopPropagation();
                      return;
                    }
                    let n = Dd(r.nativeEvent, e.activePointerId),
                      i = !0;
                    n && Dm(n, r.currentTarget) && null != e.pointerType
                      ? (S(Dh(e.target, r), e.pointerType),
                        (i = w(Dh(e.target, r), e.pointerType)))
                      : e.isOverTarget &&
                        null != e.pointerType &&
                        (i = w(Dh(e.target, r), e.pointerType, !1)),
                      i && r.stopPropagation(),
                      (e.isPressed = !1),
                      (e.activePointerId = null),
                      (e.isOverTarget = !1),
                      (e.ignoreEmulatedMouseEvents = !0),
                      e.target && !d && R7(e.target),
                      v();
                  }),
                  (r.onTouchCancel = (r) => {
                    r.currentTarget.contains(r.target) &&
                      (r.stopPropagation(), e.isPressed && E(Dh(e.target, r)));
                  });
                let i = (r) => {
                  e.isPressed &&
                    r.target.contains(e.target) &&
                    E({
                      currentTarget: e.target,
                      shiftKey: !1,
                      ctrlKey: !1,
                      metaKey: !1,
                      altKey: !1,
                    });
                };
                r.onDragStart = (e) => {
                  e.currentTarget.contains(e.target) && E(e);
                };
              }
              return r;
            }, [y, o, u, v, d, E, C, w, b, S]);
          return (
            (0, T.useEffect)(
              () => () => {
                var e;
                d ||
                  R7(
                    null !== (e = m.current.target) && void 0 !== e
                      ? e
                      : void 0,
                  );
              },
              [d],
            ),
            { isPressed: l || p, pressProps: R3(f, x) }
          );
        }
        function Dl(e) {
          return "A" === e.tagName && e.hasAttribute("href");
        }
        function Du(e, r) {
          let { key: n, code: i } = e,
            s = r,
            a = s.getAttribute("role");
          return (
            ("Enter" === n || " " === n || "Spacebar" === n || "Space" === i) &&
            !(
              (s instanceof Rd(s).HTMLInputElement && !DT(s, n)) ||
              s instanceof Rd(s).HTMLTextAreaElement ||
              s.isContentEditable
            ) &&
            !(("link" === a || (!a && Dl(s))) && "Enter" !== n)
          );
        }
        function Dc(e) {
          let { targetTouches: r } = e;
          return r.length > 0 ? r[0] : null;
        }
        function Dd(e, r) {
          let n = e.changedTouches;
          for (let e = 0; e < n.length; e++) {
            let i = n[e];
            if (i.identifier === r) return i;
          }
          return null;
        }
        function Dh(e, r) {
          let n = 0,
            i = 0;
          return (
            r.targetTouches &&
              1 === r.targetTouches.length &&
              ((n = r.targetTouches[0].clientX),
              (i = r.targetTouches[0].clientY)),
            {
              currentTarget: e,
              shiftKey: r.shiftKey,
              ctrlKey: r.ctrlKey,
              metaKey: r.metaKey,
              altKey: r.altKey,
              clientX: n,
              clientY: i,
            }
          );
        }
        function Df(e, r) {
          let n = r.clientX,
            i = r.clientY;
          return {
            currentTarget: e,
            shiftKey: r.shiftKey,
            ctrlKey: r.ctrlKey,
            metaKey: r.metaKey,
            altKey: r.altKey,
            clientX: n,
            clientY: i,
          };
        }
        function Dp(e) {
          let r = 0,
            n = 0;
          return (
            void 0 !== e.width
              ? (r = e.width / 2)
              : void 0 !== e.radiusX && (r = e.radiusX),
            void 0 !== e.height
              ? (n = e.height / 2)
              : void 0 !== e.radiusY && (n = e.radiusY),
            {
              top: e.clientY - n,
              right: e.clientX + r,
              bottom: e.clientY + n,
              left: e.clientX - r,
            }
          );
        }
        function Dg(e, r) {
          return (
            !(e.left > r.right) &&
            !(r.left > e.right) &&
            !(e.top > r.bottom) &&
            !(r.top > e.bottom)
          );
        }
        function Dm(e, r) {
          return Dg(r.getBoundingClientRect(), Dp(e));
        }
        function Dy(e) {
          return !(e instanceof HTMLElement) || !e.hasAttribute("draggable");
        }
        function Dv(e) {
          return (
            !(e instanceof HTMLInputElement) &&
            (e instanceof HTMLButtonElement
              ? "submit" !== e.type && "reset" !== e.type
              : !Dl(e))
          );
        }
        function Db(e, r) {
          return e instanceof HTMLInputElement ? !DT(e, r) : Dv(e);
        }
        let Dw = new Set([
          "checkbox",
          "radio",
          "range",
          "color",
          "file",
          "image",
          "button",
          "submit",
          "reset",
        ]);
        function DT(e, r) {
          return "checkbox" === e.type || "radio" === e.type
            ? " " === r
            : Dw.has(e.type);
        }
        let DS = 0,
          DE = new Map();
        function DC(e) {
          let [r, n] = (0, T.useState)();
          return (
            RW(() => {
              if (!e) return;
              let r = DE.get(e);
              if (r) n(r.element.id);
              else {
                let i = `react-aria-description-${DS++}`;
                n(i);
                let s = document.createElement("div");
                (s.id = i),
                  (s.style.display = "none"),
                  (s.textContent = e),
                  document.body.appendChild(s),
                  (r = { refCount: 0, element: s }),
                  DE.set(e, r);
              }
              return (
                r.refCount++,
                () => {
                  r && 0 == --r.refCount && (r.element.remove(), DE.delete(e));
                }
              );
            }, [e]),
            { "aria-describedby": e ? r : void 0 }
          );
        }
        let Dx = 500;
        function DA(e) {
          let {
              isDisabled: r,
              onLongPressStart: n,
              onLongPressEnd: i,
              onLongPress: s,
              threshold: a = Dx,
              accessibilityDescription: o,
            } = e,
            l = (0, T.useRef)(void 0),
            { addGlobalListener: u, removeGlobalListener: c } = Dt(),
            { pressProps: d } = Do({
              isDisabled: r,
              onPressStart(e) {
                if (
                  (e.continuePropagation(),
                  ("mouse" === e.pointerType || "touch" === e.pointerType) &&
                    (n && n({ ...e, type: "longpressstart" }),
                    (l.current = setTimeout(() => {
                      e.target.dispatchEvent(
                        new PointerEvent("pointercancel", { bubbles: !0 }),
                      ),
                        s && s({ ...e, type: "longpress" }),
                        (l.current = void 0);
                    }, a)),
                    "touch" === e.pointerType))
                ) {
                  let r = (e) => {
                    e.preventDefault();
                  };
                  u(e.target, "contextmenu", r, { once: !0 }),
                    u(
                      window,
                      "pointerup",
                      () => {
                        setTimeout(() => {
                          c(e.target, "contextmenu", r);
                        }, 30);
                      },
                      { once: !0 },
                    );
                }
              },
              onPressEnd(e) {
                l.current && clearTimeout(l.current),
                  i &&
                    ("mouse" === e.pointerType || "touch" === e.pointerType) &&
                    i({ ...e, type: "longpressend" });
              },
            });
          return { longPressProps: R3(d, DC(s && !r ? o : void 0)) };
        }
        function DI(e) {
          let {
              id: r,
              selectionManager: n,
              key: i,
              ref: s,
              shouldSelectOnPressUp: a,
              shouldUseVirtualFocus: o,
              focus: l,
              isDisabled: u,
              onAction: c,
              allowsDifferentPressOrigin: d,
              linkBehavior: h = "action",
            } = e,
            f = RK();
          r = RY(r);
          let p = (e) => {
            if ("keyboard" === e.pointerType && Ru(e)) n.toggleSelection(i);
            else {
              if ("none" === n.selectionMode) return;
              if (n.isLink(i)) {
                if ("selection" === h && s.current) {
                  let r = n.getItemProps(i);
                  f.open(s.current, e, r.href, r.routerOptions),
                    n.setSelectedKeys(n.selectedKeys);
                  return;
                }
                if ("override" === h || "none" === h) return;
              }
              "single" === n.selectionMode
                ? n.isSelected(i) && !n.disallowEmptySelection
                  ? n.toggleSelection(i)
                  : n.replaceSelection(i)
                : e && e.shiftKey
                  ? n.extendSelection(i)
                  : "toggle" === n.selectionBehavior ||
                      (e &&
                        (RJ(e) ||
                          "touch" === e.pointerType ||
                          "virtual" === e.pointerType))
                    ? n.toggleSelection(i)
                    : n.replaceSelection(i);
            }
          };
          (0, T.useEffect)(() => {
            if (i === n.focusedKey && n.isFocused) {
              if (o) {
                var e;
                let r = new CustomEvent(R1, { cancelable: !0, bubbles: !0 });
                null === (e = s.current) || void 0 === e || e.dispatchEvent(r);
              } else
                l
                  ? l()
                  : document.activeElement !== s.current &&
                    s.current &&
                    Rz(s.current);
            }
          }, [s, i, n.focusedKey, n.childFocusStrategy, n.isFocused, o]),
            (u = u || n.isDisabled(i));
          let g = {};
          o || u
            ? u &&
              (g.onMouseDown = (e) => {
                e.preventDefault();
              })
            : (g = {
                tabIndex: i === n.focusedKey ? 0 : -1,
                onFocus(e) {
                  e.target === s.current && n.setFocusedKey(i);
                },
              });
          let m = n.isLink(i) && "override" === h,
            y = n.isLink(i) && "selection" !== h && "none" !== h,
            v = !u && n.canSelectItem(i) && !m,
            b = (c || y) && !u,
            w = b && ("replace" === n.selectionBehavior ? !v : !v || n.isEmpty),
            S = b && v && "replace" === n.selectionBehavior,
            E = w || S,
            C = (0, T.useRef)(null),
            x = E && v,
            A = (0, T.useRef)(!1),
            I = (0, T.useRef)(!1),
            k = (e) => {
              if ((c && c(), y && s.current)) {
                let r = n.getItemProps(i);
                f.open(s.current, e, r.href, r.routerOptions);
              }
            },
            _ = {};
          a
            ? ((_.onPressStart = (e) => {
                (C.current = e.pointerType),
                  (A.current = x),
                  "keyboard" === e.pointerType && (!E || D_()) && p(e);
              }),
              d
                ? ((_.onPressUp = w
                    ? void 0
                    : (e) => {
                        "mouse" === e.pointerType && v && p(e);
                      }),
                  (_.onPress = w
                    ? k
                    : (e) => {
                        "keyboard" !== e.pointerType &&
                          "mouse" !== e.pointerType &&
                          v &&
                          p(e);
                      }))
                : (_.onPress = (e) => {
                    w || (S && "mouse" !== e.pointerType)
                      ? ("keyboard" !== e.pointerType || Dk()) && k(e)
                      : "keyboard" !== e.pointerType && v && p(e);
                  }))
            : ((_.onPressStart = (e) => {
                (C.current = e.pointerType),
                  (A.current = x),
                  (I.current = w),
                  v &&
                    (("mouse" === e.pointerType && !w) ||
                      ("keyboard" === e.pointerType && (!b || D_()))) &&
                    p(e);
              }),
              (_.onPress = (e) => {
                ("touch" === e.pointerType ||
                  "pen" === e.pointerType ||
                  "virtual" === e.pointerType ||
                  ("keyboard" === e.pointerType && E && Dk()) ||
                  ("mouse" === e.pointerType && I.current)) &&
                  (E ? k(e) : v && p(e));
              })),
            (g["data-key"] = i),
            (_.preventFocusOnPress = o);
          let { pressProps: R, isPressed: D } = Do(_),
            P = S
              ? (e) => {
                  "mouse" === C.current &&
                    (e.stopPropagation(), e.preventDefault(), k(e));
                }
              : void 0,
            { longPressProps: N } = DA({
              isDisabled: !x,
              onLongPress(e) {
                "touch" === e.pointerType &&
                  (p(e), n.setSelectionBehavior("toggle"));
              },
            });
          return {
            itemProps: R3(g, v || w ? R : {}, x ? N : {}, {
              onDoubleClick: P,
              onDragStartCapture: (e) => {
                "touch" === C.current && A.current && e.preventDefault();
              },
              onClick: n.isLink(i)
                ? (e) => {
                    Rq.isOpening || e.preventDefault();
                  }
                : void 0,
              id: r,
            }),
            isPressed: D,
            isSelected: n.isSelected(i),
            isFocused: n.isFocused && n.focusedKey === i,
            isDisabled: u,
            allowsSelection: v,
            hasAction: E,
          };
        }
        function Dk() {
          let e = window.event;
          return (null == e ? void 0 : e.key) === "Enter";
        }
        function D_() {
          let e = window.event;
          return (
            (null == e ? void 0 : e.key) === " " ||
            (null == e ? void 0 : e.code) === "Space"
          );
        }
        function DR(e, r, n) {
          var i, s;
          let {
              id: a,
              key: o,
              closeOnSelect: l,
              isVirtualized: u,
              "aria-haspopup": c,
              onPressStart: d,
              onPressUp: h,
              onPress: f,
              onPressChange: p,
              onPressEnd: g,
              onHoverStart: m,
              onHoverChange: y,
              onHoverEnd: v,
              onKeyDown: b,
              onKeyUp: w,
              onFocus: T,
              onFocusChange: S,
              onBlur: E,
              selectionManager: C = r.selectionManager,
            } = e,
            x = !!c,
            A = x && "true" === e["aria-expanded"],
            I =
              null !== (i = e.isDisabled) && void 0 !== i ? i : C.isDisabled(o),
            k =
              null !== (s = e.isSelected) && void 0 !== s ? s : C.isSelected(o),
            _ = _E.get(r),
            R = r.collection.getItem(o),
            D = e.onClose || _.onClose,
            P = TU(),
            N = (r) => {
              var n;
              !x &&
                ((
                  null == R
                    ? void 0
                    : null === (n = R.props) || void 0 === n
                      ? void 0
                      : n.onAction
                )
                  ? R.props.onAction()
                  : e.onAction && e.onAction(o),
                _.onAction && (0, _.onAction)(o),
                r.target instanceof HTMLAnchorElement &&
                  R &&
                  P.open(r.target, r, R.props.href, R.props.routerOptions));
            },
            O = "menuitem";
          x ||
            ("single" === C.selectionMode
              ? (O = "menuitemradio")
              : "multiple" !== C.selectionMode || (O = "menuitemcheckbox"));
          let M = wV(),
            L = wV(),
            B = wV(),
            F = {
              id: a,
              "aria-disabled": I || void 0,
              role: O,
              "aria-label": e["aria-label"],
              "aria-labelledby": M,
              "aria-describedby": [L, B].filter(Boolean).join(" ") || void 0,
              "aria-controls": e["aria-controls"],
              "aria-haspopup": c,
              "aria-expanded": e["aria-expanded"],
            };
          "none" === C.selectionMode || x || (F["aria-checked"] = k),
            u &&
              ((F["aria-posinset"] = null == R ? void 0 : R.index),
              (F["aria-setsize"] = _D(r.collection)));
          let U = (e) => {
              "keyboard" === e.pointerType && N(e), null == d || d(e);
            },
            j = () => {
              !x &&
                D &&
                (null != l
                  ? l
                  : "multiple" !== C.selectionMode || C.isLink(o)) &&
                D();
            },
            z = (e) => {
              "mouse" === e.pointerType && (N(e), j()), null == h || h(e);
            },
            V = (e) => {
              "keyboard" !== e.pointerType &&
                "mouse" !== e.pointerType &&
                (N(e), j()),
                null == f || f(e);
            },
            { itemProps: K, isFocused: q } = DI({
              id: a,
              selectionManager: C,
              key: o,
              ref: n,
              shouldSelectOnPressUp: !0,
              allowsDifferentPressOrigin: !0,
              linkBehavior: "none",
              shouldUseVirtualFocus: _.shouldUseVirtualFocus,
            }),
            { pressProps: H, isPressed: $ } = TY({
              onPressStart: U,
              onPress: V,
              onPressUp: z,
              onPressChange: p,
              onPressEnd: g,
              isDisabled: I,
            }),
            { hoverProps: W } = _B({
              isDisabled: I,
              onHoverStart(e) {
                _0() ||
                  (A && "dialog" === c) ||
                  (C.setFocused(!0), C.setFocusedKey(o)),
                  null == m || m(e);
              },
              onHoverChange: y,
              onHoverEnd: v,
            }),
            { keyboardProps: G } = _3({
              onKeyDown: (e) => {
                if (e.repeat) {
                  e.continuePropagation();
                  return;
                }
                switch (e.key) {
                  case " ":
                    I ||
                      "none" !== C.selectionMode ||
                      x ||
                      !1 === l ||
                      !D ||
                      D();
                    break;
                  case "Enter":
                    I || !1 === l || x || !D || D();
                    break;
                  default:
                    x || e.continuePropagation(), null == b || b(e);
                }
              },
              onKeyUp: w,
            }),
            { focusProps: Q } = _6({ onBlur: E, onFocus: T, onFocusChange: S }),
            Y = _k(null == R ? void 0 : R.props);
          delete Y.id;
          let X = TK(null == R ? void 0 : R.props);
          return {
            menuItemProps: {
              ...F,
              ...TR(
                Y,
                X,
                x ? { onFocus: K.onFocus, "data-key": K["data-key"] } : K,
                H,
                W,
                G,
                Q,
              ),
              tabIndex: null != K.tabIndex && A ? -1 : K.tabIndex,
            },
            labelProps: { id: M },
            descriptionProps: { id: L },
            keyboardShortcutProps: { id: B },
            isFocused: q,
            isSelected: k,
            isPressed: $,
            isDisabled: I,
          };
        }
        var DD = 700;
        function DP() {
          return (
            !(0, wB.wR)() &&
            "undefined" != typeof window &&
            window.screen.width <= DD
          );
        }
        function DN(e) {
          var r, n;
          let i = b5(),
            [s, a] = Ag(e, _T.variantKeys),
            {
              as: o,
              item: l,
              state: u,
              shortcut: c,
              description: d,
              startContent: h,
              endContent: f,
              isVirtualized: p,
              selectedIcon: g,
              className: m,
              classNames: y,
              onAction: v,
              autoFocus: b,
              onPress: w,
              onPressStart: S,
              onPressUp: E,
              onPressEnd: C,
              onPressChange: x,
              onHoverStart: A,
              onHoverChange: I,
              onHoverEnd: k,
              hideSelectedIcon: _ = !1,
              isReadOnly: R = !1,
              closeOnSelect: D,
              onClose: P,
              onClick: N,
              ...O
            } = s,
            M =
              null !=
                (n =
                  null != (r = e.disableAnimation)
                    ? r
                    : null == i
                      ? void 0
                      : i.disableAnimation) && n,
            L = (0, T.useRef)(null),
            B = o || ((null == O ? void 0 : O.href) ? "a" : "li"),
            F = "string" == typeof B,
            { rendered: U, key: j } = l,
            z = u.disabledKeys.has(j) || e.isDisabled,
            V = "none" !== u.selectionManager.selectionMode,
            K = DP(),
            { isFocusVisible: q, focusProps: H } = Ae({ autoFocus: b });
          N &&
            "function" == typeof N &&
            Ez(
              "onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292",
              "MenuItem",
            );
          let {
              isPressed: $,
              isFocused: W,
              isSelected: G,
              isDisabled: Q,
              menuItemProps: Y,
              labelProps: X,
              descriptionProps: J,
              keyboardShortcutProps: Z,
            } = DR(
              {
                key: j,
                onClose: P,
                isDisabled: z,
                onPress: (0, T.useCallback)(
                  (e) => {
                    null == N || N(e), null == w || w(e);
                  },
                  [N, w],
                ),
                onPressStart: S,
                onPressUp: E,
                onPressEnd: C,
                onPressChange: x,
                "aria-label": s["aria-label"],
                closeOnSelect: D,
                isVirtualized: p,
                onAction: v,
              },
              u,
              L,
            ),
            { hoverProps: ee, isHovered: et } = IC({
              isDisabled: Q,
              onHoverStart(e) {
                CN() ||
                  (u.selectionManager.setFocused(!0),
                  u.selectionManager.setFocusedKey(j)),
                  null == A || A(e);
              },
              onHoverChange: I,
              onHoverEnd: k,
            }),
            er = Y,
            en = (0, T.useMemo)(
              () =>
                _T({
                  ...a,
                  isDisabled: Q,
                  disableAnimation: M,
                  hasTitleTextChild: "string" == typeof U,
                  hasDescriptionTextChild: "string" == typeof d,
                }),
              [EF(a), Q, M, U, d],
            ),
            ei = EO(null == y ? void 0 : y.base, m);
          R && (er = EB(er));
          let es = (e = {}) => ({
              ref: L,
              ...EX(R ? {} : H, Iy(O, { enabled: F }), er, ee, e),
              "data-focus": EP(W),
              "data-selectable": EP(V),
              "data-hover": EP(K ? et || $ : et),
              "data-disabled": EP(Q),
              "data-selected": EP(G),
              "data-pressed": EP($),
              "data-focus-visible": EP(q),
              className: en.base({ class: EO(ei, e.className) }),
            }),
            ea = (e = {}) => ({
              ...EX(X, e),
              className: en.title({ class: null == y ? void 0 : y.title }),
            }),
            eo = (e = {}) => ({
              ...EX(J, e),
              className: en.description({
                class: null == y ? void 0 : y.description,
              }),
            }),
            el = (e = {}) => ({
              ...EX(Z, e),
              className: en.shortcut({
                class: null == y ? void 0 : y.shortcut,
              }),
            }),
            eu = (0, T.useCallback)(
              (e = {}) => ({
                "aria-hidden": EP(!0),
                "data-disabled": EP(Q),
                className: en.selectedIcon({
                  class: null == y ? void 0 : y.selectedIcon,
                }),
                ...e,
              }),
              [Q, en, y],
            );
          return {
            Component: B,
            domRef: L,
            slots: en,
            classNames: y,
            isSelectable: V,
            isSelected: G,
            isDisabled: Q,
            rendered: U,
            shortcut: c,
            description: d,
            startContent: h,
            endContent: f,
            selectedIcon: g,
            disableAnimation: M,
            getItemProps: es,
            getLabelProps: ea,
            hideSelectedIcon: _,
            getDescriptionProps: eo,
            getKeyboardShortcutProps: el,
            getSelectedIconProps: eu,
          };
        }
        var DO = (e) => {
          let {
              Component: r,
              slots: n,
              classNames: i,
              rendered: s,
              shortcut: a,
              description: o,
              isSelectable: l,
              isSelected: u,
              isDisabled: c,
              selectedIcon: d,
              startContent: h,
              endContent: f,
              disableAnimation: p,
              hideSelectedIcon: g,
              getItemProps: m,
              getLabelProps: y,
              getDescriptionProps: v,
              getKeyboardShortcutProps: b,
              getSelectedIconProps: S,
            } = DN(e),
            E = (0, T.useMemo)(() => {
              let e = (0, w.jsx)(_b, { disableAnimation: p, isSelected: u });
              return "function" == typeof d
                ? d({ icon: e, isSelected: u, isDisabled: c })
                : d || e;
            }, [d, u, c, p]);
          return (0, w.jsxs)(r, {
            ...m(),
            children: [
              h,
              o
                ? (0, w.jsxs)("div", {
                    className: n.wrapper({
                      class: null == i ? void 0 : i.wrapper,
                    }),
                    children: [
                      (0, w.jsx)("span", { ...y(), children: s }),
                      (0, w.jsx)("span", { ...v(), children: o }),
                    ],
                  })
                : (0, w.jsx)("span", { ...y(), children: s }),
              a && (0, w.jsx)("kbd", { ...b(), children: a }),
              l && !g && (0, w.jsx)("span", { ...S(), children: E }),
              f,
            ],
          });
        };
        DO.displayName = "HeroUI.MenuItem";
        var DM = DO;
        function DL(e) {
          let { heading: r, "aria-label": n } = e,
            i = wj();
          return {
            itemProps: { role: "presentation" },
            headingProps: r ? { id: i, role: "presentation" } : {},
            groupProps: {
              role: "group",
              "aria-label": n,
              "aria-labelledby": r ? i : void 0,
            },
          };
        }
        function DB(e) {
          let r,
            n = Iy(e, { enabled: "string" == typeof e.elementType });
          return ("vertical" === e.orientation && (r = "vertical"),
          "hr" !== e.elementType)
            ? {
                separatorProps: {
                  ...n,
                  role: "separator",
                  "aria-orientation": r,
                },
              }
            : { separatorProps: n };
        }
        var DF = ET({
          base: "shrink-0 bg-divider border-none",
          variants: {
            orientation: {
              horizontal: "w-full h-divider",
              vertical: "h-full w-divider",
            },
          },
          defaultVariants: { orientation: "horizontal" },
        });
        function DU(e) {
          let { as: r, className: n, orientation: i, ...s } = e,
            a = r || "hr";
          "hr" === a && "vertical" === i && (a = "div");
          let { separatorProps: o } = DB({
              elementType: "string" == typeof a ? a : "hr",
              orientation: i,
            }),
            l = (0, T.useMemo)(
              () => DF({ orientation: i, className: n }),
              [i, n],
            );
          return {
            Component: a,
            getDividerProps: (0, T.useCallback)(
              (e = {}) => ({
                className: l,
                role: "separator",
                "data-orientation": i,
                ...o,
                ...s,
                ...e,
              }),
              [l, i, o, s],
            ),
          };
        }
        var Dj = Ap((e, r) => {
          let { Component: n, getDividerProps: i } = DU({ ...e });
          return (0, w.jsx)(n, { ref: r, ...i() });
        });
        Dj.displayName = "HeroUI.Divider";
        var Dz = Dj,
          DV = Ap(
            (
              {
                item: e,
                state: r,
                as: n,
                variant: i,
                color: s,
                disableAnimation: a,
                onAction: o,
                closeOnSelect: l,
                className: u,
                classNames: c,
                showDivider: d = !1,
                hideSelectedIcon: h,
                dividerProps: f = {},
                itemClasses: p,
                title: g,
                ...m
              },
              y,
            ) => {
              let v = n || "li",
                b = (0, T.useMemo)(() => _S(), []),
                S = EO(null == c ? void 0 : c.base, u),
                E = EO(
                  null == c ? void 0 : c.divider,
                  null == f ? void 0 : f.className,
                ),
                {
                  itemProps: C,
                  headingProps: x,
                  groupProps: A,
                } = DL({ heading: e.rendered, "aria-label": e["aria-label"] });
              return (0, w.jsxs)(v, {
                "data-slot": "base",
                ...EX(C, m),
                className: b.base({ class: S }),
                children: [
                  e.rendered &&
                    (0, w.jsx)("span", {
                      ...x,
                      className: b.heading({
                        class: null == c ? void 0 : c.heading,
                      }),
                      "data-slot": "heading",
                      children: e.rendered,
                    }),
                  (0, w.jsxs)("ul", {
                    ...A,
                    className: b.group({ class: null == c ? void 0 : c.group }),
                    "data-has-title": !!e.rendered,
                    "data-slot": "group",
                    children: [
                      [...e.childNodes].map((e) => {
                        let { key: n, props: u } = e,
                          c = (0, w.jsx)(
                            DM,
                            {
                              classNames: p,
                              closeOnSelect: l,
                              color: s,
                              disableAnimation: a,
                              hideSelectedIcon: h,
                              item: e,
                              state: r,
                              variant: i,
                              onAction: o,
                              ...u,
                            },
                            n,
                          );
                        return e.wrapper && (c = e.wrapper(c)), c;
                      }),
                      d &&
                        (0, w.jsx)(Dz, {
                          as: "li",
                          className: b.divider({ class: E }),
                          ...f,
                        }),
                    ],
                  }),
                ],
              });
            },
          );
        DV.displayName = "HeroUI.MenuSection";
        var DK = DV;
        let Dq = 1e3;
        function DH(e) {
          let { keyboardDelegate: r, selectionManager: n, onTypeSelect: i } = e,
            s = (0, T.useRef)({ search: "", timeout: void 0 }).current,
            a = (e) => {
              let a = D$(e.key);
              if (
                a &&
                !e.ctrlKey &&
                !e.metaKey &&
                e.currentTarget.contains(e.target)
              ) {
                if (
                  (" " !== a ||
                    !(s.search.trim().length > 0) ||
                    (e.preventDefault(),
                    "continuePropagation" in e || e.stopPropagation()),
                  (s.search += a),
                  null != r.getKeyForSearch)
                ) {
                  let e = r.getKeyForSearch(s.search, n.focusedKey);
                  null == e && (e = r.getKeyForSearch(s.search)),
                    null != e && (n.setFocusedKey(e), i && i(e));
                }
                clearTimeout(s.timeout),
                  (s.timeout = setTimeout(() => {
                    s.search = "";
                  }, Dq));
              }
            };
          return {
            typeSelectProps: {
              onKeyDownCapture: r.getKeyForSearch ? a : void 0,
            },
          };
        }
        function D$(e) {
          return 1 !== e.length && /^[A-Z]/i.test(e) ? "" : e;
        }
        function DW(e, r, n, i) {
          let s = Dr(n),
            a = null == n;
          (0, T.useEffect)(() => {
            if (a || !e.current) return;
            let n = e.current;
            return (
              n.addEventListener(r, s, i),
              () => {
                n.removeEventListener(r, s, i);
              }
            );
          }, [e, r, i, a, s]);
        }
        function DG(e, r) {
          if (!e) return !1;
          let n = window.getComputedStyle(e),
            i = /(auto|scroll)/.test(n.overflow + n.overflowX + n.overflowY);
          return (
            i &&
              r &&
              (i =
                e.scrollHeight !== e.clientHeight ||
                e.scrollWidth !== e.clientWidth),
            i
          );
        }
        function DQ(e, r) {
          let n = [];
          for (; e && e !== document.documentElement; )
            DG(e, r) && n.push(e), (e = e.parentElement);
          return n;
        }
        function DY(e, r) {
          let n = DX(e, r, "left"),
            i = DX(e, r, "top"),
            s = r.offsetWidth,
            a = r.offsetHeight,
            o = e.scrollLeft,
            l = e.scrollTop,
            {
              borderTopWidth: u,
              borderLeftWidth: c,
              scrollPaddingTop: d,
              scrollPaddingRight: h,
              scrollPaddingBottom: f,
              scrollPaddingLeft: p,
            } = getComputedStyle(e),
            g = o + parseInt(c, 10),
            m = l + parseInt(u, 10),
            y = g + e.clientWidth,
            v = m + e.clientHeight,
            b = parseInt(d, 10) || 0,
            w = parseInt(f, 10) || 0,
            T = parseInt(h, 10) || 0,
            S = parseInt(p, 10) || 0;
          n <= o + S
            ? (o = n - parseInt(c, 10) - S)
            : n + s > y - T && (o += n + s - y + T),
            i <= m + b
              ? (l = i - parseInt(u, 10) - b)
              : i + a > v - w && (l += i + a - v + w),
            (e.scrollLeft = o),
            (e.scrollTop = l);
        }
        function DX(e, r, n) {
          let i = "left" === n ? "offsetLeft" : "offsetTop",
            s = 0;
          for (; r.offsetParent && ((s += r[i]), r.offsetParent !== e); ) {
            if (r.offsetParent.contains(e)) {
              s -= e[i];
              break;
            }
            r = r.offsetParent;
          }
          return s;
        }
        function DJ(e, r) {
          if (e && document.contains(e)) {
            let o = document.scrollingElement || document.documentElement;
            if ("hidden" === window.getComputedStyle(o).overflow)
              for (let r of DQ(e)) DY(r, e);
            else {
              var n, i, s, a;
              let { left: o, top: l } = e.getBoundingClientRect();
              null == e ||
                null === (n = e.scrollIntoView) ||
                void 0 === n ||
                n.call(e, { block: "nearest" });
              let { left: u, top: c } = e.getBoundingClientRect();
              (Math.abs(o - u) > 1 || Math.abs(l - c) > 1) &&
                (null == r ||
                  null === (s = r.containingElement) ||
                  void 0 === s ||
                  null === (i = s.scrollIntoView) ||
                  void 0 === i ||
                  i.call(s, { block: "center", inline: "center" }),
                null === (a = e.scrollIntoView) ||
                  void 0 === a ||
                  a.call(e, { block: "nearest" }));
            }
          }
        }
        function DZ(e, r) {
          let n = (0, T.useRef)(!0),
            i = (0, T.useRef)(null);
          RW(
            () => (
              (n.current = !0),
              () => {
                n.current = !1;
              }
            ),
            [],
          ),
            RW(() => {
              n.current
                ? (n.current = !1)
                : (!i.current || r.some((e, r) => !Object.is(e, i[r]))) && e(),
                (i.current = r);
            }, r);
        }
        function D0(e) {
          let r = Rd(e);
          if (!(e instanceof r.HTMLElement) && !(e instanceof r.SVGElement))
            return !1;
          let { display: n, visibility: i } = e.style,
            s = "none" !== n && "hidden" !== i && "collapse" !== i;
          if (s) {
            let { getComputedStyle: r } = e.ownerDocument.defaultView,
              { display: n, visibility: i } = r(e);
            s = "none" !== n && "hidden" !== i && "collapse" !== i;
          }
          return s;
        }
        function D1(e, r) {
          return (
            !e.hasAttribute("hidden") &&
            !e.hasAttribute("data-react-aria-prevent-focus") &&
            ("DETAILS" !== e.nodeName ||
              !r ||
              "SUMMARY" === r.nodeName ||
              e.hasAttribute("open"))
          );
        }
        function D2(e, r) {
          return (
            "#comment" !== e.nodeName &&
            D0(e) &&
            D1(e, r) &&
            (!e.parentElement || D2(e.parentElement, e))
          );
        }
        let D3 = "react-aria-focus-scope-restore",
          D4 = null,
          D5 = [
            "input:not([disabled]):not([type=hidden])",
            "select:not([disabled])",
            "textarea:not([disabled])",
            "button:not([disabled])",
            "a[href]",
            "area[href]",
            "summary",
            "iframe",
            "object",
            "embed",
            "audio[controls]",
            "video[controls]",
            '[contenteditable]:not([contenteditable^="false"])',
          ],
          D6 =
            D5.join(":not([hidden]),") +
            ",[tabindex]:not([disabled]):not([hidden])";
        D5.push('[tabindex]:not([tabindex="-1"]):not([disabled])');
        let D8 = D5.join(':not([hidden]):not([tabindex="-1"]),');
        function D7(e) {
          return e[0].parentElement;
        }
        function D9(e, r) {
          return !!e && !!r && r.some((r) => r.contains(e));
        }
        function Pe(e, r = null) {
          if (e instanceof Element && e.closest("[data-react-aria-top-layer]"))
            return !0;
          for (let { scopeRef: n } of Pa.traverse(Pa.getTreeNode(r)))
            if (n && D9(e, n.current)) return !0;
          return !1;
        }
        function Pt(e, r = !1) {
          if (null == e || r) {
            if (null != e)
              try {
                e.focus();
              } catch {}
          } else
            try {
              $6a99195332edec8b$export$80f3e147d781571c(e);
            } catch {}
        }
        function Pr(e, r = !0) {
          let n = e[0].previousElementSibling,
            i = D7(e),
            s = Pn(i, { tabbable: r }, e);
          s.currentNode = n;
          let a = s.nextNode();
          return (
            r &&
              !a &&
              (((s = Pn((i = D7(e)), { tabbable: !1 }, e)).currentNode = n),
              (a = s.nextNode())),
            a
          );
        }
        function Pn(e, r, n) {
          let i = (null == r ? void 0 : r.tabbable) ? D8 : D6,
            s = Rc(e).createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
              acceptNode(e) {
                var s;
                return (
                  null == r
                    ? void 0
                    : null === (s = r.from) || void 0 === s
                      ? void 0
                      : s.contains(e)
                )
                  ? NodeFilter.FILTER_REJECT
                  : e.matches(i) &&
                      D2(e) &&
                      (!n || D9(e, n)) &&
                      (!(null == r ? void 0 : r.accept) || r.accept(e))
                    ? NodeFilter.FILTER_ACCEPT
                    : NodeFilter.FILTER_SKIP;
              },
            });
          return (null == r ? void 0 : r.from) && (s.currentNode = r.from), s;
        }
        class Pi {
          get size() {
            return this.fastMap.size;
          }
          getTreeNode(e) {
            return this.fastMap.get(e);
          }
          addTreeNode(e, r, n) {
            let i = this.fastMap.get(null != r ? r : null);
            if (!i) return;
            let s = new Ps({ scopeRef: e });
            i.addChild(s),
              (s.parent = i),
              this.fastMap.set(e, s),
              n && (s.nodeToRestore = n);
          }
          addNode(e) {
            this.fastMap.set(e.scopeRef, e);
          }
          removeTreeNode(e) {
            if (null === e) return;
            let r = this.fastMap.get(e);
            if (!r) return;
            let n = r.parent;
            for (let e of this.traverse())
              e !== r &&
                r.nodeToRestore &&
                e.nodeToRestore &&
                r.scopeRef &&
                r.scopeRef.current &&
                D9(e.nodeToRestore, r.scopeRef.current) &&
                (e.nodeToRestore = r.nodeToRestore);
            let i = r.children;
            n &&
              (n.removeChild(r),
              i.size > 0 && i.forEach((e) => n && n.addChild(e))),
              this.fastMap.delete(r.scopeRef);
          }
          *traverse(e = this.root) {
            if ((null != e.scopeRef && (yield e), e.children.size > 0))
              for (let r of e.children) yield* this.traverse(r);
          }
          clone() {
            var e, r;
            let n = new Pi();
            for (let i of this.traverse())
              n.addTreeNode(
                i.scopeRef,
                null !==
                  (r =
                    null === (e = i.parent) || void 0 === e
                      ? void 0
                      : e.scopeRef) && void 0 !== r
                  ? r
                  : null,
                i.nodeToRestore,
              );
            return n;
          }
          constructor() {
            (this.fastMap = new Map()),
              (this.root = new Ps({ scopeRef: null })),
              this.fastMap.set(null, this.root);
          }
        }
        class Ps {
          addChild(e) {
            this.children.add(e), (e.parent = this);
          }
          removeChild(e) {
            this.children.delete(e), (e.parent = void 0);
          }
          constructor(e) {
            (this.children = new Set()),
              (this.contain = !1),
              (this.scopeRef = e.scopeRef);
          }
        }
        let Pa = new Pi(),
          Po = new Set([
            "Arab",
            "Syrc",
            "Samr",
            "Mand",
            "Thaa",
            "Mend",
            "Nkoo",
            "Adlm",
            "Rohg",
            "Hebr",
          ]),
          Pl = new Set([
            "ae",
            "ar",
            "arc",
            "bcc",
            "bqi",
            "ckb",
            "dv",
            "fa",
            "glk",
            "he",
            "ku",
            "mzn",
            "nqo",
            "pnb",
            "ps",
            "sd",
            "ug",
            "ur",
            "yi",
          ]);
        function Pu(e) {
          if (Intl.Locale) {
            let r = new Intl.Locale(e).maximize(),
              n =
                "function" == typeof r.getTextInfo
                  ? r.getTextInfo()
                  : r.textInfo;
            if (n) return "rtl" === n.direction;
            if (r.script) return Po.has(r.script);
          }
          let r = e.split("-")[0];
          return Pl.has(r);
        }
        let Pc = Symbol.for("react-aria.i18n.locale");
        function Pd() {
          let e =
            ("undefined" != typeof window && window[Pc]) ||
            ("undefined" != typeof navigator &&
              (navigator.language || navigator.userLanguage)) ||
            "en-US";
          try {
            Intl.DateTimeFormat.supportedLocalesOf([e]);
          } catch {
            e = "en-US";
          }
          return { locale: e, direction: Pu(e) ? "rtl" : "ltr" };
        }
        let Ph = Pd(),
          Pf = new Set();
        function Pp() {
          for (let e of ((Ph = Pd()), Pf)) e(Ph);
        }
        function Pg() {
          let e = (0, wB.wR)(),
            [r, n] = (0, T.useState)(Ph);
          return ((0, T.useEffect)(
            () => (
              0 === Pf.size && window.addEventListener("languagechange", Pp),
              Pf.add(n),
              () => {
                Pf.delete(n),
                  0 === Pf.size &&
                    window.removeEventListener("languagechange", Pp);
              }
            ),
            [],
          ),
          e)
            ? { locale: "en-US", direction: "ltr" }
            : r;
        }
        let Pm = T.createContext(null);
        function Py() {
          let e = Pg();
          return (0, T.useContext)(Pm) || e;
        }
        function Pv(e) {
          let r,
            {
              selectionManager: n,
              keyboardDelegate: i,
              ref: s,
              autoFocus: a = !1,
              shouldFocusWrap: o = !1,
              disallowEmptySelection: l = !1,
              disallowSelectAll: u = !1,
              selectOnFocus: c = "replace" === n.selectionBehavior,
              disallowTypeAhead: d = !1,
              shouldUseVirtualFocus: h,
              allowsTabNavigation: f = !1,
              isVirtualized: p,
              scrollRef: g = s,
              linkBehavior: m = "action",
            } = e,
            { direction: y } = Py(),
            v = RK(),
            b = (e) => {
              var r, a, d, h, p, b, w, T, S, E, C, x, A;
              if (
                (e.altKey && "Tab" === e.key && e.preventDefault(),
                !(null === (r = s.current) || void 0 === r
                  ? void 0
                  : r.contains(e.target)))
              )
                return;
              let I = (r, i) => {
                if (null != r) {
                  if (n.isLink(r) && "selection" === m && c && !Ru(e)) {
                    var s;
                    (0, Ax.flushSync)(() => {
                      n.setFocusedKey(r, i);
                    });
                    let a =
                        null === (s = g.current) || void 0 === s
                          ? void 0
                          : s.querySelector(
                              `[data-key="${CSS.escape(r.toString())}"]`,
                            ),
                      o = n.getItemProps(r);
                    a && v.open(a, e, o.href, o.routerOptions);
                    return;
                  }
                  n.setFocusedKey(r, i),
                    (n.isLink(r) && "override" === m) ||
                      (e.shiftKey && "multiple" === n.selectionMode
                        ? n.extendSelection(r)
                        : c && !Ru(e) && n.replaceSelection(r));
                }
              };
              switch (e.key) {
                case "ArrowDown":
                  if (i.getKeyBelow) {
                    let r =
                      null != n.focusedKey
                        ? null === (a = i.getKeyBelow) || void 0 === a
                          ? void 0
                          : a.call(i, n.focusedKey)
                        : null === (d = i.getFirstKey) || void 0 === d
                          ? void 0
                          : d.call(i);
                    null == r &&
                      o &&
                      (r =
                        null === (h = i.getFirstKey) || void 0 === h
                          ? void 0
                          : h.call(i, n.focusedKey)),
                      null != r && (e.preventDefault(), I(r));
                  }
                  break;
                case "ArrowUp":
                  if (i.getKeyAbove) {
                    let r =
                      null != n.focusedKey
                        ? null === (p = i.getKeyAbove) || void 0 === p
                          ? void 0
                          : p.call(i, n.focusedKey)
                        : null === (b = i.getLastKey) || void 0 === b
                          ? void 0
                          : b.call(i);
                    null == r &&
                      o &&
                      (r =
                        null === (w = i.getLastKey) || void 0 === w
                          ? void 0
                          : w.call(i, n.focusedKey)),
                      null != r && (e.preventDefault(), I(r));
                  }
                  break;
                case "ArrowLeft":
                  if (i.getKeyLeftOf) {
                    let r =
                      null != n.focusedKey
                        ? null === (T = i.getKeyLeftOf) || void 0 === T
                          ? void 0
                          : T.call(i, n.focusedKey)
                        : null;
                    null == r &&
                      o &&
                      (r =
                        "rtl" === y
                          ? null === (S = i.getFirstKey) || void 0 === S
                            ? void 0
                            : S.call(i, n.focusedKey)
                          : null === (E = i.getLastKey) || void 0 === E
                            ? void 0
                            : E.call(i, n.focusedKey)),
                      null != r &&
                        (e.preventDefault(),
                        I(r, "rtl" === y ? "first" : "last"));
                  }
                  break;
                case "ArrowRight":
                  if (i.getKeyRightOf) {
                    let r =
                      null != n.focusedKey
                        ? null === (C = i.getKeyRightOf) || void 0 === C
                          ? void 0
                          : C.call(i, n.focusedKey)
                        : null;
                    null == r &&
                      o &&
                      (r =
                        "rtl" === y
                          ? null === (x = i.getLastKey) || void 0 === x
                            ? void 0
                            : x.call(i, n.focusedKey)
                          : null === (A = i.getFirstKey) || void 0 === A
                            ? void 0
                            : A.call(i, n.focusedKey)),
                      null != r &&
                        (e.preventDefault(),
                        I(r, "rtl" === y ? "last" : "first"));
                  }
                  break;
                case "Home":
                  if (i.getFirstKey) {
                    if (null === n.focusedKey && e.shiftKey) return;
                    e.preventDefault();
                    let r = i.getFirstKey(n.focusedKey, RJ(e));
                    n.setFocusedKey(r),
                      null != r &&
                        (RJ(e) && e.shiftKey && "multiple" === n.selectionMode
                          ? n.extendSelection(r)
                          : c && n.replaceSelection(r));
                  }
                  break;
                case "End":
                  if (i.getLastKey) {
                    if (null === n.focusedKey && e.shiftKey) return;
                    e.preventDefault();
                    let r = i.getLastKey(n.focusedKey, RJ(e));
                    n.setFocusedKey(r),
                      null != r &&
                        (RJ(e) && e.shiftKey && "multiple" === n.selectionMode
                          ? n.extendSelection(r)
                          : c && n.replaceSelection(r));
                  }
                  break;
                case "PageDown":
                  if (i.getKeyPageBelow && null != n.focusedKey) {
                    let r = i.getKeyPageBelow(n.focusedKey);
                    null != r && (e.preventDefault(), I(r));
                  }
                  break;
                case "PageUp":
                  if (i.getKeyPageAbove && null != n.focusedKey) {
                    let r = i.getKeyPageAbove(n.focusedKey);
                    null != r && (e.preventDefault(), I(r));
                  }
                  break;
                case "a":
                  RJ(e) &&
                    "multiple" === n.selectionMode &&
                    !0 !== u &&
                    (e.preventDefault(), n.selectAll());
                  break;
                case "Escape":
                  l ||
                    0 === n.selectedKeys.size ||
                    (e.stopPropagation(),
                    e.preventDefault(),
                    n.clearSelection());
                  break;
                case "Tab":
                  if (!f) {
                    if (e.shiftKey) s.current.focus();
                    else {
                      let e,
                        r,
                        n = Pn(s.current, { tabbable: !0 });
                      do (r = n.lastChild()) && (e = r);
                      while (r);
                      e && !e.contains(document.activeElement) && Rm(e);
                    }
                  }
              }
            },
            w = (0, T.useRef)({ top: 0, left: 0 });
          DW(
            g,
            "scroll",
            p
              ? void 0
              : () => {
                  var e, r, n, i;
                  w.current = {
                    top:
                      null !==
                        (n =
                          null === (e = g.current) || void 0 === e
                            ? void 0
                            : e.scrollTop) && void 0 !== n
                        ? n
                        : 0,
                    left:
                      null !==
                        (i =
                          null === (r = g.current) || void 0 === r
                            ? void 0
                            : r.scrollLeft) && void 0 !== i
                        ? i
                        : 0,
                  };
                },
          );
          let S = (e) => {
              if (n.isFocused) {
                e.currentTarget.contains(e.target) || n.setFocused(!1);
                return;
              }
              if (e.currentTarget.contains(e.target)) {
                if ((n.setFocused(!0), null == n.focusedKey)) {
                  var r, a, o, l;
                  let s = (e) => {
                      null != e &&
                        (n.setFocusedKey(e), c && n.replaceSelection(e));
                    },
                    u = e.relatedTarget;
                  u &&
                  e.currentTarget.compareDocumentPosition(u) &
                    Node.DOCUMENT_POSITION_FOLLOWING
                    ? s(
                        null !== (o = n.lastSelectedKey) && void 0 !== o
                          ? o
                          : null === (r = i.getLastKey) || void 0 === r
                            ? void 0
                            : r.call(i),
                      )
                    : s(
                        null !== (l = n.firstSelectedKey) && void 0 !== l
                          ? l
                          : null === (a = i.getFirstKey) || void 0 === a
                            ? void 0
                            : a.call(i),
                      );
                } else
                  !p &&
                    g.current &&
                    ((g.current.scrollTop = w.current.top),
                    (g.current.scrollLeft = w.current.left));
                if (null != n.focusedKey && g.current) {
                  let e = g.current.querySelector(
                    `[data-key="${CSS.escape(n.focusedKey.toString())}"]`,
                  );
                  e &&
                    (e.contains(document.activeElement) || Rm(e),
                    "keyboard" === RU() &&
                      DJ(e, { containingElement: s.current }));
                }
              }
            },
            E = (e) => {
              e.currentTarget.contains(e.relatedTarget) || n.setFocused(!1);
            },
            C = (0, T.useRef)(!1);
          DW(
            s,
            R0,
            h
              ? (e) => {
                  let { detail: r } = e;
                  e.stopPropagation(),
                    n.setFocused(!0),
                    (null == r ? void 0 : r.focusStrategy) === "first" &&
                      (C.current = !0);
                }
              : void 0,
          );
          let x = Dr(() => {
            var e, r, a;
            let o =
              null !==
                (r =
                  null === (e = i.getFirstKey) || void 0 === e
                    ? void 0
                    : e.call(i)) && void 0 !== r
                ? r
                : null;
            null == o
              ? (null === (a = s.current) ||
                  void 0 === a ||
                  a.dispatchEvent(
                    new CustomEvent(R1, { cancelable: !0, bubbles: !0 }),
                  ),
                n.collection.size > 0 && (C.current = !1))
              : (n.setFocusedKey(o), (C.current = !1));
          });
          DZ(() => {
            C.current && x();
          }, [n.collection, x]);
          let A = Dr(() => {
            n.collection.size > 0 && (C.current = !1);
          });
          DZ(() => {
            A();
          }, [n.focusedKey, A]),
            DW(
              s,
              RZ,
              h
                ? (e) => {
                    e.stopPropagation(),
                      n.setFocused(!1),
                      n.setFocusedKey(null);
                  }
                : void 0,
            );
          let I = (0, T.useRef)(a);
          (0, T.useEffect)(() => {
            if (I.current) {
              var e, r, o, l;
              let u = null;
              "first" === a &&
                (u =
                  null !==
                    (o =
                      null === (e = i.getFirstKey) || void 0 === e
                        ? void 0
                        : e.call(i)) && void 0 !== o
                    ? o
                    : null),
                "last" === a &&
                  (u =
                    null !==
                      (l =
                        null === (r = i.getLastKey) || void 0 === r
                          ? void 0
                          : r.call(i)) && void 0 !== l
                      ? l
                      : null);
              let c = n.selectedKeys;
              if (c.size) {
                for (let e of c)
                  if (n.canSelectItem(e)) {
                    u = e;
                    break;
                  }
              }
              n.setFocused(!0),
                n.setFocusedKey(u),
                null == u && !h && s.current && Rz(s.current);
            }
          }, []);
          let k = (0, T.useRef)(n.focusedKey);
          (0, T.useEffect)(() => {
            if (
              n.isFocused &&
              null != n.focusedKey &&
              (n.focusedKey !== k.current || I.current) &&
              g.current &&
              s.current
            ) {
              let e = RU(),
                r = s.current.querySelector(
                  `[data-key="${CSS.escape(n.focusedKey.toString())}"]`,
                );
              if (!r) return;
              ("keyboard" === e || I.current) &&
                (DY(g.current, r),
                "virtual" !== e && DJ(r, { containingElement: s.current }));
            }
            !h &&
              n.isFocused &&
              null == n.focusedKey &&
              null != k.current &&
              s.current &&
              Rz(s.current),
              (k.current = n.focusedKey),
              (I.current = !1);
          }),
            DW(s, "react-aria-focus-scope-restore", (e) => {
              e.preventDefault(), n.setFocused(!0);
            });
          let _ = {
              onKeyDown: b,
              onFocus: S,
              onBlur: E,
              onMouseDown(e) {
                g.current === e.target && e.preventDefault();
              },
            },
            { typeSelectProps: R } = DH({
              keyboardDelegate: i,
              selectionManager: n,
            });
          return (
            d || (_ = R3(R, _)),
            (r = h ? -1 : null == n.focusedKey ? 0 : -1),
            { collectionProps: { ..._, tabIndex: r } }
          );
        }
        class Pb {
          getItemRect(e) {
            let r = this.ref.current;
            if (!r) return null;
            let n =
              null != e
                ? r.querySelector(`[data-key="${CSS.escape(e.toString())}"]`)
                : null;
            if (!n) return null;
            let i = r.getBoundingClientRect(),
              s = n.getBoundingClientRect();
            return {
              x: s.left - i.left + r.scrollLeft,
              y: s.top - i.top + r.scrollTop,
              width: s.width,
              height: s.height,
            };
          }
          getContentSize() {
            var e, r;
            let n = this.ref.current;
            return {
              width:
                null !== (e = null == n ? void 0 : n.scrollWidth) &&
                void 0 !== e
                  ? e
                  : 0,
              height:
                null !== (r = null == n ? void 0 : n.scrollHeight) &&
                void 0 !== r
                  ? r
                  : 0,
            };
          }
          getVisibleRect() {
            var e, r, n, i;
            let s = this.ref.current;
            return {
              x:
                null !== (e = null == s ? void 0 : s.scrollLeft) && void 0 !== e
                  ? e
                  : 0,
              y:
                null !== (r = null == s ? void 0 : s.scrollTop) && void 0 !== r
                  ? r
                  : 0,
              width:
                null !== (n = null == s ? void 0 : s.offsetWidth) &&
                void 0 !== n
                  ? n
                  : 0,
              height:
                null !== (i = null == s ? void 0 : s.offsetHeight) &&
                void 0 !== i
                  ? i
                  : 0,
            };
          }
          constructor(e) {
            this.ref = e;
          }
        }
        class Pw {
          isDisabled(e) {
            var r;
            return (
              "all" === this.disabledBehavior &&
              ((null === (r = e.props) || void 0 === r
                ? void 0
                : r.isDisabled) ||
                this.disabledKeys.has(e.key))
            );
          }
          findNextNonDisabled(e, r) {
            let n = e;
            for (; null != n; ) {
              let e = this.collection.getItem(n);
              if (
                (null == e ? void 0 : e.type) === "item" &&
                !this.isDisabled(e)
              )
                return n;
              n = r(n);
            }
            return null;
          }
          getNextKey(e) {
            let r = e;
            return (
              (r = this.collection.getKeyAfter(r)),
              this.findNextNonDisabled(r, (e) => this.collection.getKeyAfter(e))
            );
          }
          getPreviousKey(e) {
            let r = e;
            return (
              (r = this.collection.getKeyBefore(r)),
              this.findNextNonDisabled(r, (e) =>
                this.collection.getKeyBefore(e),
              )
            );
          }
          findKey(e, r, n) {
            let i = e,
              s = this.layoutDelegate.getItemRect(i);
            if (!s || null == i) return null;
            let a = s;
            do {
              if (null == (i = r(i))) break;
              s = this.layoutDelegate.getItemRect(i);
            } while (s && n(a, s) && null != i);
            return i;
          }
          isSameRow(e, r) {
            return e.y === r.y || e.x !== r.x;
          }
          isSameColumn(e, r) {
            return e.x === r.x || e.y !== r.y;
          }
          getKeyBelow(e) {
            return "grid" === this.layout && "vertical" === this.orientation
              ? this.findKey(e, (e) => this.getNextKey(e), this.isSameRow)
              : this.getNextKey(e);
          }
          getKeyAbove(e) {
            return "grid" === this.layout && "vertical" === this.orientation
              ? this.findKey(e, (e) => this.getPreviousKey(e), this.isSameRow)
              : this.getPreviousKey(e);
          }
          getNextColumn(e, r) {
            return r ? this.getPreviousKey(e) : this.getNextKey(e);
          }
          getKeyRightOf(e) {
            let r = "ltr" === this.direction ? "getKeyRightOf" : "getKeyLeftOf";
            return this.layoutDelegate[r]
              ? ((e = this.layoutDelegate[r](e)),
                this.findNextNonDisabled(e, (e) => this.layoutDelegate[r](e)))
              : "grid" === this.layout
                ? "vertical" === this.orientation
                  ? this.getNextColumn(e, "rtl" === this.direction)
                  : this.findKey(
                      e,
                      (e) => this.getNextColumn(e, "rtl" === this.direction),
                      this.isSameColumn,
                    )
                : "horizontal" === this.orientation
                  ? this.getNextColumn(e, "rtl" === this.direction)
                  : null;
          }
          getKeyLeftOf(e) {
            let r = "ltr" === this.direction ? "getKeyLeftOf" : "getKeyRightOf";
            return this.layoutDelegate[r]
              ? ((e = this.layoutDelegate[r](e)),
                this.findNextNonDisabled(e, (e) => this.layoutDelegate[r](e)))
              : "grid" === this.layout
                ? "vertical" === this.orientation
                  ? this.getNextColumn(e, "ltr" === this.direction)
                  : this.findKey(
                      e,
                      (e) => this.getNextColumn(e, "ltr" === this.direction),
                      this.isSameColumn,
                    )
                : "horizontal" === this.orientation
                  ? this.getNextColumn(e, "ltr" === this.direction)
                  : null;
          }
          getFirstKey() {
            let e = this.collection.getFirstKey();
            return this.findNextNonDisabled(e, (e) =>
              this.collection.getKeyAfter(e),
            );
          }
          getLastKey() {
            let e = this.collection.getLastKey();
            return this.findNextNonDisabled(e, (e) =>
              this.collection.getKeyBefore(e),
            );
          }
          getKeyPageAbove(e) {
            let r = this.ref.current,
              n = this.layoutDelegate.getItemRect(e);
            if (!n) return null;
            if (r && !DG(r)) return this.getFirstKey();
            let i = e;
            if ("horizontal" === this.orientation) {
              let e = Math.max(
                0,
                n.x + n.width - this.layoutDelegate.getVisibleRect().width,
              );
              for (; n && n.x > e && null != i; )
                n =
                  null == (i = this.getKeyAbove(i))
                    ? null
                    : this.layoutDelegate.getItemRect(i);
            } else {
              let e = Math.max(
                0,
                n.y + n.height - this.layoutDelegate.getVisibleRect().height,
              );
              for (; n && n.y > e && null != i; )
                n =
                  null == (i = this.getKeyAbove(i))
                    ? null
                    : this.layoutDelegate.getItemRect(i);
            }
            return null != i ? i : this.getFirstKey();
          }
          getKeyPageBelow(e) {
            let r = this.ref.current,
              n = this.layoutDelegate.getItemRect(e);
            if (!n) return null;
            if (r && !DG(r)) return this.getLastKey();
            let i = e;
            if ("horizontal" === this.orientation) {
              let e = Math.min(
                this.layoutDelegate.getContentSize().width,
                n.y - n.width + this.layoutDelegate.getVisibleRect().width,
              );
              for (; n && n.x < e && null != i; )
                n =
                  null == (i = this.getKeyBelow(i))
                    ? null
                    : this.layoutDelegate.getItemRect(i);
            } else {
              let e = Math.min(
                this.layoutDelegate.getContentSize().height,
                n.y - n.height + this.layoutDelegate.getVisibleRect().height,
              );
              for (; n && n.y < e && null != i; )
                n =
                  null == (i = this.getKeyBelow(i))
                    ? null
                    : this.layoutDelegate.getItemRect(i);
            }
            return null != i ? i : this.getLastKey();
          }
          getKeyForSearch(e, r) {
            if (!this.collator) return null;
            let n = this.collection,
              i = r || this.getFirstKey();
            for (; null != i; ) {
              let r = n.getItem(i);
              if (!r) break;
              let s = r.textValue.slice(0, e.length);
              if (r.textValue && 0 === this.collator.compare(s, e)) return i;
              i = this.getNextKey(i);
            }
            return null;
          }
          constructor(...e) {
            if (1 === e.length) {
              let r = e[0];
              (this.collection = r.collection),
                (this.ref = r.ref),
                (this.collator = r.collator),
                (this.disabledKeys = r.disabledKeys || new Set()),
                (this.disabledBehavior = r.disabledBehavior || "all"),
                (this.orientation = r.orientation || "vertical"),
                (this.direction = r.direction),
                (this.layout = r.layout || "stack"),
                (this.layoutDelegate = r.layoutDelegate || new Pb(r.ref));
            } else
              (this.collection = e[0]),
                (this.disabledKeys = e[1]),
                (this.ref = e[2]),
                (this.collator = e[3]),
                (this.layout = "stack"),
                (this.orientation = "vertical"),
                (this.disabledBehavior = "all"),
                (this.layoutDelegate = new Pb(this.ref));
            "stack" === this.layout &&
              "vertical" === this.orientation &&
              ((this.getKeyLeftOf = void 0), (this.getKeyRightOf = void 0));
          }
        }
        let PT = new Map();
        function PS(e) {
          let { locale: r } = Py(),
            n =
              r +
              (e
                ? Object.entries(e)
                    .sort((e, r) => (e[0] < r[0] ? -1 : 1))
                    .join()
                : "");
          if (PT.has(n)) return PT.get(n);
          let i = new Intl.Collator(r, e);
          return PT.set(n, i), i;
        }
        function PE(e) {
          let {
              selectionManager: r,
              collection: n,
              disabledKeys: i,
              ref: s,
              keyboardDelegate: a,
              layoutDelegate: o,
            } = e,
            l = PS({ usage: "search", sensitivity: "base" }),
            u = r.disabledBehavior,
            c = (0, T.useMemo)(
              () =>
                a ||
                new Pw({
                  collection: n,
                  disabledKeys: i,
                  disabledBehavior: u,
                  ref: s,
                  collator: l,
                  layoutDelegate: o,
                }),
              [a, o, n, i, s, l, u],
            ),
            { collectionProps: d } = Pv({
              ...e,
              ref: s,
              selectionManager: r,
              keyboardDelegate: c,
            });
          return { listProps: d };
        }
        function PC(e, r, n) {
          let { shouldFocusWrap: i = !0, onKeyDown: s, onKeyUp: a, ...o } = e;
          e["aria-label"] ||
            e["aria-labelledby"] ||
            console.warn(
              "An aria-label or aria-labelledby prop is required for accessibility.",
            );
          let l = _k(e, { labelable: !0 }),
            { listProps: u } = PE({
              ...o,
              ref: n,
              selectionManager: r.selectionManager,
              collection: r.collection,
              disabledKeys: r.disabledKeys,
              shouldFocusWrap: i,
              linkBehavior: "override",
            });
          return (
            _E.set(r, {
              onClose: e.onClose,
              onAction: e.onAction,
              shouldUseVirtualFocus: e.shouldUseVirtualFocus,
            }),
            {
              menuProps: TR(
                l,
                { onKeyDown: s, onKeyUp: a },
                {
                  role: "menu",
                  ...u,
                  onKeyDown: (r) => {
                    var n;
                    ("Escape" !== r.key || e.shouldUseVirtualFocus) &&
                      (null === (n = u.onKeyDown) ||
                        void 0 === n ||
                        n.call(u, r));
                  },
                },
              ),
            }
          );
        }
        class Px {
          *[Symbol.iterator]() {
            yield* this.iterable;
          }
          get size() {
            return this.keyMap.size;
          }
          getKeys() {
            return this.keyMap.keys();
          }
          getKeyBefore(e) {
            var r;
            let n = this.keyMap.get(e);
            return n && null !== (r = n.prevKey) && void 0 !== r ? r : null;
          }
          getKeyAfter(e) {
            var r;
            let n = this.keyMap.get(e);
            return n && null !== (r = n.nextKey) && void 0 !== r ? r : null;
          }
          getFirstKey() {
            return this.firstKey;
          }
          getLastKey() {
            return this.lastKey;
          }
          getItem(e) {
            var r;
            return null !== (r = this.keyMap.get(e)) && void 0 !== r ? r : null;
          }
          at(e) {
            let r = [...this.getKeys()];
            return this.getItem(r[e]);
          }
          constructor(e, { expandedKeys: r } = {}) {
            var n;
            (this.keyMap = new Map()),
              (this.firstKey = null),
              (this.lastKey = null),
              (this.iterable = e),
              (r = r || new Set());
            let i = (e) => {
              if (
                (this.keyMap.set(e.key, e),
                e.childNodes && ("section" === e.type || r.has(e.key)))
              )
                for (let r of e.childNodes) i(r);
            };
            for (let r of e) i(r);
            let s = null,
              a = 0;
            for (let [e, r] of this.keyMap)
              s
                ? ((s.nextKey = e), (r.prevKey = s.key))
                : ((this.firstKey = e), (r.prevKey = void 0)),
                "item" === r.type && (r.index = a++),
                ((s = r).nextKey = void 0);
            this.lastKey =
              null !== (n = null == s ? void 0 : s.key) && void 0 !== n
                ? n
                : null;
          }
        }
        class PA extends Set {
          constructor(e, r, n) {
            super(e),
              e instanceof PA
                ? ((this.anchorKey = null != r ? r : e.anchorKey),
                  (this.currentKey = null != n ? n : e.currentKey))
                : ((this.anchorKey = null != r ? r : null),
                  (this.currentKey = null != n ? n : null));
          }
        }
        function PI(e, r) {
          if (e.size !== r.size) return !1;
          for (let n of e) if (!r.has(n)) return !1;
          return !0;
        }
        function Pk(e) {
          let {
              selectionMode: r = "none",
              disallowEmptySelection: n = !1,
              allowDuplicateSelectionEvents: i,
              selectionBehavior: s = "toggle",
              disabledBehavior: a = "all",
            } = e,
            o = (0, T.useRef)(!1),
            [, l] = (0, T.useState)(!1),
            u = (0, T.useRef)(null),
            c = (0, T.useRef)(null),
            [, d] = (0, T.useState)(null),
            h = (0, T.useMemo)(() => P_(e.selectedKeys), [e.selectedKeys]),
            f = (0, T.useMemo)(
              () => P_(e.defaultSelectedKeys, new PA()),
              [e.defaultSelectedKeys],
            ),
            [p, g] = (0, b6.P)(h, f, e.onSelectionChange),
            m = (0, T.useMemo)(
              () => (e.disabledKeys ? new Set(e.disabledKeys) : new Set()),
              [e.disabledKeys],
            ),
            [y, v] = (0, T.useState)(s);
          "replace" === s &&
            "toggle" === y &&
            "object" == typeof p &&
            0 === p.size &&
            v("replace");
          let b = (0, T.useRef)(s);
          return (
            (0, T.useEffect)(() => {
              s !== b.current && (v(s), (b.current = s));
            }, [s]),
            {
              selectionMode: r,
              disallowEmptySelection: n,
              selectionBehavior: y,
              setSelectionBehavior: v,
              get isFocused() {
                return o.current;
              },
              setFocused(e) {
                (o.current = e), l(e);
              },
              get focusedKey() {
                return u.current;
              },
              get childFocusStrategy() {
                return c.current;
              },
              setFocusedKey(e, r = "first") {
                (u.current = e), (c.current = r), d(e);
              },
              selectedKeys: p,
              setSelectedKeys(e) {
                (i || !PI(e, p)) && g(e);
              },
              disabledKeys: m,
              disabledBehavior: a,
            }
          );
        }
        function P_(e, r) {
          return e ? ("all" === e ? "all" : new PA(e)) : r;
        }
        function PR(e, r) {
          return "function" == typeof r.getChildren
            ? r.getChildren(e.key)
            : e.childNodes;
        }
        function PD(e) {
          return PP(e, 0);
        }
        function PP(e, r) {
          if (r < 0) return;
          let n = 0;
          for (let i of e) {
            if (n === r) return i;
            n++;
          }
        }
        function PN(e, r, n) {
          if (r.parentKey === n.parentKey) return r.index - n.index;
          let i = [...PO(e, r), r],
            s = [...PO(e, n), n],
            a = i.slice(0, s.length).findIndex((e, r) => e !== s[r]);
          return -1 !== a
            ? ((r = i[a]), (n = s[a]), r.index - n.index)
            : i.findIndex((e) => e === n) >= 0
              ? 1
              : (s.findIndex((e) => e === r), -1);
        }
        function PO(e, r) {
          let n = [],
            i = r;
          for (; (null == i ? void 0 : i.parentKey) != null; )
            (i = e.getItem(i.parentKey)) && n.unshift(i);
          return n;
        }
        class PM {
          get selectionMode() {
            return this.state.selectionMode;
          }
          get disallowEmptySelection() {
            return this.state.disallowEmptySelection;
          }
          get selectionBehavior() {
            return this.state.selectionBehavior;
          }
          setSelectionBehavior(e) {
            this.state.setSelectionBehavior(e);
          }
          get isFocused() {
            return this.state.isFocused;
          }
          setFocused(e) {
            this.state.setFocused(e);
          }
          get focusedKey() {
            return this.state.focusedKey;
          }
          get childFocusStrategy() {
            return this.state.childFocusStrategy;
          }
          setFocusedKey(e, r) {
            (null == e || this.collection.getItem(e)) &&
              this.state.setFocusedKey(e, r);
          }
          get selectedKeys() {
            return "all" === this.state.selectedKeys
              ? new Set(this.getSelectAllKeys())
              : this.state.selectedKeys;
          }
          get rawSelection() {
            return this.state.selectedKeys;
          }
          isSelected(e) {
            if ("none" === this.state.selectionMode) return !1;
            let r = this.getKey(e);
            return (
              null != r &&
              ("all" === this.state.selectedKeys
                ? this.canSelectItem(r)
                : this.state.selectedKeys.has(r))
            );
          }
          get isEmpty() {
            return (
              "all" !== this.state.selectedKeys &&
              0 === this.state.selectedKeys.size
            );
          }
          get isSelectAll() {
            if (this.isEmpty) return !1;
            if ("all" === this.state.selectedKeys) return !0;
            if (null != this._isSelectAll) return this._isSelectAll;
            let e = this.getSelectAllKeys(),
              r = this.state.selectedKeys;
            return (
              (this._isSelectAll = e.every((e) => r.has(e))), this._isSelectAll
            );
          }
          get firstSelectedKey() {
            var e;
            let r = null;
            for (let e of this.state.selectedKeys) {
              let n = this.collection.getItem(e);
              (!r || (n && 0 > PN(this.collection, n, r))) && (r = n);
            }
            return null !== (e = null == r ? void 0 : r.key) && void 0 !== e
              ? e
              : null;
          }
          get lastSelectedKey() {
            var e;
            let r = null;
            for (let e of this.state.selectedKeys) {
              let n = this.collection.getItem(e);
              (!r || (n && PN(this.collection, n, r) > 0)) && (r = n);
            }
            return null !== (e = null == r ? void 0 : r.key) && void 0 !== e
              ? e
              : null;
          }
          get disabledKeys() {
            return this.state.disabledKeys;
          }
          get disabledBehavior() {
            return this.state.disabledBehavior;
          }
          extendSelection(e) {
            let r;
            if ("none" === this.selectionMode) return;
            if ("single" === this.selectionMode) {
              this.replaceSelection(e);
              return;
            }
            let n = this.getKey(e);
            if (null != n) {
              if ("all" === this.state.selectedKeys) r = new PA([n], n, n);
              else {
                var i, s;
                let e = this.state.selectedKeys,
                  a = null !== (i = e.anchorKey) && void 0 !== i ? i : n;
                for (let i of ((r = new PA(e, a, n)),
                this.getKeyRange(
                  a,
                  null !== (s = e.currentKey) && void 0 !== s ? s : n,
                )))
                  r.delete(i);
                for (let e of this.getKeyRange(n, a))
                  this.canSelectItem(e) && r.add(e);
              }
              this.state.setSelectedKeys(r);
            }
          }
          getKeyRange(e, r) {
            let n = this.collection.getItem(e),
              i = this.collection.getItem(r);
            return n && i
              ? 0 >= PN(this.collection, n, i)
                ? this.getKeyRangeInternal(e, r)
                : this.getKeyRangeInternal(r, e)
              : [];
          }
          getKeyRangeInternal(e, r) {
            var n;
            if (
              null === (n = this.layoutDelegate) || void 0 === n
                ? void 0
                : n.getKeyRange
            )
              return this.layoutDelegate.getKeyRange(e, r);
            let i = [],
              s = e;
            for (; null != s; ) {
              let e = this.collection.getItem(s);
              if (
                (e &&
                  ("item" === e.type ||
                    ("cell" === e.type && this.allowsCellSelection)) &&
                  i.push(s),
                s === r)
              )
                return i;
              s = this.collection.getKeyAfter(s);
            }
            return [];
          }
          getKey(e) {
            let r = this.collection.getItem(e);
            if (!r || ("cell" === r.type && this.allowsCellSelection)) return e;
            for (; r && "item" !== r.type && null != r.parentKey; )
              r = this.collection.getItem(r.parentKey);
            return r && "item" === r.type ? r.key : null;
          }
          toggleSelection(e) {
            if ("none" === this.selectionMode) return;
            if ("single" === this.selectionMode && !this.isSelected(e)) {
              this.replaceSelection(e);
              return;
            }
            let r = this.getKey(e);
            if (null == r) return;
            let n = new PA(
              "all" === this.state.selectedKeys
                ? this.getSelectAllKeys()
                : this.state.selectedKeys,
            );
            n.has(r)
              ? n.delete(r)
              : this.canSelectItem(r) &&
                (n.add(r), (n.anchorKey = r), (n.currentKey = r)),
              (this.disallowEmptySelection && 0 === n.size) ||
                this.state.setSelectedKeys(n);
          }
          replaceSelection(e) {
            if ("none" === this.selectionMode) return;
            let r = this.getKey(e);
            if (null == r) return;
            let n = this.canSelectItem(r) ? new PA([r], r, r) : new PA();
            this.state.setSelectedKeys(n);
          }
          setSelectedKeys(e) {
            if ("none" === this.selectionMode) return;
            let r = new PA();
            for (let n of e) {
              let e = this.getKey(n);
              if (null != e && (r.add(e), "single" === this.selectionMode))
                break;
            }
            this.state.setSelectedKeys(r);
          }
          getSelectAllKeys() {
            let e = [],
              r = (n) => {
                for (; null != n; ) {
                  if (this.canSelectItem(n)) {
                    var i, s;
                    let a = this.collection.getItem(n);
                    (null == a ? void 0 : a.type) === "item" && e.push(n),
                      (null == a ? void 0 : a.hasChildNodes) &&
                        (this.allowsCellSelection || "item" !== a.type) &&
                        r(
                          null !==
                            (s =
                              null === (i = PD(PR(a, this.collection))) ||
                              void 0 === i
                                ? void 0
                                : i.key) && void 0 !== s
                            ? s
                            : null,
                        );
                  }
                  n = this.collection.getKeyAfter(n);
                }
              };
            return r(this.collection.getFirstKey()), e;
          }
          selectAll() {
            this.isSelectAll ||
              "multiple" !== this.selectionMode ||
              this.state.setSelectedKeys("all");
          }
          clearSelection() {
            !this.disallowEmptySelection &&
              ("all" === this.state.selectedKeys ||
                this.state.selectedKeys.size > 0) &&
              this.state.setSelectedKeys(new PA());
          }
          toggleSelectAll() {
            this.isSelectAll ? this.clearSelection() : this.selectAll();
          }
          select(e, r) {
            "none" !== this.selectionMode &&
              ("single" === this.selectionMode
                ? this.isSelected(e) && !this.disallowEmptySelection
                  ? this.toggleSelection(e)
                  : this.replaceSelection(e)
                : "toggle" === this.selectionBehavior ||
                    (r &&
                      ("touch" === r.pointerType ||
                        "virtual" === r.pointerType))
                  ? this.toggleSelection(e)
                  : this.replaceSelection(e));
          }
          isSelectionEqual(e) {
            if (e === this.state.selectedKeys) return !0;
            let r = this.selectedKeys;
            if (e.size !== r.size) return !1;
            for (let n of e) if (!r.has(n)) return !1;
            for (let n of r) if (!e.has(n)) return !1;
            return !0;
          }
          canSelectItem(e) {
            var r;
            if (
              "none" === this.state.selectionMode ||
              this.state.disabledKeys.has(e)
            )
              return !1;
            let n = this.collection.getItem(e);
            return (
              !!n &&
              (null == n ||
                null === (r = n.props) ||
                void 0 === r ||
                !r.isDisabled) &&
              ("cell" !== n.type || !!this.allowsCellSelection)
            );
          }
          isDisabled(e) {
            var r, n;
            return (
              "all" === this.state.disabledBehavior &&
              (this.state.disabledKeys.has(e) ||
                !!(null === (n = this.collection.getItem(e)) || void 0 === n
                  ? void 0
                  : null === (r = n.props) || void 0 === r
                    ? void 0
                    : r.isDisabled))
            );
          }
          isLink(e) {
            var r, n;
            return !!(null === (n = this.collection.getItem(e)) || void 0 === n
              ? void 0
              : null === (r = n.props) || void 0 === r
                ? void 0
                : r.href);
          }
          getItemProps(e) {
            var r;
            return null === (r = this.collection.getItem(e)) || void 0 === r
              ? void 0
              : r.props;
          }
          constructor(e, r, n) {
            var i;
            (this.collection = e),
              (this.state = r),
              (this.allowsCellSelection =
                null !== (i = null == n ? void 0 : n.allowsCellSelection) &&
                void 0 !== i &&
                i),
              (this._isSelectAll = null),
              (this.layoutDelegate =
                (null == n ? void 0 : n.layoutDelegate) || null);
          }
        }
        class PL {
          build(e, r) {
            return (this.context = r), PB(() => this.iterateCollection(e));
          }
          *iterateCollection(e) {
            let { children: r, items: n } = e;
            if (T.isValidElement(r) && r.type === T.Fragment)
              yield* this.iterateCollection({
                children: r.props.children,
                items: n,
              });
            else if ("function" == typeof r) {
              if (!n)
                throw Error(
                  "props.children was a function but props.items is missing",
                );
              let e = 0;
              for (let i of n)
                yield* this.getFullNode(
                  { value: i, index: e },
                  { renderer: r },
                ),
                  e++;
            } else {
              let e = [];
              T.Children.forEach(r, (r) => {
                r && e.push(r);
              });
              let n = 0;
              for (let r of e)
                for (let e of this.getFullNode({ element: r, index: n }, {}))
                  n++, yield e;
            }
          }
          getKey(e, r, n, i) {
            if (null != e.key) return e.key;
            if ("cell" === r.type && null != r.key) return `${i}${r.key}`;
            let s = r.value;
            if (null != s) {
              var a;
              let e = null !== (a = s.key) && void 0 !== a ? a : s.id;
              if (null == e) throw Error("No key found for item");
              return e;
            }
            return i ? `${i}.${r.index}` : `$.${r.index}`;
          }
          getChildState(e, r) {
            return { renderer: r.renderer || e.renderer };
          }
          *getFullNode(e, r, n, i) {
            var s, a, o, l, u, c, d, h;
            if (T.isValidElement(e.element) && e.element.type === T.Fragment) {
              let a = [];
              T.Children.forEach(e.element.props.children, (e) => {
                a.push(e);
              });
              let o = null !== (s = e.index) && void 0 !== s ? s : 0;
              for (let e of a)
                yield* this.getFullNode({ element: e, index: o++ }, r, n, i);
              return;
            }
            let f = e.element;
            if (!f && e.value && r && r.renderer) {
              let n = this.cache.get(e.value);
              if (
                n &&
                (!n.shouldInvalidate || !n.shouldInvalidate(this.context))
              ) {
                (n.index = e.index), (n.parentKey = i ? i.key : null), yield n;
                return;
              }
              f = r.renderer(e.value);
            }
            if (T.isValidElement(f)) {
              let s = f.type;
              if (
                "function" != typeof s &&
                "function" != typeof s.getCollectionNode
              ) {
                let e = f.type;
                throw Error(`Unknown element <${e}> in collection.`);
              }
              let d = s.getCollectionNode(f.props, this.context),
                h = null !== (a = e.index) && void 0 !== a ? a : 0,
                p = d.next();
              for (; !p.done && p.value; ) {
                let s = p.value;
                e.index = h;
                let a = null !== (o = s.key) && void 0 !== o ? o : null;
                null == a && (a = s.element ? null : this.getKey(f, e, r, n));
                let g = [
                  ...this.getFullNode(
                    {
                      ...s,
                      key: a,
                      index: h,
                      wrapper: PF(e.wrapper, s.wrapper),
                    },
                    this.getChildState(r, s),
                    n ? `${n}${f.key}` : f.key,
                    i,
                  ),
                ];
                for (let r of g) {
                  if (
                    ((r.value =
                      null !==
                        (u =
                          null !== (l = s.value) && void 0 !== l
                            ? l
                            : e.value) && void 0 !== u
                        ? u
                        : null),
                    r.value && this.cache.set(r.value, r),
                    e.type && r.type !== e.type)
                  )
                    throw Error(
                      `Unsupported type <${PU(r.type)}> in <${PU(null !== (c = null == i ? void 0 : i.type) && void 0 !== c ? c : "unknown parent type")}>. Only <${PU(e.type)}> is supported.`,
                    );
                  h++, yield r;
                }
                p = d.next(g);
              }
              return;
            }
            if (null == e.key || null == e.type) return;
            let p = this,
              g = {
                type: e.type,
                props: e.props,
                key: e.key,
                parentKey: i ? i.key : null,
                value: null !== (d = e.value) && void 0 !== d ? d : null,
                level: i ? i.level + 1 : 0,
                index: e.index,
                rendered: e.rendered,
                textValue: null !== (h = e.textValue) && void 0 !== h ? h : "",
                "aria-label": e["aria-label"],
                wrapper: e.wrapper,
                shouldInvalidate: e.shouldInvalidate,
                hasChildNodes: e.hasChildNodes || !1,
                childNodes: PB(function* () {
                  if (!e.hasChildNodes || !e.childNodes) return;
                  let n = 0;
                  for (let i of e.childNodes())
                    for (let e of (null != i.key &&
                      (i.key = `${g.key}${i.key}`),
                    p.getFullNode(
                      { ...i, index: n },
                      p.getChildState(r, i),
                      g.key,
                      g,
                    )))
                      n++, yield e;
                }),
              };
            yield g;
          }
          constructor() {
            this.cache = new WeakMap();
          }
        }
        function PB(e) {
          let r = [],
            n = null;
          return {
            *[Symbol.iterator]() {
              for (let e of r) yield e;
              for (let i of (n || (n = e()), n)) r.push(i), yield i;
            },
          };
        }
        function PF(e, r) {
          return e && r ? (n) => e(r(n)) : e || r || void 0;
        }
        function PU(e) {
          return e[0].toUpperCase() + e.slice(1);
        }
        function Pj(e, r, n) {
          let i = (0, T.useMemo)(() => new PL(), []),
            { children: s, items: a, collection: o } = e;
          return (0, T.useMemo)(
            () => o || r(i.build({ children: s, items: a }, n)),
            [i, s, a, o, n, r],
          );
        }
        function Pz(e) {
          let { onExpandedChange: r } = e,
            [n, i] = (0, b6.P)(
              e.expandedKeys ? new Set(e.expandedKeys) : void 0,
              e.defaultExpandedKeys
                ? new Set(e.defaultExpandedKeys)
                : new Set(),
              r,
            ),
            s = Pk(e),
            a = (0, T.useMemo)(
              () => (e.disabledKeys ? new Set(e.disabledKeys) : new Set()),
              [e.disabledKeys],
            ),
            o = Pj(
              e,
              (0, T.useCallback)((e) => new Px(e, { expandedKeys: n }), [n]),
              null,
            );
          (0, T.useEffect)(() => {
            null == s.focusedKey ||
              o.getItem(s.focusedKey) ||
              s.setFocusedKey(null);
          }, [o, s.focusedKey]);
          let l = (e) => {
            i(PV(n, e));
          };
          return {
            collection: o,
            expandedKeys: n,
            disabledKeys: a,
            toggleKey: l,
            setExpandedKeys: i,
            selectionManager: new PM(o, s),
          };
        }
        function PV(e, r) {
          let n = new Set(e);
          return n.has(r) ? n.delete(r) : n.add(r), n;
        }
        function PK(e) {
          var r;
          let n = b5(),
            {
              as: i,
              ref: s,
              variant: a,
              color: o,
              children: l,
              disableAnimation: u = null !=
                (r = null == n ? void 0 : n.disableAnimation) && r,
              onAction: c,
              closeOnSelect: d,
              itemClasses: h,
              className: f,
              state: p,
              topContent: g,
              bottomContent: m,
              hideEmptyContent: y = !1,
              hideSelectedIcon: v = !1,
              emptyContent: b = "No items.",
              menuProps: w,
              onClose: S,
              classNames: E,
              ...C
            } = e,
            x = i || "ul",
            A = x8(s),
            I = "string" == typeof x,
            k = Pz({ ...C, ...w, children: l }),
            _ = p || k,
            { menuProps: R } = PC({ ...C, ...w, onAction: c }, _, A),
            D = (0, T.useMemo)(() => _w({ className: f }), [f]),
            P = EO(null == E ? void 0 : E.base, f);
          return {
            Component: x,
            state: _,
            variant: a,
            color: o,
            disableAnimation: u,
            onClose: S,
            topContent: g,
            bottomContent: m,
            closeOnSelect: d,
            className: f,
            itemClasses: h,
            getBaseProps: (e = {}) => ({
              ref: A,
              "data-slot": "base",
              className: D.base({ class: P }),
              ...Iy(C, { enabled: I }),
              ...e,
            }),
            getListProps: (e = {}) => ({
              "data-slot": "list",
              className: D.list({ class: null == E ? void 0 : E.list }),
              ...R,
              ...e,
            }),
            hideEmptyContent: y,
            hideSelectedIcon: v,
            getEmptyContentProps: (e = {}) => ({
              children: b,
              className: D.emptyContent({
                class: null == E ? void 0 : E.emptyContent,
              }),
              ...e,
            }),
          };
        }
        var Pq = (e, r) =>
            e || r
              ? Array.from(
                  new Set([...Object.keys(e || {}), ...Object.keys(r || {})]),
                ).reduce(
                  (n, i) => ({
                    ...n,
                    [i]: EO(
                      null == e ? void 0 : e[i],
                      null == r ? void 0 : r[i],
                    ),
                  }),
                  {},
                )
              : {},
          PH = Ap(function (e, r) {
            let {
                Component: n,
                state: i,
                closeOnSelect: s,
                color: a,
                disableAnimation: o,
                hideSelectedIcon: l,
                hideEmptyContent: u,
                variant: c,
                onClose: d,
                topContent: h,
                bottomContent: f,
                itemClasses: p,
                getBaseProps: g,
                getListProps: m,
                getEmptyContentProps: y,
              } = PK({ ...e, ref: r }),
              v = (0, w.jsxs)(n, {
                ...m(),
                children: [
                  !i.collection.size &&
                    !u &&
                    (0, w.jsx)("li", {
                      children: (0, w.jsx)("div", { ...y() }),
                    }),
                  [...i.collection].map((e) => {
                    let r = {
                        closeOnSelect: s,
                        color: a,
                        disableAnimation: o,
                        item: e,
                        state: i,
                        variant: c,
                        onClose: d,
                        hideSelectedIcon: l,
                        ...e.props,
                      },
                      n = Pq(p, null == r ? void 0 : r.classNames);
                    if ("section" === e.type)
                      return (0, w.jsx)(DK, { ...r, itemClasses: n }, e.key);
                    let u = (0, w.jsx)(DM, { ...r, classNames: n }, e.key);
                    return e.wrapper && (u = e.wrapper(u)), u;
                  }),
                ],
              });
            return (0, w.jsxs)("div", { ...g(), children: [h, v, f] });
          }),
          P$ = Ap(function (e, r) {
            let { getMenuProps: n } = b3();
            return (0, w.jsx)(_v, {
              children: (0, w.jsx)(CH, {
                contain: !0,
                restoreFocus: !0,
                children: (0, w.jsx)(PH, { ...n(e, r) }),
              }),
            });
          });
        function PW(e) {
          return null;
        }
        function PG(e) {
          return null != e.hasChildItems
            ? e.hasChildItems
            : !!(e.childItems || (e.title && T.Children.count(e.children) > 0));
        }
        PW.getCollectionNode = function* (e, r) {
          let { childItems: n, title: i, children: s } = e,
            a = e.title || e.children,
            o =
              e.textValue ||
              ("string" == typeof a ? a : "") ||
              e["aria-label"] ||
              "";
          o ||
            (null == r ? void 0 : r.suppressTextValueWarning) ||
            console.warn(
              "<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop.",
            ),
            yield {
              type: "item",
              props: e,
              rendered: a,
              textValue: o,
              "aria-label": e["aria-label"],
              hasChildNodes: PG(e),
              *childNodes() {
                if (n) for (let e of n) yield { type: "item", value: e };
                else if (i) {
                  let e = [];
                  T.Children.forEach(s, (r) => {
                    e.push({ type: "item", element: r });
                  }),
                    yield* e;
                }
              },
            };
        };
        var PQ = PW;
        function PY(e) {
          let r = b5(),
            n = null == r ? void 0 : r.labelPlacement;
          return (0, T.useMemo)(() => {
            var r, i;
            let s =
              null != (i = null != (r = e.labelPlacement) ? r : n)
                ? i
                : "inside";
            return "inside" !== s || e.label ? s : "outside";
          }, [e.labelPlacement, n, e.label]);
        }
        var PX = ET({
          slots: {
            base: "group flex flex-col data-[hidden=true]:hidden",
            label: [
              "absolute",
              "z-10",
              "pointer-events-none",
              "origin-top-left",
              "flex-shrink-0",
              "rtl:origin-top-right",
              "subpixel-antialiased",
              "block",
              "text-small",
              "text-foreground-500",
            ],
            mainWrapper: "h-full",
            inputWrapper:
              "relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-sm px-3 gap-3",
            innerWrapper: "inline-flex w-full items-center h-full box-border",
            input: [
              "w-full font-normal bg-transparent !outline-none placeholder:text-foreground-500 focus-visible:outline-none",
              "data-[has-start-content=true]:ps-1.5",
              "data-[has-end-content=true]:pe-1.5",
              "file:cursor-pointer file:bg-transparent file:border-0",
              "autofill:bg-transparent bg-clip-text",
            ],
            clearButton: [
              "p-2",
              "-m-2",
              "z-10",
              "absolute",
              "end-3",
              "start-auto",
              "pointer-events-none",
              "appearance-none",
              "outline-none",
              "select-none",
              "opacity-0",
              "hover:!opacity-100",
              "cursor-pointer",
              "active:!opacity-70",
              "rounded-full",
              ...ES,
            ],
            helperWrapper:
              "hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",
            description: "text-tiny text-foreground-400",
            errorMessage: "text-tiny text-danger",
          },
          variants: {
            variant: {
              flat: {
                inputWrapper: [
                  "bg-default-100",
                  "data-[hover=true]:bg-default-200",
                  "group-data-[focus=true]:bg-default-100",
                ],
              },
              faded: {
                inputWrapper: [
                  "bg-default-100",
                  "border-medium",
                  "border-default-200",
                  "data-[hover=true]:border-default-400 focus-within:border-default-400",
                ],
                value: "group-data-[has-value=true]:text-default-foreground",
              },
              bordered: {
                inputWrapper: [
                  "border-medium",
                  "border-default-200",
                  "data-[hover=true]:border-default-400",
                  "group-data-[focus=true]:border-default-foreground",
                ],
              },
              underlined: {
                inputWrapper: [
                  "!px-1",
                  "!pb-0",
                  "!gap-0",
                  "relative",
                  "box-border",
                  "border-b-medium",
                  "shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]",
                  "border-default-200",
                  "!rounded-none",
                  "hover:border-default-300",
                  "after:content-['']",
                  "after:w-0",
                  "after:origin-center",
                  "after:bg-default-foreground",
                  "after:absolute",
                  "after:left-1/2",
                  "after:-translate-x-1/2",
                  "after:-bottom-[2px]",
                  "after:h-[2px]",
                  "group-data-[focus=true]:after:w-full",
                ],
                innerWrapper: "pb-1",
                label: "group-data-[filled-within=true]:text-foreground",
              },
            },
            color: {
              default: {},
              primary: {},
              secondary: {},
              success: {},
              warning: {},
              danger: {},
            },
            size: {
              sm: {
                label: "text-tiny",
                inputWrapper: "h-8 min-h-8 px-2 rounded-small",
                input: "text-small",
                clearButton: "text-medium",
              },
              md: {
                inputWrapper: "h-10 min-h-10 rounded-medium",
                input: "text-small",
                clearButton: "text-large",
              },
              lg: {
                label: "text-medium",
                inputWrapper: "h-12 min-h-12 rounded-large",
                input: "text-medium",
                clearButton: "text-large",
              },
            },
            radius: {
              none: { inputWrapper: "rounded-none" },
              sm: { inputWrapper: "rounded-small" },
              md: { inputWrapper: "rounded-medium" },
              lg: { inputWrapper: "rounded-large" },
              full: { inputWrapper: "rounded-full" },
            },
            labelPlacement: {
              outside: { mainWrapper: "flex flex-col" },
              "outside-left": {
                base: "flex-row items-center flex-nowrap data-[has-helper=true]:items-start",
                inputWrapper: "flex-1",
                mainWrapper: "flex flex-col",
                label: "relative text-foreground pe-2 ps-2 pointer-events-auto",
              },
              inside: {
                label: "cursor-text",
                inputWrapper: "flex-col items-start justify-center gap-0",
                innerWrapper: "group-data-[has-label=true]:items-end",
              },
            },
            fullWidth: { true: { base: "w-full" }, false: {} },
            isClearable: {
              true: {
                input: "peer pe-6 input-search-cancel-button-none",
                clearButton: [
                  "peer-data-[filled=true]:pointer-events-auto",
                  "peer-data-[filled=true]:opacity-70 peer-data-[filled=true]:block",
                  "peer-data-[filled=true]:scale-100",
                ],
              },
            },
            isDisabled: {
              true: {
                base: "opacity-disabled pointer-events-none",
                inputWrapper: "pointer-events-none",
                label: "pointer-events-none",
              },
            },
            isInvalid: {
              true: {
                label: "!text-danger",
                input: "!placeholder:text-danger !text-danger",
              },
            },
            isRequired: {
              true: {
                label: "after:content-['*'] after:text-danger after:ms-0.5",
              },
            },
            isMultiline: {
              true: {
                label: "relative",
                inputWrapper: "!h-auto",
                innerWrapper:
                  "items-start group-data-[has-label=true]:items-start",
                input: "resize-none data-[hide-scroll=true]:scrollbar-hide",
                clearButton:
                  "absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10",
              },
            },
            disableAnimation: {
              true: {
                input: "transition-none",
                inputWrapper: "transition-none",
                label: "transition-none",
              },
              false: {
                inputWrapper:
                  "transition-background motion-reduce:transition-none !duration-150",
                label: [
                  "will-change-auto",
                  "!duration-200",
                  "!ease-out",
                  "motion-reduce:transition-none",
                  "transition-[transform,color,left,opacity]",
                ],
                clearButton: [
                  "scale-90",
                  "ease-out",
                  "duration-150",
                  "transition-[opacity,transform]",
                  "motion-reduce:transition-none",
                  "motion-reduce:scale-100",
                ],
              },
            },
          },
          defaultVariants: {
            variant: "flat",
            color: "default",
            size: "md",
            fullWidth: !0,
            isDisabled: !1,
            isMultiline: !1,
          },
          compoundVariants: [
            {
              variant: "flat",
              color: "default",
              class: {
                input: "group-data-[has-value=true]:text-default-foreground",
              },
            },
            {
              variant: "flat",
              color: "primary",
              class: {
                inputWrapper: [
                  "bg-primary-100",
                  "data-[hover=true]:bg-primary-50",
                  "text-primary",
                  "group-data-[focus=true]:bg-primary-50",
                  "placeholder:text-primary",
                ],
                input: "placeholder:text-primary",
                label: "text-primary",
              },
            },
            {
              variant: "flat",
              color: "secondary",
              class: {
                inputWrapper: [
                  "bg-secondary-100",
                  "text-secondary",
                  "data-[hover=true]:bg-secondary-50",
                  "group-data-[focus=true]:bg-secondary-50",
                  "placeholder:text-secondary",
                ],
                input: "placeholder:text-secondary",
                label: "text-secondary",
              },
            },
            {
              variant: "flat",
              color: "success",
              class: {
                inputWrapper: [
                  "bg-success-100",
                  "text-success-600",
                  "dark:text-success",
                  "placeholder:text-success-600",
                  "dark:placeholder:text-success",
                  "data-[hover=true]:bg-success-50",
                  "group-data-[focus=true]:bg-success-50",
                ],
                input:
                  "placeholder:text-success-600 dark:placeholder:text-success",
                label: "text-success-600 dark:text-success",
              },
            },
            {
              variant: "flat",
              color: "warning",
              class: {
                inputWrapper: [
                  "bg-warning-100",
                  "text-warning-600",
                  "dark:text-warning",
                  "placeholder:text-warning-600",
                  "dark:placeholder:text-warning",
                  "data-[hover=true]:bg-warning-50",
                  "group-data-[focus=true]:bg-warning-50",
                ],
                input:
                  "placeholder:text-warning-600 dark:placeholder:text-warning",
                label: "text-warning-600 dark:text-warning",
              },
            },
            {
              variant: "flat",
              color: "danger",
              class: {
                inputWrapper: [
                  "bg-danger-100",
                  "text-danger",
                  "dark:text-danger-500",
                  "placeholder:text-danger",
                  "dark:placeholder:text-danger-500",
                  "data-[hover=true]:bg-danger-50",
                  "group-data-[focus=true]:bg-danger-50",
                ],
                input:
                  "placeholder:text-danger dark:placeholder:text-danger-500",
                label: "text-danger dark:text-danger-500",
              },
            },
            {
              variant: "faded",
              color: "primary",
              class: {
                label: "text-primary",
                inputWrapper:
                  "data-[hover=true]:border-primary focus-within:border-primary",
              },
            },
            {
              variant: "faded",
              color: "secondary",
              class: {
                label: "text-secondary",
                inputWrapper:
                  "data-[hover=true]:border-secondary focus-within:border-secondary",
              },
            },
            {
              variant: "faded",
              color: "success",
              class: {
                label: "text-success",
                inputWrapper:
                  "data-[hover=true]:border-success focus-within:border-success",
              },
            },
            {
              variant: "faded",
              color: "warning",
              class: {
                label: "text-warning",
                inputWrapper:
                  "data-[hover=true]:border-warning focus-within:border-warning",
              },
            },
            {
              variant: "faded",
              color: "danger",
              class: {
                label: "text-danger",
                inputWrapper:
                  "data-[hover=true]:border-danger focus-within:border-danger",
              },
            },
            {
              variant: "underlined",
              color: "default",
              class: { input: "group-data-[has-value=true]:text-foreground" },
            },
            {
              variant: "underlined",
              color: "primary",
              class: {
                inputWrapper: "after:bg-primary",
                label: "text-primary",
              },
            },
            {
              variant: "underlined",
              color: "secondary",
              class: {
                inputWrapper: "after:bg-secondary",
                label: "text-secondary",
              },
            },
            {
              variant: "underlined",
              color: "success",
              class: {
                inputWrapper: "after:bg-success",
                label: "text-success",
              },
            },
            {
              variant: "underlined",
              color: "warning",
              class: {
                inputWrapper: "after:bg-warning",
                label: "text-warning",
              },
            },
            {
              variant: "underlined",
              color: "danger",
              class: { inputWrapper: "after:bg-danger", label: "text-danger" },
            },
            {
              variant: "bordered",
              color: "primary",
              class: {
                inputWrapper: "group-data-[focus=true]:border-primary",
                label: "text-primary",
              },
            },
            {
              variant: "bordered",
              color: "secondary",
              class: {
                inputWrapper: "group-data-[focus=true]:border-secondary",
                label: "text-secondary",
              },
            },
            {
              variant: "bordered",
              color: "success",
              class: {
                inputWrapper: "group-data-[focus=true]:border-success",
                label: "text-success",
              },
            },
            {
              variant: "bordered",
              color: "warning",
              class: {
                inputWrapper: "group-data-[focus=true]:border-warning",
                label: "text-warning",
              },
            },
            {
              variant: "bordered",
              color: "danger",
              class: {
                inputWrapper: "group-data-[focus=true]:border-danger",
                label: "text-danger",
              },
            },
            {
              labelPlacement: "inside",
              color: "default",
              class: {
                label: "group-data-[filled-within=true]:text-default-600",
              },
            },
            {
              labelPlacement: "outside",
              color: "default",
              class: {
                label: "group-data-[filled-within=true]:text-foreground",
              },
            },
            { radius: "full", size: ["sm"], class: { inputWrapper: "px-3" } },
            { radius: "full", size: "md", class: { inputWrapper: "px-4" } },
            { radius: "full", size: "lg", class: { inputWrapper: "px-5" } },
            {
              disableAnimation: !1,
              variant: ["faded", "bordered"],
              class: {
                inputWrapper: "transition-colors motion-reduce:transition-none",
              },
            },
            {
              disableAnimation: !1,
              variant: "underlined",
              class: {
                inputWrapper:
                  "after:transition-width motion-reduce:after:transition-none",
              },
            },
            { variant: ["flat", "faded"], class: { inputWrapper: [...EE] } },
            {
              isInvalid: !0,
              variant: "flat",
              class: {
                inputWrapper: [
                  "!bg-danger-50",
                  "data-[hover=true]:!bg-danger-100",
                  "group-data-[focus=true]:!bg-danger-50",
                ],
              },
            },
            {
              isInvalid: !0,
              variant: "bordered",
              class: {
                inputWrapper:
                  "!border-danger group-data-[focus=true]:!border-danger",
              },
            },
            {
              isInvalid: !0,
              variant: "underlined",
              class: { inputWrapper: "after:!bg-danger" },
            },
            {
              labelPlacement: "inside",
              size: "sm",
              class: { inputWrapper: "h-12 py-1.5 px-3" },
            },
            {
              labelPlacement: "inside",
              size: "md",
              class: { inputWrapper: "h-14 py-2" },
            },
            {
              labelPlacement: "inside",
              size: "lg",
              class: { inputWrapper: "h-16 py-2.5 gap-0" },
            },
            {
              labelPlacement: "inside",
              size: "sm",
              variant: ["bordered", "faded"],
              class: { inputWrapper: "py-1" },
            },
            {
              labelPlacement: ["inside", "outside"],
              class: {
                label: ["group-data-[filled-within=true]:pointer-events-auto"],
              },
            },
            {
              labelPlacement: "outside",
              isMultiline: !1,
              class: {
                base: "relative justify-end",
                label: [
                  "pb-0",
                  "z-20",
                  "top-1/2",
                  "-translate-y-1/2",
                  "group-data-[filled-within=true]:start-0",
                ],
              },
            },
            {
              labelPlacement: ["inside"],
              class: { label: ["group-data-[filled-within=true]:scale-85"] },
            },
            {
              labelPlacement: ["inside"],
              variant: "flat",
              class: { innerWrapper: "pb-0.5" },
            },
            {
              variant: "underlined",
              size: "sm",
              class: { innerWrapper: "pb-1" },
            },
            {
              variant: "underlined",
              size: ["md", "lg"],
              class: { innerWrapper: "pb-1.5" },
            },
            {
              labelPlacement: "inside",
              size: ["sm", "md"],
              class: { label: "text-small" },
            },
            {
              labelPlacement: "inside",
              isMultiline: !1,
              size: "sm",
              class: {
                label: [
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              isMultiline: !1,
              size: "md",
              class: {
                label: [
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              isMultiline: !1,
              size: "lg",
              class: {
                label: [
                  "text-medium",
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              variant: ["faded", "bordered"],
              isMultiline: !1,
              size: "sm",
              class: {
                label: [
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              variant: ["faded", "bordered"],
              isMultiline: !1,
              size: "md",
              class: {
                label: [
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              variant: ["faded", "bordered"],
              isMultiline: !1,
              size: "lg",
              class: {
                label: [
                  "text-medium",
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              variant: "underlined",
              isMultiline: !1,
              size: "sm",
              class: {
                label: [
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              variant: "underlined",
              isMultiline: !1,
              size: "md",
              class: {
                label: [
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]",
                ],
              },
            },
            {
              labelPlacement: "inside",
              variant: "underlined",
              size: "lg",
              isMultiline: !1,
              class: {
                label: [
                  "text-medium",
                  "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]",
                ],
              },
            },
            {
              labelPlacement: "outside",
              size: "sm",
              isMultiline: !1,
              class: {
                label: [
                  "start-2",
                  "text-tiny",
                  "group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]",
                ],
                base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]",
              },
            },
            {
              labelPlacement: "outside",
              size: "md",
              isMultiline: !1,
              class: {
                label: [
                  "start-3",
                  "end-auto",
                  "text-small",
                  "group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]",
                ],
                base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]",
              },
            },
            {
              labelPlacement: "outside",
              size: "lg",
              isMultiline: !1,
              class: {
                label: [
                  "start-3",
                  "end-auto",
                  "text-medium",
                  "group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]",
                ],
                base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]",
              },
            },
            {
              labelPlacement: "outside-left",
              size: "sm",
              class: { label: "group-data-[has-helper=true]:pt-2" },
            },
            {
              labelPlacement: "outside-left",
              size: "md",
              class: { label: "group-data-[has-helper=true]:pt-3" },
            },
            {
              labelPlacement: "outside-left",
              size: "lg",
              class: { label: "group-data-[has-helper=true]:pt-4" },
            },
            {
              labelPlacement: ["outside", "outside-left"],
              isMultiline: !0,
              class: { inputWrapper: "py-2" },
            },
            {
              labelPlacement: "outside",
              isMultiline: !0,
              class: { label: "pb-1.5" },
            },
            {
              labelPlacement: "inside",
              isMultiline: !0,
              class: { label: "pb-0.5", input: "pt-0" },
            },
            {
              isMultiline: !0,
              disableAnimation: !1,
              class: {
                input:
                  "transition-height !duration-100 motion-reduce:transition-none",
              },
            },
            {
              labelPlacement: ["inside", "outside"],
              class: {
                label: [
                  "pe-2",
                  "max-w-full",
                  "text-ellipsis",
                  "overflow-hidden",
                ],
              },
            },
            {
              isMultiline: !0,
              radius: "full",
              class: {
                inputWrapper: "data-[has-multiple-rows=true]:rounded-large",
              },
            },
            {
              isClearable: !0,
              isMultiline: !0,
              class: {
                clearButton: [
                  "group-data-[has-value=true]:opacity-70 group-data-[has-value=true]:block",
                  "group-data-[has-value=true]:scale-100",
                  "group-data-[has-value=true]:pointer-events-auto",
                ],
              },
            },
          ],
        });
        function PJ(e, r, n) {
          let i = (0, T.useRef)(r),
            s = xa(() => {
              n && n(i.current);
            });
          (0, T.useEffect)(() => {
            var r;
            let n =
              null == e
                ? void 0
                : null === (r = e.current) || void 0 === r
                  ? void 0
                  : r.form;
            return (
              null == n || n.addEventListener("reset", s),
              () => {
                null == n || n.removeEventListener("reset", s);
              }
            );
          }, [e, s]);
        }
        var PZ = n(74884),
          P0 = n(7005);
        let P1 = {
            badInput: !1,
            customError: !1,
            patternMismatch: !1,
            rangeOverflow: !1,
            rangeUnderflow: !1,
            stepMismatch: !1,
            tooLong: !1,
            tooShort: !1,
            typeMismatch: !1,
            valueMissing: !1,
            valid: !0,
          },
          P2 = { ...P1, customError: !0, valid: !1 },
          P3 = { isInvalid: !1, validationDetails: P1, validationErrors: [] },
          P4 = (0, T.createContext)({}),
          P5 = "__formValidationState" + Date.now();
        function P6(e) {
          if (e[P5]) {
            let {
              realtimeValidation: r,
              displayValidation: n,
              updateValidation: i,
              resetValidation: s,
              commitValidation: a,
            } = e[P5];
            return {
              realtimeValidation: r,
              displayValidation: n,
              updateValidation: i,
              resetValidation: s,
              commitValidation: a,
            };
          }
          return P8(e);
        }
        function P8(e) {
          let {
            isInvalid: r,
            validationState: n,
            name: i,
            value: s,
            builtinValidation: a,
            validate: o,
            validationBehavior: l = "aria",
          } = e;
          n && (r || (r = "invalid" === n));
          let u =
              void 0 !== r
                ? { isInvalid: r, validationErrors: [], validationDetails: P2 }
                : null,
            c = (0, T.useMemo)(
              () => (o && null != s ? Ne(P9(o, s)) : null),
              [o, s],
            );
          (null == a ? void 0 : a.validationDetails.valid) && (a = void 0);
          let d = (0, T.useContext)(P4),
            h = (0, T.useMemo)(
              () =>
                i
                  ? Array.isArray(i)
                    ? i.flatMap((e) => P7(d[e]))
                    : P7(d[i])
                  : [],
              [d, i],
            ),
            [f, p] = (0, T.useState)(d),
            [g, m] = (0, T.useState)(!1);
          d !== f && (p(d), m(!1));
          let y = (0, T.useMemo)(() => Ne(g ? [] : h), [g, h]),
            v = (0, T.useRef)(P3),
            [b, w] = (0, T.useState)(P3),
            S = (0, T.useRef)(P3),
            E = () => {
              if (!C) return;
              x(!1);
              let e = c || a || v.current;
              Nt(e, S.current) || ((S.current = e), w(e));
            },
            [C, x] = (0, T.useState)(!1);
          return (
            (0, T.useEffect)(E),
            {
              realtimeValidation: u || y || c || a || P3,
              displayValidation:
                "native" === l ? u || y || b : u || y || c || a || b,
              updateValidation(e) {
                "aria" !== l || Nt(b, e) ? (v.current = e) : w(e);
              },
              resetValidation() {
                let e = P3;
                Nt(e, S.current) || ((S.current = e), w(e)),
                  "native" === l && x(!1),
                  m(!0);
              },
              commitValidation() {
                "native" === l && x(!0), m(!0);
              },
            }
          );
        }
        function P7(e) {
          return e ? (Array.isArray(e) ? e : [e]) : [];
        }
        function P9(e, r) {
          if ("function" == typeof e) {
            let n = e(r);
            if (n && "boolean" != typeof n) return P7(n);
          }
          return [];
        }
        function Ne(e) {
          return e.length
            ? { isInvalid: !0, validationErrors: e, validationDetails: P2 }
            : null;
        }
        function Nt(e, r) {
          return (
            e === r ||
            (!!e &&
              !!r &&
              e.isInvalid === r.isInvalid &&
              e.validationErrors.length === r.validationErrors.length &&
              e.validationErrors.every((e, n) => e === r.validationErrors[n]) &&
              Object.entries(e.validationDetails).every(
                ([e, n]) => r.validationDetails[e] === n,
              ))
          );
        }
        function Nr(e, r) {
          let {
              inputElementType: n = "input",
              isDisabled: i = !1,
              isRequired: s = !1,
              isReadOnly: a = !1,
              type: o = "text",
              validationBehavior: l = "aria",
            } = e,
            [u, c] = (0, b6.P)(e.value, e.defaultValue || "", e.onChange),
            { focusableProps: d } = Aq(e, r),
            h = P6({ ...e, value: u }),
            {
              isInvalid: f,
              validationErrors: p,
              validationDetails: g,
            } = h.displayValidation,
            {
              labelProps: m,
              fieldProps: y,
              descriptionProps: v,
              errorMessageProps: b,
            } = (0, PZ.M)({
              ...e,
              isInvalid: f,
              errorMessage: e.errorMessage || p,
            }),
            w = AF(e, { labelable: !0 }),
            S = { type: o, pattern: e.pattern };
          return (
            PJ(r, u, c),
            (0, P0.X)(e, h, r),
            (0, T.useEffect)(() => {
              if (r.current instanceof E4(r.current).HTMLTextAreaElement) {
                let e = r.current;
                Object.defineProperty(e, "defaultValue", {
                  get: () => e.value,
                  set: () => {},
                  configurable: !0,
                });
              }
            }, [r]),
            {
              labelProps: m,
              inputProps: EX(w, "input" === n ? S : void 0, {
                disabled: i,
                readOnly: a,
                required: s && "native" === l,
                "aria-required": (s && "aria" === l) || void 0,
                "aria-invalid": f || void 0,
                "aria-errormessage": e["aria-errormessage"],
                "aria-activedescendant": e["aria-activedescendant"],
                "aria-autocomplete": e["aria-autocomplete"],
                "aria-haspopup": e["aria-haspopup"],
                "aria-controls": e["aria-controls"],
                value: u,
                onChange: (e) => c(e.target.value),
                autoComplete: e.autoComplete,
                autoCapitalize: e.autoCapitalize,
                maxLength: e.maxLength,
                minLength: e.minLength,
                name: e.name,
                placeholder: e.placeholder,
                inputMode: e.inputMode,
                autoCorrect: e.autoCorrect,
                spellCheck: e.spellCheck,
                onCopy: e.onCopy,
                onCut: e.onCut,
                onPaste: e.onPaste,
                onCompositionEnd: e.onCompositionEnd,
                onCompositionStart: e.onCompositionStart,
                onCompositionUpdate: e.onCompositionUpdate,
                onSelect: e.onSelect,
                onBeforeInput: e.onBeforeInput,
                onInput: e.onInput,
                ...d,
                ...y,
              }),
              descriptionProps: v,
              errorMessageProps: b,
              isInvalid: f,
              validationErrors: p,
              validationDetails: g,
            }
          );
        }
        var Nn = Symbol("default");
        function Ni(e, r) {
          let n = (0, T.useContext)(e);
          if (null === r) return null;
          if (n && "object" == typeof n && "slots" in n && n.slots) {
            let e = new Intl.ListFormat().format(
              Object.keys(n.slots).map((e) => `"${e}"`),
            );
            if (!r && !n.slots[Nn])
              throw Error(
                `A slot prop is required. Valid slot names are ${e}.`,
              );
            let i = r || Nn;
            if (!n.slots[i])
              throw Error(`Invalid slot "${r}". Valid slot names are ${e}.`);
            return n.slots[i];
          }
          return n;
        }
        var Ns = (0, T.createContext)(null);
        function Na(e) {
          var r, n, i, s, a, o, l;
          let u = b5(),
            { validationBehavior: c } = Ni(Ns) || {},
            [d, h] = Ag(e, PX.variantKeys),
            {
              ref: f,
              as: p,
              type: g,
              label: m,
              baseRef: y,
              wrapperRef: v,
              description: b,
              className: w,
              classNames: S,
              autoFocus: E,
              startContent: C,
              endContent: x,
              onClear: A,
              onChange: I,
              validationState: k,
              validationBehavior: _ = null !=
              (r = null != c ? c : null == u ? void 0 : u.validationBehavior)
                ? r
                : "native",
              innerWrapperRef: R,
              onValueChange: D = () => {},
              ...P
            } = d,
            N = (0, T.useCallback)(
              (e) => {
                D(null != e ? e : "");
              },
              [D],
            ),
            [O, M] = (0, T.useState)(!1),
            L = p || "div",
            B =
              null !=
                (i =
                  null != (n = e.disableAnimation)
                    ? n
                    : null == u
                      ? void 0
                      : u.disableAnimation) && i,
            F = x8(f),
            U = x8(y),
            j = x8(v),
            z = x8(R),
            [V, K] = (0, b6.P)(
              d.value,
              null != (s = d.defaultValue) ? s : "",
              N,
            ),
            q = "file" === g,
            H =
              (null !=
              (l =
                null ==
                (o =
                  null == (a = null == F ? void 0 : F.current)
                    ? void 0
                    : a.files)
                  ? void 0
                  : o.length)
                ? l
                : 0) > 0,
            $ = ["date", "time", "month", "week", "range"].includes(g),
            W = !ER(V) || $ || H,
            G = W || O,
            Q = "hidden" === g,
            Y = e.isMultiline,
            X = EO(null == S ? void 0 : S.base, w, W ? "is-filled" : ""),
            J = (0, T.useCallback)(() => {
              var e;
              q ? (F.current.value = "") : K(""),
                null == A || A(),
                null == (e = F.current) || e.focus();
            }, [K, A, q]);
          x5(() => {
            F.current && K(F.current.value);
          }, [F.current]);
          let {
            labelProps: Z,
            inputProps: ee,
            isInvalid: et,
            validationErrors: er,
            validationDetails: en,
            descriptionProps: ei,
            errorMessageProps: es,
          } = Nr(
            {
              ...e,
              validationBehavior: _,
              autoCapitalize: e.autoCapitalize,
              value: V,
              "aria-label": EM(e["aria-label"], e.label, e.placeholder),
              inputElementType: Y ? "textarea" : "input",
              onChange: K,
            },
            F,
          );
          q && (delete ee.value, delete ee.onChange);
          let {
              isFocusVisible: ea,
              isFocused: eo,
              focusProps: el,
            } = Ae({ autoFocus: E, isTextInput: !0 }),
            { isHovered: eu, hoverProps: ec } = IC({
              isDisabled: !!(null == e ? void 0 : e.isDisabled),
            }),
            { isHovered: ed, hoverProps: eh } = IC({
              isDisabled: !!(null == e ? void 0 : e.isDisabled),
            }),
            { focusProps: ef, isFocusVisible: ep } = Ae(),
            { focusWithinProps: eg } = xd({ onFocusWithinChange: M }),
            { pressProps: em } = A4({
              isDisabled:
                !!(null == e ? void 0 : e.isDisabled) ||
                !!(null == e ? void 0 : e.isReadOnly),
              onPress: J,
            }),
            ey = "invalid" === k || et,
            ev = PY({ labelPlacement: e.labelPlacement, label: m }),
            eb =
              "function" == typeof d.errorMessage
                ? d.errorMessage({
                    isInvalid: ey,
                    validationErrors: er,
                    validationDetails: en,
                  })
                : d.errorMessage || (null == er ? void 0 : er.join(" ")),
            ew = !!A || e.isClearable,
            eT = !!m || !!b || !!eb,
            eS = !!d.placeholder,
            eE = !!m,
            eC = !!b || !!eb,
            ex = "outside" === ev || "outside-left" === ev,
            eA = "inside" === ev,
            eI =
              !!F.current &&
              (!F.current.value || "" === F.current.value || !V || "" === V) &&
              eS,
            ek = "outside-left" === ev,
            e_ = !!C,
            eR =
              !!ex && ("outside-left" === ev || eS || ("outside" === ev && e_)),
            eD = "outside" === ev && !eS && !e_,
            eP = (0, T.useMemo)(
              () =>
                PX({
                  ...h,
                  isInvalid: ey,
                  labelPlacement: ev,
                  isClearable: ew,
                  disableAnimation: B,
                }),
              [EF(h), ey, ev, ew, e_, B],
            ),
            eN = (0, T.useCallback)(
              (r = {}) => ({
                ref: U,
                className: eP.base({ class: X }),
                "data-slot": "base",
                "data-filled": EP(W || eS || e_ || eI || q),
                "data-filled-within": EP(G || eS || e_ || eI || q),
                "data-focus-within": EP(O),
                "data-focus-visible": EP(ea),
                "data-readonly": EP(e.isReadOnly),
                "data-focus": EP(eo),
                "data-hover": EP(eu || ed),
                "data-required": EP(e.isRequired),
                "data-invalid": EP(ey),
                "data-disabled": EP(e.isDisabled),
                "data-has-elements": EP(eT),
                "data-has-helper": EP(eC),
                "data-has-label": EP(eE),
                "data-has-value": EP(!eI),
                "data-hidden": EP(Q),
                ...eg,
                ...r,
              }),
              [
                eP,
                X,
                W,
                eo,
                eu,
                ed,
                ey,
                eC,
                eE,
                eT,
                eI,
                e_,
                O,
                ea,
                G,
                eS,
                eg,
                Q,
                e.isReadOnly,
                e.isRequired,
                e.isDisabled,
              ],
            ),
            eO = (0, T.useCallback)(
              (e = {}) => ({
                "data-slot": "label",
                className: eP.label({ class: null == S ? void 0 : S.label }),
                ...EX(Z, eh, e),
              }),
              [eP, ed, Z, null == S ? void 0 : S.label],
            ),
            eM = (0, T.useCallback)(
              (r = {}) => ({
                "data-slot": "input",
                "data-filled": EP(W),
                "data-filled-within": EP(G),
                "data-has-start-content": EP(e_),
                "data-has-end-content": EP(!!x),
                className: eP.input({
                  class: EO(
                    null == S ? void 0 : S.input,
                    W ? "is-filled" : "",
                    Y ? "pe-0" : "",
                  ),
                }),
                ...EX(
                  el,
                  ee,
                  Iy(P, {
                    enabled: !0,
                    labelable: !0,
                    omitEventNames: new Set(Object.keys(ee)),
                  }),
                  r,
                ),
                "aria-readonly": EP(e.isReadOnly),
                onChange: EH(ee.onChange, I),
                ref: F,
              }),
              [
                eP,
                V,
                el,
                ee,
                P,
                W,
                G,
                e_,
                x,
                null == S ? void 0 : S.input,
                e.isReadOnly,
                e.isRequired,
                I,
              ],
            ),
            eL = (0, T.useCallback)(
              (e = {}) => ({
                ref: j,
                "data-slot": "input-wrapper",
                "data-hover": EP(eu || ed),
                "data-focus-visible": EP(ea),
                "data-focus": EP(eo),
                className: eP.inputWrapper({
                  class: EO(
                    null == S ? void 0 : S.inputWrapper,
                    W ? "is-filled" : "",
                  ),
                }),
                ...EX(e, ec),
                onClick: (e) => {
                  F.current &&
                    e.currentTarget === e.target &&
                    F.current.focus();
                },
                style: { cursor: "text", ...e.style },
              }),
              [eP, eu, ed, ea, eo, V, null == S ? void 0 : S.inputWrapper],
            ),
            eB = (0, T.useCallback)(
              (e = {}) => ({
                ...e,
                ref: z,
                "data-slot": "inner-wrapper",
                onClick: (e) => {
                  F.current &&
                    e.currentTarget === e.target &&
                    F.current.focus();
                },
                className: eP.innerWrapper({
                  class: EO(
                    null == S ? void 0 : S.innerWrapper,
                    null == e ? void 0 : e.className,
                  ),
                }),
              }),
              [eP, null == S ? void 0 : S.innerWrapper],
            ),
            eF = (0, T.useCallback)(
              (e = {}) => ({
                ...e,
                "data-slot": "main-wrapper",
                className: eP.mainWrapper({
                  class: EO(
                    null == S ? void 0 : S.mainWrapper,
                    null == e ? void 0 : e.className,
                  ),
                }),
              }),
              [eP, null == S ? void 0 : S.mainWrapper],
            ),
            eU = (0, T.useCallback)(
              (e = {}) => ({
                ...e,
                "data-slot": "helper-wrapper",
                className: eP.helperWrapper({
                  class: EO(
                    null == S ? void 0 : S.helperWrapper,
                    null == e ? void 0 : e.className,
                  ),
                }),
              }),
              [eP, null == S ? void 0 : S.helperWrapper],
            ),
            ej = (0, T.useCallback)(
              (e = {}) => ({
                ...e,
                ...ei,
                "data-slot": "description",
                className: eP.description({
                  class: EO(
                    null == S ? void 0 : S.description,
                    null == e ? void 0 : e.className,
                  ),
                }),
              }),
              [eP, null == S ? void 0 : S.description],
            ),
            ez = (0, T.useCallback)(
              (e = {}) => ({
                ...e,
                ...es,
                "data-slot": "error-message",
                className: eP.errorMessage({
                  class: EO(
                    null == S ? void 0 : S.errorMessage,
                    null == e ? void 0 : e.className,
                  ),
                }),
              }),
              [eP, es, null == S ? void 0 : S.errorMessage],
            ),
            eV = (0, T.useCallback)(
              (r = {}) => ({
                ...r,
                type: "button",
                tabIndex: -1,
                disabled: e.isDisabled,
                "aria-label": "clear input",
                "data-slot": "clear-button",
                "data-focus-visible": EP(ep),
                className: eP.clearButton({
                  class: EO(
                    null == S ? void 0 : S.clearButton,
                    null == r ? void 0 : r.className,
                  ),
                }),
                ...EX(em, ef),
              }),
              [eP, ep, em, ef, null == S ? void 0 : S.clearButton],
            );
          return {
            Component: L,
            classNames: S,
            domRef: F,
            label: m,
            description: b,
            startContent: C,
            endContent: x,
            labelPlacement: ev,
            isClearable: ew,
            hasHelper: eC,
            hasStartContent: e_,
            isLabelOutside: eR,
            isOutsideLeft: ek,
            isLabelOutsideAsPlaceholder: eD,
            shouldLabelBeOutside: ex,
            shouldLabelBeInside: eA,
            hasPlaceholder: eS,
            isInvalid: ey,
            errorMessage: eb,
            getBaseProps: eN,
            getLabelProps: eO,
            getInputProps: eM,
            getMainWrapperProps: eF,
            getInputWrapperProps: eL,
            getInnerWrapperProps: eB,
            getHelperWrapperProps: eU,
            getDescriptionProps: ej,
            getErrorMessageProps: ez,
            getClearButtonProps: eV,
          };
        }
        function No() {
          return (No = Object.assign
            ? Object.assign.bind()
            : function (e) {
                for (var r = 1; r < arguments.length; r++) {
                  var n = arguments[r];
                  for (var i in n)
                    ({}).hasOwnProperty.call(n, i) && (e[i] = n[i]);
                }
                return e;
              }).apply(null, arguments);
        }
        function Nl(e, r) {
          if (null == e) return {};
          var n = {};
          for (var i in e)
            if ({}.hasOwnProperty.call(e, i)) {
              if (-1 !== r.indexOf(i)) continue;
              n[i] = e[i];
            }
          return n;
        }
        var Nu = function (e, r) {
            if ("function" == typeof e) {
              e(r);
              return;
            }
            e.current = r;
          },
          Nc = function (e, r) {
            var n = S().useRef();
            return S().useCallback(
              function (i) {
                (e.current = i),
                  n.current && Nu(n.current, null),
                  (n.current = r),
                  r && Nu(r, i);
              },
              [r],
            );
          },
          Nd = function () {},
          Nh = [
            "cacheMeasurements",
            "maxRows",
            "minRows",
            "onChange",
            "onHeightChange",
          ],
          Nf = function (e, r) {
            e.cacheMeasurements, e.maxRows, e.minRows;
            var n = e.onChange,
              i = void 0 === n ? Nd : n;
            e.onHeightChange;
            var s = Nl(e, Nh);
            s.value;
            var a = Nc(T.useRef(null), r);
            return (
              T.useRef(0),
              T.useRef(),
              T.createElement("textarea", No({}, s, { onChange: i, ref: a }))
            );
          },
          Np = T.forwardRef(Nf),
          Ng = (e) =>
            (0, w.jsx)("svg", {
              "aria-hidden": "true",
              focusable: "false",
              height: "1em",
              role: "presentation",
              viewBox: "0 0 24 24",
              width: "1em",
              ...e,
              children: (0, w.jsx)("path", {
                d: "M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",
                fill: "currentColor",
              }),
            }),
          Nm = Ap(
            (
              {
                style: e,
                minRows: r = 3,
                maxRows: n = 8,
                cacheMeasurements: i = !1,
                disableAutosize: s = !1,
                onHeightChange: a,
                ...o
              },
              l,
            ) => {
              let {
                  Component: u,
                  label: c,
                  description: d,
                  startContent: h,
                  endContent: f,
                  hasHelper: p,
                  shouldLabelBeOutside: g,
                  shouldLabelBeInside: m,
                  isInvalid: y,
                  errorMessage: v,
                  getBaseProps: b,
                  getLabelProps: S,
                  getInputProps: E,
                  getInnerWrapperProps: C,
                  getInputWrapperProps: x,
                  getHelperWrapperProps: A,
                  getDescriptionProps: I,
                  getErrorMessageProps: k,
                  isClearable: _,
                  getClearButtonProps: R,
                } = Na({ ...o, ref: l, isMultiline: !0 }),
                [D, P] = (0, T.useState)(r > 1),
                [N, O] = (0, T.useState)(!1),
                M = c ? (0, w.jsx)("label", { ...S(), children: c }) : null,
                L = E(),
                B = (e, i) => {
                  1 === r && P(e >= 2 * i.rowHeight),
                    n > r && O(e >= n * i.rowHeight),
                    null == a || a(e, i);
                },
                F = s
                  ? (0, w.jsx)("textarea", {
                      ...L,
                      style: EX(L.style, null != e ? e : {}),
                    })
                  : (0, w.jsx)(Np, {
                      ...L,
                      cacheMeasurements: i,
                      "data-hide-scroll": EP(!N),
                      maxRows: n,
                      minRows: r,
                      style: EX(L.style, null != e ? e : {}),
                      onHeightChange: B,
                    }),
                U = (0, T.useMemo)(
                  () =>
                    _
                      ? (0, w.jsx)("button", {
                          ...R(),
                          children: (0, w.jsx)(Ng, {}),
                        })
                      : null,
                  [_, R],
                ),
                j = (0, T.useMemo)(
                  () =>
                    h || f
                      ? (0, w.jsxs)("div", { ...C(), children: [h, F, f] })
                      : (0, w.jsx)("div", { ...C(), children: F }),
                  [h, L, f, C],
                ),
                z = y && v,
                V = z || d;
              return (0, w.jsxs)(u, {
                ...b(),
                children: [
                  g ? M : null,
                  (0, w.jsxs)("div", {
                    ...x(),
                    "data-has-multiple-rows": EP(D),
                    children: [m ? M : null, j, U],
                  }),
                  p && V
                    ? (0, w.jsx)("div", {
                        ...A(),
                        children: z
                          ? (0, w.jsx)("div", { ...k(), children: v })
                          : (0, w.jsx)("div", { ...I(), children: d }),
                      })
                    : null,
                ],
              });
            },
          );
        Nm.displayName = "HeroUI.Textarea";
        var Ny = Nm,
          Nv = n(62738);
        let Nb = [
          { label: "Mexico", key: "mexico" },
          { label: "United States", key: "united-states" },
          { label: "Thailand", key: "thailand" },
          { label: "China", key: "china" },
          { label: "Jamaica", key: "jamaica" },
          { label: "South Korea", key: "south-korea" },
          { label: "India", key: "india" },
          { label: "Malaysia", key: "malaysia" },
          { label: "Indonesia", key: "indonesia" },
          { label: "Trinidad and Tobago", key: "trinidad-and-tobago" },
          { label: "Vietnam", key: "vietnam" },
          { label: "Sri Lanka", key: "sri-lanka" },
          { label: "Peru", key: "peru" },
          { label: "Brazil", key: "brazil" },
          { label: "Hungary", key: "hungary" },
          { label: "Japan", key: "japan" },
          { label: "Singapore", key: "singapore" },
          { label: "Belize", key: "belize" },
          { label: "Ghana", key: "ghana" },
          { label: "Nigeria", key: "nigeria" },
          { label: "Philippines", key: "philippines" },
          { label: "Cambodia", key: "cambodia" },
          { label: "Morocco", key: "morocco" },
          { label: "Tunisia", key: "tunisia" },
          { label: "Ethiopia", key: "ethiopia" },
          { label: "Myanmar", key: "myanmar" },
          { label: "Laos", key: "laos" },
          { label: "Spain", key: "spain" },
          { label: "Italy", key: "italy" },
          { label: "Turkey", key: "turkey" },
          { label: "Portugal", key: "portugal" },
          { label: "South Africa", key: "south-africa" },
          { label: "Zimbabwe", key: "zimbabwe" },
          { label: "Kenya", key: "kenya" },
          { label: "Uganda", key: "uganda" },
          { label: "Barbados", key: "barbados" },
          { label: "Grenada", key: "grenada" },
          { label: "Haiti", key: "haiti" },
          { label: "Dominican Republic", key: "dominican-republic" },
          { label: "Costa Rica", key: "costa-rica" },
          { label: "Panama", key: "panama" },
          { label: "Colombia", key: "colombia" },
          { label: "Ecuador", key: "ecuador" },
          { label: "Bolivia", key: "bolivia" },
          { label: "Argentina", key: "argentina" },
          { label: "Chile", key: "chile" },
          { label: "Bhutan", key: "bhutan" },
          { label: "Nepal", key: "nepal" },
          { label: "Bangladesh", key: "bangladesh" },
          { label: "Taiwan", key: "taiwan" },
        ];
        tR("firebase", "11.3.1", "app");
        let Nw = "@firebase/installations",
          NT = "0.6.12",
          NS = 1e4,
          NE = `w:${NT}`,
          NC = "FIS_v2",
          Nx = "https://firebaseinstallations.googleapis.com/v1",
          NA = 36e5,
          NI = new eR("installations", "Installations", {
            "missing-app-config-values":
              'Missing App configuration value: "{$valueName}"',
            "not-registered": "Firebase Installation is not registered.",
            "installation-not-found": "Firebase Installation not found.",
            "request-failed":
              '{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',
            "app-offline": "Could not process request. Application offline.",
            "delete-pending-registration":
              "Can't delete installation while there is a pending registration request.",
          });
        function Nk(e) {
          return e instanceof e_ && e.code.includes("request-failed");
        }
        function N_({ projectId: e }) {
          return `${Nx}/projects/${e}/installations`;
        }
        function NR(e) {
          return {
            token: e.token,
            requestStatus: 2,
            expiresIn: NM(e.expiresIn),
            creationTime: Date.now(),
          };
        }
        async function ND(e, r) {
          let n = (await r.json()).error;
          return NI.create("request-failed", {
            requestName: e,
            serverCode: n.code,
            serverMessage: n.message,
            serverStatus: n.status,
          });
        }
        function NP({ apiKey: e }) {
          return new Headers({
            "Content-Type": "application/json",
            Accept: "application/json",
            "x-goog-api-key": e,
          });
        }
        function NN(e, { refreshToken: r }) {
          let n = NP(e);
          return n.append("Authorization", NL(r)), n;
        }
        async function NO(e) {
          let r = await e();
          return r.status >= 500 && r.status < 600 ? e() : r;
        }
        function NM(e) {
          return Number(e.replace("s", "000"));
        }
        function NL(e) {
          return `${NC} ${e}`;
        }
        async function NB(
          { appConfig: e, heartbeatServiceProvider: r },
          { fid: n },
        ) {
          let i = N_(e),
            s = NP(e),
            a = r.getImmediate({ optional: !0 });
          if (a) {
            let e = await a.getHeartbeatsHeader();
            e && s.append("x-firebase-client", e);
          }
          let o = {
              method: "POST",
              headers: s,
              body: JSON.stringify({
                fid: n,
                authVersion: NC,
                appId: e.appId,
                sdkVersion: NE,
              }),
            },
            l = await NO(() => fetch(i, o));
          if (l.ok) {
            let e = await l.json();
            return {
              fid: e.fid || n,
              registrationStatus: 2,
              refreshToken: e.refreshToken,
              authToken: NR(e.authToken),
            };
          }
          throw await ND("Create Installation", l);
        }
        function NF(e) {
          return new Promise((r) => {
            setTimeout(r, e);
          });
        }
        function NU(e) {
          return btoa(String.fromCharCode(...e))
            .replace(/\+/g, "-")
            .replace(/\//g, "_");
        }
        let Nj = /^[cdef][\w-]{21}$/,
          Nz = "";
        function NV() {
          try {
            let e = new Uint8Array(17);
            (self.crypto || self.msCrypto).getRandomValues(e),
              (e[0] = 112 + (e[0] % 16));
            let r = NK(e);
            return Nj.test(r) ? r : Nz;
          } catch (e) {
            return Nz;
          }
        }
        function NK(e) {
          return NU(e).substr(0, 22);
        }
        function Nq(e) {
          return `${e.appName}!${e.appId}`;
        }
        let NH = new Map();
        function N$(e, r) {
          let n = Nq(e);
          NW(n, r), NG(n, r);
        }
        function NW(e, r) {
          let n = NH.get(e);
          if (n) for (let e of n) e(r);
        }
        function NG(e, r) {
          let n = NY();
          n && n.postMessage({ key: e, fid: r }), NX();
        }
        let NQ = null;
        function NY() {
          return (
            !NQ &&
              "BroadcastChannel" in self &&
              ((NQ = new BroadcastChannel("[Firebase] FID Change")).onmessage =
                (e) => {
                  NW(e.data.key, e.data.fid);
                }),
            NQ
          );
        }
        function NX() {
          0 === NH.size && NQ && (NQ.close(), (NQ = null));
        }
        let NJ = "firebase-installations-database",
          NZ = 1,
          N0 = "firebase-installations-store",
          N1 = null;
        function N2() {
          return (
            N1 ||
              (N1 = ts(NJ, NZ, {
                upgrade: (e, r) => {
                  0 === r && e.createObjectStore(N0);
                },
              })),
            N1
          );
        }
        async function N3(e, r) {
          let n = Nq(e),
            i = (await N2()).transaction(N0, "readwrite"),
            s = i.objectStore(N0),
            a = await s.get(n);
          return (
            await s.put(r, n),
            await i.done,
            (a && a.fid === r.fid) || N$(e, r.fid),
            r
          );
        }
        async function N4(e) {
          let r = Nq(e),
            n = (await N2()).transaction(N0, "readwrite");
          await n.objectStore(N0).delete(r), await n.done;
        }
        async function N5(e, r) {
          let n = Nq(e),
            i = (await N2()).transaction(N0, "readwrite"),
            s = i.objectStore(N0),
            a = await s.get(n),
            o = r(a);
          return (
            void 0 === o ? await s.delete(n) : await s.put(o, n),
            await i.done,
            o && (!a || a.fid !== o.fid) && N$(e, o.fid),
            o
          );
        }
        async function N6(e) {
          let r;
          let n = await N5(e.appConfig, (n) => {
            let i = N7(e, N8(n));
            return (r = i.registrationPromise), i.installationEntry;
          });
          return n.fid === Nz
            ? { installationEntry: await r }
            : { installationEntry: n, registrationPromise: r };
        }
        function N8(e) {
          return Or(e || { fid: NV(), registrationStatus: 0 });
        }
        function N7(e, r) {
          if (0 === r.registrationStatus) {
            if (!navigator.onLine)
              return {
                installationEntry: r,
                registrationPromise: Promise.reject(NI.create("app-offline")),
              };
            let n = {
                fid: r.fid,
                registrationStatus: 1,
                registrationTime: Date.now(),
              },
              i = N9(e, n);
            return { installationEntry: n, registrationPromise: i };
          }
          return 1 === r.registrationStatus
            ? { installationEntry: r, registrationPromise: Oe(e) }
            : { installationEntry: r };
        }
        async function N9(e, r) {
          try {
            let n = await NB(e, r);
            return N3(e.appConfig, n);
          } catch (n) {
            throw (
              (Nk(n) && 409 === n.customData.serverCode
                ? await N4(e.appConfig)
                : await N3(e.appConfig, { fid: r.fid, registrationStatus: 0 }),
              n)
            );
          }
        }
        async function Oe(e) {
          let r = await Ot(e.appConfig);
          for (; 1 === r.registrationStatus; )
            await NF(100), (r = await Ot(e.appConfig));
          if (0 === r.registrationStatus) {
            let { installationEntry: r, registrationPromise: n } = await N6(e);
            return n || r;
          }
          return r;
        }
        function Ot(e) {
          return N5(e, (e) => {
            if (!e) throw NI.create("installation-not-found");
            return Or(e);
          });
        }
        function Or(e) {
          return On(e) ? { fid: e.fid, registrationStatus: 0 } : e;
        }
        function On(e) {
          return (
            1 === e.registrationStatus && e.registrationTime + NS < Date.now()
          );
        }
        async function Oi({ appConfig: e, heartbeatServiceProvider: r }, n) {
          let i = Os(e, n),
            s = NN(e, n),
            a = r.getImmediate({ optional: !0 });
          if (a) {
            let e = await a.getHeartbeatsHeader();
            e && s.append("x-firebase-client", e);
          }
          let o = {
              method: "POST",
              headers: s,
              body: JSON.stringify({
                installation: { sdkVersion: NE, appId: e.appId },
              }),
            },
            l = await NO(() => fetch(i, o));
          if (l.ok) return NR(await l.json());
          throw await ND("Generate Auth Token", l);
        }
        function Os(e, { fid: r }) {
          return `${N_(e)}/${r}/authTokens:generate`;
        }
        async function Oa(e, r = !1) {
          let n;
          let i = await N5(e.appConfig, (i) => {
            if (!Oc(i)) throw NI.create("not-registered");
            let s = i.authToken;
            if (!r && Od(s)) return i;
            if (1 === s.requestStatus) return (n = Oo(e, r)), i;
            {
              if (!navigator.onLine) throw NI.create("app-offline");
              let r = Of(i);
              return (n = Ou(e, r)), r;
            }
          });
          return n ? await n : i.authToken;
        }
        async function Oo(e, r) {
          let n = await Ol(e.appConfig);
          for (; 1 === n.authToken.requestStatus; )
            await NF(100), (n = await Ol(e.appConfig));
          let i = n.authToken;
          return 0 === i.requestStatus ? Oa(e, r) : i;
        }
        function Ol(e) {
          return N5(e, (e) => {
            if (!Oc(e)) throw NI.create("not-registered");
            return Op(e.authToken)
              ? Object.assign(Object.assign({}, e), {
                  authToken: { requestStatus: 0 },
                })
              : e;
          });
        }
        async function Ou(e, r) {
          try {
            let n = await Oi(e, r),
              i = Object.assign(Object.assign({}, r), { authToken: n });
            return await N3(e.appConfig, i), n;
          } catch (n) {
            if (
              Nk(n) &&
              (401 === n.customData.serverCode ||
                404 === n.customData.serverCode)
            )
              await N4(e.appConfig);
            else {
              let n = Object.assign(Object.assign({}, r), {
                authToken: { requestStatus: 0 },
              });
              await N3(e.appConfig, n);
            }
            throw n;
          }
        }
        function Oc(e) {
          return void 0 !== e && 2 === e.registrationStatus;
        }
        function Od(e) {
          return 2 === e.requestStatus && !Oh(e);
        }
        function Oh(e) {
          let r = Date.now();
          return r < e.creationTime || e.creationTime + e.expiresIn < r + NA;
        }
        function Of(e) {
          let r = { requestStatus: 1, requestTime: Date.now() };
          return Object.assign(Object.assign({}, e), { authToken: r });
        }
        function Op(e) {
          return 1 === e.requestStatus && e.requestTime + NS < Date.now();
        }
        async function Og(e) {
          let r = e,
            { installationEntry: n, registrationPromise: i } = await N6(r);
          return i ? i.catch(console.error) : Oa(r).catch(console.error), n.fid;
        }
        async function Om(e, r = !1) {
          let n = e;
          return await Oy(n), (await Oa(n, r)).token;
        }
        async function Oy(e) {
          let { registrationPromise: r } = await N6(e);
          r && (await r);
        }
        function Ov(e) {
          if (!e || !e.options) throw Ob("App Configuration");
          if (!e.name) throw Ob("App Name");
          for (let r of ["projectId", "apiKey", "appId"])
            if (!e.options[r]) throw Ob(r);
          return {
            appName: e.name,
            projectId: e.options.projectId,
            apiKey: e.options.apiKey,
            appId: e.options.appId,
          };
        }
        function Ob(e) {
          return NI.create("missing-app-config-values", { valueName: e });
        }
        let Ow = "installations",
          OT = "installations-internal",
          OS = (e) => {
            let r = e.getProvider("app").getImmediate(),
              n = Ov(r),
              i = tE(r, "heartbeat");
            return {
              app: r,
              appConfig: n,
              heartbeatServiceProvider: i,
              _delete: () => Promise.resolve(),
            };
          },
          OE = (e) => {
            let r = tE(e.getProvider("app").getImmediate(), Ow).getImmediate();
            return { getId: () => Og(r), getToken: (e) => Om(r, e) };
          };
        (function () {
          tS(new ez(Ow, OS, "PUBLIC")), tS(new ez(OT, OE, "PRIVATE"));
        })(),
          tR(Nw, NT),
          tR(Nw, NT, "esm2017");
        let OC = "analytics",
          Ox = "firebase_id",
          OA = "origin",
          OI = 6e4,
          Ok =
            "https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",
          O_ = "https://www.googletagmanager.com/gtag/js",
          OR = new eJ("@firebase/analytics"),
          OD = new eR("analytics", "Analytics", {
            "already-exists":
              "A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",
            "already-initialized":
              "initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.",
            "already-initialized-settings":
              "Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",
            "interop-component-reg-failed":
              "Firebase Analytics Interop Component failed to instantiate: {$reason}",
            "invalid-analytics-context":
              "Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",
            "indexeddb-unavailable":
              "IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",
            "fetch-throttle":
              "The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",
            "config-fetch-failed":
              "Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",
            "no-api-key":
              'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',
            "no-app-id":
              'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',
            "no-client-id": 'The "client_id" field is empty.',
            "invalid-gtag-resource":
              "Trusted Types detected an invalid gtag resource: {$gtagURL}.",
          });
        function OP(e) {
          if (!e.startsWith(O_)) {
            let r = OD.create("invalid-gtag-resource", { gtagURL: e });
            return OR.warn(r.message), "";
          }
          return e;
        }
        function ON(e) {
          return Promise.all(e.map((e) => e.catch((e) => e)));
        }
        function OO(e, r) {
          let n;
          return (
            window.trustedTypes && (n = window.trustedTypes.createPolicy(e, r)),
            n
          );
        }
        function OM(e, r) {
          let n = OO("firebase-js-sdk-policy", { createScriptURL: OP }),
            i = document.createElement("script"),
            s = `${O_}?l=${e}&id=${r}`;
          (i.src = n ? (null == n ? void 0 : n.createScriptURL(s)) : s),
            (i.async = !0),
            document.head.appendChild(i);
        }
        function OL(e) {
          let r = [];
          return (
            Array.isArray(window[e]) ? (r = window[e]) : (window[e] = r), r
          );
        }
        async function OB(e, r, n, i, s, a) {
          let o = i[s];
          try {
            if (o) await r[o];
            else {
              let e = (await ON(n)).find((e) => e.measurementId === s);
              e && (await r[e.appId]);
            }
          } catch (e) {
            OR.error(e);
          }
          e("config", s, a);
        }
        async function OF(e, r, n, i, s) {
          try {
            let a = [];
            if (s && s.send_to) {
              let e = s.send_to;
              Array.isArray(e) || (e = [e]);
              let i = await ON(n);
              for (let n of e) {
                let e = i.find((e) => e.measurementId === n),
                  s = e && r[e.appId];
                if (s) a.push(s);
                else {
                  a = [];
                  break;
                }
              }
            }
            0 === a.length && (a = Object.values(r)),
              await Promise.all(a),
              e("event", i, s || {});
          } catch (e) {
            OR.error(e);
          }
        }
        function OU(e, r, n, i) {
          return async function (s, ...a) {
            try {
              if ("event" === s) {
                let [i, s] = a;
                await OF(e, r, n, i, s);
              } else if ("config" === s) {
                let [s, o] = a;
                await OB(e, r, n, i, s, o);
              } else if ("consent" === s) {
                let [r, n] = a;
                e("consent", r, n);
              } else if ("get" === s) {
                let [r, n, i] = a;
                e("get", r, n, i);
              } else if ("set" === s) {
                let [r] = a;
                e("set", r);
              } else e(s, ...a);
            } catch (e) {
              OR.error(e);
            }
          };
        }
        function Oj(e, r, n, i, s) {
          let a = function (...e) {
            window[i].push(arguments);
          };
          return (
            window[s] && "function" == typeof window[s] && (a = window[s]),
            (window[s] = OU(a, e, r, n)),
            { gtagCore: a, wrappedGtag: window[s] }
          );
        }
        function Oz(e) {
          for (let r of Object.values(
            window.document.getElementsByTagName("script"),
          ))
            if (r.src && r.src.includes(O_) && r.src.includes(e)) return r;
          return null;
        }
        let OV = 30,
          OK = 1e3;
        class Oq {
          constructor(e = {}, r = OK) {
            (this.throttleMetadata = e), (this.intervalMillis = r);
          }
          getThrottleMetadata(e) {
            return this.throttleMetadata[e];
          }
          setThrottleMetadata(e, r) {
            this.throttleMetadata[e] = r;
          }
          deleteThrottleMetadata(e) {
            delete this.throttleMetadata[e];
          }
        }
        let OH = new Oq();
        function O$(e) {
          return new Headers({
            Accept: "application/json",
            "x-goog-api-key": e,
          });
        }
        async function OW(e) {
          var r;
          let { appId: n, apiKey: i } = e,
            s = { method: "GET", headers: O$(i) },
            a = Ok.replace("{app-id}", n),
            o = await fetch(a, s);
          if (200 !== o.status && 304 !== o.status) {
            let e = "";
            try {
              let n = await o.json();
              (null === (r = n.error) || void 0 === r ? void 0 : r.message) &&
                (e = n.error.message);
            } catch (e) {}
            throw OD.create("config-fetch-failed", {
              httpStatus: o.status,
              responseMessage: e,
            });
          }
          return o.json();
        }
        async function OG(e, r = OH, n) {
          let { appId: i, apiKey: s, measurementId: a } = e.options;
          if (!i) throw OD.create("no-app-id");
          if (!s) {
            if (a) return { measurementId: a, appId: i };
            throw OD.create("no-api-key");
          }
          let o = r.getThrottleMetadata(i) || {
              backoffCount: 0,
              throttleEndTimeMillis: Date.now(),
            },
            l = new OJ();
          return (
            setTimeout(
              async () => {
                l.abort();
              },
              void 0 !== n ? n : OI,
            ),
            OQ({ appId: i, apiKey: s, measurementId: a }, o, l, r)
          );
        }
        async function OQ(
          e,
          { throttleEndTimeMillis: r, backoffCount: n },
          i,
          s = OH,
        ) {
          var a;
          let { appId: o, measurementId: l } = e;
          try {
            await OY(i, r);
          } catch (e) {
            if (l)
              return (
                OR.warn(
                  `Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null == e ? void 0 : e.message}]`,
                ),
                { appId: o, measurementId: l }
              );
            throw e;
          }
          try {
            let r = await OW(e);
            return s.deleteThrottleMetadata(o), r;
          } catch (d) {
            let r = d;
            if (!OX(r)) {
              if ((s.deleteThrottleMetadata(o), l))
                return (
                  OR.warn(
                    `Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null == r ? void 0 : r.message}]`,
                  ),
                  { appId: o, measurementId: l }
                );
              throw d;
            }
            let u =
                503 ===
                Number(
                  null === (a = null == r ? void 0 : r.customData) ||
                    void 0 === a
                    ? void 0
                    : a.httpStatus,
                )
                  ? eU(n, s.intervalMillis, OV)
                  : eU(n, s.intervalMillis),
              c = {
                throttleEndTimeMillis: Date.now() + u,
                backoffCount: n + 1,
              };
            return (
              s.setThrottleMetadata(o, c),
              OR.debug(`Calling attemptFetch again in ${u} millis`),
              OQ(e, c, i, s)
            );
          }
        }
        function OY(e, r) {
          return new Promise((n, i) => {
            let s = setTimeout(n, Math.max(r - Date.now(), 0));
            e.addEventListener(() => {
              clearTimeout(s),
                i(OD.create("fetch-throttle", { throttleEndTimeMillis: r }));
            });
          });
        }
        function OX(e) {
          if (!(e instanceof e_) || !e.customData) return !1;
          let r = Number(e.customData.httpStatus);
          return 429 === r || 500 === r || 503 === r || 504 === r;
        }
        class OJ {
          constructor() {
            this.listeners = [];
          }
          addEventListener(e) {
            this.listeners.push(e);
          }
          abort() {
            this.listeners.forEach((e) => e());
          }
        }
        async function OZ(e, r, n, i, s) {
          if (s && s.global) {
            e("event", n, i);
            return;
          }
          {
            let s = await r;
            e("event", n, Object.assign(Object.assign({}, i), { send_to: s }));
          }
        }
        function O0(e) {
          u = e;
        }
        function O1(e) {
          l = e;
        }
        async function O2() {
          if (!ex())
            return (
              OR.warn(
                OD.create("indexeddb-unavailable", {
                  errorInfo: "IndexedDB is not available in this environment.",
                }).message,
              ),
              !1
            );
          try {
            await eA();
          } catch (e) {
            return (
              OR.warn(
                OD.create("indexeddb-unavailable", {
                  errorInfo: null == e ? void 0 : e.toString(),
                }).message,
              ),
              !1
            );
          }
          return !0;
        }
        async function O3(e, r, n, i, s, a, o) {
          var c;
          let d = OG(e);
          d
            .then((r) => {
              (n[r.measurementId] = r.appId),
                e.options.measurementId &&
                  r.measurementId !== e.options.measurementId &&
                  OR.warn(
                    `The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`,
                  );
            })
            .catch((e) => OR.error(e)),
            r.push(d);
          let h = O2().then((e) => (e ? i.getId() : void 0)),
            [f, p] = await Promise.all([d, h]);
          Oz(a) || OM(a, f.measurementId),
            u && (s("consent", "default", u), O0(void 0)),
            s("js", new Date());
          let g =
            null !== (c = null == o ? void 0 : o.config) && void 0 !== c
              ? c
              : {};
          return (
            (g[OA] = "firebase"),
            (g.update = !0),
            null != p && (g[Ox] = p),
            s("config", f.measurementId, g),
            l && (s("set", l), O1(void 0)),
            f.measurementId
          );
        }
        class O4 {
          constructor(e) {
            this.app = e;
          }
          _delete() {
            return delete O5[this.app.options.appId], Promise.resolve();
          }
        }
        let O5 = {},
          O6 = [],
          O8 = {},
          O7 = "dataLayer",
          O9 = "gtag",
          Me = !1;
        function Mt() {
          let e = [];
          if (
            (eE() && e.push("This is a browser extension environment."),
            eI() || e.push("Cookies are not available."),
            e.length > 0)
          ) {
            let r = e.map((e, r) => `(${r + 1}) ${e}`).join(" "),
              n = OD.create("invalid-analytics-context", { errorInfo: r });
            OR.warn(n.message);
          }
        }
        function Mr(e, r, n) {
          Mt();
          let i = e.options.appId;
          if (!i) throw OD.create("no-app-id");
          if (!e.options.apiKey) {
            if (e.options.measurementId)
              OR.warn(
                `The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`,
              );
            else throw OD.create("no-api-key");
          }
          if (null != O5[i]) throw OD.create("already-exists", { id: i });
          if (!Me) {
            OL(O7);
            let { wrappedGtag: e, gtagCore: r } = Oj(O5, O6, O8, O7, O9);
            (d = e), (c = r), (Me = !0);
          }
          return (O5[i] = O3(e, O6, O8, r, c, O7, n)), new O4(e);
        }
        function Mn(e, r, n, i) {
          (e = ej(e)),
            OZ(d, O5[e.app.options.appId], r, n, i).catch((e) => OR.error(e));
        }
        let Mi = "@firebase/analytics",
          Ms = "0.10.11";
        (function () {
          function e(e) {
            try {
              let r = e.getProvider(OC).getImmediate();
              return { logEvent: (e, n, i) => Mn(r, e, n, i) };
            } catch (e) {
              throw OD.create("interop-component-reg-failed", { reason: e });
            }
          }
          tS(
            new ez(
              OC,
              (e, { options: r }) =>
                Mr(
                  e.getProvider("app").getImmediate(),
                  e.getProvider("installations-internal").getImmediate(),
                  r,
                ),
              "PUBLIC",
            ),
          ),
            tS(new ez("analytics-internal", e, "PRIVATE")),
            tR(Mi, Ms),
            tR(Mi, Ms, "esm2017");
        })(),
          tk({
            apiKey: "AIzaSyBsqd_0aw1mnFpJQ249to-RjFsv9x-99Us",
            authDomain: "hotsaucebay-bbf90.firebaseapp.com",
            projectId: "hotsaucebay-bbf90",
            storageBucket: "hotsaucebay-bbf90.firebasestorage.app",
            messagingSenderId: "601546534110",
            appId: "1:601546534110:web:6e8af9d49cfcf922cf664f",
            measurementId: "G-Z58FCN3LXX",
          });
        let Ma = mU(),
          Mo = bJ();
        function Ml() {
          let [e, r] = (0, T.useState)(!1),
            [n, i] = (0, T.useState)(null);
          return {
            addProduct: async (e) => {
              r(!0), i(null);
              try {
                await y$(mN(Ma, "products"), e);
              } catch (e) {
                console.error("Error adding product:", e),
                  i(e instanceof Error ? e : Error("Unknown error"));
              } finally {
                r(!1);
              }
            },
            loading: e,
            error: n,
          };
        }
        let Mu = (e) => ("all" === e ? 0 : e instanceof Set ? e.size : 0),
          Mc = (e) => ("all" === e ? [] : Array.from(e));
        function Md() {
          let { addProduct: e, loading: r, error: n } = Ml(),
            [i, s] = (0, T.useState)([]),
            [a, o] = (0, T.useState)([]),
            [l, u] = (0, T.useState)([]),
            [c, d] = (0, T.useState)(new Set([])),
            [h, f] = (0, T.useState)(new Set([])),
            [p, g] = (0, T.useState)(""),
            [m, y] = (0, T.useState)(""),
            [v, b] = (0, T.useState)(""),
            [S, E] = (0, T.useState)(""),
            [C, x] = (0, T.useState)(""),
            [A, I] = (0, T.useState)(""),
            [k, _] = (0, T.useState)(""),
            [R, D] = (0, T.useState)(""),
            [P, N] = (0, T.useState)(!1),
            [O, M] = (0, T.useState)(!1),
            L = (e) => {
              e.target.files &&
                e.target.files.length > 0 &&
                o(Array.from(e.target.files));
            },
            B = async () => {
              if (!p) {
                alert("Please enter a product name before uploading images");
                return;
              }
              try {
                let e = a.map(async (e) => {
                    let r = await er(e, {
                        maxSizeMB: 0.5,
                        maxWidthOrHeight: 800,
                        useWebWorker: !0,
                      }),
                      n = bX(Mo, `images/products/${p}/${e.name}`);
                    return await bQ(n, r), bY(n);
                  }),
                  r = await Promise.all(e);
                u(r), M(!0);
              } catch (e) {
                console.error("Error uploading images:", e),
                  alert("Error uploading images. Please try again.");
              }
            },
            F = async (r) => {
              if ((r.preventDefault(), !O)) {
                alert("Please upload images before submitting");
                return;
              }
              try {
                let r = Mc(h),
                  n = Mc(c),
                  s = {
                    name: p,
                    brand: m,
                    countries: r.map((e) => Nb.find((r) => r.key === e)),
                    shu: Number(v),
                    bayscore: Number(S),
                    url: C,
                    affLink: A,
                    dateAdded: yY(),
                    categories: [{ label: "Hot Sauce", key: "hotsauce" }],
                    ingredients: n.map((e) => i.find((r) => r.key === e)),
                    description: k,
                    imageUrls: l,
                    slug: R.toLowerCase().replace(/\s+/g, "-"),
                  };
                await e(s), U(), N(!0), setTimeout(() => N(!1), 2e3);
              } catch (e) {
                console.error("Error adding product:", e);
              }
            },
            U = () => {
              g(""),
                y(""),
                b(""),
                E(""),
                x(""),
                I(""),
                _(""),
                D(""),
                o([]),
                u([]),
                f(new Set([])),
                d(new Set([])),
                M(!1);
            };
          return (0, w.jsx)("div", {
            className: "max-w-4xl mx-auto p-6",
            children: (0, w.jsxs)("div", {
              className: "flex flex-col space-y-6",
              children: [
                (0, w.jsx)("h1", {
                  className: "text-3xl font-bold",
                  children: "Add New Hot Sauce",
                }),
                (0, w.jsxs)("form", {
                  onSubmit: F,
                  className: "space-y-6",
                  children: [
                    (0, w.jsxs)("div", {
                      className: "grid grid-cols-2 gap-4",
                      children: [
                        (0, w.jsxs)("div", {
                          className: "space-y-4",
                          children: [
                            (0, w.jsxs)(AP, {
                              children: [
                                (0, w.jsx)(Iz, {
                                  children: (0, w.jsxs)(Nv.T, {
                                    variant: "bordered",
                                    className: "w-full",
                                    children: [
                                      "Select Countries (",
                                      Mu(h),
                                      ")",
                                    ],
                                  }),
                                }),
                                (0, w.jsx)(P$, {
                                  items: Nb,
                                  closeOnSelect: !1,
                                  selectedKeys: h,
                                  selectionMode: "multiple",
                                  onSelectionChange: f,
                                  children: (e) =>
                                    (0, w.jsx)(
                                      PQ,
                                      { children: e.label },
                                      e.key,
                                    ),
                                }),
                              ],
                            }),
                            (0, w.jsxs)(AP, {
                              children: [
                                (0, w.jsx)(Iz, {
                                  children: (0, w.jsxs)(Nv.T, {
                                    variant: "bordered",
                                    className: "w-full",
                                    children: [
                                      "Select Ingredients (",
                                      Mu(c),
                                      ")",
                                    ],
                                  }),
                                }),
                                (0, w.jsx)(P$, {
                                  items: i,
                                  closeOnSelect: !1,
                                  selectedKeys: c,
                                  selectionMode: "multiple",
                                  onSelectionChange: d,
                                  children: (e) =>
                                    (0, w.jsx)(
                                      PQ,
                                      { children: e.label },
                                      e.key,
                                    ),
                                }),
                              ],
                            }),
                          ],
                        }),
                        (0, w.jsxs)("div", {
                          className: "space-y-4",
                          children: [
                            (0, w.jsx)("input", {
                              type: "text",
                              placeholder: "Name",
                              value: p,
                              onChange: (e) => {
                                g(e.target.value),
                                  D(
                                    e.target.value
                                      .toLowerCase()
                                      .replace(/\s+/g, "-"),
                                  );
                              },
                              className: "w-full p-2 border rounded",
                              required: !0,
                            }),
                            (0, w.jsx)("input", {
                              type: "text",
                              placeholder: "Slug",
                              value: R,
                              onChange: (e) =>
                                D(
                                  e.target.value
                                    .toLowerCase()
                                    .replace(/\s+/g, "-"),
                                ),
                              className: "w-full p-2 border rounded",
                              required: !0,
                            }),
                            (0, w.jsx)("input", {
                              type: "text",
                              placeholder: "Brand",
                              value: m,
                              onChange: (e) => y(e.target.value),
                              className: "w-full p-2 border rounded",
                              required: !0,
                            }),
                          ],
                        }),
                      ],
                    }),
                    (0, w.jsxs)("div", {
                      className: "grid grid-cols-2 gap-4",
                      children: [
                        (0, w.jsx)("input", {
                          type: "number",
                          placeholder: "Scoville Heat Units",
                          value: v,
                          onChange: (e) => b(e.target.value),
                          className: "p-2 border rounded",
                          required: !0,
                          min: "0",
                        }),
                        (0, w.jsx)("input", {
                          type: "number",
                          placeholder: "Bayscore Rating",
                          value: S,
                          onChange: (e) => E(e.target.value),
                          className: "p-2 border rounded",
                          required: !0,
                          min: "0",
                          max: "10",
                          step: "0.1",
                        }),
                      ],
                    }),
                    (0, w.jsxs)("div", {
                      className: "space-y-4",
                      children: [
                        (0, w.jsx)("input", {
                          type: "url",
                          placeholder: "Product URL",
                          value: C,
                          onChange: (e) => x(e.target.value),
                          className: "w-full p-2 border rounded",
                          required: !0,
                        }),
                        (0, w.jsx)("input", {
                          type: "url",
                          placeholder: "Affiliate Link",
                          value: A,
                          onChange: (e) => I(e.target.value),
                          className: "w-full p-2 border rounded",
                        }),
                      ],
                    }),
                    (0, w.jsx)(Ny, {
                      placeholder: "Description",
                      value: k,
                      onChange: (e) => _(e.target.value),
                      className: "w-full min-h-[100px]",
                      required: !0,
                    }),
                    (0, w.jsxs)("div", {
                      className: "space-y-2",
                      children: [
                        (0, w.jsx)("input", {
                          type: "file",
                          multiple: !0,
                          accept: "image/*",
                          onChange: L,
                          className: "w-full",
                          required: !0,
                        }),
                        (0, w.jsx)(Nv.T, {
                          onPress: B,
                          disabled: 0 === a.length || !p,
                          color: "secondary",
                          className: "w-full",
                          children: "Upload Images",
                        }),
                        O &&
                          (0, w.jsx)("p", {
                            className: "text-green-500",
                            children: "Images uploaded successfully!",
                          }),
                      ],
                    }),
                    (0, w.jsx)(Nv.T, {
                      type: "submit",
                      color: "primary",
                      className: "w-full",
                      disabled: r || !O,
                      children: r ? "Adding..." : "Add Hot Sauce",
                    }),
                  ],
                }),
                P &&
                  (0, w.jsx)("div", {
                    className:
                      "fixed bottom-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg",
                    children: "Product added successfully!",
                  }),
                n &&
                  (0, w.jsxs)("div", {
                    className:
                      "fixed bottom-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg",
                    children: ["Error: ", n.message],
                  }),
              ],
            }),
          });
        }
      },
      24785: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.addAdminServicesToServer = r.registerAdminService = void 0);
        let n = [];
        function i(e, r) {
          n.push({ getServiceDefinition: e, getHandlers: r });
        }
        function s(e) {
          for (let { getServiceDefinition: r, getHandlers: i } of n)
            e.addService(r(), i());
        }
        (r.registerAdminService = i), (r.addAdminServicesToServer = s);
      },
      32064: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.BackoffTimeout = void 0);
        let n = 1e3,
          i = 1.6,
          s = 12e4,
          a = 0.2;
        function o(e, r) {
          return Math.random() * (r - e) + e;
        }
        class l {
          constructor(e, r) {
            (this.callback = e),
              (this.initialDelay = n),
              (this.multiplier = i),
              (this.maxDelay = s),
              (this.jitter = a),
              (this.running = !1),
              (this.hasRef = !0),
              (this.startTime = new Date()),
              (this.endTime = new Date()),
              r &&
                (r.initialDelay && (this.initialDelay = r.initialDelay),
                r.multiplier && (this.multiplier = r.multiplier),
                r.jitter && (this.jitter = r.jitter),
                r.maxDelay && (this.maxDelay = r.maxDelay)),
              (this.nextDelay = this.initialDelay),
              (this.timerId = setTimeout(() => {}, 0)),
              clearTimeout(this.timerId);
          }
          runTimer(e) {
            var r, n;
            (this.endTime = this.startTime),
              this.endTime.setMilliseconds(
                this.endTime.getMilliseconds() + this.nextDelay,
              ),
              clearTimeout(this.timerId),
              (this.timerId = setTimeout(() => {
                this.callback(), (this.running = !1);
              }, e)),
              this.hasRef ||
                null === (n = (r = this.timerId).unref) ||
                void 0 === n ||
                n.call(r);
          }
          runOnce() {
            (this.running = !0),
              (this.startTime = new Date()),
              this.runTimer(this.nextDelay);
            let e = Math.min(this.nextDelay * this.multiplier, this.maxDelay),
              r = e * this.jitter;
            this.nextDelay = e + o(-r, r);
          }
          stop() {
            clearTimeout(this.timerId), (this.running = !1);
          }
          reset() {
            if (((this.nextDelay = this.initialDelay), this.running)) {
              let e = new Date(),
                r = this.startTime;
              r.setMilliseconds(r.getMilliseconds() + this.nextDelay),
                clearTimeout(this.timerId),
                e < r
                  ? this.runTimer(r.getTime() - e.getTime())
                  : (this.running = !1);
            }
          }
          isRunning() {
            return this.running;
          }
          ref() {
            var e, r;
            (this.hasRef = !0),
              null === (r = (e = this.timerId).ref) ||
                void 0 === r ||
                r.call(e);
          }
          unref() {
            var e, r;
            (this.hasRef = !1),
              null === (r = (e = this.timerId).unref) ||
                void 0 === r ||
                r.call(e);
          }
          getEndTime() {
            return this.endTime;
          }
        }
        r.BackoffTimeout = l;
      },
      77123: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.CallCredentials = void 0);
        let i = n(96045);
        function s(e) {
          return (
            "getRequestHeaders" in e && "function" == typeof e.getRequestHeaders
          );
        }
        class a {
          static createFromMetadataGenerator(e) {
            return new l(e);
          }
          static createFromGoogleCredential(e) {
            return a.createFromMetadataGenerator((r, n) => {
              let a;
              (a = s(e)
                ? e.getRequestHeaders(r.service_url)
                : new Promise((n, i) => {
                    e.getRequestMetadata(r.service_url, (e, r) => {
                      if (e) {
                        i(e);
                        return;
                      }
                      if (!r) {
                        i(Error("Headers not set by metadata plugin"));
                        return;
                      }
                      n(r);
                    });
                  })).then(
                (e) => {
                  let r = new i.Metadata();
                  for (let n of Object.keys(e)) r.add(n, e[n]);
                  n(null, r);
                },
                (e) => {
                  n(e);
                },
              );
            });
          }
          static createEmpty() {
            return new u();
          }
        }
        r.CallCredentials = a;
        class o extends a {
          constructor(e) {
            super(), (this.creds = e);
          }
          async generateMetadata(e) {
            let r = new i.Metadata();
            for (let n of await Promise.all(
              this.creds.map((r) => r.generateMetadata(e)),
            ))
              r.merge(n);
            return r;
          }
          compose(e) {
            return new o(this.creds.concat([e]));
          }
          _equals(e) {
            return (
              this === e ||
              (e instanceof o &&
                this.creds.every((r, n) => r._equals(e.creds[n])))
            );
          }
        }
        class l extends a {
          constructor(e) {
            super(), (this.metadataGenerator = e);
          }
          generateMetadata(e) {
            return new Promise((r, n) => {
              this.metadataGenerator(e, (e, i) => {
                void 0 !== i ? r(i) : n(e);
              });
            });
          }
          compose(e) {
            return new o([this, e]);
          }
          _equals(e) {
            return (
              this === e ||
              (e instanceof l && this.metadataGenerator === e.metadataGenerator)
            );
          }
        }
        class u extends a {
          generateMetadata(e) {
            return Promise.resolve(new i.Metadata());
          }
          compose(e) {
            return e;
          }
          _equals(e) {
            return e instanceof u;
          }
        }
      },
      44306: (e, r) => {
        "use strict";
        function n(e) {
          return (
            void 0 !== e.onReceiveMetadata && 1 === e.onReceiveMetadata.length
          );
        }
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.InterceptingListenerImpl = r.isInterceptingListener = void 0),
          (r.isInterceptingListener = n);
        class i {
          constructor(e, r) {
            (this.listener = e),
              (this.nextListener = r),
              (this.processingMetadata = !1),
              (this.hasPendingMessage = !1),
              (this.processingMessage = !1),
              (this.pendingStatus = null);
          }
          processPendingMessage() {
            this.hasPendingMessage &&
              (this.nextListener.onReceiveMessage(this.pendingMessage),
              (this.pendingMessage = null),
              (this.hasPendingMessage = !1));
          }
          processPendingStatus() {
            this.pendingStatus &&
              this.nextListener.onReceiveStatus(this.pendingStatus);
          }
          onReceiveMetadata(e) {
            (this.processingMetadata = !0),
              this.listener.onReceiveMetadata(e, (e) => {
                (this.processingMetadata = !1),
                  this.nextListener.onReceiveMetadata(e),
                  this.processPendingMessage(),
                  this.processPendingStatus();
              });
          }
          onReceiveMessage(e) {
            (this.processingMessage = !0),
              this.listener.onReceiveMessage(e, (e) => {
                (this.processingMessage = !1),
                  this.processingMetadata
                    ? ((this.pendingMessage = e), (this.hasPendingMessage = !0))
                    : (this.nextListener.onReceiveMessage(e),
                      this.processPendingStatus());
              });
          }
          onReceiveStatus(e) {
            this.listener.onReceiveStatus(e, (e) => {
              this.processingMetadata || this.processingMessage
                ? (this.pendingStatus = e)
                : this.nextListener.onReceiveStatus(e);
            });
          }
        }
        r.InterceptingListenerImpl = i;
      },
      75032: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.getNextCallNumber = void 0);
        let n = 0;
        function i() {
          return n++;
        }
        r.getNextCallNumber = i;
      },
      33972: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ClientDuplexStreamImpl =
            r.ClientWritableStreamImpl =
            r.ClientReadableStreamImpl =
            r.ClientUnaryCallImpl =
            r.callErrorFromStatus =
              void 0);
        let i = n(94735),
          s = n(27910),
          a = n(2403);
        function o(e, r) {
          let n = `${e.code} ${a.Status[e.code]}: ${e.details}`,
            i = Error(n),
            s = `${i.stack}
for call at
${r}`;
          return Object.assign(Error(n), e, { stack: s });
        }
        r.callErrorFromStatus = o;
        class l extends i.EventEmitter {
          constructor() {
            super();
          }
          cancel() {
            var e;
            null === (e = this.call) ||
              void 0 === e ||
              e.cancelWithStatus(a.Status.CANCELLED, "Cancelled on client");
          }
          getPeer() {
            var e, r;
            return null !==
              (r =
                null === (e = this.call) || void 0 === e
                  ? void 0
                  : e.getPeer()) && void 0 !== r
              ? r
              : "unknown";
          }
        }
        r.ClientUnaryCallImpl = l;
        class u extends s.Readable {
          constructor(e) {
            super({ objectMode: !0 }), (this.deserialize = e);
          }
          cancel() {
            var e;
            null === (e = this.call) ||
              void 0 === e ||
              e.cancelWithStatus(a.Status.CANCELLED, "Cancelled on client");
          }
          getPeer() {
            var e, r;
            return null !==
              (r =
                null === (e = this.call) || void 0 === e
                  ? void 0
                  : e.getPeer()) && void 0 !== r
              ? r
              : "unknown";
          }
          _read(e) {
            var r;
            null === (r = this.call) || void 0 === r || r.startRead();
          }
        }
        r.ClientReadableStreamImpl = u;
        class c extends s.Writable {
          constructor(e) {
            super({ objectMode: !0 }), (this.serialize = e);
          }
          cancel() {
            var e;
            null === (e = this.call) ||
              void 0 === e ||
              e.cancelWithStatus(a.Status.CANCELLED, "Cancelled on client");
          }
          getPeer() {
            var e, r;
            return null !==
              (r =
                null === (e = this.call) || void 0 === e
                  ? void 0
                  : e.getPeer()) && void 0 !== r
              ? r
              : "unknown";
          }
          _write(e, r, n) {
            var i;
            let s = { callback: n },
              a = Number(r);
            Number.isNaN(a) || (s.flags = a),
              null === (i = this.call) ||
                void 0 === i ||
                i.sendMessageWithContext(s, e);
          }
          _final(e) {
            var r;
            null === (r = this.call) || void 0 === r || r.halfClose(), e();
          }
        }
        r.ClientWritableStreamImpl = c;
        class d extends s.Duplex {
          constructor(e, r) {
            super({ objectMode: !0 }),
              (this.serialize = e),
              (this.deserialize = r);
          }
          cancel() {
            var e;
            null === (e = this.call) ||
              void 0 === e ||
              e.cancelWithStatus(a.Status.CANCELLED, "Cancelled on client");
          }
          getPeer() {
            var e, r;
            return null !==
              (r =
                null === (e = this.call) || void 0 === e
                  ? void 0
                  : e.getPeer()) && void 0 !== r
              ? r
              : "unknown";
          }
          _read(e) {
            var r;
            null === (r = this.call) || void 0 === r || r.startRead();
          }
          _write(e, r, n) {
            var i;
            let s = { callback: n },
              a = Number(r);
            Number.isNaN(a) || (s.flags = a),
              null === (i = this.call) ||
                void 0 === i ||
                i.sendMessageWithContext(s, e);
          }
          _final(e) {
            var r;
            null === (r = this.call) || void 0 === r || r.halfClose(), e();
          }
        }
        r.ClientDuplexStreamImpl = d;
      },
      34114: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ChannelCredentials = void 0);
        let i = n(34631),
          s = n(77123),
          a = n(26207);
        function o(e, r) {
          if (e && !(e instanceof Buffer))
            throw TypeError(`${r}, if provided, must be a Buffer.`);
        }
        class l {
          constructor(e) {
            this.callCredentials = e || s.CallCredentials.createEmpty();
          }
          _getCallCredentials() {
            return this.callCredentials;
          }
          static createSsl(e, r, n, s) {
            var l;
            if (
              (o(e, "Root certificate"),
              o(r, "Private key"),
              o(n, "Certificate chain"),
              r && !n)
            )
              throw Error(
                "Private key must be given with accompanying certificate chain",
              );
            if (!r && n)
              throw Error(
                "Certificate chain must be given with accompanying private key",
              );
            return new c(
              (0, i.createSecureContext)({
                ca:
                  null !== (l = null != e ? e : (0, a.getDefaultRootsData)()) &&
                  void 0 !== l
                    ? l
                    : void 0,
                key: null != r ? r : void 0,
                cert: null != n ? n : void 0,
                ciphers: a.CIPHER_SUITES,
              }),
              null != s ? s : {},
            );
          }
          static createFromSecureContext(e, r) {
            return new c(e, null != r ? r : {});
          }
          static createInsecure() {
            return new u();
          }
        }
        r.ChannelCredentials = l;
        class u extends l {
          constructor(e) {
            super(e);
          }
          compose(e) {
            throw Error("Cannot compose insecure credentials");
          }
          _getConnectionOptions() {
            return null;
          }
          _isSecure() {
            return !1;
          }
          _equals(e) {
            return e instanceof u;
          }
        }
        class c extends l {
          constructor(e, r) {
            super(),
              (this.secureContext = e),
              (this.verifyOptions = r),
              (this.connectionOptions = { secureContext: e }),
              (null == r ? void 0 : r.checkServerIdentity) &&
                (this.connectionOptions.checkServerIdentity =
                  r.checkServerIdentity);
          }
          compose(e) {
            return new d(this, this.callCredentials.compose(e));
          }
          _getConnectionOptions() {
            return Object.assign({}, this.connectionOptions);
          }
          _isSecure() {
            return !0;
          }
          _equals(e) {
            return (
              this === e ||
              (e instanceof c &&
                this.secureContext === e.secureContext &&
                this.verifyOptions.checkServerIdentity ===
                  e.verifyOptions.checkServerIdentity)
            );
          }
        }
        class d extends l {
          constructor(e, r) {
            super(r), (this.channelCredentials = e);
          }
          compose(e) {
            let r = this.callCredentials.compose(e);
            return new d(this.channelCredentials, r);
          }
          _getConnectionOptions() {
            return this.channelCredentials._getConnectionOptions();
          }
          _isSecure() {
            return !0;
          }
          _equals(e) {
            return (
              this === e ||
              (e instanceof d &&
                this.channelCredentials._equals(e.channelCredentials) &&
                this.callCredentials._equals(e.callCredentials))
            );
          }
        }
      },
      93782: (e, r) => {
        "use strict";
        function n(e, r) {
          let n = Object.keys(e).sort(),
            i = Object.keys(r).sort();
          if (n.length !== i.length) return !1;
          for (let s = 0; s < n.length; s += 1)
            if (n[s] !== i[s] || e[n[s]] !== r[i[s]]) return !1;
          return !0;
        }
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.channelOptionsEqual = r.recognizedOptions = void 0),
          (r.recognizedOptions = {
            "grpc.ssl_target_name_override": !0,
            "grpc.primary_user_agent": !0,
            "grpc.secondary_user_agent": !0,
            "grpc.default_authority": !0,
            "grpc.keepalive_time_ms": !0,
            "grpc.keepalive_timeout_ms": !0,
            "grpc.keepalive_permit_without_calls": !0,
            "grpc.service_config": !0,
            "grpc.max_concurrent_streams": !0,
            "grpc.initial_reconnect_backoff_ms": !0,
            "grpc.max_reconnect_backoff_ms": !0,
            "grpc.use_local_subchannel_pool": !0,
            "grpc.max_send_message_length": !0,
            "grpc.max_receive_message_length": !0,
            "grpc.enable_http_proxy": !0,
            "grpc.enable_channelz": !0,
            "grpc.dns_min_time_between_resolutions_ms": !0,
            "grpc.enable_retries": !0,
            "grpc.per_rpc_retry_buffer_size": !0,
            "grpc.retry_buffer_size": !0,
            "grpc.max_connection_age_ms": !0,
            "grpc.max_connection_age_grace_ms": !0,
            "grpc-node.max_session_memory": !0,
            "grpc.service_config_disable_resolution": !0,
            "grpc.client_idle_timeout_ms": !0,
            "grpc-node.tls_enable_trace": !0,
          }),
          (r.channelOptionsEqual = n);
      },
      39017: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ChannelImplementation = void 0);
        let i = n(34114),
          s = n(64403);
        class a {
          constructor(e, r, n) {
            if ("string" != typeof e)
              throw TypeError("Channel target must be a string");
            if (!(r instanceof i.ChannelCredentials))
              throw TypeError(
                "Channel credentials must be a ChannelCredentials object",
              );
            if (n && "object" != typeof n)
              throw TypeError("Channel options must be an object");
            this.internalChannel = new s.InternalChannel(e, r, n);
          }
          close() {
            this.internalChannel.close();
          }
          getTarget() {
            return this.internalChannel.getTarget();
          }
          getConnectivityState(e) {
            return this.internalChannel.getConnectivityState(e);
          }
          watchConnectivityState(e, r, n) {
            this.internalChannel.watchConnectivityState(e, r, n);
          }
          getChannelzRef() {
            return this.internalChannel.getChannelzRef();
          }
          createCall(e, r, n, i, s) {
            if ("string" != typeof e)
              throw TypeError("Channel#createCall: method must be a string");
            if (!("number" == typeof r || r instanceof Date))
              throw TypeError(
                "Channel#createCall: deadline must be a number or Date",
              );
            return this.internalChannel.createCall(e, r, n, i, s);
          }
        }
        r.ChannelImplementation = a;
      },
      35127: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup =
            r.getChannelzServiceDefinition =
            r.getChannelzHandlers =
            r.unregisterChannelzRef =
            r.registerChannelzSocket =
            r.registerChannelzServer =
            r.registerChannelzSubchannel =
            r.registerChannelzChannel =
            r.ChannelzCallTracker =
            r.ChannelzChildrenTracker =
            r.ChannelzTrace =
              void 0);
        let i = n(91645),
          s = n(40655),
          a = n(2403),
          o = n(45648),
          l = n(24785),
          u = n(4372);
        function c(e) {
          return { channel_id: e.id, name: e.name };
        }
        function d(e) {
          return { subchannel_id: e.id, name: e.name };
        }
        function h(e) {
          return { server_id: e.id };
        }
        function f(e) {
          return { socket_id: e.id, name: e.name };
        }
        let p = 32;
        class g {
          constructor() {
            (this.events = []),
              (this.eventsLogged = 0),
              (this.creationTimestamp = new Date());
          }
          addTrace(e, r, n) {
            let i = new Date();
            this.events.push({
              description: r,
              severity: e,
              timestamp: i,
              childChannel:
                (null == n ? void 0 : n.kind) === "channel" ? n : void 0,
              childSubchannel:
                (null == n ? void 0 : n.kind) === "subchannel" ? n : void 0,
            }),
              this.events.length >= 2 * p &&
                (this.events = this.events.slice(p)),
              (this.eventsLogged += 1);
          }
          getTraceMessage() {
            return {
              creation_timestamp: N(this.creationTimestamp),
              num_events_logged: this.eventsLogged,
              events: this.events.map((e) => ({
                description: e.description,
                severity: e.severity,
                timestamp: N(e.timestamp),
                channel_ref: e.childChannel ? c(e.childChannel) : null,
                subchannel_ref: e.childSubchannel ? d(e.childSubchannel) : null,
              })),
            };
          }
        }
        r.ChannelzTrace = g;
        class m {
          constructor() {
            (this.channelChildren = new Map()),
              (this.subchannelChildren = new Map()),
              (this.socketChildren = new Map());
          }
          refChild(e) {
            var r, n, i;
            switch (e.kind) {
              case "channel": {
                let n =
                  null !== (r = this.channelChildren.get(e.id)) && void 0 !== r
                    ? r
                    : { ref: e, count: 0 };
                (n.count += 1), this.channelChildren.set(e.id, n);
                break;
              }
              case "subchannel": {
                let r =
                  null !== (n = this.subchannelChildren.get(e.id)) &&
                  void 0 !== n
                    ? n
                    : { ref: e, count: 0 };
                (r.count += 1), this.subchannelChildren.set(e.id, r);
                break;
              }
              case "socket": {
                let r =
                  null !== (i = this.socketChildren.get(e.id)) && void 0 !== i
                    ? i
                    : { ref: e, count: 0 };
                (r.count += 1), this.socketChildren.set(e.id, r);
              }
            }
          }
          unrefChild(e) {
            switch (e.kind) {
              case "channel": {
                let r = this.channelChildren.get(e.id);
                void 0 !== r &&
                  ((r.count -= 1),
                  0 === r.count
                    ? this.channelChildren.delete(e.id)
                    : this.channelChildren.set(e.id, r));
                break;
              }
              case "subchannel": {
                let r = this.subchannelChildren.get(e.id);
                void 0 !== r &&
                  ((r.count -= 1),
                  0 === r.count
                    ? this.subchannelChildren.delete(e.id)
                    : this.subchannelChildren.set(e.id, r));
                break;
              }
              case "socket": {
                let r = this.socketChildren.get(e.id);
                void 0 !== r &&
                  ((r.count -= 1),
                  0 === r.count
                    ? this.socketChildren.delete(e.id)
                    : this.socketChildren.set(e.id, r));
              }
            }
          }
          getChildLists() {
            let e = [];
            for (let { ref: r } of this.channelChildren.values()) e.push(r);
            let r = [];
            for (let { ref: e } of this.subchannelChildren.values()) r.push(e);
            let n = [];
            for (let { ref: e } of this.socketChildren.values()) n.push(e);
            return { channels: e, subchannels: r, sockets: n };
          }
        }
        r.ChannelzChildrenTracker = m;
        class y {
          constructor() {
            (this.callsStarted = 0),
              (this.callsSucceeded = 0),
              (this.callsFailed = 0),
              (this.lastCallStartedTimestamp = null);
          }
          addCallStarted() {
            (this.callsStarted += 1),
              (this.lastCallStartedTimestamp = new Date());
          }
          addCallSucceeded() {
            this.callsSucceeded += 1;
          }
          addCallFailed() {
            this.callsFailed += 1;
          }
        }
        r.ChannelzCallTracker = y;
        let v = 1;
        function b() {
          return v++;
        }
        let w = [],
          T = [],
          S = [],
          E = [];
        function C(e, r, n) {
          let i = b(),
            s = { id: i, name: e, kind: "channel" };
          return n && (w[i] = { ref: s, getInfo: r }), s;
        }
        function x(e, r, n) {
          let i = b(),
            s = { id: i, name: e, kind: "subchannel" };
          return n && (T[i] = { ref: s, getInfo: r }), s;
        }
        function A(e, r) {
          let n = b(),
            i = { id: n, kind: "server" };
          return r && (S[n] = { ref: i, getInfo: e }), i;
        }
        function I(e, r, n) {
          let i = b(),
            s = { id: i, name: e, kind: "socket" };
          return n && (E[i] = { ref: s, getInfo: r }), s;
        }
        function k(e) {
          switch (e.kind) {
            case "channel":
              delete w[e.id];
              return;
            case "subchannel":
              delete T[e.id];
              return;
            case "server":
              delete S[e.id];
              return;
            case "socket":
              delete E[e.id];
              return;
          }
        }
        function _(e) {
          let r = Number.parseInt(e, 16);
          return [(r / 256) | 0, r % 256];
        }
        function R(e) {
          return "" === e ? [] : [].concat(...e.split(":").map((e) => _(e)));
        }
        function D(e) {
          if ((0, i.isIPv4)(e))
            return Buffer.from(
              Uint8Array.from(e.split(".").map((e) => Number.parseInt(e))),
            );
          if (!(0, i.isIPv6)(e)) return null;
          {
            let r, n;
            let i = e.indexOf("::");
            -1 === i
              ? ((r = e), (n = ""))
              : ((r = e.substring(0, i)), (n = e.substring(i + 2)));
            let s = Buffer.from(R(r)),
              a = Buffer.from(R(n)),
              o = Buffer.alloc(16 - s.length - a.length, 0);
            return Buffer.concat([s, o, a]);
          }
        }
        function P(e) {
          switch (e) {
            case s.ConnectivityState.CONNECTING:
              return { state: "CONNECTING" };
            case s.ConnectivityState.IDLE:
              return { state: "IDLE" };
            case s.ConnectivityState.READY:
              return { state: "READY" };
            case s.ConnectivityState.SHUTDOWN:
              return { state: "SHUTDOWN" };
            case s.ConnectivityState.TRANSIENT_FAILURE:
              return { state: "TRANSIENT_FAILURE" };
            default:
              return { state: "UNKNOWN" };
          }
        }
        function N(e) {
          if (!e) return null;
          let r = e.getTime();
          return { seconds: (r / 1e3) | 0, nanos: (r % 1e3) * 1e6 };
        }
        function O(e) {
          let r = e.getInfo();
          return {
            ref: c(e.ref),
            data: {
              target: r.target,
              state: P(r.state),
              calls_started: r.callTracker.callsStarted,
              calls_succeeded: r.callTracker.callsSucceeded,
              calls_failed: r.callTracker.callsFailed,
              last_call_started_timestamp: N(
                r.callTracker.lastCallStartedTimestamp,
              ),
              trace: r.trace.getTraceMessage(),
            },
            channel_ref: r.children.channels.map((e) => c(e)),
            subchannel_ref: r.children.subchannels.map((e) => d(e)),
          };
        }
        function M(e, r) {
          let n = Number.parseInt(e.request.channel_id),
            i = w[n];
          if (void 0 === i) {
            r({
              code: a.Status.NOT_FOUND,
              details: "No channel data found for id " + n,
            });
            return;
          }
          r(null, { channel: O(i) });
        }
        function L(e, r) {
          let n = Number.parseInt(e.request.max_results),
            i = [],
            s = Number.parseInt(e.request.start_channel_id);
          for (; s < w.length; s++) {
            let e = w[s];
            if (void 0 !== e && (i.push(O(e)), i.length >= n)) break;
          }
          r(null, { channel: i, end: s >= S.length });
        }
        function B(e) {
          let r = e.getInfo();
          return {
            ref: h(e.ref),
            data: {
              calls_started: r.callTracker.callsStarted,
              calls_succeeded: r.callTracker.callsSucceeded,
              calls_failed: r.callTracker.callsFailed,
              last_call_started_timestamp: N(
                r.callTracker.lastCallStartedTimestamp,
              ),
              trace: r.trace.getTraceMessage(),
            },
            listen_socket: r.listenerChildren.sockets.map((e) => f(e)),
          };
        }
        function F(e, r) {
          let n = Number.parseInt(e.request.server_id),
            i = S[n];
          if (void 0 === i) {
            r({
              code: a.Status.NOT_FOUND,
              details: "No server data found for id " + n,
            });
            return;
          }
          r(null, { server: B(i) });
        }
        function U(e, r) {
          let n = Number.parseInt(e.request.max_results),
            i = [],
            s = Number.parseInt(e.request.start_server_id);
          for (; s < S.length; s++) {
            let e = S[s];
            if (void 0 !== e && (i.push(B(e)), i.length >= n)) break;
          }
          r(null, { server: i, end: s >= S.length });
        }
        function j(e, r) {
          let n = Number.parseInt(e.request.subchannel_id),
            i = T[n];
          if (void 0 === i) {
            r({
              code: a.Status.NOT_FOUND,
              details: "No subchannel data found for id " + n,
            });
            return;
          }
          let s = i.getInfo();
          r(null, {
            subchannel: {
              ref: d(i.ref),
              data: {
                target: s.target,
                state: P(s.state),
                calls_started: s.callTracker.callsStarted,
                calls_succeeded: s.callTracker.callsSucceeded,
                calls_failed: s.callTracker.callsFailed,
                last_call_started_timestamp: N(
                  s.callTracker.lastCallStartedTimestamp,
                ),
                trace: s.trace.getTraceMessage(),
              },
              socket_ref: s.children.sockets.map((e) => f(e)),
            },
          });
        }
        function z(e) {
          var r;
          return (0, o.isTcpSubchannelAddress)(e)
            ? {
                address: "tcpip_address",
                tcpip_address: {
                  ip_address:
                    null !== (r = D(e.host)) && void 0 !== r ? r : void 0,
                  port: e.port,
                },
              }
            : { address: "uds_address", uds_address: { filename: e.path } };
        }
        function V(e, r) {
          var n, i, s, o, l;
          let u = Number.parseInt(e.request.socket_id),
            c = E[u];
          if (void 0 === c) {
            r({
              code: a.Status.NOT_FOUND,
              details: "No socket data found for id " + u,
            });
            return;
          }
          let d = c.getInfo(),
            h = d.security
              ? {
                  model: "tls",
                  tls: {
                    cipher_suite: d.security.cipherSuiteStandardName
                      ? "standard_name"
                      : "other_name",
                    standard_name:
                      null !== (n = d.security.cipherSuiteStandardName) &&
                      void 0 !== n
                        ? n
                        : void 0,
                    other_name:
                      null !== (i = d.security.cipherSuiteOtherName) &&
                      void 0 !== i
                        ? i
                        : void 0,
                    local_certificate:
                      null !== (s = d.security.localCertificate) && void 0 !== s
                        ? s
                        : void 0,
                    remote_certificate:
                      null !== (o = d.security.remoteCertificate) &&
                      void 0 !== o
                        ? o
                        : void 0,
                  },
                }
              : null;
          r(null, {
            socket: {
              ref: f(c.ref),
              local: d.localAddress ? z(d.localAddress) : null,
              remote: d.remoteAddress ? z(d.remoteAddress) : null,
              remote_name:
                null !== (l = d.remoteName) && void 0 !== l ? l : void 0,
              security: h,
              data: {
                keep_alives_sent: d.keepAlivesSent,
                streams_started: d.streamsStarted,
                streams_succeeded: d.streamsSucceeded,
                streams_failed: d.streamsFailed,
                last_local_stream_created_timestamp: N(
                  d.lastLocalStreamCreatedTimestamp,
                ),
                last_remote_stream_created_timestamp: N(
                  d.lastRemoteStreamCreatedTimestamp,
                ),
                messages_received: d.messagesReceived,
                messages_sent: d.messagesSent,
                last_message_received_timestamp: N(
                  d.lastMessageReceivedTimestamp,
                ),
                last_message_sent_timestamp: N(d.lastMessageSentTimestamp),
                local_flow_control_window: d.localFlowControlWindow
                  ? { value: d.localFlowControlWindow }
                  : null,
                remote_flow_control_window: d.remoteFlowControlWindow
                  ? { value: d.remoteFlowControlWindow }
                  : null,
              },
            },
          });
        }
        function K(e, r) {
          let n = Number.parseInt(e.request.server_id),
            i = S[n];
          if (void 0 === i) {
            r({
              code: a.Status.NOT_FOUND,
              details: "No server data found for id " + n,
            });
            return;
          }
          let s = Number.parseInt(e.request.start_socket_id),
            o = Number.parseInt(e.request.max_results),
            l = i.getInfo().sessionChildren.sockets.sort((e, r) => e.id - r.id),
            u = [],
            c = 0;
          for (
            ;
            c < l.length &&
            (!(l[c].id >= s) || (u.push(f(l[c])), !(u.length >= o)));
            c++
          );
          r(null, { socket_ref: u, end: c >= l.length });
        }
        function q() {
          return {
            GetChannel: M,
            GetTopChannels: L,
            GetServer: F,
            GetServers: U,
            GetSubchannel: j,
            GetSocket: V,
            GetServerSockets: K,
          };
        }
        (r.registerChannelzChannel = C),
          (r.registerChannelzSubchannel = x),
          (r.registerChannelzServer = A),
          (r.registerChannelzSocket = I),
          (r.unregisterChannelzRef = k),
          (r.getChannelzHandlers = q);
        let H = null;
        function $() {
          if (H) return H;
          let e = (0, n(26880).Yi)("channelz.proto", {
            keepCase: !0,
            longs: String,
            enums: String,
            defaults: !0,
            oneofs: !0,
            includeDirs: [`${__dirname}/../../proto`],
          });
          return (H = (0, u.loadPackageDefinition)(e).grpc.channelz.v1.Channelz
            .service);
        }
        function W() {
          (0, l.registerAdminService)($, q);
        }
        (r.getChannelzServiceDefinition = $), (r.setup = W);
      },
      1468: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.getInterceptingCall =
            r.InterceptingCall =
            r.RequesterBuilder =
            r.ListenerBuilder =
            r.InterceptorConfigurationError =
              void 0);
        let i = n(96045),
          s = n(44306),
          a = n(2403),
          o = n(38716);
        class l extends Error {
          constructor(e) {
            super(e),
              (this.name = "InterceptorConfigurationError"),
              Error.captureStackTrace(this, l);
          }
        }
        r.InterceptorConfigurationError = l;
        class u {
          constructor() {
            (this.metadata = void 0),
              (this.message = void 0),
              (this.status = void 0);
          }
          withOnReceiveMetadata(e) {
            return (this.metadata = e), this;
          }
          withOnReceiveMessage(e) {
            return (this.message = e), this;
          }
          withOnReceiveStatus(e) {
            return (this.status = e), this;
          }
          build() {
            return {
              onReceiveMetadata: this.metadata,
              onReceiveMessage: this.message,
              onReceiveStatus: this.status,
            };
          }
        }
        r.ListenerBuilder = u;
        class c {
          constructor() {
            (this.start = void 0),
              (this.message = void 0),
              (this.halfClose = void 0),
              (this.cancel = void 0);
          }
          withStart(e) {
            return (this.start = e), this;
          }
          withSendMessage(e) {
            return (this.message = e), this;
          }
          withHalfClose(e) {
            return (this.halfClose = e), this;
          }
          withCancel(e) {
            return (this.cancel = e), this;
          }
          build() {
            return {
              start: this.start,
              sendMessage: this.message,
              halfClose: this.halfClose,
              cancel: this.cancel,
            };
          }
        }
        r.RequesterBuilder = c;
        let d = {
            onReceiveMetadata: (e, r) => {
              r(e);
            },
            onReceiveMessage: (e, r) => {
              r(e);
            },
            onReceiveStatus: (e, r) => {
              r(e);
            },
          },
          h = {
            start: (e, r, n) => {
              n(e, r);
            },
            sendMessage: (e, r) => {
              r(e);
            },
            halfClose: (e) => {
              e();
            },
            cancel: (e) => {
              e();
            },
          };
        class f {
          constructor(e, r) {
            var n, i, s, a;
            (this.nextCall = e),
              (this.processingMetadata = !1),
              (this.pendingMessageContext = null),
              (this.processingMessage = !1),
              (this.pendingHalfClose = !1),
              r
                ? (this.requester = {
                    start: null !== (n = r.start) && void 0 !== n ? n : h.start,
                    sendMessage:
                      null !== (i = r.sendMessage) && void 0 !== i
                        ? i
                        : h.sendMessage,
                    halfClose:
                      null !== (s = r.halfClose) && void 0 !== s
                        ? s
                        : h.halfClose,
                    cancel:
                      null !== (a = r.cancel) && void 0 !== a ? a : h.cancel,
                  })
                : (this.requester = h);
          }
          cancelWithStatus(e, r) {
            this.requester.cancel(() => {
              this.nextCall.cancelWithStatus(e, r);
            });
          }
          getPeer() {
            return this.nextCall.getPeer();
          }
          processPendingMessage() {
            this.pendingMessageContext &&
              (this.nextCall.sendMessageWithContext(
                this.pendingMessageContext,
                this.pendingMessage,
              ),
              (this.pendingMessageContext = null),
              (this.pendingMessage = null));
          }
          processPendingHalfClose() {
            this.pendingHalfClose && this.nextCall.halfClose();
          }
          start(e, r) {
            var n, i, a, o, l, u;
            let c = {
              onReceiveMetadata:
                null !==
                  (i =
                    null === (n = null == r ? void 0 : r.onReceiveMetadata) ||
                    void 0 === n
                      ? void 0
                      : n.bind(r)) && void 0 !== i
                  ? i
                  : (e) => {},
              onReceiveMessage:
                null !==
                  (o =
                    null === (a = null == r ? void 0 : r.onReceiveMessage) ||
                    void 0 === a
                      ? void 0
                      : a.bind(r)) && void 0 !== o
                  ? o
                  : (e) => {},
              onReceiveStatus:
                null !==
                  (u =
                    null === (l = null == r ? void 0 : r.onReceiveStatus) ||
                    void 0 === l
                      ? void 0
                      : l.bind(r)) && void 0 !== u
                  ? u
                  : (e) => {},
            };
            (this.processingMetadata = !0),
              this.requester.start(e, c, (e, r) => {
                var n, i, a;
                let o;
                if (
                  ((this.processingMetadata = !1),
                  (0, s.isInterceptingListener)(r))
                )
                  o = r;
                else {
                  let e = {
                    onReceiveMetadata:
                      null !== (n = r.onReceiveMetadata) && void 0 !== n
                        ? n
                        : d.onReceiveMetadata,
                    onReceiveMessage:
                      null !== (i = r.onReceiveMessage) && void 0 !== i
                        ? i
                        : d.onReceiveMessage,
                    onReceiveStatus:
                      null !== (a = r.onReceiveStatus) && void 0 !== a
                        ? a
                        : d.onReceiveStatus,
                  };
                  o = new s.InterceptingListenerImpl(e, c);
                }
                this.nextCall.start(e, o),
                  this.processPendingMessage(),
                  this.processPendingHalfClose();
              });
          }
          sendMessageWithContext(e, r) {
            (this.processingMessage = !0),
              this.requester.sendMessage(r, (n) => {
                (this.processingMessage = !1),
                  this.processingMetadata
                    ? ((this.pendingMessageContext = e),
                      (this.pendingMessage = r))
                    : (this.nextCall.sendMessageWithContext(e, n),
                      this.processPendingHalfClose());
              });
          }
          sendMessage(e) {
            this.sendMessageWithContext({}, e);
          }
          startRead() {
            this.nextCall.startRead();
          }
          halfClose() {
            this.requester.halfClose(() => {
              this.processingMetadata || this.processingMessage
                ? (this.pendingHalfClose = !0)
                : this.nextCall.halfClose();
            });
          }
        }
        function p(e, r, n) {
          var i, s;
          let a = null !== (i = n.deadline) && void 0 !== i ? i : 1 / 0,
            o = n.host,
            l = null !== (s = n.parent) && void 0 !== s ? s : null,
            u = n.propagate_flags,
            c = n.credentials,
            d = e.createCall(r, a, o, l, u);
          return c && d.setCredentials(c), d;
        }
        r.InterceptingCall = f;
        class g {
          constructor(e, r) {
            (this.call = e), (this.methodDefinition = r);
          }
          cancelWithStatus(e, r) {
            this.call.cancelWithStatus(e, r);
          }
          getPeer() {
            return this.call.getPeer();
          }
          sendMessageWithContext(e, r) {
            let n;
            try {
              n = this.methodDefinition.requestSerialize(r);
            } catch (e) {
              this.call.cancelWithStatus(
                a.Status.INTERNAL,
                `Request message serialization failure: ${(0, o.getErrorMessage)(e)}`,
              );
              return;
            }
            this.call.sendMessageWithContext(e, n);
          }
          sendMessage(e) {
            this.sendMessageWithContext({}, e);
          }
          start(e, r) {
            let n = null;
            this.call.start(e, {
              onReceiveMetadata: (e) => {
                var n;
                null === (n = null == r ? void 0 : r.onReceiveMetadata) ||
                  void 0 === n ||
                  n.call(r, e);
              },
              onReceiveMessage: (e) => {
                var s;
                let l;
                try {
                  l = this.methodDefinition.responseDeserialize(e);
                } catch (e) {
                  (n = {
                    code: a.Status.INTERNAL,
                    details: `Response message parsing error: ${(0, o.getErrorMessage)(e)}`,
                    metadata: new i.Metadata(),
                  }),
                    this.call.cancelWithStatus(n.code, n.details);
                  return;
                }
                null === (s = null == r ? void 0 : r.onReceiveMessage) ||
                  void 0 === s ||
                  s.call(r, l);
              },
              onReceiveStatus: (e) => {
                var i, s;
                n
                  ? null === (i = null == r ? void 0 : r.onReceiveStatus) ||
                    void 0 === i ||
                    i.call(r, n)
                  : null === (s = null == r ? void 0 : r.onReceiveStatus) ||
                    void 0 === s ||
                    s.call(r, e);
              },
            });
          }
          startRead() {
            this.call.startRead();
          }
          halfClose() {
            this.call.halfClose();
          }
        }
        class m extends g {
          constructor(e, r) {
            super(e, r);
          }
          start(e, r) {
            var n, i;
            let s = !1,
              a = {
                onReceiveMetadata:
                  null !==
                    (i =
                      null === (n = null == r ? void 0 : r.onReceiveMetadata) ||
                      void 0 === n
                        ? void 0
                        : n.bind(r)) && void 0 !== i
                    ? i
                    : (e) => {},
                onReceiveMessage: (e) => {
                  var n;
                  (s = !0),
                    null === (n = null == r ? void 0 : r.onReceiveMessage) ||
                      void 0 === n ||
                      n.call(r, e);
                },
                onReceiveStatus: (e) => {
                  var n, i;
                  s ||
                    null === (n = null == r ? void 0 : r.onReceiveMessage) ||
                    void 0 === n ||
                    n.call(r, null),
                    null === (i = null == r ? void 0 : r.onReceiveStatus) ||
                      void 0 === i ||
                      i.call(r, e);
                },
              };
            super.start(e, a), this.call.startRead();
          }
        }
        class y extends g {}
        function v(e, r, n) {
          let i = p(e, n.path, r);
          return n.responseStream ? new y(i, n) : new m(i, n);
        }
        function b(e, r, n, i) {
          if (
            e.clientInterceptors.length > 0 &&
            e.clientInterceptorProviders.length > 0
          )
            throw new l(
              "Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.",
            );
          if (
            e.callInterceptors.length > 0 &&
            e.callInterceptorProviders.length > 0
          )
            throw new l(
              "Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.",
            );
          let s = [];
          s =
            e.callInterceptors.length > 0 ||
            e.callInterceptorProviders.length > 0
              ? []
                  .concat(
                    e.callInterceptors,
                    e.callInterceptorProviders.map((e) => e(r)),
                  )
                  .filter((e) => e)
              : []
                  .concat(
                    e.clientInterceptors,
                    e.clientInterceptorProviders.map((e) => e(r)),
                  )
                  .filter((e) => e);
          let a = Object.assign({}, n, { method_definition: r });
          return s.reduceRight(
            (e, r) => (n) => r(n, e),
            (e) => v(i, e, r),
          )(a);
        }
        r.getInterceptingCall = b;
      },
      41083: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Client = void 0);
        let i = n(33972),
          s = n(39017),
          a = n(40655),
          o = n(2403),
          l = n(96045),
          u = n(1468),
          c = Symbol(),
          d = Symbol(),
          h = Symbol(),
          f = Symbol();
        function p(e) {
          return "function" == typeof e;
        }
        function g(e) {
          return e.stack.split("\n").slice(1).join("\n");
        }
        class m {
          constructor(e, r, n = {}) {
            var i, a;
            if (
              ((n = Object.assign({}, n)),
              (this[d] =
                null !== (i = n.interceptors) && void 0 !== i ? i : []),
              delete n.interceptors,
              (this[h] =
                null !== (a = n.interceptor_providers) && void 0 !== a
                  ? a
                  : []),
              delete n.interceptor_providers,
              this[d].length > 0 && this[h].length > 0)
            )
              throw Error(
                "Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.",
              );
            if (
              ((this[f] = n.callInvocationTransformer),
              delete n.callInvocationTransformer,
              n.channelOverride)
            )
              this[c] = n.channelOverride;
            else if (n.channelFactoryOverride) {
              let i = n.channelFactoryOverride;
              delete n.channelFactoryOverride, (this[c] = i(e, r, n));
            } else this[c] = new s.ChannelImplementation(e, r, n);
          }
          close() {
            this[c].close();
          }
          getChannel() {
            return this[c];
          }
          waitForReady(e, r) {
            let n = (i) => {
              let s;
              if (i) {
                r(Error("Failed to connect before the deadline"));
                return;
              }
              try {
                s = this[c].getConnectivityState(!0);
              } catch (e) {
                r(Error("The channel has been closed"));
                return;
              }
              if (s === a.ConnectivityState.READY) r();
              else
                try {
                  this[c].watchConnectivityState(s, e, n);
                } catch (e) {
                  r(Error("The channel has been closed"));
                }
            };
            setImmediate(n);
          }
          checkOptionalUnaryResponseArguments(e, r, n) {
            if (p(e))
              return { metadata: new l.Metadata(), options: {}, callback: e };
            if (p(r))
              return e instanceof l.Metadata
                ? { metadata: e, options: {}, callback: r }
                : { metadata: new l.Metadata(), options: e, callback: r };
            if (!(e instanceof l.Metadata && r instanceof Object && p(n)))
              throw Error("Incorrect arguments passed");
            return { metadata: e, options: r, callback: n };
          }
          makeUnaryRequest(e, r, n, s, a, l, p) {
            var m, y;
            let v = this.checkOptionalUnaryResponseArguments(a, l, p),
              b = {
                path: e,
                requestStream: !1,
                responseStream: !1,
                requestSerialize: r,
                responseDeserialize: n,
              },
              w = {
                argument: s,
                metadata: v.metadata,
                call: new i.ClientUnaryCallImpl(),
                channel: this[c],
                methodDefinition: b,
                callOptions: v.options,
                callback: v.callback,
              };
            this[f] && (w = this[f](w));
            let T = w.call,
              S = {
                clientInterceptors: this[d],
                clientInterceptorProviders: this[h],
                callInterceptors:
                  null !== (m = w.callOptions.interceptors) && void 0 !== m
                    ? m
                    : [],
                callInterceptorProviders:
                  null !== (y = w.callOptions.interceptor_providers) &&
                  void 0 !== y
                    ? y
                    : [],
              },
              E = (0, u.getInterceptingCall)(
                S,
                w.methodDefinition,
                w.callOptions,
                w.channel,
              );
            T.call = E;
            let C = null,
              x = !1,
              A = Error();
            return (
              E.start(w.metadata, {
                onReceiveMetadata: (e) => {
                  T.emit("metadata", e);
                },
                onReceiveMessage(e) {
                  null !== C &&
                    E.cancelWithStatus(
                      o.Status.INTERNAL,
                      "Too many responses received",
                    ),
                    (C = e);
                },
                onReceiveStatus(e) {
                  if (!x) {
                    if (((x = !0), e.code === o.Status.OK)) {
                      if (null === C) {
                        let r = g(A);
                        w.callback(
                          (0, i.callErrorFromStatus)(
                            {
                              code: o.Status.INTERNAL,
                              details: "No message received",
                              metadata: e.metadata,
                            },
                            r,
                          ),
                        );
                      } else w.callback(null, C);
                    } else {
                      let r = g(A);
                      w.callback((0, i.callErrorFromStatus)(e, r));
                    }
                    (A = null), T.emit("status", e);
                  }
                },
              }),
              E.sendMessage(s),
              E.halfClose(),
              T
            );
          }
          makeClientStreamRequest(e, r, n, s, a, l) {
            var p, m;
            let y = this.checkOptionalUnaryResponseArguments(s, a, l),
              v = {
                path: e,
                requestStream: !0,
                responseStream: !1,
                requestSerialize: r,
                responseDeserialize: n,
              },
              b = {
                metadata: y.metadata,
                call: new i.ClientWritableStreamImpl(r),
                channel: this[c],
                methodDefinition: v,
                callOptions: y.options,
                callback: y.callback,
              };
            this[f] && (b = this[f](b));
            let w = b.call,
              T = {
                clientInterceptors: this[d],
                clientInterceptorProviders: this[h],
                callInterceptors:
                  null !== (p = b.callOptions.interceptors) && void 0 !== p
                    ? p
                    : [],
                callInterceptorProviders:
                  null !== (m = b.callOptions.interceptor_providers) &&
                  void 0 !== m
                    ? m
                    : [],
              },
              S = (0, u.getInterceptingCall)(
                T,
                b.methodDefinition,
                b.callOptions,
                b.channel,
              );
            w.call = S;
            let E = null,
              C = !1,
              x = Error();
            return (
              S.start(b.metadata, {
                onReceiveMetadata: (e) => {
                  w.emit("metadata", e);
                },
                onReceiveMessage(e) {
                  null !== E &&
                    S.cancelWithStatus(
                      o.Status.INTERNAL,
                      "Too many responses received",
                    ),
                    (E = e);
                },
                onReceiveStatus(e) {
                  if (!C) {
                    if (((C = !0), e.code === o.Status.OK)) {
                      if (null === E) {
                        let r = g(x);
                        b.callback(
                          (0, i.callErrorFromStatus)(
                            {
                              code: o.Status.INTERNAL,
                              details: "No message received",
                              metadata: e.metadata,
                            },
                            r,
                          ),
                        );
                      } else b.callback(null, E);
                    } else {
                      let r = g(x);
                      b.callback((0, i.callErrorFromStatus)(e, r));
                    }
                    (x = null), w.emit("status", e);
                  }
                },
              }),
              w
            );
          }
          checkMetadataAndOptions(e, r) {
            let n, i;
            return (
              e instanceof l.Metadata
                ? ((n = e), (i = r || {}))
                : ((i = e || {}), (n = new l.Metadata())),
              { metadata: n, options: i }
            );
          }
          makeServerStreamRequest(e, r, n, s, a, l) {
            var p, m;
            let y = this.checkMetadataAndOptions(a, l),
              v = {
                path: e,
                requestStream: !1,
                responseStream: !0,
                requestSerialize: r,
                responseDeserialize: n,
              },
              b = {
                argument: s,
                metadata: y.metadata,
                call: new i.ClientReadableStreamImpl(n),
                channel: this[c],
                methodDefinition: v,
                callOptions: y.options,
              };
            this[f] && (b = this[f](b));
            let w = b.call,
              T = {
                clientInterceptors: this[d],
                clientInterceptorProviders: this[h],
                callInterceptors:
                  null !== (p = b.callOptions.interceptors) && void 0 !== p
                    ? p
                    : [],
                callInterceptorProviders:
                  null !== (m = b.callOptions.interceptor_providers) &&
                  void 0 !== m
                    ? m
                    : [],
              },
              S = (0, u.getInterceptingCall)(
                T,
                b.methodDefinition,
                b.callOptions,
                b.channel,
              );
            w.call = S;
            let E = !1,
              C = Error();
            return (
              S.start(b.metadata, {
                onReceiveMetadata(e) {
                  w.emit("metadata", e);
                },
                onReceiveMessage(e) {
                  w.push(e);
                },
                onReceiveStatus(e) {
                  if (!E) {
                    if (((E = !0), w.push(null), e.code !== o.Status.OK)) {
                      let r = g(C);
                      w.emit("error", (0, i.callErrorFromStatus)(e, r));
                    }
                    (C = null), w.emit("status", e);
                  }
                },
              }),
              S.sendMessage(s),
              S.halfClose(),
              w
            );
          }
          makeBidiStreamRequest(e, r, n, s, a) {
            var l, p;
            let m = this.checkMetadataAndOptions(s, a),
              y = {
                path: e,
                requestStream: !0,
                responseStream: !0,
                requestSerialize: r,
                responseDeserialize: n,
              },
              v = {
                metadata: m.metadata,
                call: new i.ClientDuplexStreamImpl(r, n),
                channel: this[c],
                methodDefinition: y,
                callOptions: m.options,
              };
            this[f] && (v = this[f](v));
            let b = v.call,
              w = {
                clientInterceptors: this[d],
                clientInterceptorProviders: this[h],
                callInterceptors:
                  null !== (l = v.callOptions.interceptors) && void 0 !== l
                    ? l
                    : [],
                callInterceptorProviders:
                  null !== (p = v.callOptions.interceptor_providers) &&
                  void 0 !== p
                    ? p
                    : [],
              },
              T = (0, u.getInterceptingCall)(
                w,
                v.methodDefinition,
                v.callOptions,
                v.channel,
              );
            b.call = T;
            let S = !1,
              E = Error();
            return (
              T.start(v.metadata, {
                onReceiveMetadata(e) {
                  b.emit("metadata", e);
                },
                onReceiveMessage(e) {
                  b.push(e);
                },
                onReceiveStatus(e) {
                  if (!S) {
                    if (((S = !0), b.push(null), e.code !== o.Status.OK)) {
                      let r = g(E);
                      b.emit("error", (0, i.callErrorFromStatus)(e, r));
                    }
                    (E = null), b.emit("status", e);
                  }
                },
              }),
              b
            );
          }
        }
        r.Client = m;
      },
      29811: (e, r) => {
        "use strict";
        var n;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.CompressionAlgorithms = void 0),
          (function (e) {
            (e[(e.identity = 0)] = "identity"),
              (e[(e.deflate = 1)] = "deflate"),
              (e[(e.gzip = 2)] = "gzip");
          })(n || (r.CompressionAlgorithms = n = {}));
      },
      21371: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.CompressionFilterFactory = r.CompressionFilter = void 0);
        let i = n(74075),
          s = n(29811),
          a = n(2403),
          o = n(59502),
          l = n(47427),
          u = (e) =>
            "number" == typeof e &&
            "string" == typeof s.CompressionAlgorithms[e];
        class c {
          async writeMessage(e, r) {
            let n = e;
            r && (n = await this.compressMessage(n));
            let i = Buffer.allocUnsafe(n.length + 5);
            return (
              i.writeUInt8(r ? 1 : 0, 0),
              i.writeUInt32BE(n.length, 1),
              n.copy(i, 5),
              i
            );
          }
          async readMessage(e) {
            let r = 1 === e.readUInt8(0),
              n = e.slice(5);
            return r && (n = await this.decompressMessage(n)), n;
          }
        }
        class d extends c {
          async compressMessage(e) {
            return e;
          }
          async writeMessage(e, r) {
            let n = Buffer.allocUnsafe(e.length + 5);
            return (
              n.writeUInt8(0, 0), n.writeUInt32BE(e.length, 1), e.copy(n, 5), n
            );
          }
          decompressMessage(e) {
            return Promise.reject(
              Error(
                'Received compressed message but "grpc-encoding" header was identity',
              ),
            );
          }
        }
        class h extends c {
          constructor(e) {
            super(), (this.maxRecvMessageLength = e);
          }
          compressMessage(e) {
            return new Promise((r, n) => {
              i.deflate(e, (e, i) => {
                e ? n(e) : r(i);
              });
            });
          }
          decompressMessage(e) {
            return new Promise((r, n) => {
              let s = 0,
                o = [],
                l = i.createInflate();
              l.on("data", (e) => {
                o.push(e),
                  (s += e.byteLength),
                  -1 !== this.maxRecvMessageLength &&
                    s > this.maxRecvMessageLength &&
                    (l.destroy(),
                    n({
                      code: a.Status.RESOURCE_EXHAUSTED,
                      details: `Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`,
                    }));
              }),
                l.on("end", () => {
                  r(Buffer.concat(o));
                }),
                l.write(e),
                l.end();
            });
          }
        }
        class f extends c {
          constructor(e) {
            super(), (this.maxRecvMessageLength = e);
          }
          compressMessage(e) {
            return new Promise((r, n) => {
              i.gzip(e, (e, i) => {
                e ? n(e) : r(i);
              });
            });
          }
          decompressMessage(e) {
            return new Promise((r, n) => {
              let s = 0,
                o = [],
                l = i.createGunzip();
              l.on("data", (e) => {
                o.push(e),
                  (s += e.byteLength),
                  -1 !== this.maxRecvMessageLength &&
                    s > this.maxRecvMessageLength &&
                    (l.destroy(),
                    n({
                      code: a.Status.RESOURCE_EXHAUSTED,
                      details: `Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`,
                    }));
              }),
                l.on("end", () => {
                  r(Buffer.concat(o));
                }),
                l.write(e),
                l.end();
            });
          }
        }
        class p extends c {
          constructor(e) {
            super(), (this.compressionName = e);
          }
          compressMessage(e) {
            return Promise.reject(
              Error(
                `Received message compressed with unsupported compression method ${this.compressionName}`,
              ),
            );
          }
          decompressMessage(e) {
            return Promise.reject(
              Error(
                `Compression method not supported: ${this.compressionName}`,
              ),
            );
          }
        }
        function g(e, r) {
          switch (e) {
            case "identity":
              return new d();
            case "deflate":
              return new h(r);
            case "gzip":
              return new f(r);
            default:
              return new p(e);
          }
        }
        class m extends o.BaseFilter {
          constructor(e, r) {
            var n, i;
            super(),
              (this.sharedFilterConfig = r),
              (this.sendCompression = new d()),
              (this.receiveCompression = new d()),
              (this.currentCompressionAlgorithm = "identity");
            let o = e["grpc.default_compression_algorithm"];
            if (
              ((this.maxReceiveMessageLength =
                null !== (n = e["grpc.max_receive_message_length"]) &&
                void 0 !== n
                  ? n
                  : a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH),
              void 0 !== o)
            ) {
              if (u(o)) {
                let e = s.CompressionAlgorithms[o],
                  n =
                    null === (i = r.serverSupportedEncodingHeader) ||
                    void 0 === i
                      ? void 0
                      : i.split(",");
                (!n || n.includes(e)) &&
                  ((this.currentCompressionAlgorithm = e),
                  (this.sendCompression = g(
                    this.currentCompressionAlgorithm,
                    -1,
                  )));
              } else
                l.log(
                  a.LogVerbosity.ERROR,
                  `Invalid value provided for grpc.default_compression_algorithm option: ${o}`,
                );
            }
          }
          async sendMetadata(e) {
            let r = await e;
            return (
              r.set("grpc-accept-encoding", "identity,deflate,gzip"),
              r.set("accept-encoding", "identity"),
              "identity" === this.currentCompressionAlgorithm
                ? r.remove("grpc-encoding")
                : r.set("grpc-encoding", this.currentCompressionAlgorithm),
              r
            );
          }
          receiveMetadata(e) {
            let r = e.get("grpc-encoding");
            if (r.length > 0) {
              let e = r[0];
              "string" == typeof e &&
                (this.receiveCompression = g(e, this.maxReceiveMessageLength));
            }
            e.remove("grpc-encoding");
            let n = e.get("grpc-accept-encoding")[0];
            return (
              n &&
                ((this.sharedFilterConfig.serverSupportedEncodingHeader = n),
                n.split(",").includes(this.currentCompressionAlgorithm) ||
                  ((this.sendCompression = new d()),
                  (this.currentCompressionAlgorithm = "identity"))),
              e.remove("grpc-accept-encoding"),
              e
            );
          }
          async sendMessage(e) {
            var r;
            let n;
            let i = await e;
            return (
              (n =
                !(this.sendCompression instanceof d) &&
                ((null !== (r = i.flags) && void 0 !== r ? r : 0) & 2) == 0),
              {
                message: await this.sendCompression.writeMessage(i.message, n),
                flags: i.flags,
              }
            );
          }
          async receiveMessage(e) {
            return this.receiveCompression.readMessage(await e);
          }
        }
        r.CompressionFilter = m;
        class y {
          constructor(e, r) {
            (this.options = r), (this.sharedFilterConfig = {});
          }
          createFilter() {
            return new m(this.options, this.sharedFilterConfig);
          }
        }
        r.CompressionFilterFactory = y;
      },
      40655: (e, r) => {
        "use strict";
        var n;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ConnectivityState = void 0),
          (function (e) {
            (e[(e.IDLE = 0)] = "IDLE"),
              (e[(e.CONNECTING = 1)] = "CONNECTING"),
              (e[(e.READY = 2)] = "READY"),
              (e[(e.TRANSIENT_FAILURE = 3)] = "TRANSIENT_FAILURE"),
              (e[(e.SHUTDOWN = 4)] = "SHUTDOWN");
          })(n || (r.ConnectivityState = n = {}));
      },
      2403: (e, r) => {
        "use strict";
        var n, i, s;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH =
            r.DEFAULT_MAX_SEND_MESSAGE_LENGTH =
            r.Propagate =
            r.LogVerbosity =
            r.Status =
              void 0),
          (function (e) {
            (e[(e.OK = 0)] = "OK"),
              (e[(e.CANCELLED = 1)] = "CANCELLED"),
              (e[(e.UNKNOWN = 2)] = "UNKNOWN"),
              (e[(e.INVALID_ARGUMENT = 3)] = "INVALID_ARGUMENT"),
              (e[(e.DEADLINE_EXCEEDED = 4)] = "DEADLINE_EXCEEDED"),
              (e[(e.NOT_FOUND = 5)] = "NOT_FOUND"),
              (e[(e.ALREADY_EXISTS = 6)] = "ALREADY_EXISTS"),
              (e[(e.PERMISSION_DENIED = 7)] = "PERMISSION_DENIED"),
              (e[(e.RESOURCE_EXHAUSTED = 8)] = "RESOURCE_EXHAUSTED"),
              (e[(e.FAILED_PRECONDITION = 9)] = "FAILED_PRECONDITION"),
              (e[(e.ABORTED = 10)] = "ABORTED"),
              (e[(e.OUT_OF_RANGE = 11)] = "OUT_OF_RANGE"),
              (e[(e.UNIMPLEMENTED = 12)] = "UNIMPLEMENTED"),
              (e[(e.INTERNAL = 13)] = "INTERNAL"),
              (e[(e.UNAVAILABLE = 14)] = "UNAVAILABLE"),
              (e[(e.DATA_LOSS = 15)] = "DATA_LOSS"),
              (e[(e.UNAUTHENTICATED = 16)] = "UNAUTHENTICATED");
          })(n || (r.Status = n = {})),
          (function (e) {
            (e[(e.DEBUG = 0)] = "DEBUG"),
              (e[(e.INFO = 1)] = "INFO"),
              (e[(e.ERROR = 2)] = "ERROR"),
              (e[(e.NONE = 3)] = "NONE");
          })(i || (r.LogVerbosity = i = {})),
          (function (e) {
            (e[(e.DEADLINE = 1)] = "DEADLINE"),
              (e[(e.CENSUS_STATS_CONTEXT = 2)] = "CENSUS_STATS_CONTEXT"),
              (e[(e.CENSUS_TRACING_CONTEXT = 4)] = "CENSUS_TRACING_CONTEXT"),
              (e[(e.CANCELLATION = 8)] = "CANCELLATION"),
              (e[(e.DEFAULTS = 65535)] = "DEFAULTS");
          })(s || (r.Propagate = s = {})),
          (r.DEFAULT_MAX_SEND_MESSAGE_LENGTH = -1),
          (r.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = 4194304);
      },
      92827: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.restrictControlPlaneStatusCode = void 0);
        let i = n(2403),
          s = [
            i.Status.OK,
            i.Status.INVALID_ARGUMENT,
            i.Status.NOT_FOUND,
            i.Status.ALREADY_EXISTS,
            i.Status.FAILED_PRECONDITION,
            i.Status.ABORTED,
            i.Status.OUT_OF_RANGE,
            i.Status.DATA_LOSS,
          ];
        function a(e, r) {
          return s.includes(e)
            ? {
                code: i.Status.INTERNAL,
                details: `Invalid status from control plane: ${e} ${i.Status[e]} ${r}`,
              }
            : { code: e, details: r };
        }
        r.restrictControlPlaneStatusCode = a;
      },
      31768: (e, r) => {
        "use strict";
        function n(...e) {
          let r = 1 / 0;
          for (let n of e) {
            let e = n instanceof Date ? n.getTime() : n;
            e < r && (r = e);
          }
          return r;
        }
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.deadlineToString =
            r.getRelativeTimeout =
            r.getDeadlineTimeoutString =
            r.minDeadline =
              void 0),
          (r.minDeadline = n);
        let i = [
          ["m", 1],
          ["S", 1e3],
          ["M", 6e4],
          ["H", 36e5],
        ];
        function s(e) {
          let r = new Date().getTime();
          e instanceof Date && (e = e.getTime());
          let n = Math.max(e - r, 0);
          for (let [e, r] of i) {
            let i = n / r;
            if (i < 1e8) return String(Math.ceil(i)) + e;
          }
          throw Error("Deadline is too far in the future");
        }
        r.getDeadlineTimeoutString = s;
        let a = 0x7fffffff;
        function o(e) {
          let r = (e instanceof Date ? e.getTime() : e) - new Date().getTime();
          return r < 0 ? 0 : r > a ? 1 / 0 : r;
        }
        function l(e) {
          if (e instanceof Date) return e.toISOString();
          {
            let r = new Date(e);
            return Number.isNaN(r.getTime()) ? "" + e : r.toISOString();
          }
        }
        (r.getRelativeTimeout = o), (r.deadlineToString = l);
      },
      50552: (e, r) => {
        "use strict";
        function n(e) {
          return { seconds: (e / 1e3) | 0, nanos: ((e % 1e3) * 1e6) | 0 };
        }
        function i(e) {
          return (1e3 * e.seconds + e.nanos / 1e6) | 0;
        }
        function s(e) {
          return "number" == typeof e.seconds && "number" == typeof e.nanos;
        }
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.isDuration = r.durationToMs = r.msToDuration = void 0),
          (r.msToDuration = n),
          (r.durationToMs = i),
          (r.isDuration = s);
      },
      38716: (e, r) => {
        "use strict";
        function n(e) {
          return e instanceof Error ? e.message : String(e);
        }
        function i(e) {
          return "object" == typeof e &&
            null !== e &&
            "code" in e &&
            "number" == typeof e.code
            ? e.code
            : null;
        }
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.getErrorCode = r.getErrorMessage = void 0),
          (r.getErrorMessage = n),
          (r.getErrorCode = i);
      },
      77150: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.OutlierDetectionLoadBalancingConfig =
            r.BaseSubchannelWrapper =
            r.registerAdminService =
            r.FilterStackFactory =
            r.BaseFilter =
            r.PickResultType =
            r.QueuePicker =
            r.UnavailablePicker =
            r.ChildLoadBalancerHandler =
            r.subchannelAddressToString =
            r.validateLoadBalancingConfig =
            r.getFirstUsableConfig =
            r.registerLoadBalancerType =
            r.createChildChannelControlHelper =
            r.BackoffTimeout =
            r.durationToMs =
            r.uriToString =
            r.createResolver =
            r.registerResolver =
            r.log =
            r.trace =
              void 0);
        var i = n(47427);
        Object.defineProperty(r, "trace", {
          enumerable: !0,
          get: function () {
            return i.trace;
          },
        }),
          Object.defineProperty(r, "log", {
            enumerable: !0,
            get: function () {
              return i.log;
            },
          });
        var s = n(36078);
        Object.defineProperty(r, "registerResolver", {
          enumerable: !0,
          get: function () {
            return s.registerResolver;
          },
        }),
          Object.defineProperty(r, "createResolver", {
            enumerable: !0,
            get: function () {
              return s.createResolver;
            },
          });
        var a = n(64230);
        Object.defineProperty(r, "uriToString", {
          enumerable: !0,
          get: function () {
            return a.uriToString;
          },
        });
        var o = n(50552);
        Object.defineProperty(r, "durationToMs", {
          enumerable: !0,
          get: function () {
            return o.durationToMs;
          },
        });
        var l = n(32064);
        Object.defineProperty(r, "BackoffTimeout", {
          enumerable: !0,
          get: function () {
            return l.BackoffTimeout;
          },
        });
        var u = n(9947);
        Object.defineProperty(r, "createChildChannelControlHelper", {
          enumerable: !0,
          get: function () {
            return u.createChildChannelControlHelper;
          },
        }),
          Object.defineProperty(r, "registerLoadBalancerType", {
            enumerable: !0,
            get: function () {
              return u.registerLoadBalancerType;
            },
          }),
          Object.defineProperty(r, "getFirstUsableConfig", {
            enumerable: !0,
            get: function () {
              return u.getFirstUsableConfig;
            },
          }),
          Object.defineProperty(r, "validateLoadBalancingConfig", {
            enumerable: !0,
            get: function () {
              return u.validateLoadBalancingConfig;
            },
          });
        var c = n(45648);
        Object.defineProperty(r, "subchannelAddressToString", {
          enumerable: !0,
          get: function () {
            return c.subchannelAddressToString;
          },
        });
        var d = n(23857);
        Object.defineProperty(r, "ChildLoadBalancerHandler", {
          enumerable: !0,
          get: function () {
            return d.ChildLoadBalancerHandler;
          },
        });
        var h = n(85058);
        Object.defineProperty(r, "UnavailablePicker", {
          enumerable: !0,
          get: function () {
            return h.UnavailablePicker;
          },
        }),
          Object.defineProperty(r, "QueuePicker", {
            enumerable: !0,
            get: function () {
              return h.QueuePicker;
            },
          }),
          Object.defineProperty(r, "PickResultType", {
            enumerable: !0,
            get: function () {
              return h.PickResultType;
            },
          });
        var f = n(59502);
        Object.defineProperty(r, "BaseFilter", {
          enumerable: !0,
          get: function () {
            return f.BaseFilter;
          },
        });
        var p = n(58943);
        Object.defineProperty(r, "FilterStackFactory", {
          enumerable: !0,
          get: function () {
            return p.FilterStackFactory;
          },
        });
        var g = n(24785);
        Object.defineProperty(r, "registerAdminService", {
          enumerable: !0,
          get: function () {
            return g.registerAdminService;
          },
        });
        var m = n(68963);
        Object.defineProperty(r, "BaseSubchannelWrapper", {
          enumerable: !0,
          get: function () {
            return m.BaseSubchannelWrapper;
          },
        });
        var y = n(46792);
        Object.defineProperty(r, "OutlierDetectionLoadBalancingConfig", {
          enumerable: !0,
          get: function () {
            return y.OutlierDetectionLoadBalancingConfig;
          },
        });
      },
      58943: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.FilterStackFactory = r.FilterStack = void 0);
        class n {
          constructor(e) {
            this.filters = e;
          }
          sendMetadata(e) {
            let r = e;
            for (let e = 0; e < this.filters.length; e++)
              r = this.filters[e].sendMetadata(r);
            return r;
          }
          receiveMetadata(e) {
            let r = e;
            for (let e = this.filters.length - 1; e >= 0; e--)
              r = this.filters[e].receiveMetadata(r);
            return r;
          }
          sendMessage(e) {
            let r = e;
            for (let e = 0; e < this.filters.length; e++)
              r = this.filters[e].sendMessage(r);
            return r;
          }
          receiveMessage(e) {
            let r = e;
            for (let e = this.filters.length - 1; e >= 0; e--)
              r = this.filters[e].receiveMessage(r);
            return r;
          }
          receiveTrailers(e) {
            let r = e;
            for (let e = this.filters.length - 1; e >= 0; e--)
              r = this.filters[e].receiveTrailers(r);
            return r;
          }
          push(e) {
            this.filters.unshift(...e);
          }
          getFilters() {
            return this.filters;
          }
        }
        r.FilterStack = n;
        class i {
          constructor(e) {
            this.factories = e;
          }
          push(e) {
            this.factories.unshift(...e);
          }
          clone() {
            return new i([...this.factories]);
          }
          createFilter() {
            return new n(this.factories.map((e) => e.createFilter()));
          }
        }
        r.FilterStackFactory = i;
      },
      59502: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.BaseFilter = void 0);
        class n {
          async sendMetadata(e) {
            return e;
          }
          receiveMetadata(e) {
            return e;
          }
          async sendMessage(e) {
            return e;
          }
          async receiveMessage(e) {
            return e;
          }
          receiveTrailers(e) {
            return e;
          }
        }
        r.BaseFilter = n;
      },
      83547: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.getProxiedConnection = r.mapProxyName = void 0);
        let i = n(47427),
          s = n(2403),
          a = n(36078),
          o = n(81630),
          l = n(34631),
          u = n(47427),
          c = n(45648),
          d = n(64230),
          h = n(79551),
          f = n(91248),
          p = "proxy";
        function g(e) {
          u.trace(s.LogVerbosity.DEBUG, p, e);
        }
        function m() {
          let e,
            r = "",
            n = "";
          if (process.env.grpc_proxy)
            (n = "grpc_proxy"), (r = process.env.grpc_proxy);
          else if (process.env.https_proxy)
            (n = "https_proxy"), (r = process.env.https_proxy);
          else {
            if (!process.env.http_proxy) return {};
            (n = "http_proxy"), (r = process.env.http_proxy);
          }
          try {
            e = new h.URL(r);
          } catch (e) {
            return (
              (0, i.log)(
                s.LogVerbosity.ERROR,
                `cannot parse value of "${n}" env var`,
              ),
              {}
            );
          }
          if ("http:" !== e.protocol)
            return (
              (0, i.log)(
                s.LogVerbosity.ERROR,
                `"${e.protocol}" scheme not supported in proxy URI`,
              ),
              {}
            );
          let a = null;
          e.username &&
            (e.password
              ? ((0, i.log)(s.LogVerbosity.INFO, "userinfo found in proxy URI"),
                (a = `${e.username}:${e.password}`))
              : (a = e.username));
          let o = e.hostname,
            l = e.port;
          "" === l && (l = "80");
          let u = { address: `${o}:${l}` };
          return (
            a && (u.creds = a),
            g(
              "Proxy server " + u.address + " set by environment variable " + n,
            ),
            u
          );
        }
        function y() {
          let e = process.env.no_grpc_proxy,
            r = "no_grpc_proxy";
          return (e || ((e = process.env.no_proxy), (r = "no_proxy")), e)
            ? (g("No proxy server list set by environment variable " + r),
              e.split(","))
            : [];
        }
        function v(e, r) {
          var n;
          let i = { target: e, extraOptions: {} };
          if (
            (null !== (n = r["grpc.enable_http_proxy"]) && void 0 !== n
              ? n
              : 1) === 0 ||
            "unix" === e.scheme
          )
            return i;
          let s = m();
          if (!s.address) return i;
          let a = (0, d.splitHostPort)(e.path);
          if (!a) return i;
          let o = a.host;
          for (let r of y())
            if (r === o)
              return (
                g(
                  "Not using proxy for target in no_proxy list: " +
                    (0, d.uriToString)(e),
                ),
                i
              );
          let l = { "grpc.http_connect_target": (0, d.uriToString)(e) };
          return (
            s.creds && (l["grpc.http_connect_creds"] = s.creds),
            { target: { scheme: "dns", path: s.address }, extraOptions: l }
          );
        }
        function b(e, r, n) {
          var u;
          if (!("grpc.http_connect_target" in r)) return Promise.resolve({});
          let h = r["grpc.http_connect_target"],
            p = (0, d.parseUri)(h);
          if (null === p) return Promise.resolve({});
          let m = (0, d.splitHostPort)(p.path);
          if (null === m) return Promise.resolve({});
          let y = `${m.host}:${null !== (u = m.port) && void 0 !== u ? u : f.DEFAULT_PORT}`,
            v = { method: "CONNECT", path: y },
            b = { Host: y };
          (0, c.isTcpSubchannelAddress)(e)
            ? ((v.host = e.host), (v.port = e.port))
            : (v.socketPath = e.path),
            "grpc.http_connect_creds" in r &&
              (b["Proxy-Authorization"] =
                "Basic " +
                Buffer.from(r["grpc.http_connect_creds"]).toString("base64")),
            (v.headers = b);
          let w = (0, c.subchannelAddressToString)(e);
          return (
            g("Using proxy " + w + " to connect to " + v.path),
            new Promise((e, r) => {
              let u = o.request(v);
              u.once("connect", (o, c, h) => {
                var f;
                if (
                  (u.removeAllListeners(),
                  c.removeAllListeners(),
                  200 === o.statusCode)
                ) {
                  if (
                    (g(
                      "Successfully connected to " +
                        v.path +
                        " through proxy " +
                        w,
                    ),
                    "secureContext" in n)
                  ) {
                    let i = (0, a.getDefaultAuthority)(p),
                      s = (0, d.splitHostPort)(i),
                      o =
                        null !== (f = null == s ? void 0 : s.host) &&
                        void 0 !== f
                          ? f
                          : i,
                      u = l.connect(
                        Object.assign({ host: o, servername: o, socket: c }, n),
                        () => {
                          g(
                            "Successfully established a TLS connection to " +
                              v.path +
                              " through proxy " +
                              w,
                          ),
                            e({ socket: u, realTarget: p });
                        },
                      );
                    u.on("error", (e) => {
                      g(
                        "Failed to establish a TLS connection to " +
                          v.path +
                          " through proxy " +
                          w +
                          " with error " +
                          e.message,
                      ),
                        r();
                    });
                  } else
                    g(
                      "Successfully established a plaintext connection to " +
                        v.path +
                        " through proxy " +
                        w,
                    ),
                      e({ socket: c, realTarget: p });
                } else
                  (0, i.log)(
                    s.LogVerbosity.ERROR,
                    "Failed to connect to " +
                      v.path +
                      " through proxy " +
                      w +
                      " with status " +
                      o.statusCode,
                  ),
                    r();
              }),
                u.once("error", (e) => {
                  u.removeAllListeners(),
                    (0, i.log)(
                      s.LogVerbosity.ERROR,
                      "Failed to connect to proxy " +
                        w +
                        " with error " +
                        e.message,
                    ),
                    r();
                }),
                u.end();
            })
          );
        }
        (r.mapProxyName = v), (r.getProxiedConnection = b);
      },
      74122: (e, r, n) => {
        "use strict";
        (y = { value: !0 }),
          (y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            y =
            r.ex =
            y =
            y =
            y =
            y =
            y =
            y =
            r.OS =
            r.z3 =
              void 0);
        let i = n(77123);
        y = {
          enumerable: !0,
          get: function () {
            return i.CallCredentials;
          },
        };
        let s = n(39017);
        y = {
          enumerable: !0,
          get: function () {
            return s.ChannelImplementation;
          },
        };
        let a = n(29811);
        y = {
          enumerable: !0,
          get: function () {
            return a.CompressionAlgorithms;
          },
        };
        let o = n(40655);
        y = {
          enumerable: !0,
          get: function () {
            return o.ConnectivityState;
          },
        };
        let l = n(34114);
        y = {
          enumerable: !0,
          get: function () {
            return l.ChannelCredentials;
          },
        };
        let u = n(41083);
        y = {
          enumerable: !0,
          get: function () {
            return u.Client;
          },
        };
        let c = n(2403);
        (y = {
          enumerable: !0,
          get: function () {
            return c.LogVerbosity;
          },
        }),
          (y = {
            enumerable: !0,
            get: function () {
              return c.Status;
            },
          }),
          (y = {
            enumerable: !0,
            get: function () {
              return c.Propagate;
            },
          });
        let d = n(47427),
          h = n(4372);
        Object.defineProperty(r, "ex", {
          enumerable: !0,
          get: function () {
            return h.loadPackageDefinition;
          },
        }),
          (y = {
            enumerable: !0,
            get: function () {
              return h.makeClientConstructor;
            },
          }),
          (y = {
            enumerable: !0,
            get: function () {
              return h.makeClientConstructor;
            },
          });
        let f = n(96045);
        Object.defineProperty(r, "OS", {
          enumerable: !0,
          get: function () {
            return f.Metadata;
          },
        });
        let p = n(83415);
        y = {
          enumerable: !0,
          get: function () {
            return p.Server;
          },
        };
        let g = n(60808);
        y = {
          enumerable: !0,
          get: function () {
            return g.ServerCredentials;
          },
        };
        let m = n(45984);
        (y = {
          enumerable: !0,
          get: function () {
            return m.StatusBuilder;
          },
        }),
          (r.z3 = {
            combineChannelCredentials: (e, ...r) =>
              r.reduce((e, r) => e.compose(r), e),
            combineCallCredentials: (e, ...r) =>
              r.reduce((e, r) => e.compose(r), e),
            createInsecure: l.ChannelCredentials.createInsecure,
            createSsl: l.ChannelCredentials.createSsl,
            createFromSecureContext:
              l.ChannelCredentials.createFromSecureContext,
            createFromMetadataGenerator:
              i.CallCredentials.createFromMetadataGenerator,
            createFromGoogleCredential:
              i.CallCredentials.createFromGoogleCredential,
            createEmpty: i.CallCredentials.createEmpty,
          }),
          (y = (e) => e.close()),
          (y = (e, r, n) => e.waitForReady(r, n)),
          (y = (e, r) => {
            throw Error(
              "Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead",
            );
          }),
          (y = (e, r, n) => {
            throw Error(
              "Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead",
            );
          }),
          (y = (e) => {
            d.setLogger(e);
          }),
          (y = (e) => {
            d.setLoggerVerbosity(e);
          }),
          (y = (e) => u.Client.prototype.getChannel.call(e));
        var y,
          v = n(1468);
        (y = {
          enumerable: !0,
          get: function () {
            return v.ListenerBuilder;
          },
        }),
          (y = {
            enumerable: !0,
            get: function () {
              return v.RequesterBuilder;
            },
          }),
          (y = {
            enumerable: !0,
            get: function () {
              return v.InterceptingCall;
            },
          }),
          (y = {
            enumerable: !0,
            get: function () {
              return v.InterceptorConfigurationError;
            },
          });
        var b = n(35127);
        (y = {
          enumerable: !0,
          get: function () {
            return b.getChannelzServiceDefinition;
          },
        }),
          (y = {
            enumerable: !0,
            get: function () {
              return b.getChannelzHandlers;
            },
          });
        var w = n(24785);
        (y = {
          enumerable: !0,
          get: function () {
            return w.addAdminServicesToServer;
          },
        }),
          (y = n(77150));
        let T = n(91248),
          S = n(27269),
          E = n(94130),
          C = n(77950),
          x = n(74875),
          A = n(46792),
          I = n(35127);
        (() => {
          T.setup(),
            S.setup(),
            E.setup(),
            C.setup(),
            x.setup(),
            A.setup(),
            I.setup();
        })();
      },
      64403: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.InternalChannel = void 0);
        let i = n(34114),
          s = n(49713),
          a = n(42312),
          o = n(85058),
          l = n(2403),
          u = n(58943),
          c = n(21371),
          d = n(36078),
          h = n(47427),
          f = n(83547),
          p = n(64230),
          g = n(40655),
          m = n(35127),
          y = n(69251),
          v = n(31768),
          b = n(64822),
          w = n(75032),
          T = n(92827),
          S = n(57719),
          E = n(68963),
          C = 0x7fffffff,
          x = 1e3,
          A = 18e5,
          I = new Map(),
          k = 0x1000000,
          _ = 1048576;
        class R extends E.BaseSubchannelWrapper {
          constructor(e, r) {
            super(e),
              (this.channel = r),
              (this.refCount = 0),
              (this.subchannelStateListener = (e, n, i, s) => {
                r.throttleKeepalive(s);
              }),
              e.addConnectivityStateListener(this.subchannelStateListener);
          }
          ref() {
            this.child.ref(), (this.refCount += 1);
          }
          unref() {
            this.child.unref(),
              (this.refCount -= 1),
              this.refCount <= 0 &&
                (this.child.removeConnectivityStateListener(
                  this.subchannelStateListener,
                ),
                this.channel.removeWrappedSubchannel(this));
          }
        }
        class D {
          constructor(e, r, n) {
            var y, v, b, w, E, D, P, N;
            if (
              ((this.credentials = r),
              (this.options = n),
              (this.connectivityState = g.ConnectivityState.IDLE),
              (this.currentPicker = new o.UnavailablePicker()),
              (this.configSelectionQueue = []),
              (this.pickQueue = []),
              (this.connectivityStateWatchers = []),
              (this.configSelector = null),
              (this.currentResolutionError = null),
              (this.wrappedSubchannels = new Set()),
              (this.callCount = 0),
              (this.idleTimer = null),
              (this.channelzEnabled = !0),
              (this.callTracker = new m.ChannelzCallTracker()),
              (this.childrenTracker = new m.ChannelzChildrenTracker()),
              "string" != typeof e)
            )
              throw TypeError("Channel target must be a string");
            if (!(r instanceof i.ChannelCredentials))
              throw TypeError(
                "Channel credentials must be a ChannelCredentials object",
              );
            if (n && "object" != typeof n)
              throw TypeError("Channel options must be an object");
            this.originalTarget = e;
            let O = (0, p.parseUri)(e);
            if (null === O) throw Error(`Could not parse target name "${e}"`);
            let M = (0, d.mapUriDefaultScheme)(O);
            if (null === M)
              throw Error(
                `Could not find a default scheme for target name "${e}"`,
              );
            (this.callRefTimer = setInterval(() => {}, C)),
              null === (v = (y = this.callRefTimer).unref) ||
                void 0 === v ||
                v.call(y),
              0 === this.options["grpc.enable_channelz"] &&
                (this.channelzEnabled = !1),
              (this.channelzTrace = new m.ChannelzTrace()),
              (this.channelzRef = (0, m.registerChannelzChannel)(
                e,
                () => this.getChannelzInfo(),
                this.channelzEnabled,
              )),
              this.channelzEnabled &&
                this.channelzTrace.addTrace("CT_INFO", "Channel created"),
              this.options["grpc.default_authority"]
                ? (this.defaultAuthority =
                    this.options["grpc.default_authority"])
                : (this.defaultAuthority = (0, d.getDefaultAuthority)(M));
            let L = (0, f.mapProxyName)(M, n);
            (this.target = L.target),
              (this.options = Object.assign({}, this.options, L.extraOptions)),
              (this.subchannelPool = (0, a.getSubchannelPool)(
                (null !== (b = n["grpc.use_local_subchannel_pool"]) &&
                void 0 !== b
                  ? b
                  : 0) === 0,
              )),
              (this.retryBufferTracker = new S.MessageBufferTracker(
                null !== (w = n["grpc.retry_buffer_size"]) && void 0 !== w
                  ? w
                  : k,
                null !== (E = n["grpc.per_rpc_retry_buffer_size"]) &&
                void 0 !== E
                  ? E
                  : _,
              )),
              (this.keepaliveTime =
                null !== (D = n["grpc.keepalive_time_ms"]) && void 0 !== D
                  ? D
                  : -1),
              (this.idleTimeoutMs = Math.max(
                null !== (P = n["grpc.client_idle_timeout_ms"]) && void 0 !== P
                  ? P
                  : A,
                x,
              ));
            let B = {
              createSubchannel: (e, r) => {
                let n = this.subchannelPool.getOrCreateSubchannel(
                  this.target,
                  e,
                  Object.assign({}, this.options, r),
                  this.credentials,
                );
                n.throttleKeepalive(this.keepaliveTime),
                  this.channelzEnabled &&
                    this.channelzTrace.addTrace(
                      "CT_INFO",
                      "Created subchannel or used existing subchannel",
                      n.getChannelzRef(),
                    );
                let i = new R(n, this);
                return this.wrappedSubchannels.add(i), i;
              },
              updateState: (e, r) => {
                this.currentPicker = r;
                let n = this.pickQueue.slice();
                for (let e of ((this.pickQueue = []),
                n.length > 0 && this.callRefTimerUnref(),
                n))
                  e.doPick();
                this.updateState(e);
              },
              requestReresolution: () => {
                throw Error(
                  "Resolving load balancer should never call requestReresolution",
                );
              },
              addChannelzChild: (e) => {
                this.channelzEnabled && this.childrenTracker.refChild(e);
              },
              removeChannelzChild: (e) => {
                this.channelzEnabled && this.childrenTracker.unrefChild(e);
              },
            };
            (this.resolvingLoadBalancer = new s.ResolvingLoadBalancer(
              this.target,
              B,
              n,
              (e, r) => {
                e.retryThrottling
                  ? I.set(
                      this.getTarget(),
                      new S.RetryThrottler(
                        e.retryThrottling.maxTokens,
                        e.retryThrottling.tokenRatio,
                        I.get(this.getTarget()),
                      ),
                    )
                  : I.delete(this.getTarget()),
                  this.channelzEnabled &&
                    this.channelzTrace.addTrace(
                      "CT_INFO",
                      "Address resolution succeeded",
                    ),
                  (this.configSelector = r),
                  (this.currentResolutionError = null),
                  process.nextTick(() => {
                    let e = this.configSelectionQueue;
                    for (let r of ((this.configSelectionQueue = []),
                    e.length > 0 && this.callRefTimerUnref(),
                    e))
                      r.getConfig();
                  });
              },
              (e) => {
                this.channelzEnabled &&
                  this.channelzTrace.addTrace(
                    "CT_WARNING",
                    "Address resolution failed with code " +
                      e.code +
                      ' and details "' +
                      e.details +
                      '"',
                  ),
                  this.configSelectionQueue.length > 0 &&
                    this.trace(
                      "Name resolution failed with calls queued for config selection",
                    ),
                  null === this.configSelector &&
                    (this.currentResolutionError = Object.assign(
                      Object.assign(
                        {},
                        (0, T.restrictControlPlaneStatusCode)(
                          e.code,
                          e.details,
                        ),
                      ),
                      { metadata: e.metadata },
                    ));
                let r = this.configSelectionQueue;
                for (let n of ((this.configSelectionQueue = []),
                r.length > 0 && this.callRefTimerUnref(),
                r))
                  n.reportResolverError(e);
              },
            )),
              (this.filterStackFactory = new u.FilterStackFactory([
                new c.CompressionFilterFactory(this, this.options),
              ])),
              this.trace(
                "Channel constructed with options " +
                  JSON.stringify(n, void 0, 2),
              );
            let F = Error();
            (0, h.trace)(
              l.LogVerbosity.DEBUG,
              "channel_stacktrace",
              "(" +
                this.channelzRef.id +
                ") Channel constructed \n" +
                (null === (N = F.stack) || void 0 === N
                  ? void 0
                  : N.substring(F.stack.indexOf("\n") + 1)),
            ),
              (this.lastActivityTimestamp = new Date());
          }
          getChannelzInfo() {
            return {
              target: this.originalTarget,
              state: this.connectivityState,
              trace: this.channelzTrace,
              callTracker: this.callTracker,
              children: this.childrenTracker.getChildLists(),
            };
          }
          trace(e, r) {
            (0, h.trace)(
              null != r ? r : l.LogVerbosity.DEBUG,
              "channel",
              "(" +
                this.channelzRef.id +
                ") " +
                (0, p.uriToString)(this.target) +
                " " +
                e,
            );
          }
          callRefTimerRef() {
            var e, r, n, i;
            (null === (r = (e = this.callRefTimer).hasRef) || void 0 === r
              ? void 0
              : r.call(e)) ||
              (this.trace(
                "callRefTimer.ref | configSelectionQueue.length=" +
                  this.configSelectionQueue.length +
                  " pickQueue.length=" +
                  this.pickQueue.length,
              ),
              null === (i = (n = this.callRefTimer).ref) ||
                void 0 === i ||
                i.call(n));
          }
          callRefTimerUnref() {
            var e, r;
            (!this.callRefTimer.hasRef || this.callRefTimer.hasRef()) &&
              (this.trace(
                "callRefTimer.unref | configSelectionQueue.length=" +
                  this.configSelectionQueue.length +
                  " pickQueue.length=" +
                  this.pickQueue.length,
              ),
              null === (r = (e = this.callRefTimer).unref) ||
                void 0 === r ||
                r.call(e));
          }
          removeConnectivityStateWatcher(e) {
            let r = this.connectivityStateWatchers.findIndex((r) => r === e);
            r >= 0 && this.connectivityStateWatchers.splice(r, 1);
          }
          updateState(e) {
            for (let r of ((0, h.trace)(
              l.LogVerbosity.DEBUG,
              "connectivity_state",
              "(" +
                this.channelzRef.id +
                ") " +
                (0, p.uriToString)(this.target) +
                " " +
                g.ConnectivityState[this.connectivityState] +
                " -> " +
                g.ConnectivityState[e],
            ),
            this.channelzEnabled &&
              this.channelzTrace.addTrace(
                "CT_INFO",
                "Connectivity state change to " + g.ConnectivityState[e],
              ),
            (this.connectivityState = e),
            this.connectivityStateWatchers.slice()))
              e !== r.currentState &&
                (r.timer && clearTimeout(r.timer),
                this.removeConnectivityStateWatcher(r),
                r.callback());
            e !== g.ConnectivityState.TRANSIENT_FAILURE &&
              (this.currentResolutionError = null);
          }
          throttleKeepalive(e) {
            if (e > this.keepaliveTime)
              for (let r of ((this.keepaliveTime = e), this.wrappedSubchannels))
                r.throttleKeepalive(e);
          }
          removeWrappedSubchannel(e) {
            this.wrappedSubchannels.delete(e);
          }
          doPick(e, r) {
            return this.currentPicker.pick({ metadata: e, extraPickInfo: r });
          }
          queueCallForPick(e) {
            this.pickQueue.push(e), this.callRefTimerRef();
          }
          getConfig(e, r) {
            return (this.resolvingLoadBalancer.exitIdle(), this.configSelector)
              ? { type: "SUCCESS", config: this.configSelector(e, r) }
              : this.currentResolutionError
                ? { type: "ERROR", error: this.currentResolutionError }
                : { type: "NONE" };
          }
          queueCallForConfig(e) {
            this.configSelectionQueue.push(e), this.callRefTimerRef();
          }
          enterIdle() {
            this.resolvingLoadBalancer.destroy(),
              this.updateState(g.ConnectivityState.IDLE),
              (this.currentPicker = new o.QueuePicker(
                this.resolvingLoadBalancer,
              )),
              this.idleTimer &&
                (clearTimeout(this.idleTimer), (this.idleTimer = null));
          }
          startIdleTimeout(e) {
            var r, n;
            (this.idleTimer = setTimeout(() => {
              if (this.callCount > 0) {
                this.startIdleTimeout(this.idleTimeoutMs);
                return;
              }
              let e =
                new Date().valueOf() - this.lastActivityTimestamp.valueOf();
              e >= this.idleTimeoutMs
                ? (this.trace(
                    "Idle timer triggered after " +
                      this.idleTimeoutMs +
                      "ms of inactivity",
                  ),
                  this.enterIdle())
                : this.startIdleTimeout(this.idleTimeoutMs - e);
            }, e)),
              null === (n = (r = this.idleTimer).unref) ||
                void 0 === n ||
                n.call(r);
          }
          maybeStartIdleTimer() {
            this.connectivityState === g.ConnectivityState.SHUTDOWN ||
              this.idleTimer ||
              this.startIdleTimeout(this.idleTimeoutMs);
          }
          onCallStart() {
            this.channelzEnabled && this.callTracker.addCallStarted(),
              (this.callCount += 1);
          }
          onCallEnd(e) {
            this.channelzEnabled &&
              (e.code === l.Status.OK
                ? this.callTracker.addCallSucceeded()
                : this.callTracker.addCallFailed()),
              (this.callCount -= 1),
              (this.lastActivityTimestamp = new Date()),
              this.maybeStartIdleTimer();
          }
          createLoadBalancingCall(e, r, n, i, s) {
            let a = (0, w.getNextCallNumber)();
            return (
              this.trace(
                "createLoadBalancingCall [" + a + '] method="' + r + '"',
              ),
              new y.LoadBalancingCall(this, e, r, n, i, s, a)
            );
          }
          createRetryingCall(e, r, n, i, s) {
            let a = (0, w.getNextCallNumber)();
            return (
              this.trace("createRetryingCall [" + a + '] method="' + r + '"'),
              new S.RetryingCall(
                this,
                e,
                r,
                n,
                i,
                s,
                a,
                this.retryBufferTracker,
                I.get(this.getTarget()),
              )
            );
          }
          createInnerCall(e, r, n, i, s) {
            return 0 === this.options["grpc.enable_retries"]
              ? this.createLoadBalancingCall(e, r, n, i, s)
              : this.createRetryingCall(e, r, n, i, s);
          }
          createResolvingCall(e, r, n, i, s) {
            let a = (0, w.getNextCallNumber)();
            this.trace(
              "createResolvingCall [" +
                a +
                '] method="' +
                e +
                '", deadline=' +
                (0, v.deadlineToString)(r),
            );
            let o = {
                deadline: r,
                flags: null != s ? s : l.Propagate.DEFAULTS,
                host: null != n ? n : this.defaultAuthority,
                parentCall: i,
              },
              u = new b.ResolvingCall(
                this,
                e,
                o,
                this.filterStackFactory.clone(),
                this.credentials._getCallCredentials(),
                a,
              );
            return (
              this.onCallStart(),
              u.addStatusWatcher((e) => {
                this.onCallEnd(e);
              }),
              u
            );
          }
          close() {
            this.resolvingLoadBalancer.destroy(),
              this.updateState(g.ConnectivityState.SHUTDOWN),
              clearInterval(this.callRefTimer),
              this.idleTimer && clearTimeout(this.idleTimer),
              this.channelzEnabled &&
                (0, m.unregisterChannelzRef)(this.channelzRef),
              this.subchannelPool.unrefUnusedSubchannels();
          }
          getTarget() {
            return (0, p.uriToString)(this.target);
          }
          getConnectivityState(e) {
            let r = this.connectivityState;
            return (
              e &&
                (this.resolvingLoadBalancer.exitIdle(),
                (this.lastActivityTimestamp = new Date()),
                this.maybeStartIdleTimer()),
              r
            );
          }
          watchConnectivityState(e, r, n) {
            if (this.connectivityState === g.ConnectivityState.SHUTDOWN)
              throw Error("Channel has been shut down");
            let i = null;
            if (r !== 1 / 0) {
              let e = r instanceof Date ? r : new Date(r),
                a = new Date();
              if (r === -1 / 0 || e <= a) {
                process.nextTick(
                  n,
                  Error("Deadline passed without connectivity state change"),
                );
                return;
              }
              i = setTimeout(() => {
                this.removeConnectivityStateWatcher(s),
                  n(Error("Deadline passed without connectivity state change"));
              }, e.getTime() - a.getTime());
            }
            let s = { currentState: e, callback: n, timer: i };
            this.connectivityStateWatchers.push(s);
          }
          getChannelzRef() {
            return this.channelzRef;
          }
          createCall(e, r, n, i, s) {
            if ("string" != typeof e)
              throw TypeError("Channel#createCall: method must be a string");
            if (!("number" == typeof r || r instanceof Date))
              throw TypeError(
                "Channel#createCall: deadline must be a number or Date",
              );
            if (this.connectivityState === g.ConnectivityState.SHUTDOWN)
              throw Error("Channel has been shut down");
            return this.createResolvingCall(e, r, n, i, s);
          }
        }
        r.InternalChannel = D;
      },
      23857: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ChildLoadBalancerHandler = void 0);
        let i = n(9947),
          s = n(40655),
          a = "child_load_balancer_helper";
        class o {
          constructor(e) {
            (this.channelControlHelper = e),
              (this.currentChild = null),
              (this.pendingChild = null),
              (this.latestConfig = null),
              (this.ChildPolicyHelper = class {
                constructor(e) {
                  (this.parent = e), (this.child = null);
                }
                createSubchannel(e, r) {
                  return this.parent.channelControlHelper.createSubchannel(
                    e,
                    r,
                  );
                }
                updateState(e, r) {
                  var n;
                  if (this.calledByPendingChild()) {
                    if (e === s.ConnectivityState.CONNECTING) return;
                    null === (n = this.parent.currentChild) ||
                      void 0 === n ||
                      n.destroy(),
                      (this.parent.currentChild = this.parent.pendingChild),
                      (this.parent.pendingChild = null);
                  } else if (!this.calledByCurrentChild()) return;
                  this.parent.channelControlHelper.updateState(e, r);
                }
                requestReresolution() {
                  var e;
                  let r =
                    null !== (e = this.parent.pendingChild) && void 0 !== e
                      ? e
                      : this.parent.currentChild;
                  this.child === r &&
                    this.parent.channelControlHelper.requestReresolution();
                }
                setChild(e) {
                  this.child = e;
                }
                addChannelzChild(e) {
                  this.parent.channelControlHelper.addChannelzChild(e);
                }
                removeChannelzChild(e) {
                  this.parent.channelControlHelper.removeChannelzChild(e);
                }
                calledByPendingChild() {
                  return this.child === this.parent.pendingChild;
                }
                calledByCurrentChild() {
                  return this.child === this.parent.currentChild;
                }
              });
          }
          configUpdateRequiresNewPolicyInstance(e, r) {
            return e.getLoadBalancerName() !== r.getLoadBalancerName();
          }
          updateAddressList(e, r, n) {
            let s;
            if (
              null === this.currentChild ||
              null === this.latestConfig ||
              this.configUpdateRequiresNewPolicyInstance(this.latestConfig, r)
            ) {
              let e = new this.ChildPolicyHelper(this),
                n = (0, i.createLoadBalancer)(r, e);
              e.setChild(n),
                null === this.currentChild
                  ? ((this.currentChild = n), (s = this.currentChild))
                  : (this.pendingChild && this.pendingChild.destroy(),
                    (this.pendingChild = n),
                    (s = this.pendingChild));
            } else
              s =
                null === this.pendingChild
                  ? this.currentChild
                  : this.pendingChild;
            (this.latestConfig = r), s.updateAddressList(e, r, n);
          }
          exitIdle() {
            this.currentChild &&
              (this.currentChild.exitIdle(),
              this.pendingChild && this.pendingChild.exitIdle());
          }
          resetBackoff() {
            this.currentChild &&
              (this.currentChild.resetBackoff(),
              this.pendingChild && this.pendingChild.resetBackoff());
          }
          destroy() {
            this.currentChild &&
              (this.currentChild.destroy(), (this.currentChild = null)),
              this.pendingChild &&
                (this.pendingChild.destroy(), (this.pendingChild = null));
          }
          getTypeName() {
            return a;
          }
        }
        r.ChildLoadBalancerHandler = o;
      },
      46792: (e, r, n) => {
        "use strict";
        var i;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup =
            r.OutlierDetectionLoadBalancer =
            r.OutlierDetectionLoadBalancingConfig =
              void 0);
        let s = n(40655),
          a = n(2403),
          o = n(50552),
          l = n(77150),
          u = n(9947),
          c = n(23857),
          d = n(85058),
          h = n(45648),
          f = n(68963),
          p = n(47427),
          g = "outlier_detection";
        function m(e) {
          p.trace(a.LogVerbosity.DEBUG, g, e);
        }
        let y = "outlier_detection",
          v =
            (null !==
              (i = process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION) &&
            void 0 !== i
              ? i
              : "true") === "true",
          b = {
            stdev_factor: 1900,
            enforcement_percentage: 100,
            minimum_hosts: 5,
            request_volume: 100,
          },
          w = {
            threshold: 85,
            enforcement_percentage: 100,
            minimum_hosts: 5,
            request_volume: 50,
          };
        function T(e, r, n, i) {
          if (r in e && typeof e[r] !== n) {
            let s = i ? `${i}.${r}` : r;
            throw Error(
              `outlier detection config ${s} parse error: expected ${n}, got ${typeof e[r]}`,
            );
          }
        }
        function S(e, r, n) {
          let i = n ? `${n}.${r}` : r;
          if (r in e) {
            if (!(0, o.isDuration)(e[r]))
              throw Error(
                `outlier detection config ${i} parse error: expected Duration, got ${typeof e[r]}`,
              );
            if (
              !(
                e[r].seconds >= 0 &&
                e[r].seconds <= 315576e6 &&
                e[r].nanos >= 0 &&
                e[r].nanos <= 0x3b9ac9ff
              )
            )
              throw Error(
                `outlier detection config ${i} parse error: values out of range for non-negative Duaration`,
              );
          }
        }
        function E(e, r, n) {
          let i = n ? `${n}.${r}` : r;
          if ((T(e, r, "number", n), r in e && !(e[r] >= 0 && e[r] <= 100)))
            throw Error(
              `outlier detection config ${i} parse error: value out of range for percentage (0-100)`,
            );
        }
        class C {
          constructor(e, r, n, i, s, a, o) {
            if (
              ((this.childPolicy = o),
              o.length > 0 && "pick_first" === o[0].getLoadBalancerName())
            )
              throw Error(
                "outlier_detection LB policy cannot have a pick_first child policy",
              );
            (this.intervalMs = null != e ? e : 1e4),
              (this.baseEjectionTimeMs = null != r ? r : 3e4),
              (this.maxEjectionTimeMs = null != n ? n : 3e5),
              (this.maxEjectionPercent = null != i ? i : 10),
              (this.successRateEjection = s
                ? Object.assign(Object.assign({}, b), s)
                : null),
              (this.failurePercentageEjection = a
                ? Object.assign(Object.assign({}, w), a)
                : null);
          }
          getLoadBalancerName() {
            return y;
          }
          toJsonObject() {
            return {
              interval: (0, o.msToDuration)(this.intervalMs),
              base_ejection_time: (0, o.msToDuration)(this.baseEjectionTimeMs),
              max_ejection_time: (0, o.msToDuration)(this.maxEjectionTimeMs),
              max_ejection_percent: this.maxEjectionPercent,
              success_rate_ejection: this.successRateEjection,
              failure_percentage_ejection: this.failurePercentageEjection,
              child_policy: this.childPolicy.map((e) => e.toJsonObject()),
            };
          }
          getIntervalMs() {
            return this.intervalMs;
          }
          getBaseEjectionTimeMs() {
            return this.baseEjectionTimeMs;
          }
          getMaxEjectionTimeMs() {
            return this.maxEjectionTimeMs;
          }
          getMaxEjectionPercent() {
            return this.maxEjectionPercent;
          }
          getSuccessRateEjectionConfig() {
            return this.successRateEjection;
          }
          getFailurePercentageEjectionConfig() {
            return this.failurePercentageEjection;
          }
          getChildPolicy() {
            return this.childPolicy;
          }
          copyWithChildPolicy(e) {
            return new C(
              this.intervalMs,
              this.baseEjectionTimeMs,
              this.maxEjectionTimeMs,
              this.maxEjectionPercent,
              this.successRateEjection,
              this.failurePercentageEjection,
              e,
            );
          }
          static createFromJson(e) {
            var r;
            if (
              (S(e, "interval"),
              S(e, "base_ejection_time"),
              S(e, "max_ejection_time"),
              E(e, "max_ejection_percent"),
              "success_rate_ejection" in e)
            ) {
              if ("object" != typeof e.success_rate_ejection)
                throw Error(
                  "outlier detection config success_rate_ejection must be an object",
                );
              T(
                e.success_rate_ejection,
                "stdev_factor",
                "number",
                "success_rate_ejection",
              ),
                E(
                  e.success_rate_ejection,
                  "enforcement_percentage",
                  "success_rate_ejection",
                ),
                T(
                  e.success_rate_ejection,
                  "minimum_hosts",
                  "number",
                  "success_rate_ejection",
                ),
                T(
                  e.success_rate_ejection,
                  "request_volume",
                  "number",
                  "success_rate_ejection",
                );
            }
            if ("failure_percentage_ejection" in e) {
              if ("object" != typeof e.failure_percentage_ejection)
                throw Error(
                  "outlier detection config failure_percentage_ejection must be an object",
                );
              E(
                e.failure_percentage_ejection,
                "threshold",
                "failure_percentage_ejection",
              ),
                E(
                  e.failure_percentage_ejection,
                  "enforcement_percentage",
                  "failure_percentage_ejection",
                ),
                T(
                  e.failure_percentage_ejection,
                  "minimum_hosts",
                  "number",
                  "failure_percentage_ejection",
                ),
                T(
                  e.failure_percentage_ejection,
                  "request_volume",
                  "number",
                  "failure_percentage_ejection",
                );
            }
            return new C(
              e.interval ? (0, o.durationToMs)(e.interval) : null,
              e.base_ejection_time
                ? (0, o.durationToMs)(e.base_ejection_time)
                : null,
              e.max_ejection_time
                ? (0, o.durationToMs)(e.max_ejection_time)
                : null,
              null !== (r = e.max_ejection_percent) && void 0 !== r ? r : null,
              e.success_rate_ejection,
              e.failure_percentage_ejection,
              e.child_policy.map(u.validateLoadBalancingConfig),
            );
          }
        }
        r.OutlierDetectionLoadBalancingConfig = C;
        class x extends f.BaseSubchannelWrapper {
          constructor(e, r) {
            super(e),
              (this.mapEntry = r),
              (this.stateListeners = []),
              (this.ejected = !1),
              (this.refCount = 0),
              (this.childSubchannelState = e.getConnectivityState()),
              e.addConnectivityStateListener((e, r, n, i) => {
                if (((this.childSubchannelState = n), !this.ejected))
                  for (let e of this.stateListeners) e(this, r, n, i);
              });
          }
          getConnectivityState() {
            return this.ejected
              ? s.ConnectivityState.TRANSIENT_FAILURE
              : this.childSubchannelState;
          }
          addConnectivityStateListener(e) {
            this.stateListeners.push(e);
          }
          removeConnectivityStateListener(e) {
            let r = this.stateListeners.indexOf(e);
            r > -1 && this.stateListeners.splice(r, 1);
          }
          ref() {
            this.child.ref(), (this.refCount += 1);
          }
          unref() {
            if (
              (this.child.unref(),
              (this.refCount -= 1),
              this.refCount <= 0 && this.mapEntry)
            ) {
              let e = this.mapEntry.subchannelWrappers.indexOf(this);
              e >= 0 && this.mapEntry.subchannelWrappers.splice(e, 1);
            }
          }
          eject() {
            for (let e of ((this.ejected = !0), this.stateListeners))
              e(
                this,
                this.childSubchannelState,
                s.ConnectivityState.TRANSIENT_FAILURE,
                -1,
              );
          }
          uneject() {
            for (let e of ((this.ejected = !1), this.stateListeners))
              e(
                this,
                s.ConnectivityState.TRANSIENT_FAILURE,
                this.childSubchannelState,
                -1,
              );
          }
          getMapEntry() {
            return this.mapEntry;
          }
          getWrappedSubchannel() {
            return this.child;
          }
        }
        function A() {
          return { success: 0, failure: 0 };
        }
        class I {
          constructor() {
            (this.activeBucket = A()), (this.inactiveBucket = A());
          }
          addSuccess() {
            this.activeBucket.success += 1;
          }
          addFailure() {
            this.activeBucket.failure += 1;
          }
          switchBuckets() {
            (this.inactiveBucket = this.activeBucket),
              (this.activeBucket = A());
          }
          getLastSuccesses() {
            return this.inactiveBucket.success;
          }
          getLastFailures() {
            return this.inactiveBucket.failure;
          }
        }
        class k {
          constructor(e, r) {
            (this.wrappedPicker = e), (this.countCalls = r);
          }
          pick(e) {
            let r = this.wrappedPicker.pick(e);
            if (r.pickResultType !== d.PickResultType.COMPLETE) return r;
            {
              let e = r.subchannel,
                n = e.getMapEntry();
              if (!n)
                return Object.assign(Object.assign({}, r), {
                  subchannel: e.getWrappedSubchannel(),
                });
              {
                let i = r.onCallEnded;
                return (
                  this.countCalls &&
                    (i = (e) => {
                      var i;
                      e === a.Status.OK
                        ? n.counter.addSuccess()
                        : n.counter.addFailure(),
                        null === (i = r.onCallEnded) ||
                          void 0 === i ||
                          i.call(r, e);
                    }),
                  Object.assign(Object.assign({}, r), {
                    subchannel: e.getWrappedSubchannel(),
                    onCallEnded: i,
                  })
                );
              }
            }
          }
        }
        class _ {
          constructor(e) {
            (this.addressMap = new Map()),
              (this.latestConfig = null),
              (this.timerStartTime = null),
              (this.childBalancer = new c.ChildLoadBalancerHandler(
                (0, l.createChildChannelControlHelper)(e, {
                  createSubchannel: (r, n) => {
                    let i = e.createSubchannel(r, n),
                      s = this.addressMap.get(
                        (0, h.subchannelAddressToString)(r),
                      ),
                      a = new x(i, s);
                    return (
                      (null == s ? void 0 : s.currentEjectionTimestamp) !==
                        null && a.eject(),
                      null == s || s.subchannelWrappers.push(a),
                      a
                    );
                  },
                  updateState: (r, n) => {
                    r === s.ConnectivityState.READY
                      ? e.updateState(r, new k(n, this.isCountingEnabled()))
                      : e.updateState(r, n);
                  },
                }),
              )),
              (this.ejectionTimer = setInterval(() => {}, 0)),
              clearInterval(this.ejectionTimer);
          }
          isCountingEnabled() {
            return (
              null !== this.latestConfig &&
              (null !== this.latestConfig.getSuccessRateEjectionConfig() ||
                null !== this.latestConfig.getFailurePercentageEjectionConfig())
            );
          }
          getCurrentEjectionPercent() {
            let e = 0;
            for (let r of this.addressMap.values())
              null !== r.currentEjectionTimestamp && (e += 1);
            return (100 * e) / this.addressMap.size;
          }
          runSuccessRateCheck(e) {
            if (!this.latestConfig) return;
            let r = this.latestConfig.getSuccessRateEjectionConfig();
            if (!r) return;
            m("Running success rate check");
            let n = r.request_volume,
              i = 0,
              s = [];
            for (let [e, r] of this.addressMap) {
              let a = r.counter.getLastSuccesses(),
                o = r.counter.getLastFailures();
              m(
                "Stats for " +
                  e +
                  ": successes=" +
                  a +
                  " failures=" +
                  o +
                  " targetRequestVolume=" +
                  n,
              ),
                a + o >= n && ((i += 1), s.push(a / (a + o)));
            }
            if (
              (m(
                "Found " +
                  i +
                  " success rate candidates; currentEjectionPercent=" +
                  this.getCurrentEjectionPercent() +
                  " successRates=[" +
                  s +
                  "]",
              ),
              i < r.minimum_hosts)
            )
              return;
            let a = s.reduce((e, r) => e + r) / s.length,
              o = 0;
            for (let e of s) {
              let r = e - a;
              o += r * r;
            }
            let l = Math.sqrt(o / s.length),
              u = a - l * (r.stdev_factor / 1e3);
            for (let [i, s] of (m("stdev=" + l + " ejectionThreshold=" + u),
            this.addressMap.entries())) {
              if (
                this.getCurrentEjectionPercent() >=
                this.latestConfig.getMaxEjectionPercent()
              )
                break;
              let a = s.counter.getLastSuccesses(),
                o = s.counter.getLastFailures();
              if (a + o < n) continue;
              let l = a / (a + o);
              if ((m("Checking candidate " + i + " successRate=" + l), l < u)) {
                let n = 100 * Math.random();
                m(
                  "Candidate " +
                    i +
                    " randomNumber=" +
                    n +
                    " enforcement_percentage=" +
                    r.enforcement_percentage,
                ),
                  n < r.enforcement_percentage &&
                    (m("Ejecting candidate " + i), this.eject(s, e));
              }
            }
          }
          runFailurePercentageCheck(e) {
            if (!this.latestConfig) return;
            let r = this.latestConfig.getFailurePercentageEjectionConfig();
            if (!r) return;
            m(
              "Running failure percentage check. threshold=" +
                r.threshold +
                " request volume threshold=" +
                r.request_volume,
            );
            let n = 0;
            for (let e of this.addressMap.values())
              e.counter.getLastSuccesses() + e.counter.getLastFailures() >=
                r.request_volume && (n += 1);
            if (!(n < r.minimum_hosts))
              for (let [n, i] of this.addressMap.entries()) {
                if (
                  this.getCurrentEjectionPercent() >=
                  this.latestConfig.getMaxEjectionPercent()
                )
                  break;
                let s = i.counter.getLastSuccesses(),
                  a = i.counter.getLastFailures();
                if (
                  (m("Candidate successes=" + s + " failures=" + a),
                  !(s + a < r.request_volume) &&
                    (100 * a) / (a + s) > r.threshold)
                ) {
                  let s = 100 * Math.random();
                  m(
                    "Candidate " +
                      n +
                      " randomNumber=" +
                      s +
                      " enforcement_percentage=" +
                      r.enforcement_percentage,
                  ),
                    s < r.enforcement_percentage &&
                      (m("Ejecting candidate " + n), this.eject(i, e));
                }
              }
          }
          eject(e, r) {
            for (let r of ((e.currentEjectionTimestamp = new Date()),
            (e.ejectionTimeMultiplier += 1),
            e.subchannelWrappers))
              r.eject();
          }
          uneject(e) {
            for (let r of ((e.currentEjectionTimestamp = null),
            e.subchannelWrappers))
              r.uneject();
          }
          switchAllBuckets() {
            for (let e of this.addressMap.values()) e.counter.switchBuckets();
          }
          startTimer(e) {
            var r, n;
            (this.ejectionTimer = setTimeout(() => this.runChecks(), e)),
              null === (n = (r = this.ejectionTimer).unref) ||
                void 0 === n ||
                n.call(r);
          }
          runChecks() {
            let e = new Date();
            if (
              (m("Ejection timer running"),
              this.switchAllBuckets(),
              this.latestConfig)
            )
              for (let [r, n] of ((this.timerStartTime = e),
              this.startTimer(this.latestConfig.getIntervalMs()),
              this.runSuccessRateCheck(e),
              this.runFailurePercentageCheck(e),
              this.addressMap.entries()))
                if (null === n.currentEjectionTimestamp)
                  n.ejectionTimeMultiplier > 0 &&
                    (n.ejectionTimeMultiplier -= 1);
                else {
                  let e = this.latestConfig.getBaseEjectionTimeMs(),
                    i = this.latestConfig.getMaxEjectionTimeMs(),
                    s = new Date(n.currentEjectionTimestamp.getTime());
                  s.setMilliseconds(
                    s.getMilliseconds() +
                      Math.min(e * n.ejectionTimeMultiplier, Math.max(e, i)),
                  ),
                    s < new Date() && (m("Unejecting " + r), this.uneject(n));
                }
          }
          updateAddressList(e, r, n) {
            if (!(r instanceof C)) return;
            let i = new Set();
            for (let r of e) i.add((0, h.subchannelAddressToString)(r));
            for (let e of i)
              this.addressMap.has(e) ||
                (m("Adding map entry for " + e),
                this.addressMap.set(e, {
                  counter: new I(),
                  currentEjectionTimestamp: null,
                  ejectionTimeMultiplier: 0,
                  subchannelWrappers: [],
                }));
            for (let e of this.addressMap.keys())
              i.has(e) ||
                (m("Removing map entry for " + e), this.addressMap.delete(e));
            let s = (0, u.getFirstUsableConfig)(r.getChildPolicy(), !0);
            if (
              (this.childBalancer.updateAddressList(e, s, n),
              r.getSuccessRateEjectionConfig() ||
                r.getFailurePercentageEjectionConfig())
            ) {
              if (this.timerStartTime) {
                m("Previous timer existed. Replacing timer"),
                  clearTimeout(this.ejectionTimer);
                let e =
                  r.getIntervalMs() -
                  (new Date().getTime() - this.timerStartTime.getTime());
                this.startTimer(e);
              } else
                m("Starting new timer"),
                  (this.timerStartTime = new Date()),
                  this.startTimer(r.getIntervalMs()),
                  this.switchAllBuckets();
            } else
              for (let e of (m("Counting disabled. Cancelling timer."),
              (this.timerStartTime = null),
              clearTimeout(this.ejectionTimer),
              this.addressMap.values()))
                this.uneject(e), (e.ejectionTimeMultiplier = 0);
            this.latestConfig = r;
          }
          exitIdle() {
            this.childBalancer.exitIdle();
          }
          resetBackoff() {
            this.childBalancer.resetBackoff();
          }
          destroy() {
            clearTimeout(this.ejectionTimer), this.childBalancer.destroy();
          }
          getTypeName() {
            return y;
          }
        }
        function R() {
          v && (0, l.registerLoadBalancerType)(y, _, C);
        }
        (r.OutlierDetectionLoadBalancer = _), (r.setup = R);
      },
      77950: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup =
            r.PickFirstLoadBalancer =
            r.shuffled =
            r.PickFirstLoadBalancingConfig =
              void 0);
        let i = n(9947),
          s = n(40655),
          a = n(85058),
          o = n(47427),
          l = n(2403),
          u = "pick_first";
        function c(e) {
          o.trace(l.LogVerbosity.DEBUG, u, e);
        }
        let d = "pick_first",
          h = 250;
        class f {
          constructor(e) {
            this.shuffleAddressList = e;
          }
          getLoadBalancerName() {
            return d;
          }
          toJsonObject() {
            return { [d]: { shuffleAddressList: this.shuffleAddressList } };
          }
          getShuffleAddressList() {
            return this.shuffleAddressList;
          }
          static createFromJson(e) {
            if (
              "shuffleAddressList" in e &&
              "boolean" != typeof e.shuffleAddressList
            )
              throw Error(
                "pick_first config field shuffleAddressList must be a boolean if provided",
              );
            return new f(!0 === e.shuffleAddressList);
          }
        }
        r.PickFirstLoadBalancingConfig = f;
        class p {
          constructor(e) {
            this.subchannel = e;
          }
          pick(e) {
            return {
              pickResultType: a.PickResultType.COMPLETE,
              subchannel: this.subchannel,
              status: null,
              onCallStarted: null,
              onCallEnded: null,
            };
          }
        }
        function g(e) {
          let r = e.slice();
          for (let e = r.length - 1; e > 1; e--) {
            let n = Math.floor(Math.random() * (e + 1)),
              i = r[e];
            (r[e] = r[n]), (r[n] = i);
          }
          return r;
        }
        r.shuffled = g;
        class m {
          constructor(e) {
            (this.channelControlHelper = e),
              (this.children = []),
              (this.currentState = s.ConnectivityState.IDLE),
              (this.currentSubchannelIndex = 0),
              (this.currentPick = null),
              (this.subchannelStateListener = (e, r, n, i, s) => {
                this.onSubchannelStateUpdate(e, r, n, s);
              }),
              (this.triedAllSubchannels = !1),
              (this.stickyTransientFailureMode = !1),
              (this.requestedResolutionSinceLastUpdate = !1),
              (this.lastError = null),
              (this.latestAddressList = null),
              (this.connectionDelayTimeout = setTimeout(() => {}, 0)),
              clearTimeout(this.connectionDelayTimeout);
          }
          allChildrenHaveReportedTF() {
            return this.children.every((e) => e.hasReportedTransientFailure);
          }
          calculateAndReportNewState() {
            this.currentPick
              ? this.updateState(
                  s.ConnectivityState.READY,
                  new p(this.currentPick),
                )
              : 0 === this.children.length
                ? this.updateState(
                    s.ConnectivityState.IDLE,
                    new a.QueuePicker(this),
                  )
                : this.stickyTransientFailureMode
                  ? this.updateState(
                      s.ConnectivityState.TRANSIENT_FAILURE,
                      new a.UnavailablePicker({
                        details: `No connection established. Last error: ${this.lastError}`,
                      }),
                    )
                  : this.updateState(
                      s.ConnectivityState.CONNECTING,
                      new a.QueuePicker(this),
                    );
          }
          requestReresolution() {
            (this.requestedResolutionSinceLastUpdate = !0),
              this.channelControlHelper.requestReresolution();
          }
          maybeEnterStickyTransientFailureMode() {
            if (
              this.allChildrenHaveReportedTF() &&
              (this.requestedResolutionSinceLastUpdate ||
                this.requestReresolution(),
              !this.stickyTransientFailureMode)
            ) {
              for (let { subchannel: e } of ((this.stickyTransientFailureMode =
                !0),
              this.children))
                e.startConnecting();
              this.calculateAndReportNewState();
            }
          }
          removeCurrentPick() {
            if (null !== this.currentPick) {
              let e = this.currentPick;
              (this.currentPick = null),
                e.unref(),
                e.removeConnectivityStateListener(this.subchannelStateListener),
                this.channelControlHelper.removeChannelzChild(
                  e.getChannelzRef(),
                );
            }
          }
          onSubchannelStateUpdate(e, r, n, i) {
            var a;
            if (
              null === (a = this.currentPick) || void 0 === a
                ? void 0
                : a.realSubchannelEquals(e)
            ) {
              n !== s.ConnectivityState.READY &&
                (this.removeCurrentPick(),
                this.calculateAndReportNewState(),
                this.requestReresolution());
              return;
            }
            for (let [r, a] of this.children.entries())
              if (e.realSubchannelEquals(a.subchannel)) {
                n === s.ConnectivityState.READY &&
                  this.pickSubchannel(a.subchannel),
                  n === s.ConnectivityState.TRANSIENT_FAILURE &&
                    ((a.hasReportedTransientFailure = !0),
                    i && (this.lastError = i),
                    this.maybeEnterStickyTransientFailureMode(),
                    r === this.currentSubchannelIndex &&
                      this.startNextSubchannelConnecting(r + 1)),
                  a.subchannel.startConnecting();
                return;
              }
          }
          startNextSubchannelConnecting(e) {
            if (
              (clearTimeout(this.connectionDelayTimeout),
              !this.triedAllSubchannels)
            ) {
              for (let [r, n] of this.children.entries())
                if (r >= e) {
                  let e = n.subchannel.getConnectivityState();
                  if (
                    e === s.ConnectivityState.IDLE ||
                    e === s.ConnectivityState.CONNECTING
                  ) {
                    this.startConnecting(r);
                    return;
                  }
                }
              (this.triedAllSubchannels = !0),
                this.maybeEnterStickyTransientFailureMode();
            }
          }
          startConnecting(e) {
            var r, n;
            clearTimeout(this.connectionDelayTimeout),
              (this.currentSubchannelIndex = e),
              this.children[e].subchannel.getConnectivityState() ===
                s.ConnectivityState.IDLE &&
                (c(
                  "Start connecting to subchannel with address " +
                    this.children[e].subchannel.getAddress(),
                ),
                process.nextTick(() => {
                  var r;
                  null === (r = this.children[e]) ||
                    void 0 === r ||
                    r.subchannel.startConnecting();
                })),
              (this.connectionDelayTimeout =
                null ===
                  (n = (r = setTimeout(() => {
                    this.startNextSubchannelConnecting(e + 1);
                  }, h)).unref) || void 0 === n
                  ? void 0
                  : n.call(r));
          }
          pickSubchannel(e) {
            (this.currentPick && e.realSubchannelEquals(this.currentPick)) ||
              (c("Pick subchannel with address " + e.getAddress()),
              (this.stickyTransientFailureMode = !1),
              null !== this.currentPick &&
                (this.currentPick.unref(),
                this.channelControlHelper.removeChannelzChild(
                  this.currentPick.getChannelzRef(),
                ),
                this.currentPick.removeConnectivityStateListener(
                  this.subchannelStateListener,
                )),
              (this.currentPick = e),
              e.ref(),
              this.channelControlHelper.addChannelzChild(e.getChannelzRef()),
              this.resetSubchannelList(),
              clearTimeout(this.connectionDelayTimeout),
              this.calculateAndReportNewState());
          }
          updateState(e, r) {
            c(
              s.ConnectivityState[this.currentState] +
                " -> " +
                s.ConnectivityState[e],
            ),
              (this.currentState = e),
              this.channelControlHelper.updateState(e, r);
          }
          resetSubchannelList() {
            for (let e of this.children)
              (this.currentPick &&
                e.subchannel.realSubchannelEquals(this.currentPick)) ||
                e.subchannel.removeConnectivityStateListener(
                  this.subchannelStateListener,
                ),
                e.subchannel.unref(),
                this.channelControlHelper.removeChannelzChild(
                  e.subchannel.getChannelzRef(),
                );
            (this.currentSubchannelIndex = 0),
              (this.children = []),
              (this.triedAllSubchannels = !1),
              (this.requestedResolutionSinceLastUpdate = !1);
          }
          connectToAddressList(e) {
            let r = e.map((e) => ({
              subchannel: this.channelControlHelper.createSubchannel(e, {}),
              hasReportedTransientFailure: !1,
            }));
            for (let { subchannel: e } of r)
              e.ref(),
                this.channelControlHelper.addChannelzChild(e.getChannelzRef());
            for (let { subchannel: e } of (this.resetSubchannelList(),
            (this.children = r),
            this.children))
              if (
                (e.addConnectivityStateListener(this.subchannelStateListener),
                e.getConnectivityState() === s.ConnectivityState.READY)
              ) {
                this.pickSubchannel(e);
                return;
              }
            for (let e of this.children)
              e.subchannel.getConnectivityState() ===
                s.ConnectivityState.TRANSIENT_FAILURE &&
                (e.hasReportedTransientFailure = !0);
            this.startNextSubchannelConnecting(0),
              this.calculateAndReportNewState();
          }
          updateAddressList(e, r) {
            r instanceof f &&
              (r.getShuffleAddressList() && (e = g(e)),
              (this.latestAddressList = e),
              this.connectToAddressList(e));
          }
          exitIdle() {
            this.currentState === s.ConnectivityState.IDLE &&
              this.latestAddressList &&
              this.connectToAddressList(this.latestAddressList);
          }
          resetBackoff() {}
          destroy() {
            this.resetSubchannelList(), this.removeCurrentPick();
          }
          getTypeName() {
            return d;
          }
        }
        function y() {
          (0, i.registerLoadBalancerType)(d, m, f),
            (0, i.registerDefaultLoadBalancerType)(d);
        }
        (r.PickFirstLoadBalancer = m), (r.setup = y);
      },
      74875: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup = r.RoundRobinLoadBalancer = void 0);
        let i = n(9947),
          s = n(40655),
          a = n(85058),
          o = n(45648),
          l = n(47427),
          u = n(2403),
          c = "round_robin";
        function d(e) {
          l.trace(u.LogVerbosity.DEBUG, c, e);
        }
        let h = "round_robin";
        class f {
          getLoadBalancerName() {
            return h;
          }
          constructor() {}
          toJsonObject() {
            return { [h]: {} };
          }
          static createFromJson(e) {
            return new f();
          }
        }
        class p {
          constructor(e, r = 0) {
            (this.subchannelList = e), (this.nextIndex = r);
          }
          pick(e) {
            let r = this.subchannelList[this.nextIndex];
            return (
              (this.nextIndex =
                (this.nextIndex + 1) % this.subchannelList.length),
              {
                pickResultType: a.PickResultType.COMPLETE,
                subchannel: r,
                status: null,
                onCallStarted: null,
                onCallEnded: null,
              }
            );
          }
          peekNextSubchannel() {
            return this.subchannelList[this.nextIndex];
          }
        }
        class g {
          constructor(e) {
            (this.channelControlHelper = e),
              (this.subchannels = []),
              (this.currentState = s.ConnectivityState.IDLE),
              (this.currentReadyPicker = null),
              (this.lastError = null),
              (this.subchannelStateListener = (e, r, n, i, a) => {
                this.calculateAndUpdateState(),
                  (n === s.ConnectivityState.TRANSIENT_FAILURE ||
                    n === s.ConnectivityState.IDLE) &&
                    (a && (this.lastError = a),
                    this.channelControlHelper.requestReresolution(),
                    e.startConnecting());
              });
          }
          countSubchannelsWithState(e) {
            return this.subchannels.filter(
              (r) => r.getConnectivityState() === e,
            ).length;
          }
          calculateAndUpdateState() {
            if (this.countSubchannelsWithState(s.ConnectivityState.READY) > 0) {
              let e = this.subchannels.filter(
                  (e) => e.getConnectivityState() === s.ConnectivityState.READY,
                ),
                r = 0;
              null !== this.currentReadyPicker &&
                (r = e.indexOf(this.currentReadyPicker.peekNextSubchannel())) <
                  0 &&
                (r = 0),
                this.updateState(s.ConnectivityState.READY, new p(e, r));
            } else
              this.countSubchannelsWithState(s.ConnectivityState.CONNECTING) > 0
                ? this.updateState(
                    s.ConnectivityState.CONNECTING,
                    new a.QueuePicker(this),
                  )
                : this.countSubchannelsWithState(
                      s.ConnectivityState.TRANSIENT_FAILURE,
                    ) > 0
                  ? this.updateState(
                      s.ConnectivityState.TRANSIENT_FAILURE,
                      new a.UnavailablePicker({
                        details: `No connection established. Last error: ${this.lastError}`,
                      }),
                    )
                  : this.updateState(
                      s.ConnectivityState.IDLE,
                      new a.QueuePicker(this),
                    );
          }
          updateState(e, r) {
            d(
              s.ConnectivityState[this.currentState] +
                " -> " +
                s.ConnectivityState[e],
            ),
              e === s.ConnectivityState.READY
                ? (this.currentReadyPicker = r)
                : (this.currentReadyPicker = null),
              (this.currentState = e),
              this.channelControlHelper.updateState(e, r);
          }
          resetSubchannelList() {
            for (let e of this.subchannels)
              e.removeConnectivityStateListener(this.subchannelStateListener),
                e.unref(),
                this.channelControlHelper.removeChannelzChild(
                  e.getChannelzRef(),
                );
            this.subchannels = [];
          }
          updateAddressList(e, r) {
            for (let r of (this.resetSubchannelList(),
            d(
              "Connect to address list " +
                e.map((e) => (0, o.subchannelAddressToString)(e)),
            ),
            (this.subchannels = e.map((e) =>
              this.channelControlHelper.createSubchannel(e, {}),
            )),
            this.subchannels)) {
              r.ref(),
                r.addConnectivityStateListener(this.subchannelStateListener),
                this.channelControlHelper.addChannelzChild(r.getChannelzRef());
              let e = r.getConnectivityState();
              (e === s.ConnectivityState.IDLE ||
                e === s.ConnectivityState.TRANSIENT_FAILURE) &&
                r.startConnecting();
            }
            this.calculateAndUpdateState();
          }
          exitIdle() {
            for (let e of this.subchannels) e.startConnecting();
          }
          resetBackoff() {}
          destroy() {
            this.resetSubchannelList();
          }
          getTypeName() {
            return h;
          }
        }
        function m() {
          (0, i.registerLoadBalancerType)(h, g, f);
        }
        (r.RoundRobinLoadBalancer = g), (r.setup = m);
      },
      9947: (e, r) => {
        "use strict";
        function n(e, r) {
          var n, i, s, a, o, l, u, c, d, h;
          return {
            createSubchannel:
              null !==
                (i =
                  null === (n = r.createSubchannel) || void 0 === n
                    ? void 0
                    : n.bind(r)) && void 0 !== i
                ? i
                : e.createSubchannel.bind(e),
            updateState:
              null !==
                (a =
                  null === (s = r.updateState) || void 0 === s
                    ? void 0
                    : s.bind(r)) && void 0 !== a
                ? a
                : e.updateState.bind(e),
            requestReresolution:
              null !==
                (l =
                  null === (o = r.requestReresolution) || void 0 === o
                    ? void 0
                    : o.bind(r)) && void 0 !== l
                ? l
                : e.requestReresolution.bind(e),
            addChannelzChild:
              null !==
                (c =
                  null === (u = r.addChannelzChild) || void 0 === u
                    ? void 0
                    : u.bind(r)) && void 0 !== c
                ? c
                : e.addChannelzChild.bind(e),
            removeChannelzChild:
              null !==
                (h =
                  null === (d = r.removeChannelzChild) || void 0 === d
                    ? void 0
                    : d.bind(r)) && void 0 !== h
                ? h
                : e.removeChannelzChild.bind(e),
          };
        }
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.validateLoadBalancingConfig =
            r.getFirstUsableConfig =
            r.isLoadBalancerNameRegistered =
            r.createLoadBalancer =
            r.registerDefaultLoadBalancerType =
            r.registerLoadBalancerType =
            r.createChildChannelControlHelper =
              void 0),
          (r.createChildChannelControlHelper = n);
        let i = {},
          s = null;
        function a(e, r, n) {
          i[e] = { LoadBalancer: r, LoadBalancingConfig: n };
        }
        function o(e) {
          s = e;
        }
        function l(e, r) {
          let n = e.getLoadBalancerName();
          return n in i ? new i[n].LoadBalancer(r) : null;
        }
        function u(e) {
          return e in i;
        }
        function c(e, r = !1) {
          for (let r of e) if (r.getLoadBalancerName() in i) return r;
          return r && s ? new i[s].LoadBalancingConfig() : null;
        }
        function d(e) {
          if (!(null !== e && "object" == typeof e))
            throw Error("Load balancing config must be an object");
          let r = Object.keys(e);
          if (1 !== r.length)
            throw Error(
              "Provided load balancing config has multiple conflicting entries",
            );
          let n = r[0];
          if (n in i) return i[n].LoadBalancingConfig.createFromJson(e[n]);
          throw Error(`Unrecognized load balancing config name ${n}`);
        }
        (r.registerLoadBalancerType = a),
          (r.registerDefaultLoadBalancerType = o),
          (r.createLoadBalancer = l),
          (r.isLoadBalancerNameRegistered = u),
          (r.getFirstUsableConfig = c),
          (r.validateLoadBalancingConfig = d);
      },
      69251: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.LoadBalancingCall = void 0);
        let i = n(40655),
          s = n(2403),
          a = n(31768),
          o = n(96045),
          l = n(85058),
          u = n(64230),
          c = n(47427),
          d = n(92827),
          h = n(73496),
          f = "load_balancing_call";
        class p {
          constructor(e, r, n, i, s, a, o) {
            var l, c;
            (this.channel = e),
              (this.callConfig = r),
              (this.methodName = n),
              (this.host = i),
              (this.credentials = s),
              (this.deadline = a),
              (this.callNumber = o),
              (this.child = null),
              (this.readPending = !1),
              (this.pendingMessage = null),
              (this.pendingHalfClose = !1),
              (this.ended = !1),
              (this.metadata = null),
              (this.listener = null),
              (this.onCallEnded = null);
            let d = this.methodName.split("/"),
              h = "";
            d.length >= 2 && (h = d[1]);
            let f =
              null !==
                (c =
                  null === (l = (0, u.splitHostPort)(this.host)) || void 0 === l
                    ? void 0
                    : l.host) && void 0 !== c
                ? c
                : "localhost";
            this.serviceUrl = `https://${f}/${h}`;
          }
          trace(e) {
            c.trace(s.LogVerbosity.DEBUG, f, "[" + this.callNumber + "] " + e);
          }
          outputStatus(e, r) {
            var n, i;
            if (!this.ended) {
              (this.ended = !0),
                this.trace(
                  "ended with status: code=" +
                    e.code +
                    ' details="' +
                    e.details +
                    '"',
                );
              let s = Object.assign(Object.assign({}, e), { progress: r });
              null === (n = this.listener) ||
                void 0 === n ||
                n.onReceiveStatus(s),
                null === (i = this.onCallEnded) ||
                  void 0 === i ||
                  i.call(this, s.code);
            }
          }
          doPick() {
            var e, r;
            if (this.ended) return;
            if (!this.metadata) throw Error("doPick called before start");
            this.trace("Pick called");
            let n = this.channel.doPick(
                this.metadata,
                this.callConfig.pickInformation,
              ),
              u = n.subchannel
                ? "(" +
                  n.subchannel.getChannelzRef().id +
                  ") " +
                  n.subchannel.getAddress()
                : "" + n.subchannel;
            switch (
              (this.trace(
                "Pick result: " +
                  l.PickResultType[n.pickResultType] +
                  " subchannel: " +
                  u +
                  " status: " +
                  (null === (e = n.status) || void 0 === e ? void 0 : e.code) +
                  " " +
                  (null === (r = n.status) || void 0 === r
                    ? void 0
                    : r.details),
              ),
              n.pickResultType)
            ) {
              case l.PickResultType.COMPLETE:
                this.credentials
                  .generateMetadata({ service_url: this.serviceUrl })
                  .then(
                    (e) => {
                      var r, l, c;
                      if (this.ended) {
                        this.trace(
                          "Credentials metadata generation finished after call ended",
                        );
                        return;
                      }
                      let d = this.metadata.clone();
                      if (
                        (d.merge(e),
                        d.get("authorization").length > 1 &&
                          this.outputStatus(
                            {
                              code: s.Status.INTERNAL,
                              details:
                                '"authorization" metadata cannot have multiple values',
                              metadata: new o.Metadata(),
                            },
                            "PROCESSED",
                          ),
                        n.subchannel.getConnectivityState() !==
                          i.ConnectivityState.READY)
                      ) {
                        this.trace(
                          "Picked subchannel " +
                            u +
                            " has state " +
                            i.ConnectivityState[
                              n.subchannel.getConnectivityState()
                            ] +
                            " after getting credentials metadata. Retrying pick",
                        ),
                          this.doPick();
                        return;
                      }
                      this.deadline !== 1 / 0 &&
                        d.set(
                          "grpc-timeout",
                          (0, a.getDeadlineTimeoutString)(this.deadline),
                        );
                      try {
                        this.child = n.subchannel
                          .getRealSubchannel()
                          .createCall(d, this.host, this.methodName, {
                            onReceiveMetadata: (e) => {
                              this.trace("Received metadata"),
                                this.listener.onReceiveMetadata(e);
                            },
                            onReceiveMessage: (e) => {
                              this.trace("Received message"),
                                this.listener.onReceiveMessage(e);
                            },
                            onReceiveStatus: (e) => {
                              this.trace("Received status"),
                                e.rstCode === h.constants.NGHTTP2_REFUSED_STREAM
                                  ? this.outputStatus(e, "REFUSED")
                                  : this.outputStatus(e, "PROCESSED");
                            },
                          });
                      } catch (e) {
                        this.trace(
                          "Failed to start call on picked subchannel " +
                            u +
                            " with error " +
                            e.message,
                        ),
                          this.outputStatus(
                            {
                              code: s.Status.INTERNAL,
                              details:
                                "Failed to start HTTP/2 stream with error " +
                                e.message,
                              metadata: new o.Metadata(),
                            },
                            "NOT_STARTED",
                          );
                        return;
                      }
                      null === (l = (r = this.callConfig).onCommitted) ||
                        void 0 === l ||
                        l.call(r),
                        null === (c = n.onCallStarted) ||
                          void 0 === c ||
                          c.call(n),
                        (this.onCallEnded = n.onCallEnded),
                        this.trace(
                          "Created child call [" +
                            this.child.getCallNumber() +
                            "]",
                        ),
                        this.readPending && this.child.startRead(),
                        this.pendingMessage &&
                          this.child.sendMessageWithContext(
                            this.pendingMessage.context,
                            this.pendingMessage.message,
                          ),
                        this.pendingHalfClose && this.child.halfClose();
                    },
                    (e) => {
                      let { code: r, details: n } = (0,
                      d.restrictControlPlaneStatusCode)(
                        "number" == typeof e.code ? e.code : s.Status.UNKNOWN,
                        `Getting metadata from plugin failed with error: ${e.message}`,
                      );
                      this.outputStatus(
                        { code: r, details: n, metadata: new o.Metadata() },
                        "PROCESSED",
                      );
                    },
                  );
                break;
              case l.PickResultType.DROP:
                let { code: c, details: f } = (0,
                d.restrictControlPlaneStatusCode)(
                  n.status.code,
                  n.status.details,
                );
                setImmediate(() => {
                  this.outputStatus(
                    { code: c, details: f, metadata: n.status.metadata },
                    "DROP",
                  );
                });
                break;
              case l.PickResultType.TRANSIENT_FAILURE:
                if (this.metadata.getOptions().waitForReady)
                  this.channel.queueCallForPick(this);
                else {
                  let { code: e, details: r } = (0,
                  d.restrictControlPlaneStatusCode)(
                    n.status.code,
                    n.status.details,
                  );
                  setImmediate(() => {
                    this.outputStatus(
                      { code: e, details: r, metadata: n.status.metadata },
                      "PROCESSED",
                    );
                  });
                }
                break;
              case l.PickResultType.QUEUE:
                this.channel.queueCallForPick(this);
            }
          }
          cancelWithStatus(e, r) {
            var n;
            this.trace("cancelWithStatus code: " + e + ' details: "' + r + '"'),
              null === (n = this.child) ||
                void 0 === n ||
                n.cancelWithStatus(e, r),
              this.outputStatus(
                { code: e, details: r, metadata: new o.Metadata() },
                "PROCESSED",
              );
          }
          getPeer() {
            var e, r;
            return null !==
              (r =
                null === (e = this.child) || void 0 === e
                  ? void 0
                  : e.getPeer()) && void 0 !== r
              ? r
              : this.channel.getTarget();
          }
          start(e, r) {
            this.trace("start called"),
              (this.listener = r),
              (this.metadata = e),
              this.doPick();
          }
          sendMessageWithContext(e, r) {
            this.trace("write() called with message of length " + r.length),
              this.child
                ? this.child.sendMessageWithContext(e, r)
                : (this.pendingMessage = { context: e, message: r });
          }
          startRead() {
            this.trace("startRead called"),
              this.child ? this.child.startRead() : (this.readPending = !0);
          }
          halfClose() {
            this.trace("halfClose called"),
              this.child
                ? this.child.halfClose()
                : (this.pendingHalfClose = !0);
          }
          setCredentials(e) {
            throw Error("Method not implemented.");
          }
          getCallNumber() {
            return this.callNumber;
          }
        }
        r.LoadBalancingCall = p;
      },
      47427: (e, r, n) => {
        "use strict";
        var i, s, a, o;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.isTracerEnabled =
            r.trace =
            r.log =
            r.setLoggerVerbosity =
            r.setLogger =
            r.getLogger =
              void 0);
        let l = n(2403),
          u = n(19771),
          c = n(86243).rE,
          d = {
            error: (e, ...r) => {
              console.error("E " + e, ...r);
            },
            info: (e, ...r) => {
              console.error("I " + e, ...r);
            },
            debug: (e, ...r) => {
              console.error("D " + e, ...r);
            },
          },
          h = l.LogVerbosity.ERROR;
        switch (
          (null !==
            (s =
              null !== (i = process.env.GRPC_NODE_VERBOSITY) && void 0 !== i
                ? i
                : process.env.GRPC_VERBOSITY) && void 0 !== s
            ? s
            : ""
          ).toUpperCase()
        ) {
          case "DEBUG":
            h = l.LogVerbosity.DEBUG;
            break;
          case "INFO":
            h = l.LogVerbosity.INFO;
            break;
          case "ERROR":
            h = l.LogVerbosity.ERROR;
            break;
          case "NONE":
            h = l.LogVerbosity.NONE;
        }
        let f = () => d;
        r.getLogger = f;
        let p = (e) => {
          d = e;
        };
        r.setLogger = p;
        let g = (e) => {
          h = e;
        };
        r.setLoggerVerbosity = g;
        let m = (e, ...r) => {
          let n;
          if (e >= h) {
            switch (e) {
              case l.LogVerbosity.DEBUG:
                n = d.debug;
                break;
              case l.LogVerbosity.INFO:
                n = d.info;
                break;
              case l.LogVerbosity.ERROR:
                n = d.error;
            }
            n || (n = d.error), n && n.bind(d)(...r);
          }
        };
        r.log = m;
        let y =
            null !==
              (o =
                null !== (a = process.env.GRPC_NODE_TRACE) && void 0 !== a
                  ? a
                  : process.env.GRPC_TRACE) && void 0 !== o
              ? o
              : "",
          v = new Set(),
          b = new Set();
        for (let e of y.split(","))
          e.startsWith("-") ? b.add(e.substring(1)) : v.add(e);
        let w = v.has("all");
        function T(e, n, i) {
          S(n) &&
            (0, r.log)(
              e,
              new Date().toISOString() +
                " | v" +
                c +
                " " +
                u.pid +
                " | " +
                n +
                " | " +
                i,
            );
        }
        function S(e) {
          return !b.has(e) && (w || v.has(e));
        }
        (r.trace = T), (r.isTracerEnabled = S);
      },
      4372: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.loadPackageDefinition = r.makeClientConstructor = void 0);
        let i = n(41083),
          s = {
            unary: i.Client.prototype.makeUnaryRequest,
            server_stream: i.Client.prototype.makeServerStreamRequest,
            client_stream: i.Client.prototype.makeClientStreamRequest,
            bidi: i.Client.prototype.makeBidiStreamRequest,
          };
        function a(e) {
          return ["__proto__", "prototype", "constructor"].includes(e);
        }
        function o(e, r, n) {
          n || (n = {});
          class o extends i.Client {}
          return (
            Object.keys(e).forEach((r) => {
              let n;
              if (a(r)) return;
              let i = e[r];
              if ("string" == typeof r && "$" === r.charAt(0))
                throw Error("Method names cannot start with $");
              n = i.requestStream
                ? i.responseStream
                  ? "bidi"
                  : "client_stream"
                : i.responseStream
                  ? "server_stream"
                  : "unary";
              let u = i.requestSerialize,
                c = i.responseDeserialize,
                d = l(s[n], i.path, u, c);
              (o.prototype[r] = d),
                Object.assign(o.prototype[r], i),
                i.originalName &&
                  !a(i.originalName) &&
                  (o.prototype[i.originalName] = o.prototype[r]);
            }),
            (o.service = e),
            (o.serviceName = r),
            o
          );
        }
        function l(e, r, n, i) {
          return function (...s) {
            return e.call(this, r, n, i, ...s);
          };
        }
        function u(e) {
          return "format" in e;
        }
        function c(e) {
          let r = {};
          for (let n in e)
            if (Object.prototype.hasOwnProperty.call(e, n)) {
              let i = e[n],
                s = n.split(".");
              if (s.some((e) => a(e))) continue;
              let l = s[s.length - 1],
                c = r;
              for (let e of s.slice(0, -1)) c[e] || (c[e] = {}), (c = c[e]);
              u(i) ? (c[l] = i) : (c[l] = o(i, l, {}));
            }
          return r;
        }
        (r.makeClientConstructor = o), (r.loadPackageDefinition = c);
      },
      96045: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Metadata = void 0);
        let i = n(47427),
          s = n(2403),
          a = n(38716),
          o = /^[0-9a-z_.-]+$/,
          l = /^[ -~]*$/;
        function u(e) {
          return o.test(e);
        }
        function c(e) {
          return l.test(e);
        }
        function d(e) {
          return e.endsWith("-bin");
        }
        function h(e) {
          return !e.startsWith("grpc-");
        }
        function f(e) {
          return e.toLowerCase();
        }
        function p(e, r) {
          if (!u(e))
            throw Error('Metadata key "' + e + '" contains illegal characters');
          if (null != r) {
            if (d(e)) {
              if (!Buffer.isBuffer(r))
                throw Error(
                  "keys that end with '-bin' must have Buffer values",
                );
            } else {
              if (Buffer.isBuffer(r))
                throw Error(
                  "keys that don't end with '-bin' must have String values",
                );
              if (!c(r))
                throw Error(
                  'Metadata string value "' +
                    r +
                    '" contains illegal characters',
                );
            }
          }
        }
        class g {
          constructor(e = {}) {
            (this.internalRepr = new Map()), (this.options = e);
          }
          set(e, r) {
            p((e = f(e)), r), this.internalRepr.set(e, [r]);
          }
          add(e, r) {
            p((e = f(e)), r);
            let n = this.internalRepr.get(e);
            void 0 === n ? this.internalRepr.set(e, [r]) : n.push(r);
          }
          remove(e) {
            (e = f(e)), this.internalRepr.delete(e);
          }
          get(e) {
            return (e = f(e)), this.internalRepr.get(e) || [];
          }
          getMap() {
            let e = {};
            for (let [r, n] of this.internalRepr)
              if (n.length > 0) {
                let i = n[0];
                e[r] = Buffer.isBuffer(i) ? Buffer.from(i) : i;
              }
            return e;
          }
          clone() {
            let e = new g(this.options),
              r = e.internalRepr;
            for (let [e, n] of this.internalRepr) {
              let i = n.map((e) => (Buffer.isBuffer(e) ? Buffer.from(e) : e));
              r.set(e, i);
            }
            return e;
          }
          merge(e) {
            for (let [r, n] of e.internalRepr) {
              let e = (this.internalRepr.get(r) || []).concat(n);
              this.internalRepr.set(r, e);
            }
          }
          setOptions(e) {
            this.options = e;
          }
          getOptions() {
            return this.options;
          }
          toHttp2Headers() {
            let e = {};
            for (let [r, n] of this.internalRepr) e[r] = n.map(m);
            return e;
          }
          toJSON() {
            let e = {};
            for (let [r, n] of this.internalRepr) e[r] = n;
            return e;
          }
          static fromHttp2Headers(e) {
            let r = new g();
            for (let n of Object.keys(e)) {
              if (":" === n.charAt(0)) continue;
              let o = e[n];
              try {
                d(n)
                  ? Array.isArray(o)
                    ? o.forEach((e) => {
                        r.add(n, Buffer.from(e, "base64"));
                      })
                    : void 0 !== o &&
                      (h(n)
                        ? o.split(",").forEach((e) => {
                            r.add(n, Buffer.from(e.trim(), "base64"));
                          })
                        : r.add(n, Buffer.from(o, "base64")))
                  : Array.isArray(o)
                    ? o.forEach((e) => {
                        r.add(n, e);
                      })
                    : void 0 !== o && r.add(n, o);
              } catch (r) {
                let e = `Failed to add metadata entry ${n}: ${o}. ${(0, a.getErrorMessage)(r)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;
                (0, i.log)(s.LogVerbosity.ERROR, e);
              }
            }
            return r;
          }
        }
        r.Metadata = g;
        let m = (e) => (Buffer.isBuffer(e) ? e.toString("base64") : e);
      },
      85058: (e, r, n) => {
        "use strict";
        var i;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.QueuePicker = r.UnavailablePicker = r.PickResultType = void 0);
        let s = n(96045),
          a = n(2403);
        !(function (e) {
          (e[(e.COMPLETE = 0)] = "COMPLETE"),
            (e[(e.QUEUE = 1)] = "QUEUE"),
            (e[(e.TRANSIENT_FAILURE = 2)] = "TRANSIENT_FAILURE"),
            (e[(e.DROP = 3)] = "DROP");
        })(i || (r.PickResultType = i = {}));
        class o {
          constructor(e) {
            this.status = Object.assign(
              {
                code: a.Status.UNAVAILABLE,
                details: "No connection established",
                metadata: new s.Metadata(),
              },
              e,
            );
          }
          pick(e) {
            return {
              pickResultType: i.TRANSIENT_FAILURE,
              subchannel: null,
              status: this.status,
              onCallStarted: null,
              onCallEnded: null,
            };
          }
        }
        r.UnavailablePicker = o;
        class l {
          constructor(e) {
            (this.loadBalancer = e), (this.calledExitIdle = !1);
          }
          pick(e) {
            return (
              this.calledExitIdle ||
                (process.nextTick(() => {
                  this.loadBalancer.exitIdle();
                }),
                (this.calledExitIdle = !0)),
              {
                pickResultType: i.QUEUE,
                subchannel: null,
                status: null,
                onCallStarted: null,
                onCallEnded: null,
              }
            );
          }
        }
        r.QueuePicker = l;
      },
      91248: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup = r.DEFAULT_PORT = void 0);
        let i = n(36078),
          s = n(14985),
          a = n(28354),
          o = n(74692),
          l = n(2403),
          u = n(96045),
          c = n(47427),
          d = n(2403),
          h = n(64230),
          f = n(91645),
          p = n(32064),
          g = "dns_resolver";
        function m(e) {
          c.trace(d.LogVerbosity.DEBUG, g, e);
        }
        r.DEFAULT_PORT = 443;
        let y = 3e4,
          v = a.promisify(s.resolveTxt),
          b = a.promisify(s.lookup);
        function w(...e) {
          let r = [];
          for (
            let n = 0;
            n <
            Math.max.apply(
              null,
              e.map((e) => e.length),
            );
            n++
          )
            for (let i of e) n < i.length && r.push(i[n]);
          return r;
        }
        class T {
          constructor(e, n, i) {
            var s, a, o;
            (this.target = e),
              (this.listener = n),
              (this.pendingLookupPromise = null),
              (this.pendingTxtPromise = null),
              (this.latestLookupResult = null),
              (this.latestServiceConfig = null),
              (this.latestServiceConfigError = null),
              (this.continueResolving = !1),
              (this.isNextResolutionTimerRunning = !1),
              (this.isServiceConfigEnabled = !0),
              (this.returnedIpResult = !1),
              m("Resolver constructed for target " + (0, h.uriToString)(e));
            let c = (0, h.splitHostPort)(e.path);
            null === c
              ? ((this.ipResult = null),
                (this.dnsHostname = null),
                (this.port = null))
              : (0, f.isIPv4)(c.host) || (0, f.isIPv6)(c.host)
                ? ((this.ipResult = [
                    {
                      host: c.host,
                      port:
                        null !== (s = c.port) && void 0 !== s
                          ? s
                          : r.DEFAULT_PORT,
                    },
                  ]),
                  (this.dnsHostname = null),
                  (this.port = null))
                : ((this.ipResult = null),
                  (this.dnsHostname = c.host),
                  (this.port =
                    null !== (a = c.port) && void 0 !== a
                      ? a
                      : r.DEFAULT_PORT)),
              (this.percentage = 100 * Math.random()),
              1 === i["grpc.service_config_disable_resolution"] &&
                (this.isServiceConfigEnabled = !1),
              (this.defaultResolutionError = {
                code: l.Status.UNAVAILABLE,
                details: `Name resolution failed for target ${(0, h.uriToString)(this.target)}`,
                metadata: new u.Metadata(),
              });
            let d = {
              initialDelay: i["grpc.initial_reconnect_backoff_ms"],
              maxDelay: i["grpc.max_reconnect_backoff_ms"],
            };
            (this.backoff = new p.BackoffTimeout(() => {
              this.continueResolving && this.startResolutionWithBackoff();
            }, d)),
              this.backoff.unref(),
              (this.minTimeBetweenResolutionsMs =
                null !== (o = i["grpc.dns_min_time_between_resolutions_ms"]) &&
                void 0 !== o
                  ? o
                  : y),
              (this.nextResolutionTimer = setTimeout(() => {}, 0)),
              clearTimeout(this.nextResolutionTimer);
          }
          startResolution() {
            if (null !== this.ipResult) {
              this.returnedIpResult ||
                (m(
                  "Returning IP address for target " +
                    (0, h.uriToString)(this.target),
                ),
                setImmediate(() => {
                  this.listener.onSuccessfulResolution(
                    this.ipResult,
                    null,
                    null,
                    null,
                    {},
                  );
                }),
                (this.returnedIpResult = !0)),
                this.backoff.stop(),
                this.backoff.reset(),
                this.stopNextResolutionTimer();
              return;
            }
            if (null === this.dnsHostname)
              m(
                "Failed to parse DNS address " +
                  (0, h.uriToString)(this.target),
              ),
                setImmediate(() => {
                  this.listener.onError({
                    code: l.Status.UNAVAILABLE,
                    details: `Failed to parse DNS address ${(0, h.uriToString)(this.target)}`,
                    metadata: new u.Metadata(),
                  });
                }),
                this.stopNextResolutionTimer();
            else {
              if (null !== this.pendingLookupPromise) return;
              m("Looking up DNS hostname " + this.dnsHostname),
                (this.latestLookupResult = null);
              let e = this.dnsHostname;
              (this.pendingLookupPromise = b(e, { all: !0 })),
                this.pendingLookupPromise.then(
                  (e) => {
                    if (null === this.pendingLookupPromise) return;
                    (this.pendingLookupPromise = null),
                      this.backoff.reset(),
                      this.backoff.stop();
                    let r = e.filter((e) => 4 === e.family),
                      n = e.filter((e) => 6 === e.family);
                    this.latestLookupResult = w(n, r).map((e) => ({
                      host: e.address,
                      port: +this.port,
                    }));
                    let i =
                      "[" +
                      this.latestLookupResult
                        .map((e) => e.host + ":" + e.port)
                        .join(",") +
                      "]";
                    if (
                      (m(
                        "Resolved addresses for target " +
                          (0, h.uriToString)(this.target) +
                          ": " +
                          i,
                      ),
                      0 === this.latestLookupResult.length)
                    ) {
                      this.listener.onError(this.defaultResolutionError);
                      return;
                    }
                    this.listener.onSuccessfulResolution(
                      this.latestLookupResult,
                      this.latestServiceConfig,
                      this.latestServiceConfigError,
                      null,
                      {},
                    );
                  },
                  (e) => {
                    null !== this.pendingLookupPromise &&
                      (m(
                        "Resolution error for target " +
                          (0, h.uriToString)(this.target) +
                          ": " +
                          e.message,
                      ),
                      (this.pendingLookupPromise = null),
                      this.stopNextResolutionTimer(),
                      this.listener.onError(this.defaultResolutionError));
                  },
                ),
                this.isServiceConfigEnabled &&
                  null === this.pendingTxtPromise &&
                  ((this.pendingTxtPromise = v(e)),
                  this.pendingTxtPromise.then(
                    (e) => {
                      if (null !== this.pendingTxtPromise) {
                        this.pendingTxtPromise = null;
                        try {
                          this.latestServiceConfig = (0,
                          o.extractAndSelectServiceConfig)(e, this.percentage);
                        } catch (e) {
                          this.latestServiceConfigError = {
                            code: l.Status.UNAVAILABLE,
                            details: `Parsing service config failed with error ${e.message}`,
                            metadata: new u.Metadata(),
                          };
                        }
                        null !== this.latestLookupResult &&
                          this.listener.onSuccessfulResolution(
                            this.latestLookupResult,
                            this.latestServiceConfig,
                            this.latestServiceConfigError,
                            null,
                            {},
                          );
                      }
                    },
                    (e) => {},
                  ));
            }
          }
          startNextResolutionTimer() {
            var e, r;
            clearTimeout(this.nextResolutionTimer),
              (this.nextResolutionTimer =
                null ===
                  (r = (e = setTimeout(() => {
                    this.stopNextResolutionTimer(),
                      this.continueResolving &&
                        this.startResolutionWithBackoff();
                  }, this.minTimeBetweenResolutionsMs)).unref) || void 0 === r
                  ? void 0
                  : r.call(e)),
              (this.isNextResolutionTimerRunning = !0);
          }
          stopNextResolutionTimer() {
            clearTimeout(this.nextResolutionTimer),
              (this.isNextResolutionTimerRunning = !1);
          }
          startResolutionWithBackoff() {
            null === this.pendingLookupPromise &&
              ((this.continueResolving = !1),
              this.backoff.runOnce(),
              this.startNextResolutionTimer(),
              this.startResolution());
          }
          updateResolution() {
            null === this.pendingLookupPromise &&
              (this.isNextResolutionTimerRunning || this.backoff.isRunning()
                ? (this.isNextResolutionTimerRunning
                    ? m(
                        'resolution update delayed by "min time between resolutions" rate limit',
                      )
                    : m(
                        "resolution update delayed by backoff timer until " +
                          this.backoff.getEndTime().toISOString(),
                      ),
                  (this.continueResolving = !0))
                : this.startResolutionWithBackoff());
          }
          destroy() {
            (this.continueResolving = !1),
              this.backoff.reset(),
              this.backoff.stop(),
              this.stopNextResolutionTimer(),
              (this.pendingLookupPromise = null),
              (this.pendingTxtPromise = null),
              (this.latestLookupResult = null),
              (this.latestServiceConfig = null),
              (this.latestServiceConfigError = null),
              (this.returnedIpResult = !1);
          }
          static getDefaultAuthority(e) {
            return e.path;
          }
        }
        function S() {
          (0, i.registerResolver)("dns", T),
            (0, i.registerDefaultScheme)("dns");
        }
        r.setup = S;
      },
      94130: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup = void 0);
        let i = n(91645),
          s = n(2403),
          a = n(96045),
          o = n(36078),
          l = n(64230),
          u = n(47427),
          c = "ip_resolver";
        function d(e) {
          u.trace(s.LogVerbosity.DEBUG, c, e);
        }
        let h = "ipv4",
          f = "ipv6",
          p = 443;
        class g {
          constructor(e, r, n) {
            var o;
            (this.listener = r),
              (this.addresses = []),
              (this.error = null),
              (this.hasReturnedResult = !1),
              d("Resolver constructed for target " + (0, l.uriToString)(e));
            let u = [];
            if (!(e.scheme === h || e.scheme === f)) {
              this.error = {
                code: s.Status.UNAVAILABLE,
                details: `Unrecognized scheme ${e.scheme} in IP resolver`,
                metadata: new a.Metadata(),
              };
              return;
            }
            for (let r of e.path.split(",")) {
              let n = (0, l.splitHostPort)(r);
              if (
                null === n ||
                (e.scheme === h && !(0, i.isIPv4)(n.host)) ||
                (e.scheme === f && !(0, i.isIPv6)(n.host))
              ) {
                this.error = {
                  code: s.Status.UNAVAILABLE,
                  details: `Failed to parse ${e.scheme} address ${r}`,
                  metadata: new a.Metadata(),
                };
                return;
              }
              u.push({
                host: n.host,
                port: null !== (o = n.port) && void 0 !== o ? o : p,
              });
            }
            (this.addresses = u),
              d("Parsed " + e.scheme + " address list " + this.addresses);
          }
          updateResolution() {
            this.hasReturnedResult ||
              ((this.hasReturnedResult = !0),
              process.nextTick(() => {
                this.error
                  ? this.listener.onError(this.error)
                  : this.listener.onSuccessfulResolution(
                      this.addresses,
                      null,
                      null,
                      null,
                      {},
                    );
              }));
          }
          destroy() {
            this.hasReturnedResult = !1;
          }
          static getDefaultAuthority(e) {
            return e.path.split(",")[0];
          }
        }
        function m() {
          (0, o.registerResolver)(h, g), (0, o.registerResolver)(f, g);
        }
        r.setup = m;
      },
      27269: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.setup = void 0);
        let i = n(36078);
        class s {
          constructor(e, r, n) {
            let i;
            (this.listener = r),
              (this.addresses = []),
              (this.hasReturnedResult = !1),
              (i = "" === e.authority ? "/" + e.path : e.path),
              (this.addresses = [{ path: i }]);
          }
          updateResolution() {
            this.hasReturnedResult ||
              ((this.hasReturnedResult = !0),
              process.nextTick(
                this.listener.onSuccessfulResolution,
                this.addresses,
                null,
                null,
                null,
                {},
              ));
          }
          destroy() {}
          static getDefaultAuthority(e) {
            return "localhost";
          }
        }
        function a() {
          (0, i.registerResolver)("unix", s);
        }
        r.setup = a;
      },
      36078: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.mapUriDefaultScheme =
            r.getDefaultAuthority =
            r.createResolver =
            r.registerDefaultScheme =
            r.registerResolver =
              void 0);
        let i = n(64230),
          s = {},
          a = null;
        function o(e, r) {
          s[e] = r;
        }
        function l(e) {
          a = e;
        }
        function u(e, r, n) {
          if (void 0 !== e.scheme && e.scheme in s)
            return new s[e.scheme](e, r, n);
          throw Error(
            `No resolver could be created for target ${(0, i.uriToString)(e)}`,
          );
        }
        function c(e) {
          if (void 0 !== e.scheme && e.scheme in s)
            return s[e.scheme].getDefaultAuthority(e);
          throw Error(`Invalid target ${(0, i.uriToString)(e)}`);
        }
        function d(e) {
          return void 0 !== e.scheme && e.scheme in s
            ? e
            : null !== a
              ? { scheme: a, authority: void 0, path: (0, i.uriToString)(e) }
              : null;
        }
        (r.registerResolver = o),
          (r.registerDefaultScheme = l),
          (r.createResolver = u),
          (r.getDefaultAuthority = c),
          (r.mapUriDefaultScheme = d);
      },
      64822: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ResolvingCall = void 0);
        let i = n(2403),
          s = n(31768),
          a = n(96045),
          o = n(47427),
          l = n(92827),
          u = "resolving_call";
        class c {
          constructor(e, r, n, a, o, l) {
            (this.channel = e),
              (this.method = r),
              (this.filterStackFactory = a),
              (this.credentials = o),
              (this.callNumber = l),
              (this.child = null),
              (this.readPending = !1),
              (this.pendingMessage = null),
              (this.pendingHalfClose = !1),
              (this.ended = !1),
              (this.readFilterPending = !1),
              (this.writeFilterPending = !1),
              (this.pendingChildStatus = null),
              (this.metadata = null),
              (this.listener = null),
              (this.statusWatchers = []),
              (this.deadlineTimer = setTimeout(() => {}, 0)),
              (this.filterStack = null),
              (this.deadline = n.deadline),
              (this.host = n.host),
              n.parentCall &&
                (n.flags & i.Propagate.CANCELLATION &&
                  n.parentCall.on("cancelled", () => {
                    this.cancelWithStatus(
                      i.Status.CANCELLED,
                      "Cancelled by parent call",
                    );
                  }),
                n.flags & i.Propagate.DEADLINE &&
                  (this.trace(
                    "Propagating deadline from parent: " +
                      n.parentCall.getDeadline(),
                  ),
                  (this.deadline = (0, s.minDeadline)(
                    this.deadline,
                    n.parentCall.getDeadline(),
                  )))),
              this.trace("Created"),
              this.runDeadlineTimer();
          }
          trace(e) {
            o.trace(i.LogVerbosity.DEBUG, u, "[" + this.callNumber + "] " + e);
          }
          runDeadlineTimer() {
            clearTimeout(this.deadlineTimer),
              this.trace("Deadline: " + (0, s.deadlineToString)(this.deadline));
            let e = (0, s.getRelativeTimeout)(this.deadline);
            if (e !== 1 / 0) {
              this.trace("Deadline will be reached in " + e + "ms");
              let r = () => {
                this.cancelWithStatus(
                  i.Status.DEADLINE_EXCEEDED,
                  "Deadline exceeded",
                );
              };
              e <= 0
                ? process.nextTick(r)
                : (this.deadlineTimer = setTimeout(r, e));
            }
          }
          outputStatus(e) {
            if (!this.ended) {
              (this.ended = !0),
                this.filterStack ||
                  (this.filterStack = this.filterStackFactory.createFilter()),
                clearTimeout(this.deadlineTimer);
              let r = this.filterStack.receiveTrailers(e);
              this.trace(
                "ended with status: code=" +
                  r.code +
                  ' details="' +
                  r.details +
                  '"',
              ),
                this.statusWatchers.forEach((e) => e(r)),
                process.nextTick(() => {
                  var e;
                  null === (e = this.listener) ||
                    void 0 === e ||
                    e.onReceiveStatus(r);
                });
            }
          }
          sendMessageOnChild(e, r) {
            if (!this.child)
              throw Error("sendMessageonChild called with child not populated");
            let n = this.child;
            (this.writeFilterPending = !0),
              this.filterStack
                .sendMessage(Promise.resolve({ message: r, flags: e.flags }))
                .then(
                  (r) => {
                    (this.writeFilterPending = !1),
                      n.sendMessageWithContext(e, r.message),
                      this.pendingHalfClose && n.halfClose();
                  },
                  (e) => {
                    this.cancelWithStatus(e.code, e.details);
                  },
                );
          }
          getConfig() {
            if (this.ended) return;
            if (!this.metadata || !this.listener)
              throw Error("getConfig called before start");
            let e = this.channel.getConfig(this.method, this.metadata);
            if ("NONE" === e.type) {
              this.channel.queueCallForConfig(this);
              return;
            }
            if ("ERROR" === e.type) {
              this.metadata.getOptions().waitForReady
                ? this.channel.queueCallForConfig(this)
                : this.outputStatus(e.error);
              return;
            }
            let r = e.config;
            if (r.status !== i.Status.OK) {
              let { code: e, details: n } = (0,
              l.restrictControlPlaneStatusCode)(
                r.status,
                "Failed to route call to method " + this.method,
              );
              this.outputStatus({
                code: e,
                details: n,
                metadata: new a.Metadata(),
              });
              return;
            }
            if (r.methodConfig.timeout) {
              let e = new Date();
              e.setSeconds(e.getSeconds() + r.methodConfig.timeout.seconds),
                e.setMilliseconds(
                  e.getMilliseconds() + r.methodConfig.timeout.nanos / 1e6,
                ),
                (this.deadline = (0, s.minDeadline)(this.deadline, e)),
                this.runDeadlineTimer();
            }
            this.filterStackFactory.push(r.dynamicFilterFactories),
              (this.filterStack = this.filterStackFactory.createFilter()),
              this.filterStack
                .sendMetadata(Promise.resolve(this.metadata))
                .then(
                  (e) => {
                    (this.child = this.channel.createInnerCall(
                      r,
                      this.method,
                      this.host,
                      this.credentials,
                      this.deadline,
                    )),
                      this.trace(
                        "Created child [" + this.child.getCallNumber() + "]",
                      ),
                      this.child.start(e, {
                        onReceiveMetadata: (e) => {
                          this.trace("Received metadata"),
                            this.listener.onReceiveMetadata(
                              this.filterStack.receiveMetadata(e),
                            );
                        },
                        onReceiveMessage: (e) => {
                          this.trace("Received message"),
                            (this.readFilterPending = !0),
                            this.filterStack.receiveMessage(e).then(
                              (e) => {
                                this.trace(
                                  "Finished filtering received message",
                                ),
                                  (this.readFilterPending = !1),
                                  this.listener.onReceiveMessage(e),
                                  this.pendingChildStatus &&
                                    this.outputStatus(this.pendingChildStatus);
                              },
                              (e) => {
                                this.cancelWithStatus(e.code, e.details);
                              },
                            );
                        },
                        onReceiveStatus: (e) => {
                          this.trace("Received status"),
                            this.readFilterPending
                              ? (this.pendingChildStatus = e)
                              : this.outputStatus(e);
                        },
                      }),
                      this.readPending && this.child.startRead(),
                      this.pendingMessage
                        ? this.sendMessageOnChild(
                            this.pendingMessage.context,
                            this.pendingMessage.message,
                          )
                        : this.pendingHalfClose && this.child.halfClose();
                  },
                  (e) => {
                    this.outputStatus(e);
                  },
                );
          }
          reportResolverError(e) {
            var r;
            (
              null === (r = this.metadata) || void 0 === r
                ? void 0
                : r.getOptions().waitForReady
            )
              ? this.channel.queueCallForConfig(this)
              : this.outputStatus(e);
          }
          cancelWithStatus(e, r) {
            var n;
            this.trace("cancelWithStatus code: " + e + ' details: "' + r + '"'),
              null === (n = this.child) ||
                void 0 === n ||
                n.cancelWithStatus(e, r),
              this.outputStatus({
                code: e,
                details: r,
                metadata: new a.Metadata(),
              });
          }
          getPeer() {
            var e, r;
            return null !==
              (r =
                null === (e = this.child) || void 0 === e
                  ? void 0
                  : e.getPeer()) && void 0 !== r
              ? r
              : this.channel.getTarget();
          }
          start(e, r) {
            this.trace("start called"),
              (this.metadata = e.clone()),
              (this.listener = r),
              this.getConfig();
          }
          sendMessageWithContext(e, r) {
            this.trace("write() called with message of length " + r.length),
              this.child
                ? this.sendMessageOnChild(e, r)
                : (this.pendingMessage = { context: e, message: r });
          }
          startRead() {
            this.trace("startRead called"),
              this.child ? this.child.startRead() : (this.readPending = !0);
          }
          halfClose() {
            this.trace("halfClose called"),
              this.child && !this.writeFilterPending
                ? this.child.halfClose()
                : (this.pendingHalfClose = !0);
          }
          setCredentials(e) {
            this.credentials = this.credentials.compose(e);
          }
          addStatusWatcher(e) {
            this.statusWatchers.push(e);
          }
          getCallNumber() {
            return this.callNumber;
          }
        }
        r.ResolvingCall = c;
      },
      49713: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ResolvingLoadBalancer = void 0);
        let i = n(9947),
          s = n(74692),
          a = n(40655),
          o = n(36078),
          l = n(85058),
          u = n(32064),
          c = n(2403),
          d = n(96045),
          h = n(47427),
          f = n(2403),
          p = n(64230),
          g = n(23857),
          m = "resolving_load_balancer";
        function y(e) {
          h.trace(f.LogVerbosity.DEBUG, m, e);
        }
        let v = ["SERVICE_AND_METHOD", "SERVICE", "EMPTY"];
        function b(e, r, n, i) {
          for (let s of n.name)
            switch (i) {
              case "EMPTY":
                if (!s.service && !s.method) return !0;
                break;
              case "SERVICE":
                if (s.service === e && !s.method) return !0;
                break;
              case "SERVICE_AND_METHOD":
                if (s.service === e && s.method === r) return !0;
            }
          return !1;
        }
        function w(e, r, n, i) {
          for (let s of n) if (b(e, r, s, i)) return s;
          return null;
        }
        function T(e) {
          return function (r, n) {
            var i, s;
            let a = r.split("/").filter((e) => e.length > 0),
              o = null !== (i = a[0]) && void 0 !== i ? i : "",
              l = null !== (s = a[1]) && void 0 !== s ? s : "";
            if (e && e.methodConfig)
              for (let r of v) {
                let n = w(o, l, e.methodConfig, r);
                if (n)
                  return {
                    methodConfig: n,
                    pickInformation: {},
                    status: c.Status.OK,
                    dynamicFilterFactories: [],
                  };
              }
            return {
              methodConfig: { name: [] },
              pickInformation: {},
              status: c.Status.OK,
              dynamicFilterFactories: [],
            };
          };
        }
        class S {
          constructor(e, r, n, h, f) {
            (this.target = e),
              (this.channelControlHelper = r),
              (this.onSuccessfulResolution = h),
              (this.onFailedResolution = f),
              (this.latestChildState = a.ConnectivityState.IDLE),
              (this.latestChildPicker = new l.QueuePicker(this)),
              (this.currentState = a.ConnectivityState.IDLE),
              (this.previousServiceConfig = null),
              (this.continueResolving = !1),
              n["grpc.service_config"]
                ? (this.defaultServiceConfig = (0, s.validateServiceConfig)(
                    JSON.parse(n["grpc.service_config"]),
                  ))
                : (this.defaultServiceConfig = {
                    loadBalancingConfig: [],
                    methodConfig: [],
                  }),
              this.updateState(
                a.ConnectivityState.IDLE,
                new l.QueuePicker(this),
              ),
              (this.childLoadBalancer = new g.ChildLoadBalancerHandler({
                createSubchannel: r.createSubchannel.bind(r),
                requestReresolution: () => {
                  this.backoffTimeout.isRunning()
                    ? (y(
                        "requestReresolution delayed by backoff timer until " +
                          this.backoffTimeout.getEndTime().toISOString(),
                      ),
                      (this.continueResolving = !0))
                    : this.updateResolution();
                },
                updateState: (e, r) => {
                  (this.latestChildState = e),
                    (this.latestChildPicker = r),
                    this.updateState(e, r);
                },
                addChannelzChild: r.addChannelzChild.bind(r),
                removeChannelzChild: r.removeChannelzChild.bind(r),
              })),
              (this.innerResolver = (0, o.createResolver)(
                e,
                {
                  onSuccessfulResolution: (e, r, n, s, a) => {
                    var o;
                    this.backoffTimeout.stop(), this.backoffTimeout.reset();
                    let l = null;
                    null === r
                      ? null === n
                        ? ((this.previousServiceConfig = null),
                          (l = this.defaultServiceConfig))
                        : null === this.previousServiceConfig
                          ? this.handleResolutionFailure(n)
                          : (l = this.previousServiceConfig)
                      : ((l = r), (this.previousServiceConfig = r));
                    let u =
                        null !==
                          (o = null == l ? void 0 : l.loadBalancingConfig) &&
                        void 0 !== o
                          ? o
                          : [],
                      h = (0, i.getFirstUsableConfig)(u, !0);
                    if (null === h) {
                      this.handleResolutionFailure({
                        code: c.Status.UNAVAILABLE,
                        details:
                          "All load balancer options in service config are not compatible",
                        metadata: new d.Metadata(),
                      });
                      return;
                    }
                    this.childLoadBalancer.updateAddressList(e, h, a);
                    let f = null != l ? l : this.defaultServiceConfig;
                    this.onSuccessfulResolution(f, null != s ? s : T(f));
                  },
                  onError: (e) => {
                    this.handleResolutionFailure(e);
                  },
                },
                n,
              ));
            let p = {
              initialDelay: n["grpc.initial_reconnect_backoff_ms"],
              maxDelay: n["grpc.max_reconnect_backoff_ms"],
            };
            (this.backoffTimeout = new u.BackoffTimeout(() => {
              this.continueResolving
                ? (this.updateResolution(), (this.continueResolving = !1))
                : this.updateState(
                    this.latestChildState,
                    this.latestChildPicker,
                  );
            }, p)),
              this.backoffTimeout.unref();
          }
          updateResolution() {
            this.innerResolver.updateResolution(),
              this.currentState === a.ConnectivityState.IDLE &&
                this.updateState(
                  a.ConnectivityState.CONNECTING,
                  new l.QueuePicker(this),
                ),
              this.backoffTimeout.runOnce();
          }
          updateState(e, r) {
            y(
              (0, p.uriToString)(this.target) +
                " " +
                a.ConnectivityState[this.currentState] +
                " -> " +
                a.ConnectivityState[e],
            ),
              e === a.ConnectivityState.IDLE && (r = new l.QueuePicker(this)),
              (this.currentState = e),
              this.channelControlHelper.updateState(e, r);
          }
          handleResolutionFailure(e) {
            this.latestChildState === a.ConnectivityState.IDLE &&
              (this.updateState(
                a.ConnectivityState.TRANSIENT_FAILURE,
                new l.UnavailablePicker(e),
              ),
              this.onFailedResolution(e));
          }
          exitIdle() {
            (this.currentState === a.ConnectivityState.IDLE ||
              this.currentState === a.ConnectivityState.TRANSIENT_FAILURE) &&
              (this.backoffTimeout.isRunning()
                ? (this.continueResolving = !0)
                : this.updateResolution()),
              this.childLoadBalancer.exitIdle();
          }
          updateAddressList(e, r) {
            throw Error(
              "updateAddressList not supported on ResolvingLoadBalancer",
            );
          }
          resetBackoff() {
            this.backoffTimeout.reset(), this.childLoadBalancer.resetBackoff();
          }
          destroy() {
            this.childLoadBalancer.destroy(),
              this.innerResolver.destroy(),
              this.backoffTimeout.reset(),
              this.backoffTimeout.stop(),
              (this.latestChildState = a.ConnectivityState.IDLE),
              (this.latestChildPicker = new l.QueuePicker(this)),
              (this.currentState = a.ConnectivityState.IDLE),
              (this.previousServiceConfig = null),
              (this.continueResolving = !1);
          }
          getTypeName() {
            return "resolving_load_balancer";
          }
        }
        r.ResolvingLoadBalancer = S;
      },
      57719: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.RetryingCall = r.MessageBufferTracker = r.RetryThrottler = void 0);
        let i = n(2403),
          s = n(96045),
          a = n(47427),
          o = "retrying_call";
        class l {
          constructor(e, r, n) {
            (this.maxTokens = e),
              (this.tokenRatio = r),
              n
                ? (this.tokens = n.tokens * (e / n.maxTokens))
                : (this.tokens = e);
          }
          addCallSucceeded() {
            this.tokens = Math.max(
              this.tokens + this.tokenRatio,
              this.maxTokens,
            );
          }
          addCallFailed() {
            this.tokens = Math.min(this.tokens - 1, 0);
          }
          canRetryCall() {
            return this.tokens > this.maxTokens / 2;
          }
        }
        r.RetryThrottler = l;
        class u {
          constructor(e, r) {
            (this.totalLimit = e),
              (this.limitPerCall = r),
              (this.totalAllocated = 0),
              (this.allocatedPerCall = new Map());
          }
          allocate(e, r) {
            var n;
            let i =
              null !== (n = this.allocatedPerCall.get(r)) && void 0 !== n
                ? n
                : 0;
            return (
              !(this.limitPerCall - i < e) &&
              !(this.totalLimit - this.totalAllocated < e) &&
              (this.allocatedPerCall.set(r, i + e),
              (this.totalAllocated += e),
              !0)
            );
          }
          free(e, r) {
            var n;
            if (this.totalAllocated < e)
              throw Error(
                `Invalid buffer allocation state: call ${r} freed ${e} > total allocated ${this.totalAllocated}`,
              );
            this.totalAllocated -= e;
            let i =
              null !== (n = this.allocatedPerCall.get(r)) && void 0 !== n
                ? n
                : 0;
            if (i < e)
              throw Error(
                `Invalid buffer allocation state: call ${r} freed ${e} > allocated for call ${i}`,
              );
            this.allocatedPerCall.set(r, i - e);
          }
          freeAll(e) {
            var r;
            let n =
              null !== (r = this.allocatedPerCall.get(e)) && void 0 !== r
                ? r
                : 0;
            if (this.totalAllocated < n)
              throw Error(
                `Invalid buffer allocation state: call ${e} allocated ${n} > total allocated ${this.totalAllocated}`,
              );
            (this.totalAllocated -= n), this.allocatedPerCall.delete(e);
          }
        }
        r.MessageBufferTracker = u;
        let c = "grpc-previous-rpc-attempts";
        class d {
          constructor(e, r, n, i, s, a, o, l, u) {
            if (
              ((this.channel = e),
              (this.callConfig = r),
              (this.methodName = n),
              (this.host = i),
              (this.credentials = s),
              (this.deadline = a),
              (this.callNumber = o),
              (this.bufferTracker = l),
              (this.retryThrottler = u),
              (this.listener = null),
              (this.initialMetadata = null),
              (this.underlyingCalls = []),
              (this.writeBuffer = []),
              (this.writeBufferOffset = 0),
              (this.readStarted = !1),
              (this.transparentRetryUsed = !1),
              (this.attempts = 0),
              (this.hedgingTimer = null),
              (this.committedCallIndex = null),
              (this.initialRetryBackoffSec = 0),
              (this.nextRetryBackoffSec = 0),
              r.methodConfig.retryPolicy)
            ) {
              this.state = "RETRY";
              let e = r.methodConfig.retryPolicy;
              this.nextRetryBackoffSec = this.initialRetryBackoffSec = Number(
                e.initialBackoff.substring(0, e.initialBackoff.length - 1),
              );
            } else
              r.methodConfig.hedgingPolicy
                ? (this.state = "HEDGING")
                : (this.state = "TRANSPARENT_ONLY");
          }
          getCallNumber() {
            return this.callNumber;
          }
          trace(e) {
            a.trace(i.LogVerbosity.DEBUG, o, "[" + this.callNumber + "] " + e);
          }
          reportStatus(e) {
            this.trace(
              "ended with status: code=" +
                e.code +
                ' details="' +
                e.details +
                '"',
            ),
              this.bufferTracker.freeAll(this.callNumber),
              (this.writeBufferOffset =
                this.writeBufferOffset + this.writeBuffer.length),
              (this.writeBuffer = []),
              process.nextTick(() => {
                var r;
                null === (r = this.listener) ||
                  void 0 === r ||
                  r.onReceiveStatus({
                    code: e.code,
                    details: e.details,
                    metadata: e.metadata,
                  });
              });
          }
          cancelWithStatus(e, r) {
            for (let { call: n } of (this.trace(
              "cancelWithStatus code: " + e + ' details: "' + r + '"',
            ),
            this.reportStatus({
              code: e,
              details: r,
              metadata: new s.Metadata(),
            }),
            this.underlyingCalls))
              n.cancelWithStatus(e, r);
          }
          getPeer() {
            return null !== this.committedCallIndex
              ? this.underlyingCalls[this.committedCallIndex].call.getPeer()
              : "unknown";
          }
          getBufferEntry(e) {
            var r;
            return null !==
              (r = this.writeBuffer[e - this.writeBufferOffset]) && void 0 !== r
              ? r
              : { entryType: "FREED", allocated: !1 };
          }
          getNextBufferIndex() {
            return this.writeBufferOffset + this.writeBuffer.length;
          }
          clearSentMessages() {
            if ("COMMITTED" !== this.state) return;
            let e =
              this.underlyingCalls[this.committedCallIndex].nextMessageToSend;
            for (let r = this.writeBufferOffset; r < e; r++) {
              let e = this.getBufferEntry(r);
              e.allocated &&
                this.bufferTracker.free(
                  e.message.message.length,
                  this.callNumber,
                );
            }
            (this.writeBuffer = this.writeBuffer.slice(
              e - this.writeBufferOffset,
            )),
              (this.writeBufferOffset = e);
          }
          commitCall(e) {
            if (
              "COMMITTED" !== this.state &&
              "COMPLETED" !== this.underlyingCalls[e].state
            ) {
              this.trace(
                "Committing call [" +
                  this.underlyingCalls[e].call.getCallNumber() +
                  "] at index " +
                  e,
              ),
                (this.state = "COMMITTED"),
                (this.committedCallIndex = e);
              for (let r = 0; r < this.underlyingCalls.length; r++)
                r !== e &&
                  "COMPLETED" !== this.underlyingCalls[r].state &&
                  ((this.underlyingCalls[r].state = "COMPLETED"),
                  this.underlyingCalls[r].call.cancelWithStatus(
                    i.Status.CANCELLED,
                    "Discarded in favor of other hedged attempt",
                  ));
              this.clearSentMessages();
            }
          }
          commitCallWithMostMessages() {
            if ("COMMITTED" === this.state) return;
            let e = -1,
              r = -1;
            for (let [n, i] of this.underlyingCalls.entries())
              "ACTIVE" === i.state &&
                i.nextMessageToSend > e &&
                ((e = i.nextMessageToSend), (r = n));
            -1 === r ? (this.state = "TRANSPARENT_ONLY") : this.commitCall(r);
          }
          isStatusCodeInList(e, r) {
            return e.some(
              (e) =>
                e === r ||
                e.toString().toLowerCase() === i.Status[r].toLowerCase(),
            );
          }
          getNextRetryBackoffMs() {
            var e;
            let r =
              null === (e = this.callConfig) || void 0 === e
                ? void 0
                : e.methodConfig.retryPolicy;
            if (!r) return 0;
            let n = Math.random() * this.nextRetryBackoffSec * 1e3,
              i = Number(r.maxBackoff.substring(0, r.maxBackoff.length - 1));
            return (
              (this.nextRetryBackoffSec = Math.min(
                this.nextRetryBackoffSec * r.backoffMultiplier,
                i,
              )),
              n
            );
          }
          maybeRetryCall(e, r) {
            let n;
            if ("RETRY" !== this.state) {
              r(!1);
              return;
            }
            let i = this.callConfig.methodConfig.retryPolicy;
            if (this.attempts >= Math.min(i.maxAttempts, 5)) {
              r(!1);
              return;
            }
            if (null === e) n = this.getNextRetryBackoffMs();
            else if (e < 0) {
              (this.state = "TRANSPARENT_ONLY"), r(!1);
              return;
            } else
              (n = e), (this.nextRetryBackoffSec = this.initialRetryBackoffSec);
            setTimeout(() => {
              var e, n;
              if ("RETRY" !== this.state) {
                r(!1);
                return;
              }
              (null ===
                (n =
                  null === (e = this.retryThrottler) || void 0 === e
                    ? void 0
                    : e.canRetryCall()) ||
                void 0 === n ||
                n) &&
                (r(!0), (this.attempts += 1), this.startNewAttempt());
            }, n);
          }
          countActiveCalls() {
            let e = 0;
            for (let r of this.underlyingCalls)
              (null == r ? void 0 : r.state) === "ACTIVE" && (e += 1);
            return e;
          }
          handleProcessedStatus(e, r, n) {
            var i, s, a;
            switch (this.state) {
              case "COMMITTED":
              case "TRANSPARENT_ONLY":
                this.commitCall(r), this.reportStatus(e);
                break;
              case "HEDGING":
                if (
                  this.isStatusCodeInList(
                    null !==
                      (i =
                        this.callConfig.methodConfig.hedgingPolicy
                          .nonFatalStatusCodes) && void 0 !== i
                      ? i
                      : [],
                    e.code,
                  )
                ) {
                  let i;
                  if (
                    (null === (s = this.retryThrottler) ||
                      void 0 === s ||
                      s.addCallFailed(),
                    null === n)
                  )
                    i = 0;
                  else if (n < 0) {
                    (this.state = "TRANSPARENT_ONLY"),
                      this.commitCall(r),
                      this.reportStatus(e);
                    return;
                  } else i = n;
                  setTimeout(() => {
                    this.maybeStartHedgingAttempt(),
                      0 === this.countActiveCalls() &&
                        (this.commitCall(r), this.reportStatus(e));
                  }, i);
                } else this.commitCall(r), this.reportStatus(e);
                break;
              case "RETRY":
                this.isStatusCodeInList(
                  this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,
                  e.code,
                )
                  ? (null === (a = this.retryThrottler) ||
                      void 0 === a ||
                      a.addCallFailed(),
                    this.maybeRetryCall(n, (n) => {
                      n || (this.commitCall(r), this.reportStatus(e));
                    }))
                  : (this.commitCall(r), this.reportStatus(e));
            }
          }
          getPushback(e) {
            let r = e.get("grpc-retry-pushback-ms");
            if (0 === r.length) return null;
            try {
              return parseInt(r[0]);
            } catch (e) {
              return -1;
            }
          }
          handleChildStatus(e, r) {
            var n;
            if ("COMPLETED" === this.underlyingCalls[r].state) return;
            if (
              (this.trace(
                "state=" +
                  this.state +
                  " handling status with progress " +
                  e.progress +
                  " from child [" +
                  this.underlyingCalls[r].call.getCallNumber() +
                  "] in state " +
                  this.underlyingCalls[r].state,
              ),
              (this.underlyingCalls[r].state = "COMPLETED"),
              e.code === i.Status.OK)
            ) {
              null === (n = this.retryThrottler) ||
                void 0 === n ||
                n.addCallSucceeded(),
                this.commitCall(r),
                this.reportStatus(e);
              return;
            }
            if ("COMMITTED" === this.state) {
              this.reportStatus(e);
              return;
            }
            let s = this.getPushback(e.metadata);
            switch (e.progress) {
              case "NOT_STARTED":
                this.startNewAttempt();
                break;
              case "REFUSED":
                this.transparentRetryUsed
                  ? this.handleProcessedStatus(e, r, s)
                  : ((this.transparentRetryUsed = !0), this.startNewAttempt());
                break;
              case "DROP":
                this.commitCall(r), this.reportStatus(e);
                break;
              case "PROCESSED":
                this.handleProcessedStatus(e, r, s);
            }
          }
          maybeStartHedgingAttempt() {
            if (
              "HEDGING" !== this.state ||
              !this.callConfig.methodConfig.hedgingPolicy
            )
              return;
            let e = this.callConfig.methodConfig.hedgingPolicy;
            this.attempts >= Math.min(e.maxAttempts, 5) ||
              ((this.attempts += 1),
              this.startNewAttempt(),
              this.maybeStartHedgingTimer());
          }
          maybeStartHedgingTimer() {
            var e, r, n;
            if (
              (this.hedgingTimer && clearTimeout(this.hedgingTimer),
              "HEDGING" !== this.state ||
                !this.callConfig.methodConfig.hedgingPolicy)
            )
              return;
            let i = this.callConfig.methodConfig.hedgingPolicy;
            if (this.attempts >= Math.min(i.maxAttempts, 5)) return;
            let s = null !== (e = i.hedgingDelay) && void 0 !== e ? e : "0s",
              a = Number(s.substring(0, s.length - 1));
            (this.hedgingTimer = setTimeout(() => {
              this.maybeStartHedgingAttempt();
            }, 1e3 * a)),
              null === (n = (r = this.hedgingTimer).unref) ||
                void 0 === n ||
                n.call(r);
          }
          startNewAttempt() {
            let e = this.channel.createLoadBalancingCall(
              this.callConfig,
              this.methodName,
              this.host,
              this.credentials,
              this.deadline,
            );
            this.trace(
              "Created child call [" +
                e.getCallNumber() +
                "] for attempt " +
                this.attempts,
            );
            let r = this.underlyingCalls.length;
            this.underlyingCalls.push({
              state: "ACTIVE",
              call: e,
              nextMessageToSend: 0,
            });
            let n = this.attempts - 1,
              i = this.initialMetadata.clone();
            n > 0 && i.set(c, `${n}`);
            let s = !1;
            e.start(i, {
              onReceiveMetadata: (i) => {
                this.trace(
                  "Received metadata from child [" + e.getCallNumber() + "]",
                ),
                  this.commitCall(r),
                  (s = !0),
                  n > 0 && i.set(c, `${n}`),
                  "ACTIVE" === this.underlyingCalls[r].state &&
                    this.listener.onReceiveMetadata(i);
              },
              onReceiveMessage: (n) => {
                this.trace(
                  "Received message from child [" + e.getCallNumber() + "]",
                ),
                  this.commitCall(r),
                  "ACTIVE" === this.underlyingCalls[r].state &&
                    this.listener.onReceiveMessage(n);
              },
              onReceiveStatus: (i) => {
                this.trace(
                  "Received status from child [" + e.getCallNumber() + "]",
                ),
                  !s && n > 0 && i.metadata.set(c, `${n}`),
                  this.handleChildStatus(i, r);
              },
            }),
              this.sendNextChildMessage(r),
              this.readStarted && e.startRead();
          }
          start(e, r) {
            this.trace("start called"),
              (this.listener = r),
              (this.initialMetadata = e),
              (this.attempts += 1),
              this.startNewAttempt(),
              this.maybeStartHedgingTimer();
          }
          handleChildWriteCompleted(e) {
            var r, n;
            let i = this.underlyingCalls[e],
              s = i.nextMessageToSend;
            null === (n = (r = this.getBufferEntry(s)).callback) ||
              void 0 === n ||
              n.call(r),
              this.clearSentMessages(),
              (i.nextMessageToSend += 1),
              this.sendNextChildMessage(e);
          }
          sendNextChildMessage(e) {
            let r = this.underlyingCalls[e];
            if (
              "COMPLETED" !== r.state &&
              this.getBufferEntry(r.nextMessageToSend)
            ) {
              let n = this.getBufferEntry(r.nextMessageToSend);
              switch (n.entryType) {
                case "MESSAGE":
                  r.call.sendMessageWithContext(
                    {
                      callback: (r) => {
                        this.handleChildWriteCompleted(e);
                      },
                    },
                    n.message.message,
                  );
                  break;
                case "HALF_CLOSE":
                  (r.nextMessageToSend += 1), r.call.halfClose();
              }
            }
          }
          sendMessageWithContext(e, r) {
            var n;
            this.trace("write() called with message of length " + r.length);
            let i = { message: r, flags: e.flags },
              s = this.getNextBufferIndex(),
              a = {
                entryType: "MESSAGE",
                message: i,
                allocated: this.bufferTracker.allocate(
                  r.length,
                  this.callNumber,
                ),
              };
            if ((this.writeBuffer.push(a), a.allocated))
              for (let [i, a] of (null === (n = e.callback) ||
                void 0 === n ||
                n.call(e),
              this.underlyingCalls.entries()))
                "ACTIVE" === a.state &&
                  a.nextMessageToSend === s &&
                  a.call.sendMessageWithContext(
                    {
                      callback: (e) => {
                        this.handleChildWriteCompleted(i);
                      },
                    },
                    r,
                  );
            else {
              if (
                (this.commitCallWithMostMessages(),
                null === this.committedCallIndex)
              )
                return;
              let n = this.underlyingCalls[this.committedCallIndex];
              (a.callback = e.callback),
                "ACTIVE" === n.state &&
                  n.nextMessageToSend === s &&
                  n.call.sendMessageWithContext(
                    {
                      callback: (e) => {
                        this.handleChildWriteCompleted(this.committedCallIndex);
                      },
                    },
                    r,
                  );
            }
          }
          startRead() {
            for (let e of (this.trace("startRead called"),
            (this.readStarted = !0),
            this.underlyingCalls))
              (null == e ? void 0 : e.state) === "ACTIVE" && e.call.startRead();
          }
          halfClose() {
            this.trace("halfClose called");
            let e = this.getNextBufferIndex();
            for (let r of (this.writeBuffer.push({
              entryType: "HALF_CLOSE",
              allocated: !1,
            }),
            this.underlyingCalls))
              (null == r ? void 0 : r.state) === "ACTIVE" &&
                r.nextMessageToSend === e &&
                ((r.nextMessageToSend += 1), r.call.halfClose());
          }
          setCredentials(e) {
            throw Error("Method not implemented.");
          }
          getMethod() {
            return this.methodName;
          }
          getHost() {
            return this.host;
          }
        }
        r.RetryingCall = d;
      },
      60216: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Http2ServerCallStream =
            r.ServerDuplexStreamImpl =
            r.ServerWritableStreamImpl =
            r.ServerReadableStreamImpl =
            r.ServerUnaryCallImpl =
              void 0);
        let i = n(94735),
          s = n(73496),
          a = n(27910),
          o = n(74075),
          l = n(2403),
          u = n(96045),
          c = n(10753),
          d = n(47427),
          h = n(38716),
          f = "server_call";
        function p(e) {
          d.trace(l.LogVerbosity.DEBUG, f, e);
        }
        let g = "grpc-message",
          m = "grpc-status",
          y = "grpc-timeout",
          v = /(\d{1,8})\s*([HMSmun])/,
          b = { H: 36e5, M: 6e4, S: 1e3, m: 1, u: 0.001, n: 1e-6 },
          w = {
            "grpc-accept-encoding": "identity,deflate,gzip",
            "grpc-encoding": "identity",
          },
          T = {
            [s.constants.HTTP2_HEADER_STATUS]: s.constants.HTTP_STATUS_OK,
            [s.constants.HTTP2_HEADER_CONTENT_TYPE]: "application/grpc+proto",
          },
          S = { waitForTrailers: !0 };
        class E extends i.EventEmitter {
          constructor(e, r, n) {
            super(),
              (this.call = e),
              (this.metadata = r),
              (this.request = n),
              (this.cancelled = !1),
              this.call.setupSurfaceCall(this);
          }
          getPeer() {
            return this.call.getPeer();
          }
          sendMetadata(e) {
            this.call.sendMetadata(e);
          }
          getDeadline() {
            return this.call.getDeadline();
          }
          getPath() {
            return this.call.getPath();
          }
        }
        r.ServerUnaryCallImpl = E;
        class C extends a.Readable {
          constructor(e, r, n, i) {
            super({ objectMode: !0 }),
              (this.call = e),
              (this.metadata = r),
              (this.deserialize = n),
              (this.cancelled = !1),
              this.call.setupSurfaceCall(this),
              this.call.setupReadable(this, i);
          }
          _read(e) {
            this.call.consumeUnpushedMessages(this) && this.call.resume();
          }
          getPeer() {
            return this.call.getPeer();
          }
          sendMetadata(e) {
            this.call.sendMetadata(e);
          }
          getDeadline() {
            return this.call.getDeadline();
          }
          getPath() {
            return this.call.getPath();
          }
        }
        r.ServerReadableStreamImpl = C;
        class x extends a.Writable {
          constructor(e, r, n, i) {
            super({ objectMode: !0 }),
              (this.call = e),
              (this.metadata = r),
              (this.serialize = n),
              (this.request = i),
              (this.cancelled = !1),
              (this.trailingMetadata = new u.Metadata()),
              this.call.setupSurfaceCall(this),
              this.on("error", (e) => {
                this.call.sendError(e), this.end();
              });
          }
          getPeer() {
            return this.call.getPeer();
          }
          sendMetadata(e) {
            this.call.sendMetadata(e);
          }
          getDeadline() {
            return this.call.getDeadline();
          }
          getPath() {
            return this.call.getPath();
          }
          _write(e, r, n) {
            try {
              let r = this.call.serializeMessage(e);
              if (!this.call.write(r)) {
                this.call.once("drain", n);
                return;
              }
            } catch (e) {
              this.emit("error", {
                details: (0, h.getErrorMessage)(e),
                code: l.Status.INTERNAL,
              });
            }
            n();
          }
          _final(e) {
            this.call.sendStatus({
              code: l.Status.OK,
              details: "OK",
              metadata: this.trailingMetadata,
            }),
              e(null);
          }
          end(e) {
            return e && (this.trailingMetadata = e), super.end();
          }
        }
        r.ServerWritableStreamImpl = x;
        class A extends a.Duplex {
          constructor(e, r, n, i, s) {
            super({ objectMode: !0 }),
              (this.call = e),
              (this.metadata = r),
              (this.serialize = n),
              (this.deserialize = i),
              (this.cancelled = !1),
              (this.trailingMetadata = new u.Metadata()),
              this.call.setupSurfaceCall(this),
              this.call.setupReadable(this, s),
              this.on("error", (e) => {
                this.call.sendError(e), this.end();
              });
          }
          getPeer() {
            return this.call.getPeer();
          }
          sendMetadata(e) {
            this.call.sendMetadata(e);
          }
          getDeadline() {
            return this.call.getDeadline();
          }
          getPath() {
            return this.call.getPath();
          }
          end(e) {
            return e && (this.trailingMetadata = e), super.end();
          }
        }
        (r.ServerDuplexStreamImpl = A),
          (A.prototype._read = C.prototype._read),
          (A.prototype._write = x.prototype._write),
          (A.prototype._final = x.prototype._final);
        class I extends i.EventEmitter {
          constructor(e, r, n) {
            super(),
              (this.stream = e),
              (this.handler = r),
              (this.cancelled = !1),
              (this.deadlineTimer = null),
              (this.statusSent = !1),
              (this.deadline = 1 / 0),
              (this.wantTrailers = !1),
              (this.metadataSent = !1),
              (this.canPush = !1),
              (this.isPushPending = !1),
              (this.bufferedMessages = []),
              (this.messagesToPush = []),
              (this.maxSendMessageSize = l.DEFAULT_MAX_SEND_MESSAGE_LENGTH),
              (this.maxReceiveMessageSize =
                l.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH),
              this.stream.once("error", (e) => {}),
              this.stream.once("close", () => {
                var e;
                p(
                  "Request to method " +
                    (null === (e = this.handler) || void 0 === e
                      ? void 0
                      : e.path) +
                    " stream closed with rstCode " +
                    this.stream.rstCode,
                ),
                  !this.statusSent &&
                    ((this.cancelled = !0),
                    this.emit("cancelled", "cancelled"),
                    this.emit("streamEnd", !1),
                    this.sendStatus({
                      code: l.Status.CANCELLED,
                      details: "Cancelled by client",
                      metadata: null,
                    }),
                    this.deadlineTimer && clearTimeout(this.deadlineTimer));
              }),
              this.stream.on("drain", () => {
                this.emit("drain");
              }),
              "grpc.max_send_message_length" in n &&
                (this.maxSendMessageSize = n["grpc.max_send_message_length"]),
              "grpc.max_receive_message_length" in n &&
                (this.maxReceiveMessageSize =
                  n["grpc.max_receive_message_length"]);
          }
          checkCancelled() {
            return (
              (this.stream.destroyed || this.stream.closed) &&
                (this.cancelled = !0),
              this.cancelled
            );
          }
          getDecompressedMessage(e, r) {
            let n = e.subarray(5);
            if ("identity" === r) return n;
            if ("deflate" !== r && "gzip" !== r)
              return Promise.reject({
                code: l.Status.UNIMPLEMENTED,
                details: `Received message compressed with unsupported encoding "${r}"`,
              });
            {
              let e;
              return (
                (e = "deflate" === r ? o.createInflate() : o.createGunzip()),
                new Promise((r, i) => {
                  let s = 0,
                    a = [];
                  e.on("data", (r) => {
                    a.push(r),
                      (s += r.byteLength),
                      -1 !== this.maxReceiveMessageSize &&
                        s > this.maxReceiveMessageSize &&
                        (e.destroy(),
                        i({
                          code: l.Status.RESOURCE_EXHAUSTED,
                          details: `Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`,
                        }));
                  }),
                    e.on("end", () => {
                      r(Buffer.concat(a));
                    }),
                    e.write(n),
                    e.end();
                })
              );
            }
          }
          sendMetadata(e) {
            if (this.checkCancelled() || this.metadataSent) return;
            this.metadataSent = !0;
            let r = e ? e.toHttp2Headers() : null,
              n = Object.assign(Object.assign(Object.assign({}, T), w), r);
            this.stream.respond(n, S);
          }
          receiveMetadata(e) {
            let r = u.Metadata.fromHttp2Headers(e);
            d.isTracerEnabled(f) &&
              p(
                "Request to " +
                  this.handler.path +
                  " received headers " +
                  JSON.stringify(r.toJSON()),
              );
            let n = r.get(y);
            if (n.length > 0) {
              let e = n[0].toString().match(v);
              if (null === e) {
                let e = Error("Invalid deadline");
                return (e.code = l.Status.OUT_OF_RANGE), this.sendError(e), r;
              }
              let i = (+e[1] * b[e[2]]) | 0,
                s = new Date();
              (this.deadline = s.setMilliseconds(s.getMilliseconds() + i)),
                (this.deadlineTimer = setTimeout(k, i, this)),
                r.remove(y);
            }
            return (
              r.remove(s.constants.HTTP2_HEADER_ACCEPT_ENCODING),
              r.remove(s.constants.HTTP2_HEADER_TE),
              r.remove(s.constants.HTTP2_HEADER_CONTENT_TYPE),
              r.remove("grpc-accept-encoding"),
              r
            );
          }
          receiveUnaryMessage(e) {
            return new Promise((r, n) => {
              let { stream: i } = this,
                s = 0,
                a = this,
                o = [],
                u = this.maxReceiveMessageSize;
              function c(e) {
                if (((s += e.byteLength), -1 !== u && s > u)) {
                  i.removeListener("data", c),
                    i.removeListener("end", d),
                    i.removeListener("error", d),
                    n({
                      code: l.Status.RESOURCE_EXHAUSTED,
                      details: `Received message larger than max (${s} vs. ${u})`,
                    });
                  return;
                }
                o.push(e);
              }
              function d(u) {
                if (
                  (i.removeListener("data", c),
                  i.removeListener("end", d),
                  i.removeListener("error", d),
                  void 0 !== u)
                ) {
                  n({ code: l.Status.INTERNAL, details: u.message });
                  return;
                }
                if (0 === s) {
                  n({
                    code: l.Status.INTERNAL,
                    details: "received empty unary message",
                  });
                  return;
                }
                a.emit("receiveMessage");
                let h = Buffer.concat(o, s),
                  f = 1 === h.readUInt8(0) ? e : "identity",
                  p = a.getDecompressedMessage(h, f);
                if (Buffer.isBuffer(p)) {
                  r(a.deserializeMessageWithInternalError(p));
                  return;
                }
                p.then(
                  (e) => r(a.deserializeMessageWithInternalError(e)),
                  (r) =>
                    n(
                      r.code
                        ? r
                        : {
                            code: l.Status.INTERNAL,
                            details: `Received "grpc-encoding" header "${e}" but ${e} decompression failed`,
                          },
                    ),
                );
              }
              this.stream.on("data", c),
                this.stream.on("end", d),
                this.stream.on("error", d);
            });
          }
          async deserializeMessageWithInternalError(e) {
            try {
              return this.deserializeMessage(e);
            } catch (e) {
              throw {
                details: (0, h.getErrorMessage)(e),
                code: l.Status.INTERNAL,
              };
            }
          }
          serializeMessage(e) {
            let r = this.handler.serialize(e),
              n = r.byteLength,
              i = Buffer.allocUnsafe(n + 5);
            return i.writeUInt8(0, 0), i.writeUInt32BE(n, 1), r.copy(i, 5), i;
          }
          deserializeMessage(e) {
            return this.handler.deserialize(e);
          }
          async sendUnaryMessage(e, r, n, i) {
            if (!this.checkCancelled()) {
              if ((void 0 === n && (n = null), e)) {
                !Object.prototype.hasOwnProperty.call(e, "metadata") &&
                  n &&
                  (e.metadata = n),
                  this.sendError(e);
                return;
              }
              try {
                let e = this.serializeMessage(r);
                this.write(e),
                  this.sendStatus({
                    code: l.Status.OK,
                    details: "OK",
                    metadata: n,
                  });
              } catch (e) {
                this.sendError({
                  details: (0, h.getErrorMessage)(e),
                  code: l.Status.INTERNAL,
                });
              }
            }
          }
          sendStatus(e) {
            var r, n;
            if (
              (this.emit("callEnd", e.code),
              this.emit("streamEnd", e.code === l.Status.OK),
              !this.checkCancelled())
            ) {
              if (
                (p(
                  "Request to method " +
                    (null === (r = this.handler) || void 0 === r
                      ? void 0
                      : r.path) +
                    " ended with status code: " +
                    l.Status[e.code] +
                    " details: " +
                    e.details,
                ),
                this.deadlineTimer && clearTimeout(this.deadlineTimer),
                this.stream.headersSent)
              )
                this.wantTrailers ||
                  ((this.wantTrailers = !0),
                  this.stream.once("wantTrailers", () => {
                    var r;
                    let n = Object.assign(
                      { [m]: e.code, [g]: encodeURI(e.details) },
                      null === (r = e.metadata) || void 0 === r
                        ? void 0
                        : r.toHttp2Headers(),
                    );
                    this.stream.sendTrailers(n), (this.statusSent = !0);
                  }),
                  this.stream.end());
              else {
                let r = Object.assign(
                  Object.assign({ [m]: e.code, [g]: encodeURI(e.details) }, T),
                  null === (n = e.metadata) || void 0 === n
                    ? void 0
                    : n.toHttp2Headers(),
                );
                this.stream.respond(r, { endStream: !0 }),
                  (this.statusSent = !0);
              }
            }
          }
          sendError(e) {
            let r = {
              code: l.Status.UNKNOWN,
              details: "message" in e ? e.message : "Unknown Error",
              metadata:
                "metadata" in e && void 0 !== e.metadata ? e.metadata : null,
            };
            "code" in e &&
              "number" == typeof e.code &&
              Number.isInteger(e.code) &&
              ((r.code = e.code),
              "details" in e &&
                "string" == typeof e.details &&
                (r.details = e.details)),
              this.sendStatus(r);
          }
          write(e) {
            if (!this.checkCancelled()) {
              if (
                -1 !== this.maxSendMessageSize &&
                e.length > this.maxSendMessageSize
              ) {
                this.sendError({
                  code: l.Status.RESOURCE_EXHAUSTED,
                  details: `Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`,
                });
                return;
              }
              return (
                this.sendMetadata(),
                this.emit("sendMessage"),
                this.stream.write(e)
              );
            }
          }
          resume() {
            this.stream.resume();
          }
          setupSurfaceCall(e) {
            this.once("cancelled", (r) => {
              (e.cancelled = !0), e.emit("cancelled", r);
            }),
              this.once("callEnd", (r) => e.emit("callEnd", r));
          }
          setupReadable(e, r) {
            let n = new c.StreamDecoder(this.maxReceiveMessageSize),
              i = !1,
              s = !1,
              a = !1,
              o = async () => {
                a ||
                  !i ||
                  s ||
                  ((a = !0), await this.pushOrBufferMessage(e, null));
              };
            this.stream.on("data", async (i) => {
              let a;
              try {
                a = n.write(i);
              } catch (e) {
                this.sendError({
                  code: l.Status.RESOURCE_EXHAUSTED,
                  details: e.message,
                });
                return;
              }
              for (let n of ((s = !0), this.stream.pause(), a)) {
                let i;
                this.emit("receiveMessage");
                let s = 1 === n.readUInt8(0) ? r : "identity";
                try {
                  i = await this.getDecompressedMessage(n, s);
                } catch (e) {
                  this.sendError(e);
                  return;
                }
                if (!i) return;
                await this.pushOrBufferMessage(e, i);
              }
              (s = !1), this.stream.resume(), await o();
            }),
              this.stream.once("end", async () => {
                (i = !0), await o();
              });
          }
          consumeUnpushedMessages(e) {
            for (this.canPush = !0; this.messagesToPush.length > 0; ) {
              let r = this.messagesToPush.shift(),
                n = e.push(r);
              if (null === r || !1 === n) {
                this.canPush = !1;
                break;
              }
            }
            return this.canPush;
          }
          async pushOrBufferMessage(e, r) {
            this.isPushPending
              ? this.bufferedMessages.push(r)
              : await this.pushMessage(e, r);
          }
          async pushMessage(e, r) {
            if (null === r) {
              p("Received end of stream"),
                this.canPush ? e.push(null) : this.messagesToPush.push(null);
              return;
            }
            p("Received message of length " + r.length),
              (this.isPushPending = !0);
            try {
              let n = await this.deserializeMessage(r);
              this.canPush
                ? e.push(n) || ((this.canPush = !1), this.stream.pause())
                : this.messagesToPush.push(n);
            } catch (n) {
              this.bufferedMessages.length = 0;
              let r = (0, h.getErrorCode)(n);
              (null === r || r < l.Status.OK || r > l.Status.UNAUTHENTICATED) &&
                (r = l.Status.INTERNAL),
                e.emit("error", {
                  details: (0, h.getErrorMessage)(n),
                  code: r,
                });
            }
            (this.isPushPending = !1),
              this.bufferedMessages.length > 0 &&
                (await this.pushMessage(e, this.bufferedMessages.shift()));
          }
          getPeer() {
            var e;
            let r =
              null === (e = this.stream.session) || void 0 === e
                ? void 0
                : e.socket;
            return null != r && r.remoteAddress
              ? r.remotePort
                ? `${r.remoteAddress}:${r.remotePort}`
                : r.remoteAddress
              : "unknown";
          }
          getDeadline() {
            return this.deadline;
          }
          getPath() {
            return this.handler.path;
          }
        }
        function k(e) {
          let r = Error("Deadline exceeded");
          (r.code = l.Status.DEADLINE_EXCEEDED),
            e.sendError(r),
            (e.cancelled = !0),
            e.emit("cancelled", "deadline");
        }
        r.Http2ServerCallStream = I;
      },
      60808: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ServerCredentials = void 0);
        let i = n(26207);
        class s {
          static createInsecure() {
            return new a();
          }
          static createSsl(e, r, n = !1) {
            if (null !== e && !Buffer.isBuffer(e))
              throw TypeError("rootCerts must be null or a Buffer");
            if (!Array.isArray(r))
              throw TypeError("keyCertPairs must be an array");
            if ("boolean" != typeof n)
              throw TypeError("checkClientCertificate must be a boolean");
            let s = [],
              a = [];
            for (let e = 0; e < r.length; e++) {
              let n = r[e];
              if (null === n || "object" != typeof n)
                throw TypeError(`keyCertPair[${e}] must be an object`);
              if (!Buffer.isBuffer(n.private_key))
                throw TypeError(
                  `keyCertPair[${e}].private_key must be a Buffer`,
                );
              if (!Buffer.isBuffer(n.cert_chain))
                throw TypeError(
                  `keyCertPair[${e}].cert_chain must be a Buffer`,
                );
              s.push(n.cert_chain), a.push(n.private_key);
            }
            return new o({
              ca: e || (0, i.getDefaultRootsData)() || void 0,
              cert: s,
              key: a,
              requestCert: n,
              ciphers: i.CIPHER_SUITES,
            });
          }
        }
        r.ServerCredentials = s;
        class a extends s {
          _isSecure() {
            return !1;
          }
          _getSettings() {
            return null;
          }
        }
        class o extends s {
          constructor(e) {
            super(), (this.options = e);
          }
          _isSecure() {
            return !0;
          }
          _getSettings() {
            return this.options;
          }
        }
      },
      83415: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Server = void 0);
        let i = n(73496),
          s = n(2403),
          a = n(60216),
          o = n(60808),
          l = n(36078),
          u = n(47427),
          c = n(45648),
          d = n(64230),
          h = n(35127),
          f = 0x7fffffff,
          p = 0x7fffffff,
          g = 2e4,
          { HTTP2_HEADER_PATH: m } = i.constants,
          y = "server";
        function v() {}
        function b(e) {
          return {
            code: s.Status.UNIMPLEMENTED,
            details: `The server does not implement the method ${e}`,
          };
        }
        function w(e, r) {
          let n = b(r);
          switch (e) {
            case "unary":
              return (e, r) => {
                r(n, null);
              };
            case "clientStream":
              return (e, r) => {
                r(n, null);
              };
            case "serverStream":
              return (e) => {
                e.emit("error", n);
              };
            case "bidi":
              return (e) => {
                e.emit("error", n);
              };
            default:
              throw Error(`Invalid handlerType ${e}`);
          }
        }
        class T {
          constructor(e) {
            var r, n, i, s;
            (this.http2ServerList = []),
              (this.handlers = new Map()),
              (this.sessions = new Map()),
              (this.started = !1),
              (this.shutdown = !1),
              (this.serverAddressString = "null"),
              (this.channelzEnabled = !0),
              (this.channelzTrace = new h.ChannelzTrace()),
              (this.callTracker = new h.ChannelzCallTracker()),
              (this.listenerChildrenTracker = new h.ChannelzChildrenTracker()),
              (this.sessionChildrenTracker = new h.ChannelzChildrenTracker()),
              (this.options = null != e ? e : {}),
              0 === this.options["grpc.enable_channelz"] &&
                (this.channelzEnabled = !1),
              (this.channelzRef = (0, h.registerChannelzServer)(
                () => this.getChannelzInfo(),
                this.channelzEnabled,
              )),
              this.channelzEnabled &&
                this.channelzTrace.addTrace("CT_INFO", "Server created"),
              (this.maxConnectionAgeMs =
                null !== (r = this.options["grpc.max_connection_age_ms"]) &&
                void 0 !== r
                  ? r
                  : f),
              (this.maxConnectionAgeGraceMs =
                null !==
                  (n = this.options["grpc.max_connection_age_grace_ms"]) &&
                void 0 !== n
                  ? n
                  : f),
              (this.keepaliveTimeMs =
                null !== (i = this.options["grpc.keepalive_time_ms"]) &&
                void 0 !== i
                  ? i
                  : p),
              (this.keepaliveTimeoutMs =
                null !== (s = this.options["grpc.keepalive_timeout_ms"]) &&
                void 0 !== s
                  ? s
                  : g),
              this.trace("Server constructed");
          }
          getChannelzInfo() {
            return {
              trace: this.channelzTrace,
              callTracker: this.callTracker,
              listenerChildren: this.listenerChildrenTracker.getChildLists(),
              sessionChildren: this.sessionChildrenTracker.getChildLists(),
            };
          }
          getChannelzSessionInfoGetter(e) {
            return () => {
              var r, n, i;
              let s;
              let a = this.sessions.get(e),
                o = e.socket,
                l = o.remoteAddress
                  ? (0, c.stringToSubchannelAddress)(
                      o.remoteAddress,
                      o.remotePort,
                    )
                  : null,
                u = o.localAddress
                  ? (0, c.stringToSubchannelAddress)(
                      o.localAddress,
                      o.localPort,
                    )
                  : null;
              if (e.encrypted) {
                let e = o,
                  n = e.getCipher(),
                  i = e.getCertificate(),
                  a = e.getPeerCertificate();
                s = {
                  cipherSuiteStandardName:
                    null !== (r = n.standardName) && void 0 !== r ? r : null,
                  cipherSuiteOtherName: n.standardName ? null : n.name,
                  localCertificate: i && "raw" in i ? i.raw : null,
                  remoteCertificate: a && "raw" in a ? a.raw : null,
                };
              } else s = null;
              return {
                remoteAddress: l,
                localAddress: u,
                security: s,
                remoteName: null,
                streamsStarted: a.streamTracker.callsStarted,
                streamsSucceeded: a.streamTracker.callsSucceeded,
                streamsFailed: a.streamTracker.callsFailed,
                messagesSent: a.messagesSent,
                messagesReceived: a.messagesReceived,
                keepAlivesSent: 0,
                lastLocalStreamCreatedTimestamp: null,
                lastRemoteStreamCreatedTimestamp:
                  a.streamTracker.lastCallStartedTimestamp,
                lastMessageSentTimestamp: a.lastMessageSentTimestamp,
                lastMessageReceivedTimestamp: a.lastMessageReceivedTimestamp,
                localFlowControlWindow:
                  null !== (n = e.state.localWindowSize) && void 0 !== n
                    ? n
                    : null,
                remoteFlowControlWindow:
                  null !== (i = e.state.remoteWindowSize) && void 0 !== i
                    ? i
                    : null,
              };
            };
          }
          trace(e) {
            u.trace(
              s.LogVerbosity.DEBUG,
              y,
              "(" + this.channelzRef.id + ") " + e,
            );
          }
          addProtoService() {
            throw Error("Not implemented. Use addService() instead");
          }
          addService(e, r) {
            if (
              null === e ||
              "object" != typeof e ||
              null === r ||
              "object" != typeof r
            )
              throw Error("addService() requires two objects as arguments");
            let n = Object.keys(e);
            if (0 === n.length)
              throw Error("Cannot add an empty service to a server");
            n.forEach((n) => {
              let i, s;
              let a = e[n];
              i = a.requestStream
                ? a.responseStream
                  ? "bidi"
                  : "clientStream"
                : a.responseStream
                  ? "serverStream"
                  : "unary";
              let o = r[n];
              if (
                (void 0 === o &&
                  "string" == typeof a.originalName &&
                  (o = r[a.originalName]),
                (s = void 0 !== o ? o.bind(r) : w(i, n)),
                !1 ===
                  this.register(
                    a.path,
                    s,
                    a.responseSerialize,
                    a.requestDeserialize,
                    i,
                  ))
              )
                throw Error(`Method handler for ${a.path} already provided.`);
            });
          }
          removeService(e) {
            if (null === e || "object" != typeof e)
              throw Error("removeService() requires object as argument");
            Object.keys(e).forEach((r) => {
              let n = e[r];
              this.unregister(n.path);
            });
          }
          bind(e, r) {
            throw Error("Not implemented. Use bindAsync() instead");
          }
          bindAsync(e, r, n) {
            if (!0 === this.started) throw Error("server is already started");
            if (this.shutdown) throw Error("bindAsync called after shutdown");
            if ("string" != typeof e) throw TypeError("port must be a string");
            if (null === r || !(r instanceof o.ServerCredentials))
              throw TypeError("creds must be a ServerCredentials object");
            if ("function" != typeof n)
              throw TypeError("callback must be a function");
            let a = (0, d.parseUri)(e);
            if (null === a) throw Error(`Could not parse port "${e}"`);
            let f = (0, l.mapUriDefaultScheme)(a);
            if (null === f)
              throw Error(`Could not get a default scheme for port "${e}"`);
            let p = { maxSendHeaderBlockLength: Number.MAX_SAFE_INTEGER };
            "grpc-node.max_session_memory" in this.options
              ? (p.maxSessionMemory =
                  this.options["grpc-node.max_session_memory"])
              : (p.maxSessionMemory = Number.MAX_SAFE_INTEGER),
              "grpc.max_concurrent_streams" in this.options &&
                (p.settings = {
                  maxConcurrentStreams:
                    this.options["grpc.max_concurrent_streams"],
                });
            let g = (e, r) => {
                process.nextTick(() => n(e, r));
              },
              m = () => {
                let e;
                if (r._isSecure()) {
                  let n = Object.assign(p, r._getSettings());
                  (n.enableTrace =
                    1 === this.options["grpc-node.tls_enable_trace"]),
                    (e = i.createSecureServer(n)).on(
                      "secureConnection",
                      (e) => {
                        e.on("error", (e) => {
                          this.trace(
                            "An incoming TLS connection closed with error: " +
                              e.message,
                          );
                        });
                      },
                    );
                } else e = i.createServer(p);
                return e.setTimeout(0, v), this._setupHandlers(e), e;
              },
              y = (e, r, n) =>
                0 === e.length
                  ? Promise.resolve({ port: r, count: n })
                  : Promise.all(
                      e.map((e) => {
                        let n;
                        this.trace(
                          "Attempting to bind " +
                            (0, c.subchannelAddressToString)(e),
                        ),
                          (n = (0, c.isTcpSubchannelAddress)(e)
                            ? { host: e.host, port: r }
                            : e);
                        let i = m();
                        return new Promise((s, a) => {
                          let o = (r) => {
                            this.trace(
                              "Failed to bind " +
                                (0, c.subchannelAddressToString)(e) +
                                " with error " +
                                r.message,
                            ),
                              s(r);
                          };
                          i.once("error", o),
                            i.listen(n, () => {
                              let e;
                              if (this.shutdown) {
                                i.close(),
                                  s(
                                    Error(
                                      "bindAsync failed because server is shutdown",
                                    ),
                                  );
                                return;
                              }
                              let n = i.address();
                              e =
                                "string" == typeof n
                                  ? { path: n }
                                  : { host: n.address, port: n.port };
                              let a = (0, h.registerChannelzSocket)(
                                (0, c.subchannelAddressToString)(e),
                                () => ({
                                  localAddress: e,
                                  remoteAddress: null,
                                  security: null,
                                  remoteName: null,
                                  streamsStarted: 0,
                                  streamsSucceeded: 0,
                                  streamsFailed: 0,
                                  messagesSent: 0,
                                  messagesReceived: 0,
                                  keepAlivesSent: 0,
                                  lastLocalStreamCreatedTimestamp: null,
                                  lastRemoteStreamCreatedTimestamp: null,
                                  lastMessageSentTimestamp: null,
                                  lastMessageReceivedTimestamp: null,
                                  localFlowControlWindow: null,
                                  remoteFlowControlWindow: null,
                                }),
                                this.channelzEnabled,
                              );
                              this.channelzEnabled &&
                                this.listenerChildrenTracker.refChild(a),
                                this.http2ServerList.push({
                                  server: i,
                                  channelzRef: a,
                                }),
                                this.trace(
                                  "Successfully bound " +
                                    (0, c.subchannelAddressToString)(e),
                                ),
                                s("port" in e ? e.port : r),
                                i.removeListener("error", o);
                            });
                        });
                      }),
                    ).then((e) => {
                      let i = 0;
                      for (let n of e)
                        if ("number" == typeof n && ((i += 1), n !== r))
                          throw Error(
                            "Invalid state: multiple port numbers added from single address",
                          );
                      return { port: r, count: i + n };
                    }),
              b = (e) => {
                if (0 === e.length)
                  return Promise.resolve({ port: 0, count: 0 });
                let r = e[0],
                  n = m();
                return new Promise((i, s) => {
                  let a = (n) => {
                    this.trace(
                      "Failed to bind " +
                        (0, c.subchannelAddressToString)(r) +
                        " with error " +
                        n.message,
                    ),
                      i(b(e.slice(1)));
                  };
                  n.once("error", a),
                    n.listen(r, () => {
                      if (this.shutdown) {
                        n.close(), i({ port: 0, count: 0 });
                        return;
                      }
                      let r = n.address(),
                        s = { host: r.address, port: r.port },
                        o = (0, h.registerChannelzSocket)(
                          (0, c.subchannelAddressToString)(s),
                          () => ({
                            localAddress: s,
                            remoteAddress: null,
                            security: null,
                            remoteName: null,
                            streamsStarted: 0,
                            streamsSucceeded: 0,
                            streamsFailed: 0,
                            messagesSent: 0,
                            messagesReceived: 0,
                            keepAlivesSent: 0,
                            lastLocalStreamCreatedTimestamp: null,
                            lastRemoteStreamCreatedTimestamp: null,
                            lastMessageSentTimestamp: null,
                            lastMessageReceivedTimestamp: null,
                            localFlowControlWindow: null,
                            remoteFlowControlWindow: null,
                          }),
                          this.channelzEnabled,
                        );
                      this.channelzEnabled &&
                        this.listenerChildrenTracker.refChild(o),
                        this.http2ServerList.push({
                          server: n,
                          channelzRef: o,
                        }),
                        this.trace(
                          "Successfully bound " +
                            (0, c.subchannelAddressToString)(s),
                        ),
                        i(y(e.slice(1), r.port, 1)),
                        n.removeListener("error", a);
                    });
                });
              },
              w = {
                onSuccessfulResolution: (r, n, i) => {
                  let a;
                  if (
                    ((w.onSuccessfulResolution = () => {}),
                    this.shutdown &&
                      g(
                        Error("bindAsync failed because server is shutdown"),
                        0,
                      ),
                    0 === r.length)
                  ) {
                    g(Error(`No addresses resolved for port ${e}`), 0);
                    return;
                  }
                  (a = (0, c.isTcpSubchannelAddress)(r[0])
                    ? 0 === r[0].port
                      ? b(r)
                      : y(r, r[0].port, 0)
                    : y(r, 1, 0)).then(
                    (e) => {
                      if (0 === e.count) {
                        let e = `No address added out of total ${r.length} resolved`;
                        u.log(s.LogVerbosity.ERROR, e), g(Error(e), 0);
                      } else
                        e.count < r.length &&
                          u.log(
                            s.LogVerbosity.INFO,
                            `WARNING Only ${e.count} addresses added out of total ${r.length} resolved`,
                          ),
                          g(null, e.port);
                    },
                    (e) => {
                      let n = `No address added out of total ${r.length} resolved`;
                      u.log(s.LogVerbosity.ERROR, n), g(Error(n), 0);
                    },
                  );
                },
                onError: (e) => {
                  g(Error(e.details), 0);
                },
              };
            (0, l.createResolver)(f, w, this.options).updateResolution();
          }
          forceShutdown() {
            for (let { server: e, channelzRef: r } of this.http2ServerList)
              e.listening &&
                e.close(() => {
                  this.channelzEnabled &&
                    (this.listenerChildrenTracker.unrefChild(r),
                    (0, h.unregisterChannelzRef)(r));
                });
            (this.started = !1),
              (this.shutdown = !0),
              this.sessions.forEach((e, r) => {
                r.destroy(i.constants.NGHTTP2_CANCEL);
              }),
              this.sessions.clear(),
              this.channelzEnabled &&
                (0, h.unregisterChannelzRef)(this.channelzRef);
          }
          register(e, r, n, i, s) {
            return (
              !this.handlers.has(e) &&
              (this.handlers.set(e, {
                func: r,
                serialize: n,
                deserialize: i,
                type: s,
                path: e,
              }),
              !0)
            );
          }
          unregister(e) {
            return this.handlers.delete(e);
          }
          start() {
            if (
              0 === this.http2ServerList.length ||
              this.http2ServerList.every(({ server: e }) => !0 !== e.listening)
            )
              throw Error("server must be bound in order to start");
            if (!0 === this.started) throw Error("server is already started");
            this.channelzEnabled &&
              this.channelzTrace.addTrace("CT_INFO", "Starting"),
              (this.started = !0);
          }
          tryShutdown(e) {
            let r = (r) => {
                this.channelzEnabled &&
                  (0, h.unregisterChannelzRef)(this.channelzRef),
                  e(r);
              },
              n = 0;
            function i() {
              0 == --n && r();
            }
            for (let { server: e, channelzRef: r } of ((this.started = !1),
            (this.shutdown = !0),
            this.http2ServerList))
              e.listening &&
                (n++,
                e.close(() => {
                  this.channelzEnabled &&
                    (this.listenerChildrenTracker.unrefChild(r),
                    (0, h.unregisterChannelzRef)(r)),
                    i();
                }));
            this.sessions.forEach((e, r) => {
              r.closed || ((n += 1), r.close(i));
            }),
              0 === n && r();
          }
          addHttp2Port() {
            throw Error("Not yet implemented");
          }
          getChannelzRef() {
            return this.channelzRef;
          }
          _verifyContentType(e, r) {
            let n = r[i.constants.HTTP2_HEADER_CONTENT_TYPE];
            return (
              !!("string" == typeof n && n.startsWith("application/grpc")) ||
              (e.respond(
                {
                  [i.constants.HTTP2_HEADER_STATUS]:
                    i.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE,
                },
                { endStream: !0 },
              ),
              !1)
            );
          }
          _retrieveHandler(e) {
            this.trace(
              "Received call to method " +
                e +
                " at address " +
                this.serverAddressString,
            );
            let r = this.handlers.get(e);
            return void 0 === r
              ? (this.trace(
                  "No handler registered for method " +
                    e +
                    ". Sending UNIMPLEMENTED status.",
                ),
                null)
              : r;
          }
          _respondWithError(e, r, n = null) {
            let i = new a.Http2ServerCallStream(r, null, this.options);
            void 0 === e.code && (e.code = s.Status.INTERNAL),
              this.channelzEnabled &&
                (this.callTracker.addCallFailed(),
                null == n || n.streamTracker.addCallFailed()),
              i.sendError(e);
          }
          _channelzHandler(e, r) {
            let n = this.sessions.get(e.session);
            if (
              (this.callTracker.addCallStarted(),
              null == n || n.streamTracker.addCallStarted(),
              !this._verifyContentType(e, r))
            ) {
              this.callTracker.addCallFailed(),
                null == n || n.streamTracker.addCallFailed();
              return;
            }
            let i = r[m],
              o = this._retrieveHandler(i);
            if (!o) {
              this._respondWithError(b(i), e, n);
              return;
            }
            let l = new a.Http2ServerCallStream(e, o, this.options);
            l.once("callEnd", (e) => {
              e === s.Status.OK
                ? this.callTracker.addCallSucceeded()
                : this.callTracker.addCallFailed();
            }),
              n &&
                (l.once("streamEnd", (e) => {
                  e
                    ? n.streamTracker.addCallSucceeded()
                    : n.streamTracker.addCallFailed();
                }),
                l.on("sendMessage", () => {
                  (n.messagesSent += 1),
                    (n.lastMessageSentTimestamp = new Date());
                }),
                l.on("receiveMessage", () => {
                  (n.messagesReceived += 1),
                    (n.lastMessageReceivedTimestamp = new Date());
                })),
              this._runHandlerForCall(l, o, r) ||
                (this.callTracker.addCallFailed(),
                null == n || n.streamTracker.addCallFailed(),
                l.sendError({
                  code: s.Status.INTERNAL,
                  details: `Unknown handler type: ${o.type}`,
                }));
          }
          _streamHandler(e, r) {
            if (!0 !== this._verifyContentType(e, r)) return;
            let n = r[m],
              i = this._retrieveHandler(n);
            if (!i) {
              this._respondWithError(b(n), e, null);
              return;
            }
            let o = new a.Http2ServerCallStream(e, i, this.options);
            this._runHandlerForCall(o, i, r) ||
              o.sendError({
                code: s.Status.INTERNAL,
                details: `Unknown handler type: ${i.type}`,
              });
          }
          _runHandlerForCall(e, r, n) {
            var i;
            let s = e.receiveMetadata(n),
              a =
                null !== (i = s.get("grpc-encoding")[0]) && void 0 !== i
                  ? i
                  : "identity";
            s.remove("grpc-encoding");
            let { type: o } = r;
            if ("unary" === o) S(e, r, s, a);
            else if ("clientStream" === o) E(e, r, s, a);
            else if ("serverStream" === o) C(e, r, s, a);
            else {
              if ("bidi" !== o) return !1;
              x(e, r, s, a);
            }
            return !0;
          }
          _setupHandlers(e) {
            if (null === e) return;
            let r = e.address(),
              n = "null";
            r && (n = "string" == typeof r ? r : r.address + ":" + r.port),
              (this.serverAddressString = n);
            let s = this.channelzEnabled
              ? this._channelzHandler
              : this._streamHandler;
            e.on("stream", s.bind(this)),
              e.on("session", (e) => {
                var r, n, s, a, o;
                if (!this.started) {
                  e.destroy();
                  return;
                }
                let l = (0, h.registerChannelzSocket)(
                    null !== (r = e.socket.remoteAddress) && void 0 !== r
                      ? r
                      : "unknown",
                    this.getChannelzSessionInfoGetter(e),
                    this.channelzEnabled,
                  ),
                  u = {
                    ref: l,
                    streamTracker: new h.ChannelzCallTracker(),
                    messagesSent: 0,
                    messagesReceived: 0,
                    lastMessageSentTimestamp: null,
                    lastMessageReceivedTimestamp: null,
                  };
                this.sessions.set(e, u);
                let c = e.socket.remoteAddress;
                this.channelzEnabled &&
                  (this.channelzTrace.addTrace(
                    "CT_INFO",
                    "Connection established by client " + c,
                  ),
                  this.sessionChildrenTracker.refChild(l));
                let d = null,
                  p = null,
                  g = !1;
                if (this.maxConnectionAgeMs !== f) {
                  let r = this.maxConnectionAgeMs / 10,
                    a = Math.random() * r * 2 - r;
                  d =
                    null ===
                      (s = (n = setTimeout(() => {
                        var r, n;
                        (g = !0),
                          this.channelzEnabled &&
                            this.channelzTrace.addTrace(
                              "CT_INFO",
                              "Connection dropped by max connection age from " +
                                c,
                            );
                        try {
                          e.goaway(
                            i.constants.NGHTTP2_NO_ERROR,
                            0x7fffffff,
                            Buffer.from("max_age"),
                          );
                        } catch (r) {
                          e.destroy();
                          return;
                        }
                        e.close(),
                          this.maxConnectionAgeGraceMs !== f &&
                            (p =
                              null ===
                                (n = (r = setTimeout(() => {
                                  e.destroy();
                                }, this.maxConnectionAgeGraceMs)).unref) ||
                              void 0 === n
                                ? void 0
                                : n.call(r));
                      }, this.maxConnectionAgeMs + a)).unref) || void 0 === s
                      ? void 0
                      : s.call(n);
                }
                let m =
                  null ===
                    (o = (a = setInterval(() => {
                      var r, n;
                      let i =
                        null ===
                          (n = (r = setTimeout(() => {
                            (g = !0),
                              this.channelzEnabled &&
                                this.channelzTrace.addTrace(
                                  "CT_INFO",
                                  "Connection dropped by keepalive timeout from " +
                                    c,
                                ),
                              e.close();
                          }, this.keepaliveTimeoutMs)).unref) || void 0 === n
                          ? void 0
                          : n.call(r);
                      try {
                        e.ping((e, r, n) => {
                          clearTimeout(i);
                        });
                      } catch (r) {
                        e.destroy();
                      }
                    }, this.keepaliveTimeMs)).unref) || void 0 === o
                    ? void 0
                    : o.call(a);
                e.on("close", () => {
                  this.channelzEnabled &&
                    (g ||
                      this.channelzTrace.addTrace(
                        "CT_INFO",
                        "Connection dropped by client " + c,
                      ),
                    this.sessionChildrenTracker.unrefChild(l),
                    (0, h.unregisterChannelzRef)(l)),
                    d && clearTimeout(d),
                    p && clearTimeout(p),
                    m && clearTimeout(m),
                    this.sessions.delete(e);
                });
              });
          }
        }
        async function S(e, r, n, i) {
          try {
            let s = await e.receiveUnaryMessage(i);
            if (void 0 === s || e.cancelled) return;
            let o = new a.ServerUnaryCallImpl(e, n, s);
            r.func(o, (r, n, i, s) => {
              e.sendUnaryMessage(r, n, i, s);
            });
          } catch (r) {
            e.sendError(r);
          }
        }
        function E(e, r, n, i) {
          let s = new a.ServerReadableStreamImpl(e, n, r.deserialize, i);
          function o(r, n, i, a) {
            s.destroy(), e.sendUnaryMessage(r, n, i, a);
          }
          e.cancelled || (s.on("error", o), r.func(s, o));
        }
        async function C(e, r, n, i) {
          try {
            let s = await e.receiveUnaryMessage(i);
            if (void 0 === s || e.cancelled) return;
            let o = new a.ServerWritableStreamImpl(e, n, r.serialize, s);
            r.func(o);
          } catch (r) {
            e.sendError(r);
          }
        }
        function x(e, r, n, i) {
          let s = new a.ServerDuplexStreamImpl(
            e,
            n,
            r.serialize,
            r.deserialize,
            i,
          );
          e.cancelled || r.func(s);
        }
        r.Server = T;
      },
      74692: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.extractAndSelectServiceConfig =
            r.validateServiceConfig =
            r.validateRetryThrottling =
              void 0);
        let i = n(21820),
          s = n(2403),
          a = n(9947),
          o = /^\d+(\.\d{1,9})?s$/,
          l = "node";
        function u(e) {
          if ("service" in e && "" !== e.service) {
            if ("string" != typeof e.service)
              throw Error(
                `Invalid method config name: invalid service: expected type string, got ${typeof e.service}`,
              );
            if (!("method" in e) || "" === e.method)
              return { service: e.service };
            if ("string" != typeof e.method)
              throw Error(
                `Invalid method config name: invalid method: expected type string, got ${typeof e.service}`,
              );
            return { service: e.service, method: e.method };
          }
          if ("method" in e && void 0 !== e.method)
            throw Error(
              "Invalid method config name: method set with empty or unset service",
            );
          return {};
        }
        function c(e) {
          if (
            !("maxAttempts" in e) ||
            !Number.isInteger(e.maxAttempts) ||
            e.maxAttempts < 2
          )
            throw Error(
              "Invalid method config retry policy: maxAttempts must be an integer at least 2",
            );
          if (
            !("initialBackoff" in e) ||
            "string" != typeof e.initialBackoff ||
            !o.test(e.initialBackoff)
          )
            throw Error(
              "Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s",
            );
          if (
            !("maxBackoff" in e) ||
            "string" != typeof e.maxBackoff ||
            !o.test(e.maxBackoff)
          )
            throw Error(
              "Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s",
            );
          if (
            !("backoffMultiplier" in e) ||
            "number" != typeof e.backoffMultiplier ||
            e.backoffMultiplier <= 0
          )
            throw Error(
              "Invalid method config retry policy: backoffMultiplier must be a number greater than 0",
            );
          if (
            !(
              "retryableStatusCodes" in e &&
              Array.isArray(e.retryableStatusCodes)
            )
          )
            throw Error(
              "Invalid method config retry policy: retryableStatusCodes is required",
            );
          if (0 === e.retryableStatusCodes.length)
            throw Error(
              "Invalid method config retry policy: retryableStatusCodes must be non-empty",
            );
          for (let r of e.retryableStatusCodes)
            if ("number" == typeof r) {
              if (!Object.values(s.Status).includes(r))
                throw Error(
                  "Invalid method config retry policy: retryableStatusCodes value not in status code range",
                );
            } else if ("string" == typeof r) {
              if (!Object.values(s.Status).includes(r.toUpperCase()))
                throw Error(
                  "Invalid method config retry policy: retryableStatusCodes value not a status code name",
                );
            } else
              throw Error(
                "Invalid method config retry policy: retryableStatusCodes value must be a string or number",
              );
          return {
            maxAttempts: e.maxAttempts,
            initialBackoff: e.initialBackoff,
            maxBackoff: e.maxBackoff,
            backoffMultiplier: e.backoffMultiplier,
            retryableStatusCodes: e.retryableStatusCodes,
          };
        }
        function d(e) {
          if (
            !("maxAttempts" in e) ||
            !Number.isInteger(e.maxAttempts) ||
            e.maxAttempts < 2
          )
            throw Error(
              "Invalid method config hedging policy: maxAttempts must be an integer at least 2",
            );
          if (
            "hedgingDelay" in e &&
            ("string" != typeof e.hedgingDelay || !o.test(e.hedgingDelay))
          )
            throw Error(
              "Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s",
            );
          if (
            "nonFatalStatusCodes" in e &&
            Array.isArray(e.nonFatalStatusCodes)
          )
            for (let r of e.nonFatalStatusCodes)
              if ("number" == typeof r) {
                if (!Object.values(s.Status).includes(r))
                  throw Error(
                    "Invlid method config hedging policy: nonFatalStatusCodes value not in status code range",
                  );
              } else if ("string" == typeof r) {
                if (!Object.values(s.Status).includes(r.toUpperCase()))
                  throw Error(
                    "Invlid method config hedging policy: nonFatalStatusCodes value not a status code name",
                  );
              } else
                throw Error(
                  "Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number",
                );
          let r = { maxAttempts: e.maxAttempts };
          return (
            e.hedgingDelay && (r.hedgingDelay = e.hedgingDelay),
            e.nonFatalStatusCodes &&
              (r.nonFatalStatusCodes = e.nonFatalStatusCodes),
            r
          );
        }
        function h(e) {
          var r;
          let n = { name: [] };
          if (!("name" in e) || !Array.isArray(e.name))
            throw Error("Invalid method config: invalid name array");
          for (let r of e.name) n.name.push(u(r));
          if ("waitForReady" in e) {
            if ("boolean" != typeof e.waitForReady)
              throw Error("Invalid method config: invalid waitForReady");
            n.waitForReady = e.waitForReady;
          }
          if ("timeout" in e) {
            if ("object" == typeof e.timeout) {
              if (
                !("seconds" in e.timeout) ||
                "number" != typeof e.timeout.seconds
              )
                throw Error("Invalid method config: invalid timeout.seconds");
              if (!("nanos" in e.timeout) || "number" != typeof e.timeout.nanos)
                throw Error("Invalid method config: invalid timeout.nanos");
              n.timeout = e.timeout;
            } else if ("string" == typeof e.timeout && o.test(e.timeout)) {
              let i = e.timeout.substring(0, e.timeout.length - 1).split(".");
              n.timeout = {
                seconds: 0 | i[0],
                nanos: (null !== (r = i[1]) && void 0 !== r ? r : 0) | 0,
              };
            } else throw Error("Invalid method config: invalid timeout");
          }
          if ("maxRequestBytes" in e) {
            if ("number" != typeof e.maxRequestBytes)
              throw Error("Invalid method config: invalid maxRequestBytes");
            n.maxRequestBytes = e.maxRequestBytes;
          }
          if ("maxResponseBytes" in e) {
            if ("number" != typeof e.maxResponseBytes)
              throw Error("Invalid method config: invalid maxRequestBytes");
            n.maxResponseBytes = e.maxResponseBytes;
          }
          if ("retryPolicy" in e) {
            if ("hedgingPolicy" in e)
              throw Error(
                "Invalid method config: retryPolicy and hedgingPolicy cannot both be specified",
              );
            n.retryPolicy = c(e.retryPolicy);
          } else "hedgingPolicy" in e && (n.hedgingPolicy = d(e.hedgingPolicy));
          return n;
        }
        function f(e) {
          if (
            !("maxTokens" in e) ||
            "number" != typeof e.maxTokens ||
            e.maxTokens <= 0 ||
            e.maxTokens > 1e3
          )
            throw Error(
              "Invalid retryThrottling: maxTokens must be a number in (0, 1000]",
            );
          if (
            !("tokenRatio" in e) ||
            "number" != typeof e.tokenRatio ||
            e.tokenRatio <= 0
          )
            throw Error(
              "Invalid retryThrottling: tokenRatio must be a number greater than 0",
            );
          return {
            maxTokens: +e.maxTokens.toFixed(3),
            tokenRatio: +e.tokenRatio.toFixed(3),
          };
        }
        function p(e) {
          let r = { loadBalancingConfig: [], methodConfig: [] };
          if ("loadBalancingPolicy" in e) {
            if ("string" == typeof e.loadBalancingPolicy)
              r.loadBalancingPolicy = e.loadBalancingPolicy;
            else
              throw Error(
                "Invalid service config: invalid loadBalancingPolicy",
              );
          }
          if ("loadBalancingConfig" in e) {
            if (Array.isArray(e.loadBalancingConfig))
              for (let n of e.loadBalancingConfig)
                r.loadBalancingConfig.push(
                  (0, a.validateLoadBalancingConfig)(n),
                );
            else
              throw Error(
                "Invalid service config: invalid loadBalancingConfig",
              );
          }
          if ("methodConfig" in e && Array.isArray(e.methodConfig))
            for (let n of e.methodConfig) r.methodConfig.push(h(n));
          "retryThrottling" in e && (r.retryThrottling = f(e.retryThrottling));
          let n = [];
          for (let e of r.methodConfig)
            for (let r of e.name) {
              for (let e of n)
                if (r.service === e.service && r.method === e.method)
                  throw Error(
                    `Invalid service config: duplicate name ${r.service}/${r.method}`,
                  );
              n.push(r);
            }
          return r;
        }
        function g(e) {
          if (!("serviceConfig" in e))
            throw Error(
              "Invalid service config choice: missing service config",
            );
          let r = { serviceConfig: p(e.serviceConfig) };
          if ("clientLanguage" in e) {
            if (Array.isArray(e.clientLanguage))
              for (let n of ((r.clientLanguage = []), e.clientLanguage))
                if ("string" == typeof n) r.clientLanguage.push(n);
                else
                  throw Error(
                    "Invalid service config choice: invalid clientLanguage",
                  );
            else
              throw Error(
                "Invalid service config choice: invalid clientLanguage",
              );
          }
          if ("clientHostname" in e) {
            if (Array.isArray(e.clientHostname))
              for (let n of ((r.clientHostname = []), e.clientHostname))
                if ("string" == typeof n) r.clientHostname.push(n);
                else
                  throw Error(
                    "Invalid service config choice: invalid clientHostname",
                  );
            else
              throw Error(
                "Invalid service config choice: invalid clientHostname",
              );
          }
          if ("percentage" in e) {
            if (
              "number" == typeof e.percentage &&
              0 <= e.percentage &&
              e.percentage <= 100
            )
              r.percentage = e.percentage;
            else
              throw Error("Invalid service config choice: invalid percentage");
          }
          let n = [
            "clientLanguage",
            "percentage",
            "clientHostname",
            "serviceConfig",
          ];
          for (let r in e)
            if (!n.includes(r))
              throw Error(
                `Invalid service config choice: unexpected field ${r}`,
              );
          return r;
        }
        function m(e, r) {
          if (!Array.isArray(e)) throw Error("Invalid service config list");
          for (let n of e) {
            let e = g(n);
            if ("number" != typeof e.percentage || !(r > e.percentage)) {
              if (Array.isArray(e.clientHostname)) {
                let r = !1;
                for (let n of e.clientHostname) n === i.hostname() && (r = !0);
                if (!r) continue;
              }
              if (Array.isArray(e.clientLanguage)) {
                let r = !1;
                for (let n of e.clientLanguage) n === l && (r = !0);
                if (!r) continue;
              }
              return e.serviceConfig;
            }
          }
          throw Error("No matching service config found");
        }
        function y(e, r) {
          for (let n of e)
            if (n.length > 0 && n[0].startsWith("grpc_config="))
              return m(JSON.parse(n.join("").substring(12)), r);
          return null;
        }
        (r.validateRetryThrottling = f),
          (r.validateServiceConfig = p),
          (r.extractAndSelectServiceConfig = y);
      },
      45984: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.StatusBuilder = void 0);
        class n {
          constructor() {
            (this.code = null), (this.details = null), (this.metadata = null);
          }
          withCode(e) {
            return (this.code = e), this;
          }
          withDetails(e) {
            return (this.details = e), this;
          }
          withMetadata(e) {
            return (this.metadata = e), this;
          }
          build() {
            let e = {};
            return (
              null !== this.code && (e.code = this.code),
              null !== this.details && (e.details = this.details),
              null !== this.metadata && (e.metadata = this.metadata),
              e
            );
          }
        }
        r.StatusBuilder = n;
      },
      10753: (e, r) => {
        "use strict";
        var n;
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.StreamDecoder = void 0),
          (function (e) {
            (e[(e.NO_DATA = 0)] = "NO_DATA"),
              (e[(e.READING_SIZE = 1)] = "READING_SIZE"),
              (e[(e.READING_MESSAGE = 2)] = "READING_MESSAGE");
          })(n || (n = {}));
        class i {
          constructor(e) {
            (this.maxReadMessageLength = e),
              (this.readState = n.NO_DATA),
              (this.readCompressFlag = Buffer.alloc(1)),
              (this.readPartialSize = Buffer.alloc(4)),
              (this.readSizeRemaining = 4),
              (this.readMessageSize = 0),
              (this.readPartialMessage = []),
              (this.readMessageRemaining = 0);
          }
          write(e) {
            let r,
              i = 0,
              s = [];
            for (; i < e.length; )
              switch (this.readState) {
                case n.NO_DATA:
                  (this.readCompressFlag = e.slice(i, i + 1)),
                    (i += 1),
                    (this.readState = n.READING_SIZE),
                    this.readPartialSize.fill(0),
                    (this.readSizeRemaining = 4),
                    (this.readMessageSize = 0),
                    (this.readMessageRemaining = 0),
                    (this.readPartialMessage = []);
                  break;
                case n.READING_SIZE:
                  if (
                    ((r = Math.min(e.length - i, this.readSizeRemaining)),
                    e.copy(
                      this.readPartialSize,
                      4 - this.readSizeRemaining,
                      i,
                      i + r,
                    ),
                    (this.readSizeRemaining -= r),
                    (i += r),
                    0 === this.readSizeRemaining)
                  ) {
                    if (
                      ((this.readMessageSize =
                        this.readPartialSize.readUInt32BE(0)),
                      -1 !== this.maxReadMessageLength &&
                        this.readMessageSize > this.maxReadMessageLength)
                    )
                      throw Error(
                        `Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`,
                      );
                    if (
                      ((this.readMessageRemaining = this.readMessageSize),
                      this.readMessageRemaining > 0)
                    )
                      this.readState = n.READING_MESSAGE;
                    else {
                      let e = Buffer.concat(
                        [this.readCompressFlag, this.readPartialSize],
                        5,
                      );
                      (this.readState = n.NO_DATA), s.push(e);
                    }
                  }
                  break;
                case n.READING_MESSAGE:
                  if (
                    ((r = Math.min(e.length - i, this.readMessageRemaining)),
                    this.readPartialMessage.push(e.slice(i, i + r)),
                    (this.readMessageRemaining -= r),
                    (i += r),
                    0 === this.readMessageRemaining)
                  ) {
                    let e = [
                        this.readCompressFlag,
                        this.readPartialSize,
                      ].concat(this.readPartialMessage),
                      r = Buffer.concat(e, this.readMessageSize + 5);
                    (this.readState = n.NO_DATA), s.push(r);
                  }
                  break;
                default:
                  throw Error("Unexpected read state");
              }
            return s;
          }
        }
        r.StreamDecoder = i;
      },
      45648: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.stringToSubchannelAddress =
            r.subchannelAddressToString =
            r.subchannelAddressEqual =
            r.isTcpSubchannelAddress =
              void 0);
        let i = n(91645);
        function s(e) {
          return "port" in e;
        }
        function a(e, r) {
          return (
            (!e && !r) ||
            (!!e &&
              !!r &&
              (s(e)
                ? s(r) && e.host === r.host && e.port === r.port
                : !s(r) && e.path === r.path))
          );
        }
        function o(e) {
          return s(e) ? e.host + ":" + e.port : e.path;
        }
        (r.isTcpSubchannelAddress = s),
          (r.subchannelAddressEqual = a),
          (r.subchannelAddressToString = o);
        let l = 443;
        function u(e, r) {
          return (0, i.isIP)(e)
            ? { host: e, port: null != r ? r : l }
            : { path: e };
        }
        r.stringToSubchannelAddress = u;
      },
      90294: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Http2SubchannelCall = void 0);
        let i = n(73496),
          s = n(21820),
          a = n(2403),
          o = n(96045),
          l = n(10753),
          u = n(47427),
          c = n(2403),
          d = "subchannel_call";
        function h(e) {
          for (let [r, n] of Object.entries(s.constants.errno))
            if (n === e) return r;
          return "Unknown system error " + e;
        }
        class f {
          constructor(e, r, n, s, u) {
            var c;
            (this.http2Stream = e),
              (this.callEventTracker = r),
              (this.listener = n),
              (this.transport = s),
              (this.callId = u),
              (this.isReadFilterPending = !1),
              (this.isPushPending = !1),
              (this.canPush = !1),
              (this.readsClosed = !1),
              (this.statusOutput = !1),
              (this.unpushedReadMessages = []),
              (this.mappedStatusCode = a.Status.UNKNOWN),
              (this.finalStatus = null),
              (this.internalError = null);
            let d =
              null !==
                (c = s.getOptions()["grpc.max_receive_message_length"]) &&
              void 0 !== c
                ? c
                : a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;
            (this.decoder = new l.StreamDecoder(d)),
              e.on("response", (e, r) => {
                let n = "";
                for (let r of Object.keys(e)) n += "		" + r + ": " + e[r] + "\n";
                switch (
                  (this.trace("Received server headers:\n" + n), e[":status"])
                ) {
                  case 400:
                    this.mappedStatusCode = a.Status.INTERNAL;
                    break;
                  case 401:
                    this.mappedStatusCode = a.Status.UNAUTHENTICATED;
                    break;
                  case 403:
                    this.mappedStatusCode = a.Status.PERMISSION_DENIED;
                    break;
                  case 404:
                    this.mappedStatusCode = a.Status.UNIMPLEMENTED;
                    break;
                  case 429:
                  case 502:
                  case 503:
                  case 504:
                    this.mappedStatusCode = a.Status.UNAVAILABLE;
                    break;
                  default:
                    this.mappedStatusCode = a.Status.UNKNOWN;
                }
                if (r & i.constants.NGHTTP2_FLAG_END_STREAM)
                  this.handleTrailers(e);
                else {
                  let r;
                  try {
                    r = o.Metadata.fromHttp2Headers(e);
                  } catch (e) {
                    this.endCall({
                      code: a.Status.UNKNOWN,
                      details: e.message,
                      metadata: new o.Metadata(),
                    });
                    return;
                  }
                  this.listener.onReceiveMetadata(r);
                }
              }),
              e.on("trailers", (e) => {
                this.handleTrailers(e);
              }),
              e.on("data", (e) => {
                let r;
                if (!this.statusOutput) {
                  this.trace("receive HTTP/2 data frame of length " + e.length);
                  try {
                    r = this.decoder.write(e);
                  } catch (e) {
                    this.cancelWithStatus(
                      a.Status.RESOURCE_EXHAUSTED,
                      e.message,
                    );
                    return;
                  }
                  for (let e of r)
                    this.trace("parsed message of length " + e.length),
                      this.callEventTracker.addMessageReceived(),
                      this.tryPush(e);
                }
              }),
              e.on("end", () => {
                (this.readsClosed = !0), this.maybeOutputStatus();
              }),
              e.on("close", () => {
                process.nextTick(() => {
                  var r;
                  let n;
                  if (
                    (this.trace("HTTP/2 stream closed with code " + e.rstCode),
                    (null === (r = this.finalStatus) || void 0 === r
                      ? void 0
                      : r.code) === a.Status.OK)
                  )
                    return;
                  let s = "";
                  switch (e.rstCode) {
                    case i.constants.NGHTTP2_NO_ERROR:
                      if (null !== this.finalStatus) return;
                      (n = a.Status.INTERNAL),
                        (s = `Received RST_STREAM with code ${e.rstCode}`);
                      break;
                    case i.constants.NGHTTP2_REFUSED_STREAM:
                      (n = a.Status.UNAVAILABLE),
                        (s = "Stream refused by server");
                      break;
                    case i.constants.NGHTTP2_CANCEL:
                      (n = a.Status.CANCELLED), (s = "Call cancelled");
                      break;
                    case i.constants.NGHTTP2_ENHANCE_YOUR_CALM:
                      (n = a.Status.RESOURCE_EXHAUSTED),
                        (s = "Bandwidth exhausted or memory limit exceeded");
                      break;
                    case i.constants.NGHTTP2_INADEQUATE_SECURITY:
                      (n = a.Status.PERMISSION_DENIED),
                        (s = "Protocol not secure enough");
                      break;
                    case i.constants.NGHTTP2_INTERNAL_ERROR:
                      (n = a.Status.INTERNAL),
                        null === this.internalError
                          ? (s = `Received RST_STREAM with code ${e.rstCode} (Internal server error)`)
                          : "ECONNRESET" === this.internalError.code ||
                              "ETIMEDOUT" === this.internalError.code
                            ? ((n = a.Status.UNAVAILABLE),
                              (s = this.internalError.message))
                            : (s = `Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`);
                      break;
                    default:
                      (n = a.Status.INTERNAL),
                        (s = `Received RST_STREAM with code ${e.rstCode}`);
                  }
                  this.endCall({
                    code: n,
                    details: s,
                    metadata: new o.Metadata(),
                    rstCode: e.rstCode,
                  });
                });
              }),
              e.on("error", (e) => {
                "ERR_HTTP2_STREAM_ERROR" !== e.code &&
                  (this.trace(
                    "Node error event: message=" +
                      e.message +
                      " code=" +
                      e.code +
                      " errno=" +
                      h(e.errno) +
                      " syscall=" +
                      e.syscall,
                  ),
                  (this.internalError = e)),
                  this.callEventTracker.onStreamEnd(!1);
              });
          }
          onDisconnect() {
            this.endCall({
              code: a.Status.UNAVAILABLE,
              details: "Connection dropped",
              metadata: new o.Metadata(),
            });
          }
          outputStatus() {
            this.statusOutput ||
              ((this.statusOutput = !0),
              this.trace(
                "ended with status: code=" +
                  this.finalStatus.code +
                  ' details="' +
                  this.finalStatus.details +
                  '"',
              ),
              this.callEventTracker.onCallEnd(this.finalStatus),
              process.nextTick(() => {
                this.listener.onReceiveStatus(this.finalStatus);
              }),
              this.http2Stream.resume());
          }
          trace(e) {
            u.trace(c.LogVerbosity.DEBUG, d, "[" + this.callId + "] " + e);
          }
          endCall(e) {
            (null === this.finalStatus ||
              this.finalStatus.code === a.Status.OK) &&
              ((this.finalStatus = e), this.maybeOutputStatus()),
              this.destroyHttp2Stream();
          }
          maybeOutputStatus() {
            null === this.finalStatus ||
              (this.finalStatus.code === a.Status.OK &&
                (!this.readsClosed ||
                  0 !== this.unpushedReadMessages.length ||
                  this.isReadFilterPending ||
                  this.isPushPending)) ||
              this.outputStatus();
          }
          push(e) {
            this.trace(
              "pushing to reader message of length " +
                (e instanceof Buffer ? e.length : null),
            ),
              (this.canPush = !1),
              (this.isPushPending = !0),
              process.nextTick(() => {
                (this.isPushPending = !1),
                  this.statusOutput ||
                    (this.listener.onReceiveMessage(e),
                    this.maybeOutputStatus());
              });
          }
          tryPush(e) {
            this.canPush
              ? (this.http2Stream.pause(), this.push(e))
              : (this.trace(
                  "unpushedReadMessages.push message of length " + e.length,
                ),
                this.unpushedReadMessages.push(e));
          }
          handleTrailers(e) {
            let r;
            this.callEventTracker.onStreamEnd(!0);
            let n = "";
            for (let r of Object.keys(e)) n += "		" + r + ": " + e[r] + "\n";
            this.trace("Received server trailers:\n" + n);
            try {
              r = o.Metadata.fromHttp2Headers(e);
            } catch (e) {
              r = new o.Metadata();
            }
            let i = r.getMap(),
              s = this.mappedStatusCode;
            if (s === a.Status.UNKNOWN && "string" == typeof i["grpc-status"]) {
              let e = Number(i["grpc-status"]);
              e in a.Status &&
                ((s = e),
                this.trace("received status code " + e + " from server")),
                r.remove("grpc-status");
            }
            let l = "";
            if ("string" == typeof i["grpc-message"]) {
              try {
                l = decodeURI(i["grpc-message"]);
              } catch (e) {
                l = i["grpc-message"];
              }
              r.remove("grpc-message"),
                this.trace(
                  'received status details string "' + l + '" from server',
                );
            }
            let u = { code: s, details: l, metadata: r };
            this.endCall(u);
          }
          destroyHttp2Stream() {
            var e;
            if (!this.http2Stream.destroyed) {
              let r;
              (r =
                (null === (e = this.finalStatus) || void 0 === e
                  ? void 0
                  : e.code) === a.Status.OK
                  ? i.constants.NGHTTP2_NO_ERROR
                  : i.constants.NGHTTP2_CANCEL),
                this.trace("close http2 stream with code " + r),
                this.http2Stream.close(r);
            }
          }
          cancelWithStatus(e, r) {
            this.trace("cancelWithStatus code: " + e + ' details: "' + r + '"'),
              this.endCall({ code: e, details: r, metadata: new o.Metadata() });
          }
          getStatus() {
            return this.finalStatus;
          }
          getPeer() {
            return this.transport.getPeerName();
          }
          getCallNumber() {
            return this.callId;
          }
          startRead() {
            if (
              null !== this.finalStatus &&
              this.finalStatus.code !== a.Status.OK
            ) {
              (this.readsClosed = !0), this.maybeOutputStatus();
              return;
            }
            if (((this.canPush = !0), this.unpushedReadMessages.length > 0)) {
              let e = this.unpushedReadMessages.shift();
              this.push(e);
              return;
            }
            this.http2Stream.resume();
          }
          sendMessageWithContext(e, r) {
            this.trace("write() called with message of length " + r.length);
            let n = (r) => {
              process.nextTick(() => {
                var n;
                let i = a.Status.UNAVAILABLE;
                (null == r ? void 0 : r.code) ===
                  "ERR_STREAM_WRITE_AFTER_END" && (i = a.Status.INTERNAL),
                  r && this.cancelWithStatus(i, `Write error: ${r.message}`),
                  null === (n = e.callback) || void 0 === n || n.call(e);
              });
            };
            this.trace("sending data chunk of length " + r.length),
              this.callEventTracker.addMessageSent();
            try {
              this.http2Stream.write(r, n);
            } catch (e) {
              this.endCall({
                code: a.Status.UNAVAILABLE,
                details: `Write failed with error ${e.message}`,
                metadata: new o.Metadata(),
              });
            }
          }
          halfClose() {
            this.trace("end() called"),
              this.trace("calling end() on HTTP/2 stream"),
              this.http2Stream.end();
          }
        }
        r.Http2SubchannelCall = f;
      },
      68963: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.BaseSubchannelWrapper = void 0);
        class n {
          constructor(e) {
            this.child = e;
          }
          getConnectivityState() {
            return this.child.getConnectivityState();
          }
          addConnectivityStateListener(e) {
            this.child.addConnectivityStateListener(e);
          }
          removeConnectivityStateListener(e) {
            this.child.removeConnectivityStateListener(e);
          }
          startConnecting() {
            this.child.startConnecting();
          }
          getAddress() {
            return this.child.getAddress();
          }
          throttleKeepalive(e) {
            this.child.throttleKeepalive(e);
          }
          ref() {
            this.child.ref();
          }
          unref() {
            this.child.unref();
          }
          getChannelzRef() {
            return this.child.getChannelzRef();
          }
          getRealSubchannel() {
            return this.child.getRealSubchannel();
          }
          realSubchannelEquals(e) {
            return this.getRealSubchannel() === e.getRealSubchannel();
          }
        }
        r.BaseSubchannelWrapper = n;
      },
      42312: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.getSubchannelPool = r.SubchannelPool = void 0);
        let i = n(93782),
          s = n(50565),
          a = n(45648),
          o = n(64230),
          l = n(71727),
          u = 1e4;
        class c {
          constructor() {
            (this.pool = Object.create(null)), (this.cleanupTimer = null);
          }
          unrefUnusedSubchannels() {
            let e = !0;
            for (let r in this.pool) {
              let n = this.pool[r].filter((e) => !e.subchannel.unrefIfOneRef());
              n.length > 0 && (e = !1), (this.pool[r] = n);
            }
            e &&
              null !== this.cleanupTimer &&
              (clearInterval(this.cleanupTimer), (this.cleanupTimer = null));
          }
          ensureCleanupTask() {
            var e, r;
            null === this.cleanupTimer &&
              ((this.cleanupTimer = setInterval(() => {
                this.unrefUnusedSubchannels();
              }, u)),
              null === (r = (e = this.cleanupTimer).unref) ||
                void 0 === r ||
                r.call(e));
          }
          getOrCreateSubchannel(e, r, n, u) {
            this.ensureCleanupTask();
            let c = (0, o.uriToString)(e);
            if (c in this.pool) {
              for (let e of this.pool[c])
                if (
                  (0, a.subchannelAddressEqual)(r, e.subchannelAddress) &&
                  (0, i.channelOptionsEqual)(n, e.channelArguments) &&
                  u._equals(e.channelCredentials)
                )
                  return e.subchannel;
            }
            let d = new s.Subchannel(
              e,
              r,
              n,
              u,
              new l.Http2SubchannelConnector(e),
            );
            return (
              c in this.pool || (this.pool[c] = []),
              this.pool[c].push({
                subchannelAddress: r,
                channelArguments: n,
                channelCredentials: u,
                subchannel: d,
              }),
              d.ref(),
              d
            );
          }
        }
        r.SubchannelPool = c;
        let d = new c();
        function h(e) {
          return e ? d : new c();
        }
        r.getSubchannelPool = h;
      },
      50565: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Subchannel = void 0);
        let i = n(40655),
          s = n(32064),
          a = n(47427),
          o = n(2403),
          l = n(64230),
          u = n(45648),
          c = n(35127),
          d = "subchannel",
          h = 0x7fffffff;
        class f {
          constructor(e, r, n, a, o) {
            var l;
            (this.channelTarget = e),
              (this.subchannelAddress = r),
              (this.options = n),
              (this.credentials = a),
              (this.connector = o),
              (this.connectivityState = i.ConnectivityState.IDLE),
              (this.transport = null),
              (this.continueConnecting = !1),
              (this.stateListeners = new Set()),
              (this.refcount = 0),
              (this.channelzEnabled = !0),
              (this.callTracker = new c.ChannelzCallTracker()),
              (this.childrenTracker = new c.ChannelzChildrenTracker()),
              (this.streamTracker = new c.ChannelzCallTracker());
            let d = {
              initialDelay: n["grpc.initial_reconnect_backoff_ms"],
              maxDelay: n["grpc.max_reconnect_backoff_ms"],
            };
            (this.backoffTimeout = new s.BackoffTimeout(() => {
              this.handleBackoffTimer();
            }, d)),
              this.backoffTimeout.unref(),
              (this.subchannelAddressString = (0, u.subchannelAddressToString)(
                r,
              )),
              (this.keepaliveTime =
                null !== (l = n["grpc.keepalive_time_ms"]) && void 0 !== l
                  ? l
                  : -1),
              0 === n["grpc.enable_channelz"] && (this.channelzEnabled = !1),
              (this.channelzTrace = new c.ChannelzTrace()),
              (this.channelzRef = (0, c.registerChannelzSubchannel)(
                this.subchannelAddressString,
                () => this.getChannelzInfo(),
                this.channelzEnabled,
              )),
              this.channelzEnabled &&
                this.channelzTrace.addTrace("CT_INFO", "Subchannel created"),
              this.trace(
                "Subchannel constructed with options " +
                  JSON.stringify(n, void 0, 2),
              );
          }
          getChannelzInfo() {
            return {
              state: this.connectivityState,
              trace: this.channelzTrace,
              callTracker: this.callTracker,
              children: this.childrenTracker.getChildLists(),
              target: this.subchannelAddressString,
            };
          }
          trace(e) {
            a.trace(
              o.LogVerbosity.DEBUG,
              d,
              "(" +
                this.channelzRef.id +
                ") " +
                this.subchannelAddressString +
                " " +
                e,
            );
          }
          refTrace(e) {
            a.trace(
              o.LogVerbosity.DEBUG,
              "subchannel_refcount",
              "(" +
                this.channelzRef.id +
                ") " +
                this.subchannelAddressString +
                " " +
                e,
            );
          }
          handleBackoffTimer() {
            this.continueConnecting
              ? this.transitionToState(
                  [i.ConnectivityState.TRANSIENT_FAILURE],
                  i.ConnectivityState.CONNECTING,
                )
              : this.transitionToState(
                  [i.ConnectivityState.TRANSIENT_FAILURE],
                  i.ConnectivityState.IDLE,
                );
          }
          startBackoff() {
            this.backoffTimeout.runOnce();
          }
          stopBackoff() {
            this.backoffTimeout.stop(), this.backoffTimeout.reset();
          }
          startConnectingInternal() {
            let e = this.options;
            if (e["grpc.keepalive_time_ms"]) {
              let r = Math.min(this.keepaliveTime, h);
              e = Object.assign(Object.assign({}, e), {
                "grpc.keepalive_time_ms": r,
              });
            }
            this.connector
              .connect(this.subchannelAddress, this.credentials, e)
              .then(
                (e) => {
                  this.transitionToState(
                    [i.ConnectivityState.CONNECTING],
                    i.ConnectivityState.READY,
                  )
                    ? ((this.transport = e),
                      this.channelzEnabled &&
                        this.childrenTracker.refChild(e.getChannelzRef()),
                      e.addDisconnectListener((e) => {
                        this.transitionToState(
                          [i.ConnectivityState.READY],
                          i.ConnectivityState.IDLE,
                        ),
                          e &&
                            this.keepaliveTime > 0 &&
                            ((this.keepaliveTime *= 2),
                            a.log(
                              o.LogVerbosity.ERROR,
                              `Connection to ${(0, l.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`,
                            ));
                      }))
                    : e.shutdown();
                },
                (e) => {
                  this.transitionToState(
                    [i.ConnectivityState.CONNECTING],
                    i.ConnectivityState.TRANSIENT_FAILURE,
                    `${e}`,
                  );
                },
              );
          }
          transitionToState(e, r, n) {
            var s, a;
            if (-1 === e.indexOf(this.connectivityState)) return !1;
            this.trace(
              i.ConnectivityState[this.connectivityState] +
                " -> " +
                i.ConnectivityState[r],
            ),
              this.channelzEnabled &&
                this.channelzTrace.addTrace(
                  "CT_INFO",
                  "Connectivity state change to " + i.ConnectivityState[r],
                );
            let o = this.connectivityState;
            switch (((this.connectivityState = r), r)) {
              case i.ConnectivityState.READY:
                this.stopBackoff();
                break;
              case i.ConnectivityState.CONNECTING:
                this.startBackoff(),
                  this.startConnectingInternal(),
                  (this.continueConnecting = !1);
                break;
              case i.ConnectivityState.TRANSIENT_FAILURE:
                this.channelzEnabled &&
                  this.transport &&
                  this.childrenTracker.unrefChild(
                    this.transport.getChannelzRef(),
                  ),
                  null === (s = this.transport) || void 0 === s || s.shutdown(),
                  (this.transport = null),
                  this.backoffTimeout.isRunning() ||
                    process.nextTick(() => {
                      this.handleBackoffTimer();
                    });
                break;
              case i.ConnectivityState.IDLE:
                this.channelzEnabled &&
                  this.transport &&
                  this.childrenTracker.unrefChild(
                    this.transport.getChannelzRef(),
                  ),
                  null === (a = this.transport) || void 0 === a || a.shutdown(),
                  (this.transport = null);
                break;
              default:
                throw Error(`Invalid state: unknown ConnectivityState ${r}`);
            }
            for (let e of this.stateListeners)
              e(this, o, r, this.keepaliveTime, n);
            return !0;
          }
          ref() {
            this.refTrace(
              "refcount " + this.refcount + " -> " + (this.refcount + 1),
            ),
              (this.refcount += 1);
          }
          unref() {
            this.refTrace(
              "refcount " + this.refcount + " -> " + (this.refcount - 1),
            ),
              (this.refcount -= 1),
              0 === this.refcount &&
                (this.channelzEnabled &&
                  this.channelzTrace.addTrace("CT_INFO", "Shutting down"),
                this.channelzEnabled &&
                  (0, c.unregisterChannelzRef)(this.channelzRef),
                process.nextTick(() => {
                  this.transitionToState(
                    [i.ConnectivityState.CONNECTING, i.ConnectivityState.READY],
                    i.ConnectivityState.IDLE,
                  );
                }));
          }
          unrefIfOneRef() {
            return 1 === this.refcount && (this.unref(), !0);
          }
          createCall(e, r, n, i) {
            let s;
            if (!this.transport)
              throw Error("Cannot create call, subchannel not READY");
            return (
              this.channelzEnabled
                ? (this.callTracker.addCallStarted(),
                  this.streamTracker.addCallStarted(),
                  (s = {
                    onCallEnd: (e) => {
                      e.code === o.Status.OK
                        ? this.callTracker.addCallSucceeded()
                        : this.callTracker.addCallFailed();
                    },
                  }))
                : (s = {}),
              this.transport.createCall(e, r, n, i, s)
            );
          }
          startConnecting() {
            process.nextTick(() => {
              this.transitionToState(
                [i.ConnectivityState.IDLE],
                i.ConnectivityState.CONNECTING,
              ) ||
                this.connectivityState !==
                  i.ConnectivityState.TRANSIENT_FAILURE ||
                (this.continueConnecting = !0);
            });
          }
          getConnectivityState() {
            return this.connectivityState;
          }
          addConnectivityStateListener(e) {
            this.stateListeners.add(e);
          }
          removeConnectivityStateListener(e) {
            this.stateListeners.delete(e);
          }
          resetBackoff() {
            process.nextTick(() => {
              this.backoffTimeout.reset(),
                this.transitionToState(
                  [i.ConnectivityState.TRANSIENT_FAILURE],
                  i.ConnectivityState.CONNECTING,
                );
            });
          }
          getAddress() {
            return this.subchannelAddressString;
          }
          getChannelzRef() {
            return this.channelzRef;
          }
          getRealSubchannel() {
            return this;
          }
          realSubchannelEquals(e) {
            return e.getRealSubchannel() === this;
          }
          throttleKeepalive(e) {
            e > this.keepaliveTime && (this.keepaliveTime = e);
          }
        }
        r.Subchannel = f;
      },
      26207: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.getDefaultRootsData = r.CIPHER_SUITES = void 0);
        let i = n(29021);
        r.CIPHER_SUITES = process.env.GRPC_SSL_CIPHER_SUITES;
        let s = process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,
          a = null;
        function o() {
          return s ? (null === a && (a = i.readFileSync(s)), a) : null;
        }
        r.getDefaultRootsData = o;
      },
      71727: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.Http2SubchannelConnector = void 0);
        let i = n(73496),
          s = n(34631),
          a = n(35127),
          o = n(2403),
          l = n(83547),
          u = n(47427),
          c = n(36078),
          d = n(45648),
          h = n(64230),
          f = n(91645),
          p = n(90294),
          g = n(75032),
          m = "transport",
          y = "transport_flowctrl",
          v = n(86243).rE,
          {
            HTTP2_HEADER_AUTHORITY: b,
            HTTP2_HEADER_CONTENT_TYPE: w,
            HTTP2_HEADER_METHOD: T,
            HTTP2_HEADER_PATH: S,
            HTTP2_HEADER_TE: E,
            HTTP2_HEADER_USER_AGENT: C,
          } = i.constants,
          x = 2e4,
          A = Buffer.from("too_many_pings", "ascii");
        class I {
          constructor(e, r, n, s) {
            (this.session = e),
              (this.options = n),
              (this.remoteName = s),
              (this.keepaliveTimeMs = -1),
              (this.keepaliveTimeoutMs = x),
              (this.keepaliveTimerId = null),
              (this.pendingSendKeepalivePing = !1),
              (this.keepaliveTimeoutId = null),
              (this.keepaliveWithoutCalls = !1),
              (this.activeCalls = new Set()),
              (this.disconnectListeners = []),
              (this.disconnectHandled = !1),
              (this.channelzEnabled = !0),
              (this.streamTracker = new a.ChannelzCallTracker()),
              (this.keepalivesSent = 0),
              (this.messagesSent = 0),
              (this.messagesReceived = 0),
              (this.lastMessageSentTimestamp = null),
              (this.lastMessageReceivedTimestamp = null),
              (this.subchannelAddressString = (0, d.subchannelAddressToString)(
                r,
              )),
              0 === n["grpc.enable_channelz"] && (this.channelzEnabled = !1),
              (this.channelzRef = (0, a.registerChannelzSocket)(
                this.subchannelAddressString,
                () => this.getChannelzInfo(),
                this.channelzEnabled,
              )),
              (this.userAgent = [
                n["grpc.primary_user_agent"],
                `grpc-node-js/${v}`,
                n["grpc.secondary_user_agent"],
              ]
                .filter((e) => e)
                .join(" ")),
              "grpc.keepalive_time_ms" in n &&
                (this.keepaliveTimeMs = n["grpc.keepalive_time_ms"]),
              "grpc.keepalive_timeout_ms" in n &&
                (this.keepaliveTimeoutMs = n["grpc.keepalive_timeout_ms"]),
              "grpc.keepalive_permit_without_calls" in n
                ? (this.keepaliveWithoutCalls =
                    1 === n["grpc.keepalive_permit_without_calls"])
                : (this.keepaliveWithoutCalls = !1),
              e.once("close", () => {
                this.trace("session closed"),
                  this.stopKeepalivePings(),
                  this.handleDisconnect();
              }),
              e.once("goaway", (e, r, n) => {
                let s = !1;
                e === i.constants.NGHTTP2_ENHANCE_YOUR_CALM &&
                  n &&
                  n.equals(A) &&
                  (s = !0),
                  this.trace(
                    "connection closed by GOAWAY with code " +
                      e +
                      " and data " +
                      (null == n ? void 0 : n.toString()),
                  ),
                  this.reportDisconnectToOwner(s);
              }),
              e.once("error", (e) => {
                this.trace("connection closed with error " + e.message);
              }),
              u.isTracerEnabled(m) &&
                (e.on("remoteSettings", (r) => {
                  this.trace(
                    "new settings received" +
                      (this.session !== e ? " on the old connection" : "") +
                      ": " +
                      JSON.stringify(r),
                  );
                }),
                e.on("localSettings", (r) => {
                  this.trace(
                    "local settings acknowledged by remote" +
                      (this.session !== e ? " on the old connection" : "") +
                      ": " +
                      JSON.stringify(r),
                  );
                })),
              this.keepaliveWithoutCalls && this.maybeStartKeepalivePingTimer();
          }
          getChannelzInfo() {
            var e, r, n;
            let i;
            let s = this.session.socket,
              a = s.remoteAddress
                ? (0, d.stringToSubchannelAddress)(
                    s.remoteAddress,
                    s.remotePort,
                  )
                : null,
              o = s.localAddress
                ? (0, d.stringToSubchannelAddress)(s.localAddress, s.localPort)
                : null;
            if (this.session.encrypted) {
              let r = s,
                n = r.getCipher(),
                a = r.getCertificate(),
                o = r.getPeerCertificate();
              i = {
                cipherSuiteStandardName:
                  null !== (e = n.standardName) && void 0 !== e ? e : null,
                cipherSuiteOtherName: n.standardName ? null : n.name,
                localCertificate: a && "raw" in a ? a.raw : null,
                remoteCertificate: o && "raw" in o ? o.raw : null,
              };
            } else i = null;
            return {
              remoteAddress: a,
              localAddress: o,
              security: i,
              remoteName: this.remoteName,
              streamsStarted: this.streamTracker.callsStarted,
              streamsSucceeded: this.streamTracker.callsSucceeded,
              streamsFailed: this.streamTracker.callsFailed,
              messagesSent: this.messagesSent,
              messagesReceived: this.messagesReceived,
              keepAlivesSent: this.keepalivesSent,
              lastLocalStreamCreatedTimestamp:
                this.streamTracker.lastCallStartedTimestamp,
              lastRemoteStreamCreatedTimestamp: null,
              lastMessageSentTimestamp: this.lastMessageSentTimestamp,
              lastMessageReceivedTimestamp: this.lastMessageReceivedTimestamp,
              localFlowControlWindow:
                null !== (r = this.session.state.localWindowSize) &&
                void 0 !== r
                  ? r
                  : null,
              remoteFlowControlWindow:
                null !== (n = this.session.state.remoteWindowSize) &&
                void 0 !== n
                  ? n
                  : null,
            };
          }
          trace(e) {
            u.trace(
              o.LogVerbosity.DEBUG,
              m,
              "(" +
                this.channelzRef.id +
                ") " +
                this.subchannelAddressString +
                " " +
                e,
            );
          }
          keepaliveTrace(e) {
            u.trace(
              o.LogVerbosity.DEBUG,
              "keepalive",
              "(" +
                this.channelzRef.id +
                ") " +
                this.subchannelAddressString +
                " " +
                e,
            );
          }
          flowControlTrace(e) {
            u.trace(
              o.LogVerbosity.DEBUG,
              y,
              "(" +
                this.channelzRef.id +
                ") " +
                this.subchannelAddressString +
                " " +
                e,
            );
          }
          internalsTrace(e) {
            u.trace(
              o.LogVerbosity.DEBUG,
              "transport_internals",
              "(" +
                this.channelzRef.id +
                ") " +
                this.subchannelAddressString +
                " " +
                e,
            );
          }
          reportDisconnectToOwner(e) {
            this.disconnectHandled ||
              ((this.disconnectHandled = !0),
              this.disconnectListeners.forEach((r) => r(e)));
          }
          handleDisconnect() {
            this.reportDisconnectToOwner(!1),
              setImmediate(() => {
                for (let e of this.activeCalls) e.onDisconnect();
              });
          }
          addDisconnectListener(e) {
            this.disconnectListeners.push(e);
          }
          clearKeepaliveTimer() {
            this.keepaliveTimerId &&
              (clearTimeout(this.keepaliveTimerId),
              (this.keepaliveTimerId = null));
          }
          clearKeepaliveTimeout() {
            this.keepaliveTimeoutId &&
              (clearTimeout(this.keepaliveTimeoutId),
              (this.keepaliveTimeoutId = null));
          }
          canSendPing() {
            return (
              this.keepaliveTimeMs > 0 &&
              (this.keepaliveWithoutCalls || this.activeCalls.size > 0)
            );
          }
          maybeSendPing() {
            var e, r;
            if ((this.clearKeepaliveTimer(), !this.canSendPing())) {
              this.pendingSendKeepalivePing = !0;
              return;
            }
            this.channelzEnabled && (this.keepalivesSent += 1),
              this.keepaliveTrace(
                "Sending ping with timeout " + this.keepaliveTimeoutMs + "ms",
              ),
              this.keepaliveTimeoutId ||
                ((this.keepaliveTimeoutId = setTimeout(() => {
                  this.keepaliveTrace("Ping timeout passed without response"),
                    this.handleDisconnect();
                }, this.keepaliveTimeoutMs)),
                null === (r = (e = this.keepaliveTimeoutId).unref) ||
                  void 0 === r ||
                  r.call(e));
            try {
              this.session.ping((e, r, n) => {
                e &&
                  (this.keepaliveTrace("Ping failed with error " + e.message),
                  this.handleDisconnect()),
                  this.keepaliveTrace("Received ping response"),
                  this.clearKeepaliveTimeout(),
                  this.maybeStartKeepalivePingTimer();
              });
            } catch (e) {
              this.handleDisconnect();
            }
          }
          maybeStartKeepalivePingTimer() {
            var e, r;
            this.canSendPing() &&
              (this.pendingSendKeepalivePing
                ? ((this.pendingSendKeepalivePing = !1), this.maybeSendPing())
                : this.keepaliveTimerId ||
                  this.keepaliveTimeoutId ||
                  (this.keepaliveTrace(
                    "Starting keepalive timer for " +
                      this.keepaliveTimeMs +
                      "ms",
                  ),
                  (this.keepaliveTimerId =
                    null ===
                      (r = (e = setTimeout(() => {
                        this.maybeSendPing();
                      }, this.keepaliveTimeMs)).unref) || void 0 === r
                      ? void 0
                      : r.call(e))));
          }
          stopKeepalivePings() {
            this.keepaliveTimerId &&
              (clearTimeout(this.keepaliveTimerId),
              (this.keepaliveTimerId = null)),
              this.clearKeepaliveTimeout();
          }
          removeActiveCall(e) {
            this.activeCalls.delete(e),
              0 === this.activeCalls.size && this.session.unref();
          }
          addActiveCall(e) {
            this.activeCalls.add(e),
              1 !== this.activeCalls.size ||
                (this.session.ref(),
                this.keepaliveWithoutCalls ||
                  this.maybeStartKeepalivePingTimer());
          }
          createCall(e, r, n, i, s) {
            let a, o, l;
            let u = e.toHttp2Headers();
            (u[b] = r),
              (u[C] = this.userAgent),
              (u[w] = "application/grpc"),
              (u[T] = "POST"),
              (u[S] = n),
              (u[E] = "trailers");
            try {
              a = this.session.request(u);
            } catch (e) {
              throw (this.handleDisconnect(), e);
            }
            return (
              this.flowControlTrace(
                "local window size: " +
                  this.session.state.localWindowSize +
                  " remote window size: " +
                  this.session.state.remoteWindowSize,
              ),
              this.internalsTrace(
                "session.closed=" +
                  this.session.closed +
                  " session.destroyed=" +
                  this.session.destroyed +
                  " session.socket.destroyed=" +
                  this.session.socket.destroyed,
              ),
              this.channelzEnabled
                ? (this.streamTracker.addCallStarted(),
                  (o = {
                    addMessageSent: () => {
                      var e;
                      (this.messagesSent += 1),
                        (this.lastMessageSentTimestamp = new Date()),
                        null === (e = s.addMessageSent) ||
                          void 0 === e ||
                          e.call(s);
                    },
                    addMessageReceived: () => {
                      var e;
                      (this.messagesReceived += 1),
                        (this.lastMessageReceivedTimestamp = new Date()),
                        null === (e = s.addMessageReceived) ||
                          void 0 === e ||
                          e.call(s);
                    },
                    onCallEnd: (e) => {
                      var r;
                      null === (r = s.onCallEnd) ||
                        void 0 === r ||
                        r.call(s, e),
                        this.removeActiveCall(l);
                    },
                    onStreamEnd: (e) => {
                      var r;
                      e
                        ? this.streamTracker.addCallSucceeded()
                        : this.streamTracker.addCallFailed(),
                        null === (r = s.onStreamEnd) ||
                          void 0 === r ||
                          r.call(s, e);
                    },
                  }))
                : (o = {
                    addMessageSent: () => {
                      var e;
                      null === (e = s.addMessageSent) ||
                        void 0 === e ||
                        e.call(s);
                    },
                    addMessageReceived: () => {
                      var e;
                      null === (e = s.addMessageReceived) ||
                        void 0 === e ||
                        e.call(s);
                    },
                    onCallEnd: (e) => {
                      var r;
                      null === (r = s.onCallEnd) ||
                        void 0 === r ||
                        r.call(s, e),
                        this.removeActiveCall(l);
                    },
                    onStreamEnd: (e) => {
                      var r;
                      null === (r = s.onStreamEnd) ||
                        void 0 === r ||
                        r.call(s, e);
                    },
                  }),
              (l = new p.Http2SubchannelCall(
                a,
                o,
                i,
                this,
                (0, g.getNextCallNumber)(),
              )),
              this.addActiveCall(l),
              l
            );
          }
          getChannelzRef() {
            return this.channelzRef;
          }
          getPeerName() {
            return this.subchannelAddressString;
          }
          getOptions() {
            return this.options;
          }
          shutdown() {
            this.session.close(),
              (0, a.unregisterChannelzRef)(this.channelzRef);
          }
        }
        class k {
          constructor(e) {
            (this.channelTarget = e),
              (this.session = null),
              (this.isShutdown = !1);
          }
          trace(e) {
            u.trace(
              o.LogVerbosity.DEBUG,
              m,
              (0, h.uriToString)(this.channelTarget) + " " + e,
            );
          }
          createSession(e, r, n, a) {
            return this.isShutdown
              ? Promise.reject()
              : new Promise((o, l) => {
                  var u, p, g;
                  let m;
                  a.realTarget
                    ? ((m = (0, h.uriToString)(a.realTarget)),
                      this.trace(
                        "creating HTTP/2 session through proxy to " +
                          (0, h.uriToString)(a.realTarget),
                      ))
                    : ((m = null),
                      this.trace(
                        "creating HTTP/2 session to " +
                          (0, d.subchannelAddressToString)(e),
                      ));
                  let y = (0, c.getDefaultAuthority)(
                      null !== (u = a.realTarget) && void 0 !== u
                        ? u
                        : this.channelTarget,
                    ),
                    v = r._getConnectionOptions() || {};
                  (v.maxSendHeaderBlockLength = Number.MAX_SAFE_INTEGER),
                    "grpc-node.max_session_memory" in n
                      ? (v.maxSessionMemory = n["grpc-node.max_session_memory"])
                      : (v.maxSessionMemory = Number.MAX_SAFE_INTEGER);
                  let b = "http://";
                  if ("secureContext" in v) {
                    if (
                      ((b = "https://"), n["grpc.ssl_target_name_override"])
                    ) {
                      let e = n["grpc.ssl_target_name_override"];
                      (v.checkServerIdentity = (r, n) =>
                        (0, s.checkServerIdentity)(e, n)),
                        (v.servername = e);
                    } else {
                      let e =
                        null !==
                          (g =
                            null === (p = (0, h.splitHostPort)(y)) ||
                            void 0 === p
                              ? void 0
                              : p.host) && void 0 !== g
                          ? g
                          : "localhost";
                      v.servername = e;
                    }
                    a.socket && (v.createConnection = (e, r) => a.socket);
                  } else
                    v.createConnection = (r, n) =>
                      a.socket ? a.socket : f.connect(e);
                  v = Object.assign(Object.assign(Object.assign({}, v), e), {
                    enableTrace: 1 === n["grpc-node.tls_enable_trace"],
                  });
                  let w = i.connect(b + y, v);
                  this.session = w;
                  let T = "Failed to connect";
                  w.unref(),
                    w.once("connect", () => {
                      w.removeAllListeners(),
                        o(new I(w, e, n, m)),
                        (this.session = null);
                    }),
                    w.once("close", () => {
                      (this.session = null),
                        setImmediate(() => {
                          l(`${T} (${new Date().toISOString()})`);
                        });
                    }),
                    w.once("error", (e) => {
                      (T = e.message),
                        this.trace("connection failed with error " + T);
                    });
                });
          }
          connect(e, r, n) {
            var i, a;
            if (this.isShutdown) return Promise.reject();
            let o = r._getConnectionOptions() || {};
            if ("secureContext" in o) {
              if (
                ((o.ALPNProtocols = ["h2"]), n["grpc.ssl_target_name_override"])
              ) {
                let e = n["grpc.ssl_target_name_override"];
                (o.checkServerIdentity = (r, n) =>
                  (0, s.checkServerIdentity)(e, n)),
                  (o.servername = e);
              } else if ("grpc.http_connect_target" in n) {
                let e = (0, c.getDefaultAuthority)(
                    null !==
                      (i = (0, h.parseUri)(n["grpc.http_connect_target"])) &&
                      void 0 !== i
                      ? i
                      : { path: "localhost" },
                  ),
                  r = (0, h.splitHostPort)(e);
                o.servername =
                  null !== (a = null == r ? void 0 : r.host) && void 0 !== a
                    ? a
                    : e;
              }
              n["grpc-node.tls_enable_trace"] && (o.enableTrace = !0);
            }
            return (0, l.getProxiedConnection)(e, n, o).then((i) =>
              this.createSession(e, r, n, i),
            );
          }
          shutdown() {
            var e;
            (this.isShutdown = !0),
              null === (e = this.session) || void 0 === e || e.close(),
              (this.session = null);
          }
        }
        r.Http2SubchannelConnector = k;
      },
      64230: (e, r) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.uriToString = r.splitHostPort = r.parseUri = void 0);
        let n = /^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;
        function i(e) {
          let r = n.exec(e);
          return null === r
            ? null
            : { scheme: r[1], authority: r[2], path: r[3] };
        }
        r.parseUri = i;
        let s = /^\d+$/;
        function a(e) {
          if (e.startsWith("[")) {
            let r = e.indexOf("]");
            if (-1 === r) return null;
            let n = e.substring(1, r);
            if (-1 === n.indexOf(":")) return null;
            if (!(e.length > r + 1)) return { host: n };
            if (":" !== e[r + 1]) return null;
            {
              let i = e.substring(r + 2);
              return s.test(i) ? { host: n, port: +i } : null;
            }
          }
          {
            let r = e.split(":");
            return 2 !== r.length
              ? { host: e }
              : s.test(r[1])
                ? { host: r[0], port: +r[1] }
                : null;
          }
        }
        function o(e) {
          let r = "";
          return (
            void 0 !== e.scheme && (r += e.scheme + ":"),
            void 0 !== e.authority && (r += "//" + e.authority + "/"),
            (r += e.path)
          );
        }
        (r.splitHostPort = a), (r.uriToString = o);
      },
      26880: (e, r, n) => {
        "use strict";
        var i, s;
        (i = { value: !0 }), (i = i = r.rS = r.Yi = i = r.Ib = i = i = void 0);
        let a = n(35200),
          o = n(3065),
          l = n(94103),
          u = n(66358);
        (i = n(82502)),
          (i = function (e) {
            return "@type" in e && "string" == typeof e["@type"];
          }),
          (function (e) {
            (e.IDEMPOTENCY_UNKNOWN = "IDEMPOTENCY_UNKNOWN"),
              (e.NO_SIDE_EFFECTS = "NO_SIDE_EFFECTS"),
              (e.IDEMPOTENT = "IDEMPOTENT");
          })((s = r.Ib || (r.Ib = {})));
        let c = {
          longs: String,
          enums: String,
          bytes: String,
          defaults: !0,
          oneofs: !0,
          json: !0,
        };
        function d(e, r) {
          return "" === e ? r : e + "." + r;
        }
        function h(e) {
          return (
            e instanceof o.Service || e instanceof o.Type || e instanceof o.Enum
          );
        }
        function f(e) {
          return e instanceof o.Namespace || e instanceof o.Root;
        }
        function p(e, r) {
          let n = d(r, e.name);
          return h(e)
            ? [[n, e]]
            : f(e) && void 0 !== e.nested
              ? Object.keys(e.nested)
                  .map((r) => p(e.nested[r], n))
                  .reduce((e, r) => e.concat(r), [])
              : [];
        }
        function g(e, r) {
          return function (n) {
            return e.toObject(e.decode(n), r);
          };
        }
        function m(e) {
          return function (r) {
            if (Array.isArray(r))
              throw Error(
                `Failed to serialize message: expected object with ${e.name} structure, got array instead`,
              );
            let n = e.fromObject(r);
            return e.encode(n).finish();
          };
        }
        function y(e) {
          return (e || []).reduce(
            (e, r) => {
              for (let [n, i] of Object.entries(r))
                "uninterpreted_option" === n
                  ? e.uninterpreted_option.push(r.uninterpreted_option)
                  : (e[n] = i);
              return e;
            },
            {
              deprecated: !1,
              idempotency_level: s.IDEMPOTENCY_UNKNOWN,
              uninterpreted_option: [],
            },
          );
        }
        function v(e, r, n, i) {
          let s = e.resolvedRequestType,
            o = e.resolvedResponseType;
          return {
            path: "/" + r + "/" + e.name,
            requestStream: !!e.requestStream,
            responseStream: !!e.responseStream,
            requestSerialize: m(s),
            requestDeserialize: g(s, n),
            responseSerialize: m(o),
            responseDeserialize: g(o, n),
            originalName: a(e.name),
            requestType: w(s, i),
            responseType: w(o, i),
            options: y(e.parsedOptions),
          };
        }
        function b(e, r, n, i) {
          let s = {};
          for (let a of e.methodsArray) s[a.name] = v(a, r, n, i);
          return s;
        }
        function w(e, r) {
          let n = e.toDescriptor("proto3");
          return {
            format: "Protocol Buffer 3 DescriptorProto",
            type: n.$type.toObject(n, c),
            fileDescriptorProtos: r,
          };
        }
        function T(e, r) {
          let n = e.toDescriptor("proto3");
          return {
            format: "Protocol Buffer 3 EnumDescriptorProto",
            type: n.$type.toObject(n, c),
            fileDescriptorProtos: r,
          };
        }
        function S(e, r, n, i) {
          if (e instanceof o.Service) return b(e, r, n, i);
          if (e instanceof o.Type) return w(e, i);
          if (e instanceof o.Enum) return T(e, i);
          throw Error("Type mismatch in reflection object handling");
        }
        function E(e, r) {
          let n = {};
          e.resolveAll();
          let i = e
            .toDescriptor("proto3")
            .file.map((e) =>
              Buffer.from(l.FileDescriptorProto.encode(e).finish()),
            );
          for (let [s, a] of p(e, "")) n[s] = S(a, s, r, i);
          return n;
        }
        function C(e, r) {
          r = r || {};
          let n = o.Root.fromDescriptor(e);
          return n.resolveAll(), E(n, r);
        }
        function x(e, r) {
          return E((0, u.loadProtosWithOptionsSync)(e, r), r);
        }
        function A(e, r) {
          r = r || {};
          let n = o.Root.fromJSON(e);
          return n.resolveAll(), E(n, r);
        }
        (i = function (e, r) {
          return (0, u.loadProtosWithOptions)(e, r).then((e) => E(e, r));
        }),
          (r.Yi = x),
          (r.rS = A),
          (i = function (e, r) {
            return C(l.FileDescriptorSet.decode(e), r);
          }),
          (i = function (e, r) {
            return C(l.FileDescriptorSet.fromObject(e), r);
          }),
          (0, u.addCommonProtos)();
      },
      66358: (e, r, n) => {
        "use strict";
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.addCommonProtos =
            r.loadProtosWithOptionsSync =
            r.loadProtosWithOptions =
              void 0);
        let i = n(29021),
          s = n(33873),
          a = n(3065);
        function o(e, r) {
          let n = e.resolvePath;
          e.resolvePath = (e, a) => {
            if (s.isAbsolute(a)) return a;
            for (let e of r) {
              let r = s.join(e, a);
              try {
                return i.accessSync(r, i.constants.R_OK), r;
              } catch (e) {
                continue;
              }
            }
            return (
              process.emitWarning(
                `${a} not found in any of the include paths ${r}`,
              ),
              n(e, a)
            );
          };
        }
        async function l(e, r) {
          let n = new a.Root();
          if ((r = r || {}).includeDirs) {
            if (!Array.isArray(r.includeDirs))
              return Promise.reject(
                Error("The includeDirs option must be an array"),
              );
            o(n, r.includeDirs);
          }
          let i = await n.load(e, r);
          return i.resolveAll(), i;
        }
        function u(e, r) {
          let n = new a.Root();
          if ((r = r || {}).includeDirs) {
            if (!Array.isArray(r.includeDirs))
              throw Error("The includeDirs option must be an array");
            o(n, r.includeDirs);
          }
          let i = n.loadSync(e, r);
          return i.resolveAll(), i;
        }
        function c() {
          let e = n(82566),
            r = n(97659),
            i = n(56271),
            s = n(96138);
          a.common("api", e.nested.google.nested.protobuf.nested),
            a.common("descriptor", r.nested.google.nested.protobuf.nested),
            a.common("source_context", i.nested.google.nested.protobuf.nested),
            a.common("type", s.nested.google.nested.protobuf.nested);
        }
        (r.loadProtosWithOptions = l),
          (r.loadProtosWithOptionsSync = u),
          (r.addCommonProtos = c);
      },
      17609: (e) => {
        "use strict";
        function r(e, r) {
          for (
            var n = Array(arguments.length - 1), i = 0, s = 2, a = !0;
            s < arguments.length;

          )
            n[i++] = arguments[s++];
          return new Promise(function (s, o) {
            n[i] = function (e) {
              if (a) {
                if (((a = !1), e)) o(e);
                else {
                  for (
                    var r = Array(arguments.length - 1), n = 0;
                    n < r.length;

                  )
                    r[n++] = arguments[n];
                  s.apply(null, r);
                }
              }
            };
            try {
              e.apply(r || null, n);
            } catch (e) {
              a && ((a = !1), o(e));
            }
          });
        }
        e.exports = r;
      },
      65703: (e, r) => {
        "use strict";
        var n = r;
        n.length = function (e) {
          var r = e.length;
          if (!r) return 0;
          for (var n = 0; --r % 4 > 1 && "=" === e.charAt(r); ) ++n;
          return Math.ceil(3 * e.length) / 4 - n;
        };
        for (var i = Array(64), s = Array(123), a = 0; a < 64; )
          s[
            (i[a] =
              a < 26
                ? a + 65
                : a < 52
                  ? a + 71
                  : a < 62
                    ? a - 4
                    : (a - 59) | 43)
          ] = a++;
        n.encode = function (e, r, n) {
          for (var s, a = null, o = [], l = 0, u = 0; r < n; ) {
            var c = e[r++];
            switch (u) {
              case 0:
                (o[l++] = i[c >> 2]), (s = (3 & c) << 4), (u = 1);
                break;
              case 1:
                (o[l++] = i[s | (c >> 4)]), (s = (15 & c) << 2), (u = 2);
                break;
              case 2:
                (o[l++] = i[s | (c >> 6)]), (o[l++] = i[63 & c]), (u = 0);
            }
            l > 8191 &&
              ((a || (a = [])).push(String.fromCharCode.apply(String, o)),
              (l = 0));
          }
          return (u &&
            ((o[l++] = i[s]), (o[l++] = 61), 1 === u && (o[l++] = 61)),
          a)
            ? (l && a.push(String.fromCharCode.apply(String, o.slice(0, l))),
              a.join(""))
            : String.fromCharCode.apply(String, o.slice(0, l));
        };
        var o = "invalid encoding";
        (n.decode = function (e, r, n) {
          for (var i, a = n, l = 0, u = 0; u < e.length; ) {
            var c = e.charCodeAt(u++);
            if (61 === c && l > 1) break;
            if (void 0 === (c = s[c])) throw Error(o);
            switch (l) {
              case 0:
                (i = c), (l = 1);
                break;
              case 1:
                (r[n++] = (i << 2) | ((48 & c) >> 4)), (i = c), (l = 2);
                break;
              case 2:
                (r[n++] = ((15 & i) << 4) | ((60 & c) >> 2)), (i = c), (l = 3);
                break;
              case 3:
                (r[n++] = ((3 & i) << 6) | c), (l = 0);
            }
          }
          if (1 === l) throw Error(o);
          return n - a;
        }),
          (n.test = function (e) {
            return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(
              e,
            );
          });
      },
      93261: (e) => {
        "use strict";
        function r(e, n) {
          "string" == typeof e && ((n = e), (e = void 0));
          var i = [];
          function s(e) {
            if ("string" != typeof e) {
              var n = a();
              if (
                (r.verbose && console.log("codegen: " + n),
                (n = "return " + n),
                e)
              ) {
                for (
                  var o = Object.keys(e),
                    l = Array(o.length + 1),
                    u = Array(o.length),
                    c = 0;
                  c < o.length;

                )
                  (l[c] = o[c]), (u[c] = e[o[c++]]);
                return (l[c] = n), Function.apply(null, l).apply(null, u);
              }
              return Function(n)();
            }
            for (var d = Array(arguments.length - 1), h = 0; h < d.length; )
              d[h] = arguments[++h];
            if (
              ((h = 0),
              (e = e.replace(/%([%dfijs])/g, function (e, r) {
                var n = d[h++];
                switch (r) {
                  case "d":
                  case "f":
                    return String(Number(n));
                  case "i":
                    return String(Math.floor(n));
                  case "j":
                    return JSON.stringify(n);
                  case "s":
                    return String(n);
                }
                return "%";
              })),
              h !== d.length)
            )
              throw Error("parameter count mismatch");
            return i.push(e), s;
          }
          function a(r) {
            return (
              "function " +
              (r || n || "") +
              "(" +
              ((e && e.join(",")) || "") +
              "){\n  " +
              i.join("\n  ") +
              "\n}"
            );
          }
          return (s.toString = a), s;
        }
        (e.exports = r), (r.verbose = !1);
      },
      78294: (e) => {
        "use strict";
        function r() {
          this._listeners = {};
        }
        (e.exports = r),
          (r.prototype.on = function (e, r, n) {
            return (
              (this._listeners[e] || (this._listeners[e] = [])).push({
                fn: r,
                ctx: n || this,
              }),
              this
            );
          }),
          (r.prototype.off = function (e, r) {
            if (void 0 === e) this._listeners = {};
            else if (void 0 === r) this._listeners[e] = [];
            else
              for (var n = this._listeners[e], i = 0; i < n.length; )
                n[i].fn === r ? n.splice(i, 1) : ++i;
            return this;
          }),
          (r.prototype.emit = function (e) {
            var r = this._listeners[e];
            if (r) {
              for (var n = [], i = 1; i < arguments.length; )
                n.push(arguments[i++]);
              for (i = 0; i < r.length; ) r[i].fn.apply(r[i++].ctx, n);
            }
            return this;
          });
      },
      11344: (e, r, n) => {
        "use strict";
        e.exports = a;
        var i = n(17609),
          s = n(72861)("fs");
        function a(e, r, n) {
          return ("function" == typeof r ? ((n = r), (r = {})) : r || (r = {}),
          n)
            ? !r.xhr && s && s.readFile
              ? s.readFile(e, function (i, s) {
                  return i && "undefined" != typeof XMLHttpRequest
                    ? a.xhr(e, r, n)
                    : i
                      ? n(i)
                      : n(null, r.binary ? s : s.toString("utf8"));
                })
              : a.xhr(e, r, n)
            : i(a, this, e, r);
        }
        a.xhr = function (e, r, n) {
          var i = new XMLHttpRequest();
          (i.onreadystatechange = function () {
            if (4 === i.readyState) {
              if (0 !== i.status && 200 !== i.status)
                return n(Error("status " + i.status));
              if (r.binary) {
                var e = i.response;
                if (!e) {
                  e = [];
                  for (var s = 0; s < i.responseText.length; ++s)
                    e.push(255 & i.responseText.charCodeAt(s));
                }
                return n(
                  null,
                  "undefined" != typeof Uint8Array ? new Uint8Array(e) : e,
                );
              }
              return n(null, i.responseText);
            }
          }),
            r.binary &&
              ("overrideMimeType" in i &&
                i.overrideMimeType("text/plain; charset=x-user-defined"),
              (i.responseType = "arraybuffer")),
            i.open("GET", e),
            i.send();
        };
      },
      74194: (e) => {
        "use strict";
        function r(e) {
          return (
            "undefined" != typeof Float32Array
              ? (function () {
                  var r = new Float32Array([-0]),
                    n = new Uint8Array(r.buffer),
                    i = 128 === n[3];
                  function s(e, i, s) {
                    (r[0] = e),
                      (i[s] = n[0]),
                      (i[s + 1] = n[1]),
                      (i[s + 2] = n[2]),
                      (i[s + 3] = n[3]);
                  }
                  function a(e, i, s) {
                    (r[0] = e),
                      (i[s] = n[3]),
                      (i[s + 1] = n[2]),
                      (i[s + 2] = n[1]),
                      (i[s + 3] = n[0]);
                  }
                  function o(e, i) {
                    return (
                      (n[0] = e[i]),
                      (n[1] = e[i + 1]),
                      (n[2] = e[i + 2]),
                      (n[3] = e[i + 3]),
                      r[0]
                    );
                  }
                  function l(e, i) {
                    return (
                      (n[3] = e[i]),
                      (n[2] = e[i + 1]),
                      (n[1] = e[i + 2]),
                      (n[0] = e[i + 3]),
                      r[0]
                    );
                  }
                  (e.writeFloatLE = i ? s : a),
                    (e.writeFloatBE = i ? a : s),
                    (e.readFloatLE = i ? o : l),
                    (e.readFloatBE = i ? l : o);
                })()
              : (function () {
                  function r(e, r, n, i) {
                    var s = r < 0 ? 1 : 0;
                    if ((s && (r = -r), 0 === r))
                      e(1 / r > 0 ? 0 : 0x80000000, n, i);
                    else if (isNaN(r)) e(0x7fc00000, n, i);
                    else if (r > 34028234663852886e22)
                      e(((s << 31) | 0x7f800000) >>> 0, n, i);
                    else if (r < 11754943508222875e-54)
                      e(
                        ((s << 31) | Math.round(r / 1401298464324817e-60)) >>>
                          0,
                        n,
                        i,
                      );
                    else {
                      var a = Math.floor(Math.log(r) / Math.LN2),
                        o = 8388607 & Math.round(r * Math.pow(2, -a) * 8388608);
                      e(((s << 31) | ((a + 127) << 23) | o) >>> 0, n, i);
                    }
                  }
                  function o(e, r, n) {
                    var i = e(r, n),
                      s = (i >> 31) * 2 + 1,
                      a = (i >>> 23) & 255,
                      o = 8388607 & i;
                    return 255 === a
                      ? o
                        ? NaN
                        : (1 / 0) * s
                      : 0 === a
                        ? 1401298464324817e-60 * s * o
                        : s * Math.pow(2, a - 150) * (o + 8388608);
                  }
                  (e.writeFloatLE = r.bind(null, n)),
                    (e.writeFloatBE = r.bind(null, i)),
                    (e.readFloatLE = o.bind(null, s)),
                    (e.readFloatBE = o.bind(null, a));
                })(),
            "undefined" != typeof Float64Array
              ? (function () {
                  var r = new Float64Array([-0]),
                    n = new Uint8Array(r.buffer),
                    i = 128 === n[7];
                  function s(e, i, s) {
                    (r[0] = e),
                      (i[s] = n[0]),
                      (i[s + 1] = n[1]),
                      (i[s + 2] = n[2]),
                      (i[s + 3] = n[3]),
                      (i[s + 4] = n[4]),
                      (i[s + 5] = n[5]),
                      (i[s + 6] = n[6]),
                      (i[s + 7] = n[7]);
                  }
                  function a(e, i, s) {
                    (r[0] = e),
                      (i[s] = n[7]),
                      (i[s + 1] = n[6]),
                      (i[s + 2] = n[5]),
                      (i[s + 3] = n[4]),
                      (i[s + 4] = n[3]),
                      (i[s + 5] = n[2]),
                      (i[s + 6] = n[1]),
                      (i[s + 7] = n[0]);
                  }
                  function o(e, i) {
                    return (
                      (n[0] = e[i]),
                      (n[1] = e[i + 1]),
                      (n[2] = e[i + 2]),
                      (n[3] = e[i + 3]),
                      (n[4] = e[i + 4]),
                      (n[5] = e[i + 5]),
                      (n[6] = e[i + 6]),
                      (n[7] = e[i + 7]),
                      r[0]
                    );
                  }
                  function l(e, i) {
                    return (
                      (n[7] = e[i]),
                      (n[6] = e[i + 1]),
                      (n[5] = e[i + 2]),
                      (n[4] = e[i + 3]),
                      (n[3] = e[i + 4]),
                      (n[2] = e[i + 5]),
                      (n[1] = e[i + 6]),
                      (n[0] = e[i + 7]),
                      r[0]
                    );
                  }
                  (e.writeDoubleLE = i ? s : a),
                    (e.writeDoubleBE = i ? a : s),
                    (e.readDoubleLE = i ? o : l),
                    (e.readDoubleBE = i ? l : o);
                })()
              : (function () {
                  function r(e, r, n, i, s, a) {
                    var o,
                      l = i < 0 ? 1 : 0;
                    if ((l && (i = -i), 0 === i))
                      e(0, s, a + r), e(1 / i > 0 ? 0 : 0x80000000, s, a + n);
                    else if (isNaN(i)) e(0, s, a + r), e(0x7ff80000, s, a + n);
                    else if (i > 17976931348623157e292)
                      e(0, s, a + r),
                        e(((l << 31) | 0x7ff00000) >>> 0, s, a + n);
                    else if (i < 22250738585072014e-324)
                      e((o = i / 5e-324) >>> 0, s, a + r),
                        e(((l << 31) | (o / 0x100000000)) >>> 0, s, a + n);
                    else {
                      var u = Math.floor(Math.log(i) / Math.LN2);
                      1024 === u && (u = 1023),
                        e(
                          (0x10000000000000 * (o = i * Math.pow(2, -u))) >>> 0,
                          s,
                          a + r,
                        ),
                        e(
                          ((l << 31) |
                            ((u + 1023) << 20) |
                            ((1048576 * o) & 1048575)) >>>
                            0,
                          s,
                          a + n,
                        );
                    }
                  }
                  function o(e, r, n, i, s) {
                    var a = e(i, s + r),
                      o = e(i, s + n),
                      l = (o >> 31) * 2 + 1,
                      u = (o >>> 20) & 2047,
                      c = 0x100000000 * (1048575 & o) + a;
                    return 2047 === u
                      ? c
                        ? NaN
                        : (1 / 0) * l
                      : 0 === u
                        ? 5e-324 * l * c
                        : l * Math.pow(2, u - 1075) * (c + 0x10000000000000);
                  }
                  (e.writeDoubleLE = r.bind(null, n, 0, 4)),
                    (e.writeDoubleBE = r.bind(null, i, 4, 0)),
                    (e.readDoubleLE = o.bind(null, s, 0, 4)),
                    (e.readDoubleBE = o.bind(null, a, 4, 0));
                })(),
            e
          );
        }
        function n(e, r, n) {
          (r[n] = 255 & e),
            (r[n + 1] = (e >>> 8) & 255),
            (r[n + 2] = (e >>> 16) & 255),
            (r[n + 3] = e >>> 24);
        }
        function i(e, r, n) {
          (r[n] = e >>> 24),
            (r[n + 1] = (e >>> 16) & 255),
            (r[n + 2] = (e >>> 8) & 255),
            (r[n + 3] = 255 & e);
        }
        function s(e, r) {
          return (
            (e[r] | (e[r + 1] << 8) | (e[r + 2] << 16) | (e[r + 3] << 24)) >>> 0
          );
        }
        function a(e, r) {
          return (
            ((e[r] << 24) | (e[r + 1] << 16) | (e[r + 2] << 8) | e[r + 3]) >>> 0
          );
        }
        e.exports = r(r);
      },
      72861: (module) => {
        "use strict";
        function inquire(moduleName) {
          try {
            var mod = eval("quire".replace(/^/, "re"))(moduleName);
            if (mod && (mod.length || Object.keys(mod).length)) return mod;
          } catch (e) {}
          return null;
        }
        module.exports = inquire;
      },
      18151: (e, r) => {
        "use strict";
        var n = r,
          i = (n.isAbsolute = function (e) {
            return /^(?:\/|\w+:)/.test(e);
          }),
          s = (n.normalize = function (e) {
            var r = (e = e.replace(/\\/g, "/").replace(/\/{2,}/g, "/")).split(
                "/",
              ),
              n = i(e),
              s = "";
            n && (s = r.shift() + "/");
            for (var a = 0; a < r.length; )
              ".." === r[a]
                ? a > 0 && ".." !== r[a - 1]
                  ? r.splice(--a, 2)
                  : n
                    ? r.splice(a, 1)
                    : ++a
                : "." === r[a]
                  ? r.splice(a, 1)
                  : ++a;
            return s + r.join("/");
          });
        n.resolve = function (e, r, n) {
          return (n || (r = s(r)), i(r))
            ? r
            : (n || (e = s(e)),
              (e = e.replace(/(?:\/|^)[^/]+$/, "")).length
                ? s(e + "/" + r)
                : r);
        };
      },
      32902: (e) => {
        "use strict";
        function r(e, r, n) {
          var i = n || 8192,
            s = i >>> 1,
            a = null,
            o = i;
          return function (n) {
            if (n < 1 || n > s) return e(n);
            o + n > i && ((a = e(i)), (o = 0));
            var l = r.call(a, o, (o += n));
            return 7 & o && (o = (7 | o) + 1), l;
          };
        }
        e.exports = r;
      },
      57239: (e, r) => {
        "use strict";
        var n = r;
        (n.length = function (e) {
          for (var r = 0, n = 0, i = 0; i < e.length; ++i)
            (n = e.charCodeAt(i)) < 128
              ? (r += 1)
              : n < 2048
                ? (r += 2)
                : (64512 & n) == 55296 && (64512 & e.charCodeAt(i + 1)) == 56320
                  ? (++i, (r += 4))
                  : (r += 3);
          return r;
        }),
          (n.read = function (e, r, n) {
            if (n - r < 1) return "";
            for (var i, s = null, a = [], o = 0; r < n; )
              (i = e[r++]) < 128
                ? (a[o++] = i)
                : i > 191 && i < 224
                  ? (a[o++] = ((31 & i) << 6) | (63 & e[r++]))
                  : i > 239 && i < 365
                    ? ((i =
                        (((7 & i) << 18) |
                          ((63 & e[r++]) << 12) |
                          ((63 & e[r++]) << 6) |
                          (63 & e[r++])) -
                        65536),
                      (a[o++] = 55296 + (i >> 10)),
                      (a[o++] = 56320 + (1023 & i)))
                    : (a[o++] =
                        ((15 & i) << 12) |
                        ((63 & e[r++]) << 6) |
                        (63 & e[r++])),
                o > 8191 &&
                  ((s || (s = [])).push(String.fromCharCode.apply(String, a)),
                  (o = 0));
            return s
              ? (o && s.push(String.fromCharCode.apply(String, a.slice(0, o))),
                s.join(""))
              : String.fromCharCode.apply(String, a.slice(0, o));
          }),
          (n.write = function (e, r, n) {
            for (var i, s, a = n, o = 0; o < e.length; ++o)
              (i = e.charCodeAt(o)) < 128
                ? (r[n++] = i)
                : (i < 2048
                    ? (r[n++] = (i >> 6) | 192)
                    : ((64512 & i) == 55296 &&
                      (64512 & (s = e.charCodeAt(o + 1))) == 56320
                        ? ((i = 65536 + ((1023 & i) << 10) + (1023 & s)),
                          ++o,
                          (r[n++] = (i >> 18) | 240),
                          (r[n++] = ((i >> 12) & 63) | 128))
                        : (r[n++] = (i >> 12) | 224),
                      (r[n++] = ((i >> 6) & 63) | 128)),
                  (r[n++] = (63 & i) | 128));
            return n - a;
          });
      },
      35200: (e) => {
        var r = 1 / 0,
          n = "[object Symbol]",
          i = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
          s = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
          a = "\ud800-\udfff",
          o = "\\u0300-\\u036f\\ufe20-\\ufe23",
          l = "\\u20d0-\\u20f0",
          u = "\\u2700-\\u27bf",
          c = "a-z\\xdf-\\xf6\\xf8-\\xff",
          d = "A-Z\\xc0-\\xd6\\xd8-\\xde",
          h = "\\ufe0e\\ufe0f",
          f =
            "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
          p = "[']",
          g = "[" + a + "]",
          m = "[" + f + "]",
          y = "[" + o + l + "]",
          v = "\\d+",
          b = "[" + u + "]",
          w = "[" + c + "]",
          T = "[^" + a + f + v + u + c + d + "]",
          S = "\ud83c[\udffb-\udfff]",
          E = "[^" + a + "]",
          C = "(?:\ud83c[\udde6-\uddff]){2}",
          x = "[\ud800-\udbff][\udc00-\udfff]",
          A = "[" + d + "]",
          I = "\\u200d",
          k = "(?:" + w + "|" + T + ")",
          _ = "(?:" + A + "|" + T + ")",
          R = "(?:" + p + "(?:d|ll|m|re|s|t|ve))?",
          D = "(?:" + p + "(?:D|LL|M|RE|S|T|VE))?",
          P = "(?:" + y + "|" + S + ")?",
          N = "[" + h + "]?",
          O = "(?:" + I + "(?:" + [E, C, x].join("|") + ")" + N + P + ")*",
          M = N + P + O,
          L = "(?:" + [b, C, x].join("|") + ")" + M,
          B = "(?:" + [E + y + "?", y, C, x, g].join("|") + ")",
          F = RegExp(p, "g"),
          U = RegExp(y, "g"),
          j = RegExp(S + "(?=" + S + ")|" + B + M, "g"),
          z = RegExp(
            [
              A + "?" + w + "+" + R + "(?=" + [m, A, "$"].join("|") + ")",
              _ + "+" + D + "(?=" + [m, A + k, "$"].join("|") + ")",
              A + "?" + k + "+" + R,
              A + "+" + D,
              v,
              L,
            ].join("|"),
            "g",
          ),
          V = RegExp("[" + I + a + o + l + h + "]"),
          K =
            /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
          q = {
            : "A",
            : "A",
            : "A",
            : "A",
            : "A",
            : "A",
            : "a",
            : "a",
            : "a",
            : "a",
            : "a",
            : "a",
            : "C",
            : "c",
            : "D",
            : "d",
            : "E",
            : "E",
            : "E",
            : "E",
            : "e",
            : "e",
            : "e",
            : "e",
            : "I",
            : "I",
            : "I",
            : "I",
            : "i",
            : "i",
            : "i",
            : "i",
            : "N",
            : "n",
            : "O",
            : "O",
            : "O",
            : "O",
            : "O",
            : "O",
            : "o",
            : "o",
            : "o",
            : "o",
            : "o",
            : "o",
            : "U",
            : "U",
            : "U",
            : "U",
            : "u",
            : "u",
            : "u",
            : "u",
            : "Y",
            : "y",
            : "y",
            : "Ae",
            : "ae",
            : "Th",
            : "th",
            : "ss",
            : "A",
            : "A",
            : "A",
            : "a",
            : "a",
            : "a",
            : "C",
            : "C",
            : "C",
            : "C",
            : "c",
            : "c",
            : "c",
            : "c",
            : "D",
            : "D",
            : "d",
            : "d",
            : "E",
            : "E",
            : "E",
            : "E",
            : "E",
            : "e",
            : "e",
            : "e",
            : "e",
            : "e",
            : "G",
            : "G",
            : "G",
            : "G",
            : "g",
            : "g",
            : "g",
            : "g",
            : "H",
            : "H",
            : "h",
            : "h",
            : "I",
            : "I",
            : "I",
            : "I",
            : "I",
            : "i",
            : "i",
            : "i",
            : "i",
            : "i",
            : "J",
            : "j",
            : "K",
            : "k",
            : "k",
            : "L",
            : "L",
            : "L",
            : "L",
            : "L",
            : "l",
            : "l",
            : "l",
            : "l",
            : "l",
            : "N",
            : "N",
            : "N",
            : "N",
            : "n",
            : "n",
            : "n",
            : "n",
            : "O",
            : "O",
            : "O",
            : "o",
            : "o",
            : "o",
            : "R",
            : "R",
            : "R",
            : "r",
            : "r",
            : "r",
            : "S",
            : "S",
            : "S",
            : "S",
            : "s",
            : "s",
            : "s",
            : "s",
            : "T",
            : "T",
            : "T",
            : "t",
            : "t",
            : "t",
            : "U",
            : "U",
            : "U",
            : "U",
            : "U",
            : "U",
            : "u",
            : "u",
            : "u",
            : "u",
            : "u",
            : "u",
            : "W",
            : "w",
            : "Y",
            : "y",
            : "Y",
            : "Z",
            : "Z",
            : "Z",
            : "z",
            : "z",
            : "z",
            : "IJ",
            : "ij",
            : "Oe",
            : "oe",
            : "'n",
            : "ss",
          },
          H =
            "object" == typeof global &&
            global &&
            global.Object === Object &&
            global,
          $ = "object" == typeof self && self && self.Object === Object && self,
          W = H || $ || Function("return this")();
        function G(e, r, n, i) {
          var s = -1,
            a = e ? e.length : 0;
          for (i && a && (n = e[++s]); ++s < a; ) n = r(n, e[s], s, e);
          return n;
        }
        function Q(e) {
          return e.split("");
        }
        function Y(e) {
          return e.match(i) || [];
        }
        var X = (function (e) {
          return function (r) {
            return null == e ? void 0 : e[r];
          };
        })(q);
        function J(e) {
          return V.test(e);
        }
        function Z(e) {
          return K.test(e);
        }
        function ee(e) {
          return J(e) ? et(e) : Q(e);
        }
        function et(e) {
          return e.match(j) || [];
        }
        function er(e) {
          return e.match(z) || [];
        }
        var en = Object.prototype.toString,
          ei = W.Symbol,
          es = ei ? ei.prototype : void 0,
          ea = es ? es.toString : void 0;
        function eo(e, r, n) {
          var i = -1,
            s = e.length;
          r < 0 && (r = -r > s ? 0 : s + r),
            (n = n > s ? s : n) < 0 && (n += s),
            (s = r > n ? 0 : (n - r) >>> 0),
            (r >>>= 0);
          for (var a = Array(s); ++i < s; ) a[i] = e[i + r];
          return a;
        }
        function el(e) {
          if ("string" == typeof e) return e;
          if (eh(e)) return ea ? ea.call(e) : "";
          var n = e + "";
          return "0" == n && 1 / e == -r ? "-0" : n;
        }
        function eu(e, r, n) {
          var i = e.length;
          return (n = void 0 === n ? i : n), !r && n >= i ? e : eo(e, r, n);
        }
        function ec(e) {
          return function (r) {
            var n = J((r = ef(r))) ? ee(r) : void 0,
              i = n ? n[0] : r.charAt(0),
              s = n ? eu(n, 1).join("") : r.slice(1);
            return i[e]() + s;
          };
        }
        function ed(e) {
          return !!e && "object" == typeof e;
        }
        function eh(e) {
          return "symbol" == typeof e || (ed(e) && en.call(e) == n);
        }
        function ef(e) {
          return null == e ? "" : el(e);
        }
        var ep = (function (e) {
          return function (r) {
            return G(ev(em(r).replace(F, "")), e, "");
          };
        })(function (e, r, n) {
          return (r = r.toLowerCase()), e + (n ? eg(r) : r);
        });
        function eg(e) {
          return ey(ef(e).toLowerCase());
        }
        function em(e) {
          return (e = ef(e)) && e.replace(s, X).replace(U, "");
        }
        var ey = ec("toUpperCase");
        function ev(e, r, n) {
          return ((e = ef(e)), void 0 === (r = n ? void 0 : r))
            ? Z(e)
              ? er(e)
              : Y(e)
            : e.match(r) || [];
        }
        e.exports = ep;
      },
      94103: (e, r, n) => {
        "use strict";
        var i = n(3065);
        e.exports =
          r =
          i.descriptor =
            i.Root.fromJSON(n(97659)).lookup(".google.protobuf");
        var s = i.Namespace,
          a = i.Root,
          o = i.Enum,
          l = i.Type,
          u = i.Field,
          c = i.MapField,
          d = i.OneOf,
          h = i.Service,
          f = i.Method;
        function p(e, n, i) {
          var c = r.FileDescriptorProto.create({
            name:
              e.filename ||
              (e.fullName.substring(1).replace(/\./g, "_") || "root") +
                ".proto",
          });
          i && (c.syntax = i),
            e instanceof a || (c.package = e.fullName.substring(1));
          for (var d, f = 0; f < e.nestedArray.length; ++f)
            (d = e._nestedArray[f]) instanceof l
              ? c.messageType.push(d.toDescriptor(i))
              : d instanceof o
                ? c.enumType.push(d.toDescriptor())
                : d instanceof u
                  ? c.extension.push(d.toDescriptor(i))
                  : d instanceof h
                    ? c.service.push(d.toDescriptor())
                    : d instanceof s && p(d, n, i);
          (c.options = x(e.options, r.FileOptions)),
            c.messageType.length +
              c.enumType.length +
              c.extension.length +
              c.service.length && n.push(c);
        }
        (a.fromDescriptor = function (e) {
          "number" == typeof e.length && (e = r.FileDescriptorSet.decode(e));
          var n = new a();
          if (e.file)
            for (var i, s, c, d = 0; d < e.file.length; ++d) {
              if (
                ((s = n),
                (i = e.file[d]).package &&
                  i.package.length &&
                  (s = n.define(i.package)),
                i.name && i.name.length && n.files.push((s.filename = i.name)),
                i.messageType)
              )
                for (c = 0; c < i.messageType.length; ++c)
                  s.add(l.fromDescriptor(i.messageType[c], i.syntax));
              if (i.enumType)
                for (c = 0; c < i.enumType.length; ++c)
                  s.add(o.fromDescriptor(i.enumType[c]));
              if (i.extension)
                for (c = 0; c < i.extension.length; ++c)
                  s.add(u.fromDescriptor(i.extension[c]));
              if (i.service)
                for (c = 0; c < i.service.length; ++c)
                  s.add(h.fromDescriptor(i.service[c]));
              var f = C(i.options, r.FileOptions);
              if (f) {
                var p = Object.keys(f);
                for (c = 0; c < p.length; ++c) s.setOption(p[c], f[p[c]]);
              }
            }
          return n;
        }),
          (a.prototype.toDescriptor = function (e) {
            var n = r.FileDescriptorSet.create();
            return p(this, n.file, e), n;
          });
        var g = 0;
        (l.fromDescriptor = function (e, n) {
          "number" == typeof e.length && (e = r.DescriptorProto.decode(e));
          var i,
            s = new l(
              e.name.length ? e.name : "Type" + g++,
              C(e.options, r.MessageOptions),
            );
          if (e.oneofDecl)
            for (i = 0; i < e.oneofDecl.length; ++i)
              s.add(d.fromDescriptor(e.oneofDecl[i]));
          if (e.field)
            for (i = 0; i < e.field.length; ++i) {
              var a = u.fromDescriptor(e.field[i], n);
              s.add(a),
                e.field[i].hasOwnProperty("oneofIndex") &&
                  s.oneofsArray[e.field[i].oneofIndex].add(a);
            }
          if (e.extension)
            for (i = 0; i < e.extension.length; ++i)
              s.add(u.fromDescriptor(e.extension[i], n));
          if (e.nestedType)
            for (i = 0; i < e.nestedType.length; ++i)
              s.add(l.fromDescriptor(e.nestedType[i], n)),
                e.nestedType[i].options &&
                  e.nestedType[i].options.mapEntry &&
                  s.setOption("map_entry", !0);
          if (e.enumType)
            for (i = 0; i < e.enumType.length; ++i)
              s.add(o.fromDescriptor(e.enumType[i]));
          if (e.extensionRange && e.extensionRange.length)
            for (i = 0, s.extensions = []; i < e.extensionRange.length; ++i)
              s.extensions.push([
                e.extensionRange[i].start,
                e.extensionRange[i].end,
              ]);
          if (
            (e.reservedRange && e.reservedRange.length) ||
            (e.reservedName && e.reservedName.length)
          ) {
            if (((s.reserved = []), e.reservedRange))
              for (i = 0; i < e.reservedRange.length; ++i)
                s.reserved.push([
                  e.reservedRange[i].start,
                  e.reservedRange[i].end,
                ]);
            if (e.reservedName)
              for (i = 0; i < e.reservedName.length; ++i)
                s.reserved.push(e.reservedName[i]);
          }
          return s;
        }),
          (l.prototype.toDescriptor = function (e) {
            var n,
              i,
              s = r.DescriptorProto.create({ name: this.name });
            for (i = 0; i < this.fieldsArray.length; ++i)
              if (
                (s.field.push((n = this._fieldsArray[i].toDescriptor(e))),
                this._fieldsArray[i] instanceof c)
              ) {
                var a = E(
                    this._fieldsArray[i].keyType,
                    this._fieldsArray[i].resolvedKeyType,
                  ),
                  d = E(
                    this._fieldsArray[i].type,
                    this._fieldsArray[i].resolvedType,
                  ),
                  h =
                    11 === d || 14 === d
                      ? (this._fieldsArray[i].resolvedType &&
                          A(this.parent, this._fieldsArray[i].resolvedType)) ||
                        this._fieldsArray[i].type
                      : void 0;
                s.nestedType.push(
                  r.DescriptorProto.create({
                    name: n.typeName,
                    field: [
                      r.FieldDescriptorProto.create({
                        name: "key",
                        number: 1,
                        label: 1,
                        type: a,
                      }),
                      r.FieldDescriptorProto.create({
                        name: "value",
                        number: 2,
                        label: 1,
                        type: d,
                        typeName: h,
                      }),
                    ],
                    options: r.MessageOptions.create({ mapEntry: !0 }),
                  }),
                );
              }
            for (i = 0; i < this.oneofsArray.length; ++i)
              s.oneofDecl.push(this._oneofsArray[i].toDescriptor());
            for (i = 0; i < this.nestedArray.length; ++i)
              this._nestedArray[i] instanceof u
                ? s.field.push(this._nestedArray[i].toDescriptor(e))
                : this._nestedArray[i] instanceof l
                  ? s.nestedType.push(this._nestedArray[i].toDescriptor(e))
                  : this._nestedArray[i] instanceof o &&
                    s.enumType.push(this._nestedArray[i].toDescriptor());
            if (this.extensions)
              for (i = 0; i < this.extensions.length; ++i)
                s.extensionRange.push(
                  r.DescriptorProto.ExtensionRange.create({
                    start: this.extensions[i][0],
                    end: this.extensions[i][1],
                  }),
                );
            if (this.reserved)
              for (i = 0; i < this.reserved.length; ++i)
                "string" == typeof this.reserved[i]
                  ? s.reservedName.push(this.reserved[i])
                  : s.reservedRange.push(
                      r.DescriptorProto.ReservedRange.create({
                        start: this.reserved[i][0],
                        end: this.reserved[i][1],
                      }),
                    );
            return (s.options = x(this.options, r.MessageOptions)), s;
          });
        var m = /^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;
        (u.fromDescriptor = function (e, n) {
          if (
            ("number" == typeof e.length && (e = r.DescriptorProto.decode(e)),
            "number" != typeof e.number)
          )
            throw Error("missing field id");
          switch (
            ((i = e.typeName && e.typeName.length ? e.typeName : T(e.type)),
            e.label)
          ) {
            case 1:
              s = void 0;
              break;
            case 2:
              s = "required";
              break;
            case 3:
              s = "repeated";
              break;
            default:
              throw Error("illegal label: " + e.label);
          }
          var i,
            s,
            a = e.extendee;
          void 0 !== e.extendee && (a = a.length ? a : void 0);
          var o = new u(
            e.name.length ? e.name : "field" + e.number,
            e.number,
            i,
            s,
            a,
          );
          if (
            ((o.options = C(e.options, r.FieldOptions)),
            e.defaultValue && e.defaultValue.length)
          ) {
            var l = e.defaultValue;
            switch (l) {
              case "true":
              case "TRUE":
                l = !0;
                break;
              case "false":
              case "FALSE":
                l = !1;
                break;
              default:
                m.exec(l) && (l = parseInt(l));
            }
            o.setOption("default", l);
          }
          return (
            S(e.type) &&
              ("proto3" === n
                ? e.options && !e.options.packed && o.setOption("packed", !1)
                : (e.options && e.options.packed) || o.setOption("packed", !1)),
            o
          );
        }),
          (u.prototype.toDescriptor = function (e) {
            var n = r.FieldDescriptorProto.create({
              name: this.name,
              number: this.id,
            });
            if (this.map)
              (n.type = 11),
                (n.typeName = i.util.ucFirst(this.name)),
                (n.label = 3);
            else {
              switch ((n.type = E(this.type, this.resolve().resolvedType))) {
                case 10:
                case 11:
                case 14:
                  n.typeName = this.resolvedType
                    ? A(this.parent, this.resolvedType)
                    : this.type;
              }
              switch (this.rule) {
                case "repeated":
                  n.label = 3;
                  break;
                case "required":
                  n.label = 2;
                  break;
                default:
                  n.label = 1;
              }
            }
            if (
              ((n.extendee = this.extensionField
                ? this.extensionField.parent.fullName
                : this.extend),
              this.partOf &&
                (n.oneofIndex = this.parent.oneofsArray.indexOf(this.partOf)) <
                  0)
            )
              throw Error("missing oneof");
            return (
              this.options &&
                ((n.options = x(this.options, r.FieldOptions)),
                null != this.options.default &&
                  (n.defaultValue = String(this.options.default))),
              "proto3" === e
                ? this.packed ||
                  ((n.options || (n.options = r.FieldOptions.create())).packed =
                    !1)
                : this.packed &&
                  ((n.options || (n.options = r.FieldOptions.create())).packed =
                    !0),
              n
            );
          });
        var y = 0;
        (o.fromDescriptor = function (e) {
          "number" == typeof e.length && (e = r.EnumDescriptorProto.decode(e));
          var n = {};
          if (e.value)
            for (var i = 0; i < e.value.length; ++i) {
              var s = e.value[i].name,
                a = e.value[i].number || 0;
              n[s && s.length ? s : "NAME" + a] = a;
            }
          return new o(
            e.name && e.name.length ? e.name : "Enum" + y++,
            n,
            C(e.options, r.EnumOptions),
          );
        }),
          (o.prototype.toDescriptor = function () {
            for (
              var e = [], n = 0, i = Object.keys(this.values);
              n < i.length;
              ++n
            )
              e.push(
                r.EnumValueDescriptorProto.create({
                  name: i[n],
                  number: this.values[i[n]],
                }),
              );
            return r.EnumDescriptorProto.create({
              name: this.name,
              value: e,
              options: x(this.options, r.EnumOptions),
            });
          });
        var v = 0;
        (d.fromDescriptor = function (e) {
          return (
            "number" == typeof e.length &&
              (e = r.OneofDescriptorProto.decode(e)),
            new d(e.name && e.name.length ? e.name : "oneof" + v++)
          );
        }),
          (d.prototype.toDescriptor = function () {
            return r.OneofDescriptorProto.create({ name: this.name });
          });
        var b = 0;
        (h.fromDescriptor = function (e) {
          "number" == typeof e.length &&
            (e = r.ServiceDescriptorProto.decode(e));
          var n = new h(
            e.name && e.name.length ? e.name : "Service" + b++,
            C(e.options, r.ServiceOptions),
          );
          if (e.method)
            for (var i = 0; i < e.method.length; ++i)
              n.add(f.fromDescriptor(e.method[i]));
          return n;
        }),
          (h.prototype.toDescriptor = function () {
            for (var e = [], n = 0; n < this.methodsArray.length; ++n)
              e.push(this._methodsArray[n].toDescriptor());
            return r.ServiceDescriptorProto.create({
              name: this.name,
              method: e,
              options: x(this.options, r.ServiceOptions),
            });
          });
        var w = 0;
        function T(e) {
          switch (e) {
            case 1:
              return "double";
            case 2:
              return "float";
            case 3:
              return "int64";
            case 4:
              return "uint64";
            case 5:
              return "int32";
            case 6:
              return "fixed64";
            case 7:
              return "fixed32";
            case 8:
              return "bool";
            case 9:
              return "string";
            case 12:
              return "bytes";
            case 13:
              return "uint32";
            case 15:
              return "sfixed32";
            case 16:
              return "sfixed64";
            case 17:
              return "sint32";
            case 18:
              return "sint64";
          }
          throw Error("illegal type: " + e);
        }
        function S(e) {
          switch (e) {
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
            case 6:
            case 7:
            case 8:
            case 13:
            case 14:
            case 15:
            case 16:
            case 17:
            case 18:
              return !0;
          }
          return !1;
        }
        function E(e, r) {
          switch (e) {
            case "double":
              return 1;
            case "float":
              return 2;
            case "int64":
              return 3;
            case "uint64":
              return 4;
            case "int32":
              return 5;
            case "fixed64":
              return 6;
            case "fixed32":
              return 7;
            case "bool":
              return 8;
            case "string":
              return 9;
            case "bytes":
              return 12;
            case "uint32":
              return 13;
            case "sfixed32":
              return 15;
            case "sfixed64":
              return 16;
            case "sint32":
              return 17;
            case "sint64":
              return 18;
          }
          if (r instanceof o) return 14;
          if (r instanceof l) return r.group ? 10 : 11;
          throw Error("illegal type: " + e);
        }
        function C(e, r) {
          if (e) {
            for (var n, s, a, l = [], u = 0; u < r.fieldsArray.length; ++u)
              "uninterpretedOption" !== (s = (n = r._fieldsArray[u]).name) &&
                e.hasOwnProperty(s) &&
                ((a = e[s]),
                n.resolvedType instanceof o &&
                  "number" == typeof a &&
                  void 0 !== n.resolvedType.valuesById[a] &&
                  (a = n.resolvedType.valuesById[a]),
                l.push(I(s), a));
            return l.length ? i.util.toObject(l) : void 0;
          }
        }
        function x(e, r) {
          if (e) {
            for (var n, s, a = [], o = 0, l = Object.keys(e); o < l.length; ++o)
              if (((s = e[(n = l[o])]), "default" !== n)) {
                var u = r.fields[n];
                (u || (u = r.fields[(n = i.util.camelCase(n))])) &&
                  a.push(n, s);
              }
            return a.length ? r.fromObject(i.util.toObject(a)) : void 0;
          }
        }
        function A(e, r) {
          var n = e.fullName.split("."),
            i = r.fullName.split("."),
            o = 0,
            l = 0,
            u = i.length - 1;
          if (!(e instanceof a) && r instanceof s)
            for (; o < n.length && l < u && n[o] === i[l]; ) {
              var c = r.lookup(n[o++], !0);
              if (null !== c && c !== r) break;
              ++l;
            }
          else for (; o < n.length && l < u && n[o] === i[l]; ++o, ++l);
          return i.slice(l).join(".");
        }
        function I(e) {
          return (
            e.substring(0, 1) +
            e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g, function (e, r) {
              return "_" + r.toLowerCase();
            })
          );
        }
        (f.fromDescriptor = function (e) {
          return (
            "number" == typeof e.length &&
              (e = r.MethodDescriptorProto.decode(e)),
            new f(
              e.name && e.name.length ? e.name : "Method" + w++,
              "rpc",
              e.inputType,
              e.outputType,
              !!e.clientStreaming,
              !!e.serverStreaming,
              C(e.options, r.MethodOptions),
            )
          );
        }),
          (f.prototype.toDescriptor = function () {
            return r.MethodDescriptorProto.create({
              name: this.name,
              inputType: this.resolvedRequestType
                ? this.resolvedRequestType.fullName
                : this.requestType,
              outputType: this.resolvedResponseType
                ? this.resolvedResponseType.fullName
                : this.responseType,
              clientStreaming: this.requestStream,
              serverStreaming: this.responseStream,
              options: x(this.options, r.MethodOptions),
            });
          });
      },
      3065: (e, r, n) => {
        "use strict";
        e.exports = n(44032);
      },
      42519: (e) => {
        "use strict";
        e.exports = i;
        var r,
          n = /\/|\./;
        function i(e, r) {
          n.test(e) ||
            ((e = "google/protobuf/" + e + ".proto"),
            (r = {
              nested: { google: { nested: { protobuf: { nested: r } } } },
            })),
            (i[e] = r);
        }
        i("any", {
          Any: {
            fields: {
              type_url: { type: "string", id: 1 },
              value: { type: "bytes", id: 2 },
            },
          },
        }),
          i("duration", {
            Duration: (r = {
              fields: {
                seconds: { type: "int64", id: 1 },
                nanos: { type: "int32", id: 2 },
              },
            }),
          }),
          i("timestamp", { Timestamp: r }),
          i("empty", { Empty: { fields: {} } }),
          i("struct", {
            Struct: {
              fields: { fields: { keyType: "string", type: "Value", id: 1 } },
            },
            Value: {
              oneofs: {
                kind: {
                  oneof: [
                    "nullValue",
                    "numberValue",
                    "stringValue",
                    "boolValue",
                    "structValue",
                    "listValue",
                  ],
                },
              },
              fields: {
                nullValue: { type: "NullValue", id: 1 },
                numberValue: { type: "double", id: 2 },
                stringValue: { type: "string", id: 3 },
                boolValue: { type: "bool", id: 4 },
                structValue: { type: "Struct", id: 5 },
                listValue: { type: "ListValue", id: 6 },
              },
            },
            NullValue: { values: { NULL_VALUE: 0 } },
            ListValue: {
              fields: { values: { rule: "repeated", type: "Value", id: 1 } },
            },
          }),
          i("wrappers", {
            DoubleValue: { fields: { value: { type: "double", id: 1 } } },
            FloatValue: { fields: { value: { type: "float", id: 1 } } },
            Int64Value: { fields: { value: { type: "int64", id: 1 } } },
            UInt64Value: { fields: { value: { type: "uint64", id: 1 } } },
            Int32Value: { fields: { value: { type: "int32", id: 1 } } },
            UInt32Value: { fields: { value: { type: "uint32", id: 1 } } },
            BoolValue: { fields: { value: { type: "bool", id: 1 } } },
            StringValue: { fields: { value: { type: "string", id: 1 } } },
            BytesValue: { fields: { value: { type: "bytes", id: 1 } } },
          }),
          i("field_mask", {
            FieldMask: {
              fields: { paths: { rule: "repeated", type: "string", id: 1 } },
            },
          }),
          (i.get = function (e) {
            return i[e] || null;
          });
      },
      79292: (e, r, n) => {
        "use strict";
        var i = r,
          s = n(33739),
          a = n(50838);
        function o(e, r, n, i) {
          var a = !1;
          if (r.resolvedType) {
            if (r.resolvedType instanceof s) {
              e("switch(d%s){", i);
              for (
                var o = r.resolvedType.values, l = Object.keys(o), u = 0;
                u < l.length;
                ++u
              )
                o[l[u]] !== r.typeDefault ||
                  a ||
                  (e("default:")(
                    'if(typeof(d%s)==="number"){m%s=d%s;break}',
                    i,
                    i,
                    i,
                  ),
                  r.repeated || e("break"),
                  (a = !0)),
                  e("case%j:", l[u])("case %i:", o[l[u]])("m%s=%j", i, o[l[u]])(
                    "break",
                  );
              e("}");
            } else
              e('if(typeof d%s!=="object")', i)(
                "throw TypeError(%j)",
                r.fullName + ": object expected",
              )("m%s=types[%i].fromObject(d%s)", i, n, i);
          } else {
            var c = !1;
            switch (r.type) {
              case "double":
              case "float":
                e("m%s=Number(d%s)", i, i);
                break;
              case "uint32":
              case "fixed32":
                e("m%s=d%s>>>0", i, i);
                break;
              case "int32":
              case "sint32":
              case "sfixed32":
                e("m%s=d%s|0", i, i);
                break;
              case "uint64":
                c = !0;
              case "int64":
              case "sint64":
              case "fixed64":
              case "sfixed64":
                e("if(util.Long)")(
                  "(m%s=util.Long.fromValue(d%s)).unsigned=%j",
                  i,
                  i,
                  c,
                )('else if(typeof d%s==="string")', i)(
                  "m%s=parseInt(d%s,10)",
                  i,
                  i,
                )('else if(typeof d%s==="number")', i)(
                  "m%s=d%s",
                  i,
                  i,
                )('else if(typeof d%s==="object")', i)(
                  "m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",
                  i,
                  i,
                  i,
                  c ? "true" : "",
                );
                break;
              case "bytes":
                e('if(typeof d%s==="string")', i)(
                  "util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",
                  i,
                  i,
                  i,
                )("else if(d%s.length >= 0)", i)("m%s=d%s", i, i);
                break;
              case "string":
                e("m%s=String(d%s)", i, i);
                break;
              case "bool":
                e("m%s=Boolean(d%s)", i, i);
            }
          }
          return e;
        }
        function l(e, r, n, i) {
          if (r.resolvedType)
            r.resolvedType instanceof s
              ? e(
                  "d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",
                  i,
                  n,
                  i,
                  i,
                  n,
                  i,
                  i,
                )
              : e("d%s=types[%i].toObject(m%s,o)", i, n, i);
          else {
            var a = !1;
            switch (r.type) {
              case "double":
              case "float":
                e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s", i, i, i, i);
                break;
              case "uint64":
                a = !0;
              case "int64":
              case "sint64":
              case "fixed64":
              case "sfixed64":
                e('if(typeof m%s==="number")', i)(
                  "d%s=o.longs===String?String(m%s):m%s",
                  i,
                  i,
                  i,
                )("else")(
                  "d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",
                  i,
                  i,
                  i,
                  i,
                  a ? "true" : "",
                  i,
                );
                break;
              case "bytes":
                e(
                  "d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",
                  i,
                  i,
                  i,
                  i,
                  i,
                );
                break;
              default:
                e("d%s=m%s", i, i);
            }
          }
          return e;
        }
        (i.fromObject = function (e) {
          var r = e.fieldsArray,
            n = a.codegen(
              ["d"],
              e.name + "$fromObject",
            )("if(d instanceof this.ctor)")("return d");
          if (!r.length) return n("return new this.ctor");
          n("var m=new this.ctor");
          for (var i = 0; i < r.length; ++i) {
            var l = r[i].resolve(),
              u = a.safeProp(l.name);
            l.map
              ? (n("if(d%s){", u)('if(typeof d%s!=="object")', u)(
                  "throw TypeError(%j)",
                  l.fullName + ": object expected",
                )("m%s={}", u)(
                  "for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",
                  u,
                ),
                o(n, l, i, u + "[ks[i]]")("}")("}"))
              : l.repeated
                ? (n("if(d%s){", u)("if(!Array.isArray(d%s))", u)(
                    "throw TypeError(%j)",
                    l.fullName + ": array expected",
                  )("m%s=[]", u)("for(var i=0;i<d%s.length;++i){", u),
                  o(n, l, i, u + "[i]")("}")("}"))
                : (l.resolvedType instanceof s || n("if(d%s!=null){", u),
                  o(n, l, i, u),
                  l.resolvedType instanceof s || n("}"));
          }
          return n("return m");
        }),
          (i.toObject = function (e) {
            var r = e.fieldsArray.slice().sort(a.compareFieldsById);
            if (!r.length) return a.codegen()("return {}");
            for (
              var n = a.codegen(["m", "o"], e.name + "$toObject")("if(!o)")(
                  "o={}",
                )("var d={}"),
                i = [],
                o = [],
                u = [],
                c = 0;
              c < r.length;
              ++c
            )
              r[c].partOf ||
                (r[c].resolve().repeated ? i : r[c].map ? o : u).push(r[c]);
            if (i.length) {
              for (n("if(o.arrays||o.defaults){"), c = 0; c < i.length; ++c)
                n("d%s=[]", a.safeProp(i[c].name));
              n("}");
            }
            if (o.length) {
              for (n("if(o.objects||o.defaults){"), c = 0; c < o.length; ++c)
                n("d%s={}", a.safeProp(o[c].name));
              n("}");
            }
            if (u.length) {
              for (n("if(o.defaults){"), c = 0; c < u.length; ++c) {
                var d = u[c],
                  h = a.safeProp(d.name);
                if (d.resolvedType instanceof s)
                  n(
                    "d%s=o.enums===String?%j:%j",
                    h,
                    d.resolvedType.valuesById[d.typeDefault],
                    d.typeDefault,
                  );
                else if (d.long)
                  n("if(util.Long){")(
                    "var n=new util.Long(%i,%i,%j)",
                    d.typeDefault.low,
                    d.typeDefault.high,
                    d.typeDefault.unsigned,
                  )(
                    "d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",
                    h,
                  )("}else")(
                    "d%s=o.longs===String?%j:%i",
                    h,
                    d.typeDefault.toString(),
                    d.typeDefault.toNumber(),
                  );
                else if (d.bytes) {
                  var f =
                    "[" +
                    Array.prototype.slice.call(d.typeDefault).join(",") +
                    "]";
                  n(
                    "if(o.bytes===String)d%s=%j",
                    h,
                    String.fromCharCode.apply(String, d.typeDefault),
                  )("else{")("d%s=%s", h, f)(
                    "if(o.bytes!==Array)d%s=util.newBuffer(d%s)",
                    h,
                    h,
                  )("}");
                } else n("d%s=%j", h, d.typeDefault);
              }
              n("}");
            }
            var p = !1;
            for (c = 0; c < r.length; ++c) {
              var d = r[c],
                g = e._fieldsArray.indexOf(d),
                h = a.safeProp(d.name);
              d.map
                ? (p || ((p = !0), n("var ks2")),
                  n(
                    "if(m%s&&(ks2=Object.keys(m%s)).length){",
                    h,
                    h,
                  )(
                    "d%s={}",
                    h,
                  )("for(var j=0;j<ks2.length;++j){"),
                  l(n, d, g, h + "[ks2[j]]")("}"))
                : d.repeated
                  ? (n("if(m%s&&m%s.length){", h, h)("d%s=[]", h)(
                      "for(var j=0;j<m%s.length;++j){",
                      h,
                    ),
                    l(n, d, g, h + "[j]")("}"))
                  : (n("if(m%s!=null&&m.hasOwnProperty(%j)){", h, d.name),
                    l(n, d, g, h),
                    d.partOf &&
                      n("if(o.oneofs)")(
                        "d%s=%j",
                        a.safeProp(d.partOf.name),
                        d.name,
                      )),
                n("}");
            }
            return n("return d");
          });
      },
      44588: (e, r, n) => {
        "use strict";
        e.exports = l;
        var i = n(33739),
          s = n(1605),
          a = n(50838);
        function o(e) {
          return "missing required '" + e.name + "'";
        }
        function l(e) {
          var r = a.codegen(
            ["r", "l"],
            e.name + "$decode",
          )("if(!(r instanceof Reader))")("r=Reader.create(r)")(
            "var c=l===undefined?r.len:r.pos+l,m=new this.ctor" +
              (e.fieldsArray.filter(function (e) {
                return e.map;
              }).length
                ? ",k,value"
                : ""),
          )("while(r.pos<c){")("var t=r.uint32()");
          e.group && r("if((t&7)===4)")("break"), r("switch(t>>>3){");
          for (var n = 0; n < e.fieldsArray.length; ++n) {
            var l = e._fieldsArray[n].resolve(),
              u = l.resolvedType instanceof i ? "int32" : l.type,
              c = "m" + a.safeProp(l.name);
            r("case %i: {", l.id),
              l.map
                ? (r("if(%s===util.emptyObject)", c)("%s={}", c)(
                    "var c2 = r.uint32()+r.pos",
                  ),
                  void 0 !== s.defaults[l.keyType]
                    ? r("k=%j", s.defaults[l.keyType])
                    : r("k=null"),
                  void 0 !== s.defaults[u]
                    ? r("value=%j", s.defaults[u])
                    : r("value=null"),
                  r("while(r.pos<c2){")("var tag2=r.uint32()")(
                    "switch(tag2>>>3){",
                  )(
                    "case 1: k=r.%s(); break",
                    l.keyType,
                  )("case 2:"),
                  void 0 === s.basic[u]
                    ? r("value=types[%i].decode(r,r.uint32())", n)
                    : r("value=r.%s()", u),
                  r("break")("default:")("r.skipType(tag2&7)")("break")("}")(
                    "}",
                  ),
                  r(
                    void 0 !== s.long[l.keyType]
                      ? '%s[typeof k==="object"?util.longToHash(k):k]=value'
                      : "%s[k]=value",
                    c,
                  ))
                : l.repeated
                  ? (r("if(!(%s&&%s.length))", c, c)("%s=[]", c),
                    void 0 !== s.packed[u] &&
                      r("if((t&7)===2){")("var c2=r.uint32()+r.pos")(
                        "while(r.pos<c2)",
                      )(
                        "%s.push(r.%s())",
                        c,
                        u,
                      )("}else"),
                    void 0 === s.basic[u]
                      ? r(
                          l.resolvedType.group
                            ? "%s.push(types[%i].decode(r))"
                            : "%s.push(types[%i].decode(r,r.uint32()))",
                          c,
                          n,
                        )
                      : r("%s.push(r.%s())", c, u))
                  : void 0 === s.basic[u]
                    ? r(
                        l.resolvedType.group
                          ? "%s=types[%i].decode(r)"
                          : "%s=types[%i].decode(r,r.uint32())",
                        c,
                        n,
                      )
                    : r("%s=r.%s()", c, u),
              r("break")("}");
          }
          for (
            r("default:")("r.skipType(t&7)")("break")("}")("}"), n = 0;
            n < e._fieldsArray.length;
            ++n
          ) {
            var d = e._fieldsArray[n];
            d.required &&
              r("if(!m.hasOwnProperty(%j))", d.name)(
                "throw util.ProtocolError(%j,{instance:m})",
                o(d),
              );
          }
          return r("return m");
        }
      },
      65652: (e, r, n) => {
        "use strict";
        e.exports = l;
        var i = n(33739),
          s = n(1605),
          a = n(50838);
        function o(e, r, n, i) {
          return r.resolvedType.group
            ? e(
                "types[%i].encode(%s,w.uint32(%i)).uint32(%i)",
                n,
                i,
                ((r.id << 3) | 3) >>> 0,
                ((r.id << 3) | 4) >>> 0,
              )
            : e(
                "types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",
                n,
                i,
                ((r.id << 3) | 2) >>> 0,
              );
        }
        function l(e) {
          for (
            var r,
              n,
              l = a.codegen(["m", "w"], e.name + "$encode")("if(!w)")(
                "w=Writer.create()",
              ),
              u = e.fieldsArray.slice().sort(a.compareFieldsById),
              r = 0;
            r < u.length;
            ++r
          ) {
            var c = u[r].resolve(),
              d = e._fieldsArray.indexOf(c),
              h = c.resolvedType instanceof i ? "int32" : c.type,
              f = s.basic[h];
            (n = "m" + a.safeProp(c.name)),
              c.map
                ? (l(
                    "if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",
                    n,
                    c.name,
                  )("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){", n)(
                    "w.uint32(%i).fork().uint32(%i).%s(ks[i])",
                    ((c.id << 3) | 2) >>> 0,
                    8 | s.mapKey[c.keyType],
                    c.keyType,
                  ),
                  void 0 === f
                    ? l(
                        "types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",
                        d,
                        n,
                      )
                    : l(".uint32(%i).%s(%s[ks[i]]).ldelim()", 16 | f, h, n),
                  l("}")("}"))
                : c.repeated
                  ? (l("if(%s!=null&&%s.length){", n, n),
                    c.packed && void 0 !== s.packed[h]
                      ? l("w.uint32(%i).fork()", ((c.id << 3) | 2) >>> 0)(
                          "for(var i=0;i<%s.length;++i)",
                          n,
                        )(
                          "w.%s(%s[i])",
                          h,
                          n,
                        )("w.ldelim()")
                      : (l("for(var i=0;i<%s.length;++i)", n),
                        void 0 === f
                          ? o(l, c, d, n + "[i]")
                          : l(
                              "w.uint32(%i).%s(%s[i])",
                              ((c.id << 3) | f) >>> 0,
                              h,
                              n,
                            )),
                    l("}"))
                  : (c.optional &&
                      l(
                        "if(%s!=null&&Object.hasOwnProperty.call(m,%j))",
                        n,
                        c.name,
                      ),
                    void 0 === f
                      ? o(l, c, d, n)
                      : l(
                          "w.uint32(%i).%s(%s)",
                          ((c.id << 3) | f) >>> 0,
                          h,
                          n,
                        ));
          }
          return l("return w");
        }
      },
      33739: (e, r, n) => {
        "use strict";
        e.exports = o;
        var i = n(92213);
        ((o.prototype = Object.create(i.prototype)).constructor = o).className =
          "Enum";
        var s = n(26595),
          a = n(50838);
        function o(e, r, n, s, a, o) {
          if ((i.call(this, e, n), r && "object" != typeof r))
            throw TypeError("values must be an object");
          if (
            ((this.valuesById = {}),
            (this.values = Object.create(this.valuesById)),
            (this.comment = s),
            (this.comments = a || {}),
            (this.valuesOptions = o),
            (this.reserved = void 0),
            r)
          )
            for (var l = Object.keys(r), u = 0; u < l.length; ++u)
              "number" == typeof r[l[u]] &&
                (this.valuesById[(this.values[l[u]] = r[l[u]])] = l[u]);
        }
        (o.fromJSON = function (e, r) {
          var n = new o(e, r.values, r.options, r.comment, r.comments);
          return (n.reserved = r.reserved), n;
        }),
          (o.prototype.toJSON = function (e) {
            var r = !!e && !!e.keepComments;
            return a.toObject([
              "options",
              this.options,
              "valuesOptions",
              this.valuesOptions,
              "values",
              this.values,
              "reserved",
              this.reserved && this.reserved.length ? this.reserved : void 0,
              "comment",
              r ? this.comment : void 0,
              "comments",
              r ? this.comments : void 0,
            ]);
          }),
          (o.prototype.add = function (e, r, n, i) {
            if (!a.isString(e)) throw TypeError("name must be a string");
            if (!a.isInteger(r)) throw TypeError("id must be an integer");
            if (void 0 !== this.values[e])
              throw Error("duplicate name '" + e + "' in " + this);
            if (this.isReservedId(r))
              throw Error("id " + r + " is reserved in " + this);
            if (this.isReservedName(e))
              throw Error("name '" + e + "' is reserved in " + this);
            if (void 0 !== this.valuesById[r]) {
              if (!(this.options && this.options.allow_alias))
                throw Error("duplicate id " + r + " in " + this);
              this.values[e] = r;
            } else this.valuesById[(this.values[e] = r)] = e;
            return (
              i &&
                (void 0 === this.valuesOptions && (this.valuesOptions = {}),
                (this.valuesOptions[e] = i || null)),
              (this.comments[e] = n || null),
              this
            );
          }),
          (o.prototype.remove = function (e) {
            if (!a.isString(e)) throw TypeError("name must be a string");
            var r = this.values[e];
            if (null == r)
              throw Error("name '" + e + "' does not exist in " + this);
            return (
              delete this.valuesById[r],
              delete this.values[e],
              delete this.comments[e],
              this.valuesOptions && delete this.valuesOptions[e],
              this
            );
          }),
          (o.prototype.isReservedId = function (e) {
            return s.isReservedId(this.reserved, e);
          }),
          (o.prototype.isReservedName = function (e) {
            return s.isReservedName(this.reserved, e);
          });
      },
      71284: (e, r, n) => {
        "use strict";
        e.exports = c;
        var i,
          s = n(92213);
        ((c.prototype = Object.create(s.prototype)).constructor = c).className =
          "Field";
        var a = n(33739),
          o = n(1605),
          l = n(50838),
          u = /^required|optional|repeated$/;
        function c(e, r, n, i, a, c, d) {
          if (
            (l.isObject(i)
              ? ((d = a), (c = i), (i = a = void 0))
              : l.isObject(a) && ((d = c), (c = a), (a = void 0)),
            s.call(this, e, c),
            !l.isInteger(r) || r < 0)
          )
            throw TypeError("id must be a non-negative integer");
          if (!l.isString(n)) throw TypeError("type must be a string");
          if (void 0 !== i && !u.test((i = i.toString().toLowerCase())))
            throw TypeError("rule must be a string rule");
          if (void 0 !== a && !l.isString(a))
            throw TypeError("extend must be a string");
          "proto3_optional" === i && (i = "optional"),
            (this.rule = i && "optional" !== i ? i : void 0),
            (this.type = n),
            (this.id = r),
            (this.extend = a || void 0),
            (this.required = "required" === i),
            (this.optional = !this.required),
            (this.repeated = "repeated" === i),
            (this.map = !1),
            (this.message = null),
            (this.partOf = null),
            (this.typeDefault = null),
            (this.defaultValue = null),
            (this.long = !!l.Long && void 0 !== o.long[n]),
            (this.bytes = "bytes" === n),
            (this.resolvedType = null),
            (this.extensionField = null),
            (this.declaringField = null),
            (this._packed = null),
            (this.comment = d);
        }
        (c.fromJSON = function (e, r) {
          return new c(e, r.id, r.type, r.rule, r.extend, r.options, r.comment);
        }),
          Object.defineProperty(c.prototype, "packed", {
            get: function () {
              return (
                null === this._packed &&
                  (this._packed = !1 !== this.getOption("packed")),
                this._packed
              );
            },
          }),
          (c.prototype.setOption = function (e, r, n) {
            return (
              "packed" === e && (this._packed = null),
              s.prototype.setOption.call(this, e, r, n)
            );
          }),
          (c.prototype.toJSON = function (e) {
            var r = !!e && !!e.keepComments;
            return l.toObject([
              "rule",
              ("optional" !== this.rule && this.rule) || void 0,
              "type",
              this.type,
              "id",
              this.id,
              "extend",
              this.extend,
              "options",
              this.options,
              "comment",
              r ? this.comment : void 0,
            ]);
          }),
          (c.prototype.resolve = function () {
            if (this.resolved) return this;
            if (
              (void 0 === (this.typeDefault = o.defaults[this.type])
                ? ((this.resolvedType = (
                    this.declaringField
                      ? this.declaringField.parent
                      : this.parent
                  ).lookupTypeOrEnum(this.type)),
                  this.resolvedType instanceof i
                    ? (this.typeDefault = null)
                    : (this.typeDefault =
                        this.resolvedType.values[
                          Object.keys(this.resolvedType.values)[0]
                        ]))
                : this.options &&
                  this.options.proto3_optional &&
                  (this.typeDefault = null),
              this.options &&
                null != this.options.default &&
                ((this.typeDefault = this.options.default),
                this.resolvedType instanceof a &&
                  "string" == typeof this.typeDefault &&
                  (this.typeDefault =
                    this.resolvedType.values[this.typeDefault])),
              this.options &&
                ((!0 !== this.options.packed &&
                  (void 0 === this.options.packed ||
                    !this.resolvedType ||
                    this.resolvedType instanceof a)) ||
                  delete this.options.packed,
                Object.keys(this.options).length || (this.options = void 0)),
              this.long)
            )
              (this.typeDefault = l.Long.fromNumber(
                this.typeDefault,
                "u" === this.type.charAt(0),
              )),
                Object.freeze && Object.freeze(this.typeDefault);
            else if (this.bytes && "string" == typeof this.typeDefault) {
              var e;
              l.base64.test(this.typeDefault)
                ? l.base64.decode(
                    this.typeDefault,
                    (e = l.newBuffer(l.base64.length(this.typeDefault))),
                    0,
                  )
                : l.utf8.write(
                    this.typeDefault,
                    (e = l.newBuffer(l.utf8.length(this.typeDefault))),
                    0,
                  ),
                (this.typeDefault = e);
            }
            return (
              this.map
                ? (this.defaultValue = l.emptyObject)
                : this.repeated
                  ? (this.defaultValue = l.emptyArray)
                  : (this.defaultValue = this.typeDefault),
              this.parent instanceof i &&
                (this.parent.ctor.prototype[this.name] = this.defaultValue),
              s.prototype.resolve.call(this)
            );
          }),
          (c.d = function (e, r, n, i) {
            return (
              "function" == typeof r
                ? (r = l.decorateType(r).name)
                : r && "object" == typeof r && (r = l.decorateEnum(r).name),
              function (s, a) {
                l.decorateType(s.constructor).add(
                  new c(a, e, r, n, { default: i }),
                );
              }
            );
          }),
          (c._configure = function (e) {
            i = e;
          });
      },
      76137: (e, r, n) => {
        "use strict";
        var i = (e.exports = n(79514));
        function s(e, r, n) {
          return (
            "function" == typeof r
              ? ((n = r), (r = new i.Root()))
              : r || (r = new i.Root()),
            r.load(e, n)
          );
        }
        function a(e, r) {
          return r || (r = new i.Root()), r.loadSync(e);
        }
        (i.build = "light"),
          (i.load = s),
          (i.loadSync = a),
          (i.encoder = n(65652)),
          (i.decoder = n(44588)),
          (i.verifier = n(55400)),
          (i.converter = n(79292)),
          (i.ReflectionObject = n(92213)),
          (i.Namespace = n(26595)),
          (i.Root = n(34354)),
          (i.Enum = n(33739)),
          (i.Type = n(49586)),
          (i.Field = n(71284)),
          (i.OneOf = n(78325)),
          (i.MapField = n(36200)),
          (i.Service = n(40415)),
          (i.Method = n(80307)),
          (i.Message = n(23031)),
          (i.wrappers = n(55850)),
          (i.types = n(1605)),
          (i.util = n(50838)),
          i.ReflectionObject._configure(i.Root),
          i.Namespace._configure(i.Type, i.Service, i.Enum),
          i.Root._configure(i.Type),
          i.Field._configure(i.Type);
      },
      79514: (e, r, n) => {
        "use strict";
        var i = r;
        function s() {
          i.util._configure(),
            i.Writer._configure(i.BufferWriter),
            i.Reader._configure(i.BufferReader);
        }
        (i.build = "minimal"),
          (i.Writer = n(11525)),
          (i.BufferWriter = n(55362)),
          (i.Reader = n(85537)),
          (i.BufferReader = n(22238)),
          (i.util = n(26850)),
          (i.rpc = n(27719)),
          (i.roots = n(91685)),
          (i.configure = s),
          s();
      },
      44032: (e, r, n) => {
        "use strict";
        var i = (e.exports = n(76137));
        (i.build = "full"),
          (i.tokenize = n(9919)),
          (i.parse = n(34311)),
          (i.common = n(42519)),
          i.Root._configure(i.Type, i.parse, i.common);
      },
      36200: (e, r, n) => {
        "use strict";
        e.exports = o;
        var i = n(71284);
        ((o.prototype = Object.create(i.prototype)).constructor = o).className =
          "MapField";
        var s = n(1605),
          a = n(50838);
        function o(e, r, n, s, o, l) {
          if ((i.call(this, e, r, s, void 0, void 0, o, l), !a.isString(n)))
            throw TypeError("keyType must be a string");
          (this.keyType = n), (this.resolvedKeyType = null), (this.map = !0);
        }
        (o.fromJSON = function (e, r) {
          return new o(e, r.id, r.keyType, r.type, r.options, r.comment);
        }),
          (o.prototype.toJSON = function (e) {
            var r = !!e && !!e.keepComments;
            return a.toObject([
              "keyType",
              this.keyType,
              "type",
              this.type,
              "id",
              this.id,
              "extend",
              this.extend,
              "options",
              this.options,
              "comment",
              r ? this.comment : void 0,
            ]);
          }),
          (o.prototype.resolve = function () {
            if (this.resolved) return this;
            if (void 0 === s.mapKey[this.keyType])
              throw Error("invalid key type: " + this.keyType);
            return i.prototype.resolve.call(this);
          }),
          (o.d = function (e, r, n) {
            return (
              "function" == typeof n
                ? (n = a.decorateType(n).name)
                : n && "object" == typeof n && (n = a.decorateEnum(n).name),
              function (i, s) {
                a.decorateType(i.constructor).add(new o(s, e, r, n));
              }
            );
          });
      },
      23031: (e, r, n) => {
        "use strict";
        e.exports = s;
        var i = n(26850);
        function s(e) {
          if (e)
            for (var r = Object.keys(e), n = 0; n < r.length; ++n)
              this[r[n]] = e[r[n]];
        }
        (s.create = function (e) {
          return this.$type.create(e);
        }),
          (s.encode = function (e, r) {
            return this.$type.encode(e, r);
          }),
          (s.encodeDelimited = function (e, r) {
            return this.$type.encodeDelimited(e, r);
          }),
          (s.decode = function (e) {
            return this.$type.decode(e);
          }),
          (s.decodeDelimited = function (e) {
            return this.$type.decodeDelimited(e);
          }),
          (s.verify = function (e) {
            return this.$type.verify(e);
          }),
          (s.fromObject = function (e) {
            return this.$type.fromObject(e);
          }),
          (s.toObject = function (e, r) {
            return this.$type.toObject(e, r);
          }),
          (s.prototype.toJSON = function () {
            return this.$type.toObject(this, i.toJSONOptions);
          });
      },
      80307: (e, r, n) => {
        "use strict";
        e.exports = a;
        var i = n(92213);
        ((a.prototype = Object.create(i.prototype)).constructor = a).className =
          "Method";
        var s = n(50838);
        function a(e, r, n, a, o, l, u, c, d) {
          if (
            (s.isObject(o)
              ? ((u = o), (o = l = void 0))
              : s.isObject(l) && ((u = l), (l = void 0)),
            !(void 0 === r || s.isString(r)))
          )
            throw TypeError("type must be a string");
          if (!s.isString(n)) throw TypeError("requestType must be a string");
          if (!s.isString(a)) throw TypeError("responseType must be a string");
          i.call(this, e, u),
            (this.type = r || "rpc"),
            (this.requestType = n),
            (this.requestStream = !!o || void 0),
            (this.responseType = a),
            (this.responseStream = !!l || void 0),
            (this.resolvedRequestType = null),
            (this.resolvedResponseType = null),
            (this.comment = c),
            (this.parsedOptions = d);
        }
        (a.fromJSON = function (e, r) {
          return new a(
            e,
            r.type,
            r.requestType,
            r.responseType,
            r.requestStream,
            r.responseStream,
            r.options,
            r.comment,
            r.parsedOptions,
          );
        }),
          (a.prototype.toJSON = function (e) {
            var r = !!e && !!e.keepComments;
            return s.toObject([
              "type",
              ("rpc" !== this.type && this.type) || void 0,
              "requestType",
              this.requestType,
              "requestStream",
              this.requestStream,
              "responseType",
              this.responseType,
              "responseStream",
              this.responseStream,
              "options",
              this.options,
              "comment",
              r ? this.comment : void 0,
              "parsedOptions",
              this.parsedOptions,
            ]);
          }),
          (a.prototype.resolve = function () {
            return this.resolved
              ? this
              : ((this.resolvedRequestType = this.parent.lookupType(
                  this.requestType,
                )),
                (this.resolvedResponseType = this.parent.lookupType(
                  this.responseType,
                )),
                i.prototype.resolve.call(this));
          });
      },
      26595: (e, r, n) => {
        "use strict";
        e.exports = h;
        var i,
          s,
          a,
          o = n(92213);
        ((h.prototype = Object.create(o.prototype)).constructor = h).className =
          "Namespace";
        var l = n(71284),
          u = n(50838),
          c = n(78325);
        function d(e, r) {
          if (e && e.length) {
            for (var n = {}, i = 0; i < e.length; ++i)
              n[e[i].name] = e[i].toJSON(r);
            return n;
          }
        }
        function h(e, r) {
          o.call(this, e, r),
            (this.nested = void 0),
            (this._nestedArray = null);
        }
        function f(e) {
          return (e._nestedArray = null), e;
        }
        (h.fromJSON = function (e, r) {
          return new h(e, r.options).addJSON(r.nested);
        }),
          (h.arrayToJSON = d),
          (h.isReservedId = function (e, r) {
            if (e) {
              for (var n = 0; n < e.length; ++n)
                if ("string" != typeof e[n] && e[n][0] <= r && e[n][1] > r)
                  return !0;
            }
            return !1;
          }),
          (h.isReservedName = function (e, r) {
            if (e) {
              for (var n = 0; n < e.length; ++n) if (e[n] === r) return !0;
            }
            return !1;
          }),
          Object.defineProperty(h.prototype, "nestedArray", {
            get: function () {
              return (
                this._nestedArray ||
                (this._nestedArray = u.toArray(this.nested))
              );
            },
          }),
          (h.prototype.toJSON = function (e) {
            return u.toObject([
              "options",
              this.options,
              "nested",
              d(this.nestedArray, e),
            ]);
          }),
          (h.prototype.addJSON = function (e) {
            var r = this;
            if (e)
              for (var n, o = Object.keys(e), u = 0; u < o.length; ++u)
                (n = e[o[u]]),
                  r.add(
                    (void 0 !== n.fields
                      ? i.fromJSON
                      : void 0 !== n.values
                        ? a.fromJSON
                        : void 0 !== n.methods
                          ? s.fromJSON
                          : void 0 !== n.id
                            ? l.fromJSON
                            : h.fromJSON)(o[u], n),
                  );
            return this;
          }),
          (h.prototype.get = function (e) {
            return (this.nested && this.nested[e]) || null;
          }),
          (h.prototype.getEnum = function (e) {
            if (this.nested && this.nested[e] instanceof a)
              return this.nested[e].values;
            throw Error("no such enum: " + e);
          }),
          (h.prototype.add = function (e) {
            if (
              !(
                (e instanceof l && void 0 !== e.extend) ||
                e instanceof i ||
                e instanceof c ||
                e instanceof a ||
                e instanceof s ||
                e instanceof h
              )
            )
              throw TypeError("object must be a valid nested object");
            if (this.nested) {
              var r = this.get(e.name);
              if (r) {
                if (
                  r instanceof h &&
                  e instanceof h &&
                  !(r instanceof i || r instanceof s)
                ) {
                  for (var n = r.nestedArray, o = 0; o < n.length; ++o)
                    e.add(n[o]);
                  this.remove(r),
                    this.nested || (this.nested = {}),
                    e.setOptions(r.options, !0);
                } else
                  throw Error("duplicate name '" + e.name + "' in " + this);
              }
            } else this.nested = {};
            return (this.nested[e.name] = e), e.onAdd(this), f(this);
          }),
          (h.prototype.remove = function (e) {
            if (!(e instanceof o))
              throw TypeError("object must be a ReflectionObject");
            if (e.parent !== this)
              throw Error(e + " is not a member of " + this);
            return (
              delete this.nested[e.name],
              Object.keys(this.nested).length || (this.nested = void 0),
              e.onRemove(this),
              f(this)
            );
          }),
          (h.prototype.define = function (e, r) {
            if (u.isString(e)) e = e.split(".");
            else if (!Array.isArray(e)) throw TypeError("illegal path");
            if (e && e.length && "" === e[0])
              throw Error("path must be relative");
            for (var n = this; e.length > 0; ) {
              var i = e.shift();
              if (n.nested && n.nested[i]) {
                if (!((n = n.nested[i]) instanceof h))
                  throw Error("path conflicts with non-namespace objects");
              } else n.add((n = new h(i)));
            }
            return r && n.addJSON(r), n;
          }),
          (h.prototype.resolveAll = function () {
            for (var e = this.nestedArray, r = 0; r < e.length; )
              e[r] instanceof h ? e[r++].resolveAll() : e[r++].resolve();
            return this.resolve();
          }),
          (h.prototype.lookup = function (e, r, n) {
            if (
              ("boolean" == typeof r
                ? ((n = r), (r = void 0))
                : r && !Array.isArray(r) && (r = [r]),
              u.isString(e) && e.length)
            ) {
              if ("." === e) return this.root;
              e = e.split(".");
            } else if (!e.length) return this;
            if ("" === e[0]) return this.root.lookup(e.slice(1), r);
            var i = this.get(e[0]);
            if (i) {
              if (1 === e.length) {
                if (!r || r.indexOf(i.constructor) > -1) return i;
              } else if (i instanceof h && (i = i.lookup(e.slice(1), r, !0)))
                return i;
            } else
              for (var s = 0; s < this.nestedArray.length; ++s)
                if (
                  this._nestedArray[s] instanceof h &&
                  (i = this._nestedArray[s].lookup(e, r, !0))
                )
                  return i;
            return null === this.parent || n ? null : this.parent.lookup(e, r);
          }),
          (h.prototype.lookupType = function (e) {
            var r = this.lookup(e, [i]);
            if (!r) throw Error("no such type: " + e);
            return r;
          }),
          (h.prototype.lookupEnum = function (e) {
            var r = this.lookup(e, [a]);
            if (!r) throw Error("no such Enum '" + e + "' in " + this);
            return r;
          }),
          (h.prototype.lookupTypeOrEnum = function (e) {
            var r = this.lookup(e, [i, a]);
            if (!r) throw Error("no such Type or Enum '" + e + "' in " + this);
            return r;
          }),
          (h.prototype.lookupService = function (e) {
            var r = this.lookup(e, [s]);
            if (!r) throw Error("no such Service '" + e + "' in " + this);
            return r;
          }),
          (h._configure = function (e, r, n) {
            (i = e), (s = r), (a = n);
          });
      },
      92213: (e, r, n) => {
        "use strict";
        (e.exports = a), (a.className = "ReflectionObject");
        var i,
          s = n(50838);
        function a(e, r) {
          if (!s.isString(e)) throw TypeError("name must be a string");
          if (r && !s.isObject(r)) throw TypeError("options must be an object");
          (this.options = r),
            (this.parsedOptions = null),
            (this.name = e),
            (this.parent = null),
            (this.resolved = !1),
            (this.comment = null),
            (this.filename = null);
        }
        Object.defineProperties(a.prototype, {
          root: {
            get: function () {
              for (var e = this; null !== e.parent; ) e = e.parent;
              return e;
            },
          },
          fullName: {
            get: function () {
              for (var e = [this.name], r = this.parent; r; )
                e.unshift(r.name), (r = r.parent);
              return e.join(".");
            },
          },
        }),
          (a.prototype.toJSON = function () {
            throw Error();
          }),
          (a.prototype.onAdd = function (e) {
            this.parent && this.parent !== e && this.parent.remove(this),
              (this.parent = e),
              (this.resolved = !1);
            var r = e.root;
            r instanceof i && r._handleAdd(this);
          }),
          (a.prototype.onRemove = function (e) {
            var r = e.root;
            r instanceof i && r._handleRemove(this),
              (this.parent = null),
              (this.resolved = !1);
          }),
          (a.prototype.resolve = function () {
            return (
              this.resolved || (this.root instanceof i && (this.resolved = !0)),
              this
            );
          }),
          (a.prototype.getOption = function (e) {
            if (this.options) return this.options[e];
          }),
          (a.prototype.setOption = function (e, r, n) {
            return (
              (n && this.options && void 0 !== this.options[e]) ||
                ((this.options || (this.options = {}))[e] = r),
              this
            );
          }),
          (a.prototype.setParsedOption = function (e, r, n) {
            this.parsedOptions || (this.parsedOptions = []);
            var i = this.parsedOptions;
            if (n) {
              var a = i.find(function (r) {
                return Object.prototype.hasOwnProperty.call(r, e);
              });
              if (a) {
                var o = a[e];
                s.setProperty(o, n, r);
              } else ((a = {})[e] = s.setProperty({}, n, r)), i.push(a);
            } else {
              var l = {};
              (l[e] = r), i.push(l);
            }
            return this;
          }),
          (a.prototype.setOptions = function (e, r) {
            if (e)
              for (var n = Object.keys(e), i = 0; i < n.length; ++i)
                this.setOption(n[i], e[n[i]], r);
            return this;
          }),
          (a.prototype.toString = function () {
            var e = this.constructor.className,
              r = this.fullName;
            return r.length ? e + " " + r : e;
          }),
          (a._configure = function (e) {
            i = e;
          });
      },
      78325: (e, r, n) => {
        "use strict";
        e.exports = o;
        var i = n(92213);
        ((o.prototype = Object.create(i.prototype)).constructor = o).className =
          "OneOf";
        var s = n(71284),
          a = n(50838);
        function o(e, r, n, s) {
          if (
            (Array.isArray(r) || ((n = r), (r = void 0)),
            i.call(this, e, n),
            !(void 0 === r || Array.isArray(r)))
          )
            throw TypeError("fieldNames must be an Array");
          (this.oneof = r || []), (this.fieldsArray = []), (this.comment = s);
        }
        function l(e) {
          if (e.parent)
            for (var r = 0; r < e.fieldsArray.length; ++r)
              e.fieldsArray[r].parent || e.parent.add(e.fieldsArray[r]);
        }
        (o.fromJSON = function (e, r) {
          return new o(e, r.oneof, r.options, r.comment);
        }),
          (o.prototype.toJSON = function (e) {
            var r = !!e && !!e.keepComments;
            return a.toObject([
              "options",
              this.options,
              "oneof",
              this.oneof,
              "comment",
              r ? this.comment : void 0,
            ]);
          }),
          (o.prototype.add = function (e) {
            if (!(e instanceof s)) throw TypeError("field must be a Field");
            return (
              e.parent && e.parent !== this.parent && e.parent.remove(e),
              this.oneof.push(e.name),
              this.fieldsArray.push(e),
              (e.partOf = this),
              l(this),
              this
            );
          }),
          (o.prototype.remove = function (e) {
            if (!(e instanceof s)) throw TypeError("field must be a Field");
            var r = this.fieldsArray.indexOf(e);
            if (r < 0) throw Error(e + " is not a member of " + this);
            return (
              this.fieldsArray.splice(r, 1),
              (r = this.oneof.indexOf(e.name)) > -1 && this.oneof.splice(r, 1),
              (e.partOf = null),
              this
            );
          }),
          (o.prototype.onAdd = function (e) {
            i.prototype.onAdd.call(this, e);
            for (var r = this, n = 0; n < this.oneof.length; ++n) {
              var s = e.get(this.oneof[n]);
              s && !s.partOf && ((s.partOf = r), r.fieldsArray.push(s));
            }
            l(this);
          }),
          (o.prototype.onRemove = function (e) {
            for (var r, n = 0; n < this.fieldsArray.length; ++n)
              (r = this.fieldsArray[n]).parent && r.parent.remove(r);
            i.prototype.onRemove.call(this, e);
          }),
          (o.d = function () {
            for (var e = Array(arguments.length), r = 0; r < arguments.length; )
              e[r] = arguments[r++];
            return function (r, n) {
              a.decorateType(r.constructor).add(new o(n, e)),
                Object.defineProperty(r, n, {
                  get: a.oneOfGetter(e),
                  set: a.oneOfSetter(e),
                });
            };
          });
      },
      34311: (e, r, n) => {
        "use strict";
        (e.exports = x), (x.filename = null), (x.defaults = { keepCase: !1 });
        var i = n(9919),
          s = n(34354),
          a = n(49586),
          o = n(71284),
          l = n(36200),
          u = n(78325),
          c = n(33739),
          d = n(40415),
          h = n(80307),
          f = n(1605),
          p = n(50838),
          g = /^[1-9][0-9]*$/,
          m = /^-?[1-9][0-9]*$/,
          y = /^0[x][0-9a-fA-F]+$/,
          v = /^-?0[x][0-9a-fA-F]+$/,
          b = /^0[0-7]+$/,
          w = /^-?0[0-7]+$/,
          T = /^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,
          S = /^[a-zA-Z_][a-zA-Z_0-9]*$/,
          E = /^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,
          C = /^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;
        function x(e, r, n) {
          r instanceof s || ((n = r), (r = new s())), n || (n = x.defaults);
          var A,
            I,
            k,
            _,
            R,
            D = n.preferTrailingComment || !1,
            P = i(e, n.alternateCommentMode || !1),
            N = P.next,
            O = P.push,
            M = P.peek,
            L = P.skip,
            B = P.cmnt,
            F = !0,
            U = !1,
            j = r,
            z = n.keepCase
              ? function (e) {
                  return e;
                }
              : p.camelCase;
          function V(e, r, n) {
            var i = x.filename;
            return (
              n || (x.filename = null),
              Error(
                "illegal " +
                  (r || "token") +
                  " '" +
                  e +
                  "' (" +
                  (i ? i + ", " : "") +
                  "line " +
                  P.line +
                  ")",
              )
            );
          }
          function K() {
            var e,
              r = [];
            do {
              if ('"' !== (e = N()) && "'" !== e) throw V(e);
              r.push(N()), L(e), (e = M());
            } while ('"' === e || "'" === e);
            return r.join("");
          }
          function q(e) {
            var r = N();
            switch (r) {
              case "'":
              case '"':
                return O(r), K();
              case "true":
              case "TRUE":
                return !0;
              case "false":
              case "FALSE":
                return !1;
            }
            try {
              return $(r, !0);
            } catch (n) {
              if (e && E.test(r)) return r;
              throw V(r, "value");
            }
          }
          function H(e, r) {
            do
              r && ('"' === (n = M()) || "'" === n)
                ? e.push(K())
                : e.push([(i = W(N())), L("to", !0) ? W(N()) : i]);
            while (L(",", !0));
            var n,
              i,
              s = { options: void 0 };
            (s.setOption = function (e, r) {
              void 0 === this.options && (this.options = {}),
                (this.options[e] = r);
            }),
              J(
                s,
                function (e) {
                  if ("option" === e) ea(s, e), L(";");
                  else throw V(e);
                },
                function () {
                  ec(s);
                },
              );
          }
          function $(e, r) {
            var n = 1;
            switch (
              ("-" === e.charAt(0) && ((n = -1), (e = e.substring(1))), e)
            ) {
              case "inf":
              case "INF":
              case "Inf":
                return (1 / 0) * n;
              case "nan":
              case "NAN":
              case "Nan":
              case "NaN":
                return NaN;
              case "0":
                return 0;
            }
            if (g.test(e)) return n * parseInt(e, 10);
            if (y.test(e)) return n * parseInt(e, 16);
            if (b.test(e)) return n * parseInt(e, 8);
            if (T.test(e)) return n * parseFloat(e);
            throw V(e, "number", r);
          }
          function W(e, r) {
            switch (e) {
              case "max":
              case "MAX":
              case "Max":
                return 0x1fffffff;
              case "0":
                return 0;
            }
            if (!r && "-" === e.charAt(0)) throw V(e, "id");
            if (m.test(e)) return parseInt(e, 10);
            if (v.test(e)) return parseInt(e, 16);
            if (w.test(e)) return parseInt(e, 8);
            throw V(e, "id");
          }
          function G() {
            if (void 0 !== I) throw V("package");
            if (((I = N()), !E.test(I))) throw V(I, "name");
            (j = j.define(I)), L(";");
          }
          function Q() {
            var e,
              r = M();
            switch (r) {
              case "weak":
                (e = _ || (_ = [])), N();
                break;
              case "public":
                N();
              default:
                e = k || (k = []);
            }
            (r = K()), L(";"), e.push(r);
          }
          function Y() {
            if ((L("="), !(U = "proto3" === (R = K())) && "proto2" !== R))
              throw V(R, "syntax");
            r.setOption("syntax", R), L(";");
          }
          function X(e, r) {
            switch (r) {
              case "option":
                return ea(e, r), L(";"), !0;
              case "message":
                return Z(e, r), !0;
              case "enum":
                return ei(e, r), !0;
              case "service":
                return ed(e, r), !0;
              case "extend":
                return ef(e, r), !0;
            }
            return !1;
          }
          function J(e, r, n) {
            var i,
              s = P.line;
            if (
              (e &&
                ("string" != typeof e.comment && (e.comment = B()),
                (e.filename = x.filename)),
              L("{", !0))
            ) {
              for (; "}" !== (i = N()); ) r(i);
              L(";", !0);
            } else
              n && n(),
                L(";"),
                e &&
                  ("string" != typeof e.comment || D) &&
                  (e.comment = B(s) || e.comment);
          }
          function Z(e, r) {
            if (!S.test((r = N()))) throw V(r, "type name");
            var n = new a(r);
            J(n, function (e) {
              if (!X(n, e))
                switch (e) {
                  case "map":
                    er(n, e);
                    break;
                  case "required":
                  case "repeated":
                    ee(n, e);
                    break;
                  case "optional":
                    U ? ee(n, "proto3_optional") : ee(n, "optional");
                    break;
                  case "oneof":
                    en(n, e);
                    break;
                  case "extensions":
                    H(n.extensions || (n.extensions = []));
                    break;
                  case "reserved":
                    H(n.reserved || (n.reserved = []), !0);
                    break;
                  default:
                    if (!U || !E.test(e)) throw V(e);
                    O(e), ee(n, "optional");
                }
            }),
              e.add(n);
          }
          function ee(e, r, n) {
            var i = N();
            if ("group" === i) {
              et(e, r);
              return;
            }
            for (; i.endsWith(".") || M().startsWith("."); ) i += N();
            if (!E.test(i)) throw V(i, "type");
            var s = N();
            if (!S.test(s)) throw V(s, "name");
            (s = z(s)), L("=");
            var a = new o(s, W(N()), i, r, n);
            if (
              (J(
                a,
                function (e) {
                  if ("option" === e) ea(a, e), L(";");
                  else throw V(e);
                },
                function () {
                  ec(a);
                },
              ),
              "proto3_optional" === r)
            ) {
              var l = new u("_" + s);
              a.setOption("proto3_optional", !0), l.add(a), e.add(l);
            } else e.add(a);
            !U &&
              a.repeated &&
              (void 0 !== f.packed[i] || void 0 === f.basic[i]) &&
              a.setOption("packed", !1, !0);
          }
          function et(e, r) {
            var n = N();
            if (!S.test(n)) throw V(n, "name");
            var i = p.lcFirst(n);
            n === i && (n = p.ucFirst(n)), L("=");
            var s = W(N()),
              l = new a(n);
            l.group = !0;
            var u = new o(i, s, n, r);
            (u.filename = x.filename),
              J(l, function (e) {
                switch (e) {
                  case "option":
                    ea(l, e), L(";");
                    break;
                  case "required":
                  case "repeated":
                    ee(l, e);
                    break;
                  case "optional":
                    U ? ee(l, "proto3_optional") : ee(l, "optional");
                    break;
                  case "message":
                    Z(l, e);
                    break;
                  case "enum":
                    ei(l, e);
                    break;
                  default:
                    throw V(e);
                }
              }),
              e.add(l).add(u);
          }
          function er(e) {
            L("<");
            var r = N();
            if (void 0 === f.mapKey[r]) throw V(r, "type");
            L(",");
            var n = N();
            if (!E.test(n)) throw V(n, "type");
            L(">");
            var i = N();
            if (!S.test(i)) throw V(i, "name");
            L("=");
            var s = new l(z(i), W(N()), r, n);
            J(
              s,
              function (e) {
                if ("option" === e) ea(s, e), L(";");
                else throw V(e);
              },
              function () {
                ec(s);
              },
            ),
              e.add(s);
          }
          function en(e, r) {
            if (!S.test((r = N()))) throw V(r, "name");
            var n = new u(z(r));
            J(n, function (e) {
              "option" === e ? (ea(n, e), L(";")) : (O(e), ee(n, "optional"));
            }),
              e.add(n);
          }
          function ei(e, r) {
            if (!S.test((r = N()))) throw V(r, "name");
            var n = new c(r);
            J(n, function (e) {
              switch (e) {
                case "option":
                  ea(n, e), L(";");
                  break;
                case "reserved":
                  H(n.reserved || (n.reserved = []), !0);
                  break;
                default:
                  es(n, e);
              }
            }),
              e.add(n);
          }
          function es(e, r) {
            if (!S.test(r)) throw V(r, "name");
            L("=");
            var n = W(N(), !0),
              i = { options: void 0 };
            (i.setOption = function (e, r) {
              void 0 === this.options && (this.options = {}),
                (this.options[e] = r);
            }),
              J(
                i,
                function (e) {
                  if ("option" === e) ea(i, e), L(";");
                  else throw V(e);
                },
                function () {
                  ec(i);
                },
              ),
              e.add(r, n, i.comment, i.options);
          }
          function ea(e, r) {
            var n,
              i = L("(", !0);
            if (!E.test((r = N()))) throw V(r, "name");
            var s = r,
              a = s;
            i &&
              (L(")"),
              (a = s = "(" + s + ")"),
              (r = M()),
              C.test(r) && ((n = r.slice(1)), (s += r), N())),
              L("=");
            var o = eo(e, s);
            eu(e, a, o, n);
          }
          function eo(e, r) {
            if (L("{", !0)) {
              for (var n = {}; !L("}", !0); ) {
                if (!S.test((A = N()))) throw V(A, "name");
                if (null === A) throw V(A, "end of input");
                var i,
                  s,
                  a = A;
                if ((L(":", !0), "{" === M())) i = eo(e, r + "." + A);
                else if ("[" === M()) {
                  if (((i = []), L("[", !0))) {
                    do (s = q(!0)), i.push(s);
                    while (L(",", !0));
                    L("]"), void 0 !== s && el(e, r + "." + A, s);
                  }
                } else (i = q(!0)), el(e, r + "." + A, i);
                var o = n[a];
                o && (i = [].concat(o).concat(i)),
                  (n[a] = i),
                  L(",", !0),
                  L(";", !0);
              }
              return n;
            }
            var l = q(!0);
            return el(e, r, l), l;
          }
          function el(e, r, n) {
            e.setOption && e.setOption(r, n);
          }
          function eu(e, r, n, i) {
            e.setParsedOption && e.setParsedOption(r, n, i);
          }
          function ec(e) {
            if (L("[", !0)) {
              do ea(e, "option");
              while (L(",", !0));
              L("]");
            }
            return e;
          }
          function ed(e, r) {
            if (!S.test((r = N()))) throw V(r, "service name");
            var n = new d(r);
            J(n, function (e) {
              if (!X(n, e)) {
                if ("rpc" === e) eh(n, e);
                else throw V(e);
              }
            }),
              e.add(n);
          }
          function eh(e, r) {
            var n = B(),
              i = r;
            if (!S.test((r = N()))) throw V(r, "name");
            var s,
              a,
              o,
              l,
              u = r;
            if (
              (L("("),
              L("stream", !0) && (a = !0),
              !E.test((r = N())) ||
                ((s = r),
                L(")"),
                L("returns"),
                L("("),
                L("stream", !0) && (l = !0),
                !E.test((r = N()))))
            )
              throw V(r);
            (o = r), L(")");
            var c = new h(u, i, s, o, a, l);
            (c.comment = n),
              J(c, function (e) {
                if ("option" === e) ea(c, e), L(";");
                else throw V(e);
              }),
              e.add(c);
          }
          function ef(e, r) {
            if (!E.test((r = N()))) throw V(r, "reference");
            var n = r;
            J(null, function (r) {
              switch (r) {
                case "required":
                case "repeated":
                  ee(e, r, n);
                  break;
                case "optional":
                  U ? ee(e, "proto3_optional", n) : ee(e, "optional", n);
                  break;
                default:
                  if (!U || !E.test(r)) throw V(r);
                  O(r), ee(e, "optional", n);
              }
            });
          }
          for (; null !== (A = N()); )
            switch (A) {
              case "package":
                if (!F) throw V(A);
                G();
                break;
              case "import":
                if (!F) throw V(A);
                Q();
                break;
              case "syntax":
                if (!F) throw V(A);
                Y();
                break;
              case "option":
                ea(j, A), L(";");
                break;
              default:
                if (X(j, A)) {
                  F = !1;
                  continue;
                }
                throw V(A);
            }
          return (
            (x.filename = null),
            { package: I, imports: k, weakImports: _, syntax: R, root: r }
          );
        }
      },
      85537: (e, r, n) => {
        "use strict";
        e.exports = u;
        var i,
          s = n(26850),
          a = s.LongBits,
          o = s.utf8;
        function l(e, r) {
          return RangeError(
            "index out of range: " + e.pos + " + " + (r || 1) + " > " + e.len,
          );
        }
        function u(e) {
          (this.buf = e), (this.pos = 0), (this.len = e.length);
        }
        var c =
            "undefined" != typeof Uint8Array
              ? function (e) {
                  if (e instanceof Uint8Array || Array.isArray(e))
                    return new u(e);
                  throw Error("illegal buffer");
                }
              : function (e) {
                  if (Array.isArray(e)) return new u(e);
                  throw Error("illegal buffer");
                },
          d = function () {
            return s.Buffer
              ? function (e) {
                  return (u.create = function (e) {
                    return s.Buffer.isBuffer(e) ? new i(e) : c(e);
                  })(e);
                }
              : c;
          };
        function h() {
          var e = new a(0, 0),
            r = 0;
          if (this.len - this.pos > 4) {
            for (; r < 4; ++r)
              if (
                ((e.lo =
                  (e.lo | ((127 & this.buf[this.pos]) << (7 * r))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
            if (
              ((e.lo = (e.lo | ((127 & this.buf[this.pos]) << 28)) >>> 0),
              (e.hi = (e.hi | ((127 & this.buf[this.pos]) >> 4)) >>> 0),
              this.buf[this.pos++] < 128)
            )
              return e;
            r = 0;
          } else {
            for (; r < 3; ++r) {
              if (this.pos >= this.len) throw l(this);
              if (
                ((e.lo =
                  (e.lo | ((127 & this.buf[this.pos]) << (7 * r))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
            }
            return (
              (e.lo = (e.lo | ((127 & this.buf[this.pos++]) << (7 * r))) >>> 0),
              e
            );
          }
          if (this.len - this.pos > 4) {
            for (; r < 5; ++r)
              if (
                ((e.hi =
                  (e.hi | ((127 & this.buf[this.pos]) << (7 * r + 3))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
          } else
            for (; r < 5; ++r) {
              if (this.pos >= this.len) throw l(this);
              if (
                ((e.hi =
                  (e.hi | ((127 & this.buf[this.pos]) << (7 * r + 3))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
            }
          throw Error("invalid varint encoding");
        }
        function f(e, r) {
          return (
            (e[r - 4] |
              (e[r - 3] << 8) |
              (e[r - 2] << 16) |
              (e[r - 1] << 24)) >>>
            0
          );
        }
        function p() {
          if (this.pos + 8 > this.len) throw l(this, 8);
          return new a(
            f(this.buf, (this.pos += 4)),
            f(this.buf, (this.pos += 4)),
          );
        }
        (u.create = d()),
          (u.prototype._slice =
            s.Array.prototype.subarray || s.Array.prototype.slice),
          (u.prototype.uint32 = (function () {
            var e = 0xffffffff;
            return function () {
              if (
                ((e = (127 & this.buf[this.pos]) >>> 0),
                this.buf[this.pos++] < 128 ||
                  ((e = (e | ((127 & this.buf[this.pos]) << 7)) >>> 0),
                  this.buf[this.pos++] < 128) ||
                  ((e = (e | ((127 & this.buf[this.pos]) << 14)) >>> 0),
                  this.buf[this.pos++] < 128) ||
                  ((e = (e | ((127 & this.buf[this.pos]) << 21)) >>> 0),
                  this.buf[this.pos++] < 128) ||
                  ((e = (e | ((15 & this.buf[this.pos]) << 28)) >>> 0),
                  this.buf[this.pos++] < 128))
              )
                return e;
              if ((this.pos += 5) > this.len)
                throw ((this.pos = this.len), l(this, 10));
              return e;
            };
          })()),
          (u.prototype.int32 = function () {
            return 0 | this.uint32();
          }),
          (u.prototype.sint32 = function () {
            var e = this.uint32();
            return ((e >>> 1) ^ -(1 & e)) | 0;
          }),
          (u.prototype.bool = function () {
            return 0 !== this.uint32();
          }),
          (u.prototype.fixed32 = function () {
            if (this.pos + 4 > this.len) throw l(this, 4);
            return f(this.buf, (this.pos += 4));
          }),
          (u.prototype.sfixed32 = function () {
            if (this.pos + 4 > this.len) throw l(this, 4);
            return 0 | f(this.buf, (this.pos += 4));
          }),
          (u.prototype.float = function () {
            if (this.pos + 4 > this.len) throw l(this, 4);
            var e = s.float.readFloatLE(this.buf, this.pos);
            return (this.pos += 4), e;
          }),
          (u.prototype.double = function () {
            if (this.pos + 8 > this.len) throw l(this, 4);
            var e = s.float.readDoubleLE(this.buf, this.pos);
            return (this.pos += 8), e;
          }),
          (u.prototype.bytes = function () {
            var e = this.uint32(),
              r = this.pos,
              n = this.pos + e;
            if (n > this.len) throw l(this, e);
            if (((this.pos += e), Array.isArray(this.buf)))
              return this.buf.slice(r, n);
            if (r === n) {
              var i = s.Buffer;
              return i ? i.alloc(0) : new this.buf.constructor(0);
            }
            return this._slice.call(this.buf, r, n);
          }),
          (u.prototype.string = function () {
            var e = this.bytes();
            return o.read(e, 0, e.length);
          }),
          (u.prototype.skip = function (e) {
            if ("number" == typeof e) {
              if (this.pos + e > this.len) throw l(this, e);
              this.pos += e;
            } else
              do if (this.pos >= this.len) throw l(this);
              while (128 & this.buf[this.pos++]);
            return this;
          }),
          (u.prototype.skipType = function (e) {
            switch (e) {
              case 0:
                this.skip();
                break;
              case 1:
                this.skip(8);
                break;
              case 2:
                this.skip(this.uint32());
                break;
              case 3:
                for (; 4 != (e = 7 & this.uint32()); ) this.skipType(e);
                break;
              case 5:
                this.skip(4);
                break;
              default:
                throw Error(
                  "invalid wire type " + e + " at offset " + this.pos,
                );
            }
            return this;
          }),
          (u._configure = function (e) {
            (i = e), (u.create = d()), i._configure();
            var r = s.Long ? "toLong" : "toNumber";
            s.merge(u.prototype, {
              int64: function () {
                return h.call(this)[r](!1);
              },
              uint64: function () {
                return h.call(this)[r](!0);
              },
              sint64: function () {
                return h.call(this).zzDecode()[r](!1);
              },
              fixed64: function () {
                return p.call(this)[r](!0);
              },
              sfixed64: function () {
                return p.call(this)[r](!1);
              },
            });
          });
      },
      22238: (e, r, n) => {
        "use strict";
        e.exports = a;
        var i = n(85537);
        (a.prototype = Object.create(i.prototype)).constructor = a;
        var s = n(26850);
        function a(e) {
          i.call(this, e);
        }
        (a._configure = function () {
          s.Buffer && (a.prototype._slice = s.Buffer.prototype.slice);
        }),
          (a.prototype.string = function () {
            var e = this.uint32();
            return this.buf.utf8Slice
              ? this.buf.utf8Slice(
                  this.pos,
                  (this.pos = Math.min(this.pos + e, this.len)),
                )
              : this.buf.toString(
                  "utf-8",
                  this.pos,
                  (this.pos = Math.min(this.pos + e, this.len)),
                );
          }),
          a._configure();
      },
      34354: (e, r, n) => {
        "use strict";
        e.exports = h;
        var i,
          s,
          a,
          o = n(26595);
        ((h.prototype = Object.create(o.prototype)).constructor = h).className =
          "Root";
        var l = n(71284),
          u = n(33739),
          c = n(78325),
          d = n(50838);
        function h(e) {
          o.call(this, "", e), (this.deferred = []), (this.files = []);
        }
        function f() {}
        (h.fromJSON = function (e, r) {
          return (
            r || (r = new h()),
            e.options && r.setOptions(e.options),
            r.addJSON(e.nested)
          );
        }),
          (h.prototype.resolvePath = d.path.resolve),
          (h.prototype.fetch = d.fetch),
          (h.prototype.load = function e(r, n, i) {
            "function" == typeof n && ((i = n), (n = void 0));
            var o = this;
            if (!i) return d.asPromise(e, o, r, n);
            var l = i === f;
            function u(e, r) {
              if (i) {
                if (l) throw e;
                var n = i;
                (i = null), n(e, r);
              }
            }
            function c(e) {
              var r = e.lastIndexOf("google/protobuf/");
              if (r > -1) {
                var n = e.substring(r);
                if (n in a) return n;
              }
              return null;
            }
            function h(e, r) {
              try {
                if (
                  (d.isString(r) && "{" === r.charAt(0) && (r = JSON.parse(r)),
                  d.isString(r))
                ) {
                  s.filename = e;
                  var i,
                    a = s(r, o, n),
                    h = 0;
                  if (a.imports)
                    for (; h < a.imports.length; ++h)
                      (i = c(a.imports[h]) || o.resolvePath(e, a.imports[h])) &&
                        p(i);
                  if (a.weakImports)
                    for (h = 0; h < a.weakImports.length; ++h)
                      (i =
                        c(a.weakImports[h]) ||
                        o.resolvePath(e, a.weakImports[h])) && p(i, !0);
                } else o.setOptions(r.options).addJSON(r.nested);
              } catch (e) {
                u(e);
              }
              l || g || u(null, o);
            }
            function p(e, r) {
              if (((e = c(e) || e), !(o.files.indexOf(e) > -1))) {
                if ((o.files.push(e), e in a)) {
                  l
                    ? h(e, a[e])
                    : (++g,
                      setTimeout(function () {
                        --g, h(e, a[e]);
                      }));
                  return;
                }
                if (l) {
                  var n;
                  try {
                    n = d.fs.readFileSync(e).toString("utf8");
                  } catch (e) {
                    r || u(e);
                    return;
                  }
                  h(e, n);
                } else
                  ++g,
                    o.fetch(e, function (n, s) {
                      if ((--g, i)) {
                        if (n) {
                          r ? g || u(null, o) : u(n);
                          return;
                        }
                        h(e, s);
                      }
                    });
              }
            }
            var g = 0;
            d.isString(r) && (r = [r]);
            for (var m, y = 0; y < r.length; ++y)
              (m = o.resolvePath("", r[y])) && p(m);
            if (l) return o;
            g || u(null, o);
          }),
          (h.prototype.loadSync = function (e, r) {
            if (!d.isNode) throw Error("not supported");
            return this.load(e, r, f);
          }),
          (h.prototype.resolveAll = function () {
            if (this.deferred.length)
              throw Error(
                "unresolvable extensions: " +
                  this.deferred
                    .map(function (e) {
                      return (
                        "'extend " + e.extend + "' in " + e.parent.fullName
                      );
                    })
                    .join(", "),
              );
            return o.prototype.resolveAll.call(this);
          });
        var p = /^[A-Z]/;
        function g(e, r) {
          var n = r.parent.lookup(r.extend);
          if (n) {
            var i = new l(r.fullName, r.id, r.type, r.rule, void 0, r.options);
            return (
              !!n.get(i.name) ||
              ((i.declaringField = r), (r.extensionField = i), n.add(i), !0)
            );
          }
          return !1;
        }
        (h.prototype._handleAdd = function (e) {
          if (e instanceof l)
            void 0 === e.extend ||
              e.extensionField ||
              g(this, e) ||
              this.deferred.push(e);
          else if (e instanceof u)
            p.test(e.name) && (e.parent[e.name] = e.values);
          else if (!(e instanceof c)) {
            if (e instanceof i)
              for (var r = 0; r < this.deferred.length; )
                g(this, this.deferred[r]) ? this.deferred.splice(r, 1) : ++r;
            for (var n = 0; n < e.nestedArray.length; ++n)
              this._handleAdd(e._nestedArray[n]);
            p.test(e.name) && (e.parent[e.name] = e);
          }
        }),
          (h.prototype._handleRemove = function (e) {
            if (e instanceof l) {
              if (void 0 !== e.extend) {
                if (e.extensionField)
                  e.extensionField.parent.remove(e.extensionField),
                    (e.extensionField = null);
                else {
                  var r = this.deferred.indexOf(e);
                  r > -1 && this.deferred.splice(r, 1);
                }
              }
            } else if (e instanceof u)
              p.test(e.name) && delete e.parent[e.name];
            else if (e instanceof o) {
              for (var n = 0; n < e.nestedArray.length; ++n)
                this._handleRemove(e._nestedArray[n]);
              p.test(e.name) && delete e.parent[e.name];
            }
          }),
          (h._configure = function (e, r, n) {
            (i = e), (s = r), (a = n);
          });
      },
      91685: (e) => {
        "use strict";
        e.exports = {};
      },
      27719: (e, r, n) => {
        "use strict";
        r.Service = n(75283);
      },
      75283: (e, r, n) => {
        "use strict";
        e.exports = s;
        var i = n(26850);
        function s(e, r, n) {
          if ("function" != typeof e)
            throw TypeError("rpcImpl must be a function");
          i.EventEmitter.call(this),
            (this.rpcImpl = e),
            (this.requestDelimited = !!r),
            (this.responseDelimited = !!n);
        }
        ((s.prototype = Object.create(i.EventEmitter.prototype)).constructor =
          s),
          (s.prototype.rpcCall = function e(r, n, s, a, o) {
            if (!a) throw TypeError("request must be specified");
            var l = this;
            if (!o) return i.asPromise(e, l, r, n, s, a);
            if (!l.rpcImpl) {
              setTimeout(function () {
                o(Error("already ended"));
              }, 0);
              return;
            }
            try {
              return l.rpcImpl(
                r,
                n[l.requestDelimited ? "encodeDelimited" : "encode"](
                  a,
                ).finish(),
                function (e, n) {
                  if (e) return l.emit("error", e, r), o(e);
                  if (null === n) {
                    l.end(!0);
                    return;
                  }
                  if (!(n instanceof s))
                    try {
                      n =
                        s[l.responseDelimited ? "decodeDelimited" : "decode"](
                          n,
                        );
                    } catch (e) {
                      return l.emit("error", e, r), o(e);
                    }
                  return l.emit("data", n, r), o(null, n);
                },
              );
            } catch (e) {
              l.emit("error", e, r),
                setTimeout(function () {
                  o(e);
                }, 0);
              return;
            }
          }),
          (s.prototype.end = function (e) {
            return (
              this.rpcImpl &&
                (e || this.rpcImpl(null, null, null),
                (this.rpcImpl = null),
                this.emit("end").off()),
              this
            );
          });
      },
      40415: (e, r, n) => {
        "use strict";
        e.exports = l;
        var i = n(26595);
        ((l.prototype = Object.create(i.prototype)).constructor = l).className =
          "Service";
        var s = n(80307),
          a = n(50838),
          o = n(27719);
        function l(e, r) {
          i.call(this, e, r), (this.methods = {}), (this._methodsArray = null);
        }
        function u(e) {
          return (e._methodsArray = null), e;
        }
        (l.fromJSON = function (e, r) {
          var n = new l(e, r.options);
          if (r.methods)
            for (var i = Object.keys(r.methods), a = 0; a < i.length; ++a)
              n.add(s.fromJSON(i[a], r.methods[i[a]]));
          return r.nested && n.addJSON(r.nested), (n.comment = r.comment), n;
        }),
          (l.prototype.toJSON = function (e) {
            var r = i.prototype.toJSON.call(this, e),
              n = !!e && !!e.keepComments;
            return a.toObject([
              "options",
              (r && r.options) || void 0,
              "methods",
              i.arrayToJSON(this.methodsArray, e) || {},
              "nested",
              (r && r.nested) || void 0,
              "comment",
              n ? this.comment : void 0,
            ]);
          }),
          Object.defineProperty(l.prototype, "methodsArray", {
            get: function () {
              return (
                this._methodsArray ||
                (this._methodsArray = a.toArray(this.methods))
              );
            },
          }),
          (l.prototype.get = function (e) {
            return this.methods[e] || i.prototype.get.call(this, e);
          }),
          (l.prototype.resolveAll = function () {
            for (var e = this.methodsArray, r = 0; r < e.length; ++r)
              e[r].resolve();
            return i.prototype.resolve.call(this);
          }),
          (l.prototype.add = function (e) {
            if (this.get(e.name))
              throw Error("duplicate name '" + e.name + "' in " + this);
            return e instanceof s
              ? ((this.methods[e.name] = e), (e.parent = this), u(this))
              : i.prototype.add.call(this, e);
          }),
          (l.prototype.remove = function (e) {
            if (e instanceof s) {
              if (this.methods[e.name] !== e)
                throw Error(e + " is not a member of " + this);
              return delete this.methods[e.name], (e.parent = null), u(this);
            }
            return i.prototype.remove.call(this, e);
          }),
          (l.prototype.create = function (e, r, n) {
            for (
              var i, s = new o.Service(e, r, n), l = 0;
              l < this.methodsArray.length;
              ++l
            ) {
              var u = a
                .lcFirst((i = this._methodsArray[l]).resolve().name)
                .replace(/[^$\w_]/g, "");
              s[u] = a.codegen(
                ["r", "c"],
                a.isReserved(u) ? u + "_" : u,
              )("return this.rpcCall(m,q,s,r,c)")({
                m: i,
                q: i.resolvedRequestType.ctor,
                s: i.resolvedResponseType.ctor,
              });
            }
            return s;
          });
      },
      9919: (e) => {
        "use strict";
        e.exports = h;
        var r = /[\s{}=;:[\],'"()<>]/g,
          n = /(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,
          i = /(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
          s = /^ *[*/]+ */,
          a = /^\s*\*?\/*/,
          o = /\n/g,
          l = /\s/,
          u = /\\(.?)/g,
          c = { 0: "\0", r: "\r", n: "\n", t: "	" };
        function d(e) {
          return e.replace(u, function (e, r) {
            switch (r) {
              case "\\":
              case "":
                return r;
              default:
                return c[r] || "";
            }
          });
        }
        function h(e, u) {
          e = e.toString();
          var c = 0,
            h = e.length,
            f = 1,
            p = 0,
            g = {},
            m = [],
            y = null;
          function v(e) {
            return Error("illegal " + e + " (line " + f + ")");
          }
          function b() {
            var r = "'" === y ? i : n;
            r.lastIndex = c - 1;
            var s = r.exec(e);
            if (!s) throw v("string");
            return (c = r.lastIndex), x(y), (y = null), d(s[1]);
          }
          function w(r) {
            return e.charAt(r);
          }
          function T(r, n, i) {
            var l,
              c,
              d = { type: e.charAt(r++), lineEmpty: !1, leading: i },
              h = r - (l = u ? 2 : 3);
            do
              if (--h < 0 || "\n" === (c = e.charAt(h))) {
                d.lineEmpty = !0;
                break;
              }
            while (" " === c || "	" === c);
            for (var m = e.substring(r, n).split(o), y = 0; y < m.length; ++y)
              m[y] = m[y].replace(u ? a : s, "").trim();
            (d.text = m.join("\n").trim()), (g[f] = d), (p = f);
          }
          function S(r) {
            var n = E(r),
              i = e.substring(r, n);
            return /^\s*\/\//.test(i);
          }
          function E(e) {
            for (var r = e; r < h && "\n" !== w(r); ) r++;
            return r;
          }
          function C() {
            if (m.length > 0) return m.shift();
            if (y) return b();
            var n,
              i,
              s,
              a,
              o,
              d = 0 === c;
            do {
              if (c === h) return null;
              for (n = !1; l.test((s = w(c))); )
                if (("\n" === s && ((d = !0), ++f), ++c === h)) return null;
              if ("/" === w(c)) {
                if (++c === h) throw v("comment");
                if ("/" === w(c)) {
                  if (u) {
                    if (((a = c), (o = !1), S(c - 1))) {
                      o = !0;
                      do if ((c = E(c)) === h || (c++, !d)) break;
                      while (S(c));
                    } else c = Math.min(h, E(c) + 1);
                    o && (T(a, c, d), (d = !0)), f++, (n = !0);
                  } else {
                    for (o = "/" === w((a = c + 1)); "\n" !== w(++c); )
                      if (c === h) return null;
                    ++c, o && (T(a, c - 1, d), (d = !0)), ++f, (n = !0);
                  }
                } else {
                  if ("*" !== (s = w(c))) return "/";
                  (a = c + 1), (o = u || "*" === w(a));
                  do {
                    if (("\n" === s && ++f, ++c === h)) throw v("comment");
                    (i = s), (s = w(c));
                  } while ("*" !== i || "/" !== s);
                  ++c, o && (T(a, c - 2, d), (d = !0)), (n = !0);
                }
              }
            } while (n);
            var p = c;
            if (((r.lastIndex = 0), !r.test(w(p++))))
              for (; p < h && !r.test(w(p)); ) ++p;
            var g = e.substring(c, (c = p));
            return ('"' === g || "'" === g) && (y = g), g;
          }
          function x(e) {
            m.push(e);
          }
          function A() {
            if (!m.length) {
              var e = C();
              if (null === e) return null;
              x(e);
            }
            return m[0];
          }
          function I(e, r) {
            var n = A();
            if (n === e) return C(), !0;
            if (!r) throw v("token '" + n + "', '" + e + "' expected");
            return !1;
          }
          function k(e) {
            var r,
              n = null;
            return (
              void 0 === e
                ? ((r = g[f - 1]),
                  delete g[f - 1],
                  r &&
                    (u || "*" === r.type || r.lineEmpty) &&
                    (n = r.leading ? r.text : null))
                : (p < e && A(),
                  (r = g[e]),
                  delete g[e],
                  r &&
                    !r.lineEmpty &&
                    (u || "/" === r.type) &&
                    (n = r.leading ? null : r.text)),
              n
            );
          }
          return Object.defineProperty(
            { next: C, peek: A, push: x, skip: I, cmnt: k },
            "line",
            {
              get: function () {
                return f;
              },
            },
          );
        }
        h.unescape = d;
      },
      49586: (e, r, n) => {
        "use strict";
        e.exports = b;
        var i = n(26595);
        ((b.prototype = Object.create(i.prototype)).constructor = b).className =
          "Type";
        var s = n(33739),
          a = n(78325),
          o = n(71284),
          l = n(36200),
          u = n(40415),
          c = n(23031),
          d = n(85537),
          h = n(11525),
          f = n(50838),
          p = n(65652),
          g = n(44588),
          m = n(55400),
          y = n(79292),
          v = n(55850);
        function b(e, r) {
          i.call(this, e, r),
            (this.fields = {}),
            (this.oneofs = void 0),
            (this.extensions = void 0),
            (this.reserved = void 0),
            (this.group = void 0),
            (this._fieldsById = null),
            (this._fieldsArray = null),
            (this._oneofsArray = null),
            (this._ctor = null);
        }
        function w(e) {
          return (
            (e._fieldsById = e._fieldsArray = e._oneofsArray = null),
            delete e.encode,
            delete e.decode,
            delete e.verify,
            e
          );
        }
        Object.defineProperties(b.prototype, {
          fieldsById: {
            get: function () {
              if (this._fieldsById) return this._fieldsById;
              this._fieldsById = {};
              for (var e = Object.keys(this.fields), r = 0; r < e.length; ++r) {
                var n = this.fields[e[r]],
                  i = n.id;
                if (this._fieldsById[i])
                  throw Error("duplicate id " + i + " in " + this);
                this._fieldsById[i] = n;
              }
              return this._fieldsById;
            },
          },
          fieldsArray: {
            get: function () {
              return (
                this._fieldsArray ||
                (this._fieldsArray = f.toArray(this.fields))
              );
            },
          },
          oneofsArray: {
            get: function () {
              return (
                this._oneofsArray ||
                (this._oneofsArray = f.toArray(this.oneofs))
              );
            },
          },
          ctor: {
            get: function () {
              return this._ctor || (this.ctor = b.generateConstructor(this)());
            },
            set: function (e) {
              var r = e.prototype;
              r instanceof c ||
                (((e.prototype = new c()).constructor = e),
                f.merge(e.prototype, r)),
                (e.$type = e.prototype.$type = this),
                f.merge(e, c, !0),
                (this._ctor = e);
              for (var n = 0; n < this.fieldsArray.length; ++n)
                this._fieldsArray[n].resolve();
              var i = {};
              for (n = 0; n < this.oneofsArray.length; ++n)
                i[this._oneofsArray[n].resolve().name] = {
                  get: f.oneOfGetter(this._oneofsArray[n].oneof),
                  set: f.oneOfSetter(this._oneofsArray[n].oneof),
                };
              n && Object.defineProperties(e.prototype, i);
            },
          },
        }),
          (b.generateConstructor = function (e) {
            for (
              var r, n = f.codegen(["p"], e.name), i = 0;
              i < e.fieldsArray.length;
              ++i
            )
              (r = e._fieldsArray[i]).map
                ? n("this%s={}", f.safeProp(r.name))
                : r.repeated && n("this%s=[]", f.safeProp(r.name));
            return n(
              "if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)",
            )("this[ks[i]]=p[ks[i]]");
          }),
          (b.fromJSON = function (e, r) {
            var n = new b(e, r.options);
            (n.extensions = r.extensions), (n.reserved = r.reserved);
            for (var c = Object.keys(r.fields), d = 0; d < c.length; ++d)
              n.add(
                (void 0 !== r.fields[c[d]].keyType ? l.fromJSON : o.fromJSON)(
                  c[d],
                  r.fields[c[d]],
                ),
              );
            if (r.oneofs)
              for (c = Object.keys(r.oneofs), d = 0; d < c.length; ++d)
                n.add(a.fromJSON(c[d], r.oneofs[c[d]]));
            if (r.nested)
              for (c = Object.keys(r.nested), d = 0; d < c.length; ++d) {
                var h = r.nested[c[d]];
                n.add(
                  (void 0 !== h.id
                    ? o.fromJSON
                    : void 0 !== h.fields
                      ? b.fromJSON
                      : void 0 !== h.values
                        ? s.fromJSON
                        : void 0 !== h.methods
                          ? u.fromJSON
                          : i.fromJSON)(c[d], h),
                );
              }
            return (
              r.extensions &&
                r.extensions.length &&
                (n.extensions = r.extensions),
              r.reserved && r.reserved.length && (n.reserved = r.reserved),
              r.group && (n.group = !0),
              r.comment && (n.comment = r.comment),
              n
            );
          }),
          (b.prototype.toJSON = function (e) {
            var r = i.prototype.toJSON.call(this, e),
              n = !!e && !!e.keepComments;
            return f.toObject([
              "options",
              (r && r.options) || void 0,
              "oneofs",
              i.arrayToJSON(this.oneofsArray, e),
              "fields",
              i.arrayToJSON(
                this.fieldsArray.filter(function (e) {
                  return !e.declaringField;
                }),
                e,
              ) || {},
              "extensions",
              this.extensions && this.extensions.length
                ? this.extensions
                : void 0,
              "reserved",
              this.reserved && this.reserved.length ? this.reserved : void 0,
              "group",
              this.group || void 0,
              "nested",
              (r && r.nested) || void 0,
              "comment",
              n ? this.comment : void 0,
            ]);
          }),
          (b.prototype.resolveAll = function () {
            for (var e = this.fieldsArray, r = 0; r < e.length; )
              e[r++].resolve();
            var n = this.oneofsArray;
            for (r = 0; r < n.length; ) n[r++].resolve();
            return i.prototype.resolveAll.call(this);
          }),
          (b.prototype.get = function (e) {
            return (
              this.fields[e] ||
              (this.oneofs && this.oneofs[e]) ||
              (this.nested && this.nested[e]) ||
              null
            );
          }),
          (b.prototype.add = function (e) {
            if (this.get(e.name))
              throw Error("duplicate name '" + e.name + "' in " + this);
            if (e instanceof o && void 0 === e.extend) {
              if (
                this._fieldsById
                  ? this._fieldsById[e.id]
                  : this.fieldsById[e.id]
              )
                throw Error("duplicate id " + e.id + " in " + this);
              if (this.isReservedId(e.id))
                throw Error("id " + e.id + " is reserved in " + this);
              if (this.isReservedName(e.name))
                throw Error("name '" + e.name + "' is reserved in " + this);
              return (
                e.parent && e.parent.remove(e),
                (this.fields[e.name] = e),
                (e.message = this),
                e.onAdd(this),
                w(this)
              );
            }
            return e instanceof a
              ? (this.oneofs || (this.oneofs = {}),
                (this.oneofs[e.name] = e),
                e.onAdd(this),
                w(this))
              : i.prototype.add.call(this, e);
          }),
          (b.prototype.remove = function (e) {
            if (e instanceof o && void 0 === e.extend) {
              if (!this.fields || this.fields[e.name] !== e)
                throw Error(e + " is not a member of " + this);
              return (
                delete this.fields[e.name],
                (e.parent = null),
                e.onRemove(this),
                w(this)
              );
            }
            if (e instanceof a) {
              if (!this.oneofs || this.oneofs[e.name] !== e)
                throw Error(e + " is not a member of " + this);
              return (
                delete this.oneofs[e.name],
                (e.parent = null),
                e.onRemove(this),
                w(this)
              );
            }
            return i.prototype.remove.call(this, e);
          }),
          (b.prototype.isReservedId = function (e) {
            return i.isReservedId(this.reserved, e);
          }),
          (b.prototype.isReservedName = function (e) {
            return i.isReservedName(this.reserved, e);
          }),
          (b.prototype.create = function (e) {
            return new this.ctor(e);
          }),
          (b.prototype.setup = function () {
            for (
              var e = this.fullName, r = [], n = 0;
              n < this.fieldsArray.length;
              ++n
            )
              r.push(this._fieldsArray[n].resolve().resolvedType);
            (this.encode = p(this)({ Writer: h, types: r, util: f })),
              (this.decode = g(this)({ Reader: d, types: r, util: f })),
              (this.verify = m(this)({ types: r, util: f })),
              (this.fromObject = y.fromObject(this)({ types: r, util: f })),
              (this.toObject = y.toObject(this)({ types: r, util: f }));
            var i = v[e];
            if (i) {
              var s = Object.create(this);
              (s.fromObject = this.fromObject),
                (this.fromObject = i.fromObject.bind(s)),
                (s.toObject = this.toObject),
                (this.toObject = i.toObject.bind(s));
            }
            return this;
          }),
          (b.prototype.encode = function (e, r) {
            return this.setup().encode(e, r);
          }),
          (b.prototype.encodeDelimited = function (e, r) {
            return this.encode(e, r && r.len ? r.fork() : r).ldelim();
          }),
          (b.prototype.decode = function (e, r) {
            return this.setup().decode(e, r);
          }),
          (b.prototype.decodeDelimited = function (e) {
            return (
              e instanceof d || (e = d.create(e)), this.decode(e, e.uint32())
            );
          }),
          (b.prototype.verify = function (e) {
            return this.setup().verify(e);
          }),
          (b.prototype.fromObject = function (e) {
            return this.setup().fromObject(e);
          }),
          (b.prototype.toObject = function (e, r) {
            return this.setup().toObject(e, r);
          }),
          (b.d = function (e) {
            return function (r) {
              f.decorateType(r, e);
            };
          });
      },
      1605: (e, r, n) => {
        "use strict";
        var i = r,
          s = n(50838),
          a = [
            "double",
            "float",
            "int32",
            "uint32",
            "sint32",
            "fixed32",
            "sfixed32",
            "int64",
            "uint64",
            "sint64",
            "fixed64",
            "sfixed64",
            "bool",
            "string",
            "bytes",
          ];
        function o(e, r) {
          var n = 0,
            i = {};
          for (r |= 0; n < e.length; ) i[a[n + r]] = e[n++];
          return i;
        }
        (i.basic = o([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2, 2])),
          (i.defaults = o([
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            !1,
            "",
            s.emptyArray,
            null,
          ])),
          (i.long = o([0, 0, 0, 1, 1], 7)),
          (i.mapKey = o([0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2], 2)),
          (i.packed = o([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0]));
      },
      50838: (e, r, n) => {
        "use strict";
        var i,
          s,
          a = (e.exports = n(26850)),
          o = n(91685);
        (a.codegen = n(93261)),
          (a.fetch = n(11344)),
          (a.path = n(18151)),
          (a.fs = a.inquire("fs")),
          (a.toArray = function (e) {
            if (e) {
              for (
                var r = Object.keys(e), n = Array(r.length), i = 0;
                i < r.length;

              )
                n[i] = e[r[i++]];
              return n;
            }
            return [];
          }),
          (a.toObject = function (e) {
            for (var r = {}, n = 0; n < e.length; ) {
              var i = e[n++],
                s = e[n++];
              void 0 !== s && (r[i] = s);
            }
            return r;
          });
        var l = /\\/g,
          u = /"/g;
        (a.isReserved = function (e) {
          return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(
            e,
          );
        }),
          (a.safeProp = function (e) {
            return !/^[$\w_]+$/.test(e) || a.isReserved(e)
              ? '["' + e.replace(l, "\\\\").replace(u, '\\"') + '"]'
              : "." + e;
          }),
          (a.ucFirst = function (e) {
            return e.charAt(0).toUpperCase() + e.substring(1);
          });
        var c = /_([a-z])/g;
        (a.camelCase = function (e) {
          return (
            e.substring(0, 1) +
            e.substring(1).replace(c, function (e, r) {
              return r.toUpperCase();
            })
          );
        }),
          (a.compareFieldsById = function (e, r) {
            return e.id - r.id;
          }),
          (a.decorateType = function (e, r) {
            if (e.$type)
              return (
                r &&
                  e.$type.name !== r &&
                  (a.decorateRoot.remove(e.$type),
                  (e.$type.name = r),
                  a.decorateRoot.add(e.$type)),
                e.$type
              );
            i || (i = n(49586));
            var s = new i(r || e.name);
            return (
              a.decorateRoot.add(s),
              (s.ctor = e),
              Object.defineProperty(e, "$type", { value: s, enumerable: !1 }),
              Object.defineProperty(e.prototype, "$type", {
                value: s,
                enumerable: !1,
              }),
              s
            );
          });
        var d = 0;
        (a.decorateEnum = function (e) {
          if (e.$type) return e.$type;
          s || (s = n(33739));
          var r = new s("Enum" + d++, e);
          return (
            a.decorateRoot.add(r),
            Object.defineProperty(e, "$type", { value: r, enumerable: !1 }),
            r
          );
        }),
          (a.setProperty = function (e, r, n) {
            function i(e, r, n) {
              var s = r.shift();
              if ("__proto__" === s || "prototype" === s) return e;
              if (r.length > 0) e[s] = i(e[s] || {}, r, n);
              else {
                var a = e[s];
                a && (n = [].concat(a).concat(n)), (e[s] = n);
              }
              return e;
            }
            if ("object" != typeof e) throw TypeError("dst must be an object");
            if (!r) throw TypeError("path must be specified");
            return i(e, (r = r.split(".")), n);
          }),
          Object.defineProperty(a, "decorateRoot", {
            get: function () {
              return o.decorated || (o.decorated = new (n(34354))());
            },
          });
      },
      49735: (e, r, n) => {
        "use strict";
        e.exports = s;
        var i = n(26850);
        function s(e, r) {
          (this.lo = e >>> 0), (this.hi = r >>> 0);
        }
        var a = (s.zero = new s(0, 0));
        (a.toNumber = function () {
          return 0;
        }),
          (a.zzEncode = a.zzDecode =
            function () {
              return this;
            }),
          (a.length = function () {
            return 1;
          });
        var o = (s.zeroHash = "\0\0\0\0\0\0\0\0");
        (s.fromNumber = function (e) {
          if (0 === e) return a;
          var r = e < 0;
          r && (e = -e);
          var n = e >>> 0,
            i = ((e - n) / 0x100000000) >>> 0;
          return (
            r &&
              ((i = ~i >>> 0),
              (n = ~n >>> 0),
              ++n > 0xffffffff && ((n = 0), ++i > 0xffffffff && (i = 0))),
            new s(n, i)
          );
        }),
          (s.from = function (e) {
            if ("number" == typeof e) return s.fromNumber(e);
            if (i.isString(e)) {
              if (!i.Long) return s.fromNumber(parseInt(e, 10));
              e = i.Long.fromString(e);
            }
            return e.low || e.high ? new s(e.low >>> 0, e.high >>> 0) : a;
          }),
          (s.prototype.toNumber = function (e) {
            if (!e && this.hi >>> 31) {
              var r = (~this.lo + 1) >>> 0,
                n = ~this.hi >>> 0;
              return r || (n = (n + 1) >>> 0), -(r + 0x100000000 * n);
            }
            return this.lo + 0x100000000 * this.hi;
          }),
          (s.prototype.toLong = function (e) {
            return i.Long
              ? new i.Long(0 | this.lo, 0 | this.hi, !!e)
              : { low: 0 | this.lo, high: 0 | this.hi, unsigned: !!e };
          });
        var l = String.prototype.charCodeAt;
        (s.fromHash = function (e) {
          return e === o
            ? a
            : new s(
                (l.call(e, 0) |
                  (l.call(e, 1) << 8) |
                  (l.call(e, 2) << 16) |
                  (l.call(e, 3) << 24)) >>>
                  0,
                (l.call(e, 4) |
                  (l.call(e, 5) << 8) |
                  (l.call(e, 6) << 16) |
                  (l.call(e, 7) << 24)) >>>
                  0,
              );
        }),
          (s.prototype.toHash = function () {
            return String.fromCharCode(
              255 & this.lo,
              (this.lo >>> 8) & 255,
              (this.lo >>> 16) & 255,
              this.lo >>> 24,
              255 & this.hi,
              (this.hi >>> 8) & 255,
              (this.hi >>> 16) & 255,
              this.hi >>> 24,
            );
          }),
          (s.prototype.zzEncode = function () {
            var e = this.hi >> 31;
            return (
              (this.hi = (((this.hi << 1) | (this.lo >>> 31)) ^ e) >>> 0),
              (this.lo = ((this.lo << 1) ^ e) >>> 0),
              this
            );
          }),
          (s.prototype.zzDecode = function () {
            var e = -(1 & this.lo);
            return (
              (this.lo = (((this.lo >>> 1) | (this.hi << 31)) ^ e) >>> 0),
              (this.hi = ((this.hi >>> 1) ^ e) >>> 0),
              this
            );
          }),
          (s.prototype.length = function () {
            var e = this.lo,
              r = ((this.lo >>> 28) | (this.hi << 4)) >>> 0,
              n = this.hi >>> 24;
            return 0 === n
              ? 0 === r
                ? e < 16384
                  ? e < 128
                    ? 1
                    : 2
                  : e < 2097152
                    ? 3
                    : 4
                : r < 16384
                  ? r < 128
                    ? 5
                    : 6
                  : r < 2097152
                    ? 7
                    : 8
              : n < 128
                ? 9
                : 10;
          });
      },
      26850: function (e, r, n) {
        "use strict";
        var i = r;
        function s(e, r, n) {
          for (var i = Object.keys(r), s = 0; s < i.length; ++s)
            (void 0 !== e[i[s]] && n) || (e[i[s]] = r[i[s]]);
          return e;
        }
        function a(e) {
          function r(e, n) {
            if (!(this instanceof r)) return new r(e, n);
            Object.defineProperty(this, "message", {
              get: function () {
                return e;
              },
            }),
              Error.captureStackTrace
                ? Error.captureStackTrace(this, r)
                : Object.defineProperty(this, "stack", {
                    value: Error().stack || "",
                  }),
              n && s(this, n);
          }
          return (
            (r.prototype = Object.create(Error.prototype, {
              constructor: {
                value: r,
                writable: !0,
                enumerable: !1,
                configurable: !0,
              },
              name: {
                get: function () {
                  return e;
                },
                set: void 0,
                enumerable: !1,
                configurable: !0,
              },
              toString: {
                value: function () {
                  return this.name + ": " + this.message;
                },
                writable: !0,
                enumerable: !1,
                configurable: !0,
              },
            })),
            r
          );
        }
        (i.asPromise = n(17609)),
          (i.base64 = n(65703)),
          (i.EventEmitter = n(78294)),
          (i.float = n(74194)),
          (i.inquire = n(72861)),
          (i.utf8 = n(57239)),
          (i.pool = n(32902)),
          (i.LongBits = n(49735)),
          (i.isNode = !!(
            "undefined" != typeof global &&
            global &&
            global.process &&
            global.process.versions &&
            global.process.versions.node
          )),
          (i.global =
            (i.isNode && global) ||
            ("undefined" != typeof window && window) ||
            ("undefined" != typeof self && self) ||
            this),
          (i.emptyArray = Object.freeze ? Object.freeze([]) : []),
          (i.emptyObject = Object.freeze ? Object.freeze({}) : {}),
          (i.isInteger =
            Number.isInteger ||
            function (e) {
              return "number" == typeof e && isFinite(e) && Math.floor(e) === e;
            }),
          (i.isString = function (e) {
            return "string" == typeof e || e instanceof String;
          }),
          (i.isObject = function (e) {
            return e && "object" == typeof e;
          }),
          (i.isset = i.isSet =
            function (e, r) {
              var n = e[r];
              return (
                !!(null != n && e.hasOwnProperty(r)) &&
                ("object" != typeof n ||
                  (Array.isArray(n) ? n.length : Object.keys(n).length) > 0)
              );
            }),
          (i.Buffer = (function () {
            try {
              var e = i.inquire("buffer").Buffer;
              return e.prototype.utf8Write ? e : null;
            } catch (e) {
              return null;
            }
          })()),
          (i._Buffer_from = null),
          (i._Buffer_allocUnsafe = null),
          (i.newBuffer = function (e) {
            return "number" == typeof e
              ? i.Buffer
                ? i._Buffer_allocUnsafe(e)
                : new i.Array(e)
              : i.Buffer
                ? i._Buffer_from(e)
                : "undefined" == typeof Uint8Array
                  ? e
                  : new Uint8Array(e);
          }),
          (i.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array),
          (i.Long =
            (i.global.dcodeIO && i.global.dcodeIO.Long) ||
            i.global.Long ||
            i.inquire("long")),
          (i.key2Re = /^true|false|0|1$/),
          (i.key32Re = /^-?(?:0|[1-9][0-9]*)$/),
          (i.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/),
          (i.longToHash = function (e) {
            return e ? i.LongBits.from(e).toHash() : i.LongBits.zeroHash;
          }),
          (i.longFromHash = function (e, r) {
            var n = i.LongBits.fromHash(e);
            return i.Long ? i.Long.fromBits(n.lo, n.hi, r) : n.toNumber(!!r);
          }),
          (i.merge = s),
          (i.lcFirst = function (e) {
            return e.charAt(0).toLowerCase() + e.substring(1);
          }),
          (i.newError = a),
          (i.ProtocolError = a("ProtocolError")),
          (i.oneOfGetter = function (e) {
            for (var r = {}, n = 0; n < e.length; ++n) r[e[n]] = 1;
            return function () {
              for (var e = Object.keys(this), n = e.length - 1; n > -1; --n)
                if (
                  1 === r[e[n]] &&
                  void 0 !== this[e[n]] &&
                  null !== this[e[n]]
                )
                  return e[n];
            };
          }),
          (i.oneOfSetter = function (e) {
            return function (r) {
              for (var n = 0; n < e.length; ++n)
                e[n] !== r && delete this[e[n]];
            };
          }),
          (i.toJSONOptions = {
            longs: String,
            enums: String,
            bytes: String,
            json: !0,
          }),
          (i._configure = function () {
            var e = i.Buffer;
            if (!e) {
              i._Buffer_from = i._Buffer_allocUnsafe = null;
              return;
            }
            (i._Buffer_from =
              (e.from !== Uint8Array.from && e.from) ||
              function (r, n) {
                return new e(r, n);
              }),
              (i._Buffer_allocUnsafe =
                e.allocUnsafe ||
                function (r) {
                  return new e(r);
                });
          });
      },
      55400: (e, r, n) => {
        "use strict";
        e.exports = u;
        var i = n(33739),
          s = n(50838);
        function a(e, r) {
          return (
            e.name +
            ": " +
            r +
            (e.repeated && "array" !== r
              ? "[]"
              : e.map && "object" !== r
                ? "{k:" + e.keyType + "}"
                : "") +
            " expected"
          );
        }
        function o(e, r, n, s) {
          if (r.resolvedType) {
            if (r.resolvedType instanceof i) {
              e("switch(%s){", s)("default:")("return%j", a(r, "enum value"));
              for (
                var o = Object.keys(r.resolvedType.values), l = 0;
                l < o.length;
                ++l
              )
                e("case %i:", r.resolvedType.values[o[l]]);
              e("break")("}");
            } else
              e("{")("var e=types[%i].verify(%s);", n, s)("if(e)")(
                "return%j+e",
                r.name + ".",
              )("}");
          } else
            switch (r.type) {
              case "int32":
              case "uint32":
              case "sint32":
              case "fixed32":
              case "sfixed32":
                e("if(!util.isInteger(%s))", s)("return%j", a(r, "integer"));
                break;
              case "int64":
              case "uint64":
              case "sint64":
              case "fixed64":
              case "sfixed64":
                e(
                  "if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",
                  s,
                  s,
                  s,
                  s,
                )("return%j", a(r, "integer|Long"));
                break;
              case "float":
              case "double":
                e('if(typeof %s!=="number")', s)("return%j", a(r, "number"));
                break;
              case "bool":
                e('if(typeof %s!=="boolean")', s)("return%j", a(r, "boolean"));
                break;
              case "string":
                e("if(!util.isString(%s))", s)("return%j", a(r, "string"));
                break;
              case "bytes":
                e(
                  'if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',
                  s,
                  s,
                  s,
                )("return%j", a(r, "buffer"));
            }
          return e;
        }
        function l(e, r, n) {
          switch (r.keyType) {
            case "int32":
            case "uint32":
            case "sint32":
            case "fixed32":
            case "sfixed32":
              e("if(!util.key32Re.test(%s))", n)(
                "return%j",
                a(r, "integer key"),
              );
              break;
            case "int64":
            case "uint64":
            case "sint64":
            case "fixed64":
            case "sfixed64":
              e("if(!util.key64Re.test(%s))", n)(
                "return%j",
                a(r, "integer|Long key"),
              );
              break;
            case "bool":
              e("if(!util.key2Re.test(%s))", n)(
                "return%j",
                a(r, "boolean key"),
              );
          }
          return e;
        }
        function u(e) {
          var r = s.codegen(
              ["m"],
              e.name + "$verify",
            )('if(typeof m!=="object"||m===null)')(
              "return%j",
              "object expected",
            ),
            n = e.oneofsArray,
            i = {};
          n.length && r("var p={}");
          for (var u = 0; u < e.fieldsArray.length; ++u) {
            var c = e._fieldsArray[u].resolve(),
              d = "m" + s.safeProp(c.name);
            if (
              (c.optional &&
                r("if(%s!=null&&m.hasOwnProperty(%j)){", d, c.name),
              c.map)
            )
              r("if(!util.isObject(%s))", d)("return%j", a(c, "object"))(
                "var k=Object.keys(%s)",
                d,
              )("for(var i=0;i<k.length;++i){"),
                l(r, c, "k[i]"),
                o(r, c, u, d + "[k[i]]")("}");
            else if (c.repeated)
              r("if(!Array.isArray(%s))", d)("return%j", a(c, "array"))(
                "for(var i=0;i<%s.length;++i){",
                d,
              ),
                o(r, c, u, d + "[i]")("}");
            else {
              if (c.partOf) {
                var h = s.safeProp(c.partOf.name);
                1 === i[c.partOf.name] &&
                  r("if(p%s===1)", h)(
                    "return%j",
                    c.partOf.name + ": multiple values",
                  ),
                  (i[c.partOf.name] = 1),
                  r("p%s=1", h);
              }
              o(r, c, u, d);
            }
            c.optional && r("}");
          }
          return r("return null");
        }
      },
      55850: (e, r, n) => {
        "use strict";
        var i = r,
          s = n(23031);
        i[".google.protobuf.Any"] = {
          fromObject: function (e) {
            if (e && e["@type"]) {
              var r = e["@type"].substring(e["@type"].lastIndexOf("/") + 1),
                n = this.lookup(r);
              if (n) {
                var i =
                  "." === e["@type"].charAt(0)
                    ? e["@type"].slice(1)
                    : e["@type"];
                return (
                  -1 === i.indexOf("/") && (i = "/" + i),
                  this.create({
                    type_url: i,
                    value: n.encode(n.fromObject(e)).finish(),
                  })
                );
              }
            }
            return this.fromObject(e);
          },
          toObject: function (e, r) {
            var n = "type.googleapis.com/",
              i = "",
              a = "";
            if (r && r.json && e.type_url && e.value) {
              (a = e.type_url.substring(e.type_url.lastIndexOf("/") + 1)),
                (i = e.type_url.substring(0, e.type_url.lastIndexOf("/") + 1));
              var o = this.lookup(a);
              o && (e = o.decode(e.value));
            }
            if (!(e instanceof this.ctor) && e instanceof s) {
              var l = e.$type.toObject(e, r),
                u =
                  "." === e.$type.fullName[0]
                    ? e.$type.fullName.slice(1)
                    : e.$type.fullName;
              return "" === i && (i = n), (a = i + u), (l["@type"] = a), l;
            }
            return this.toObject(e, r);
          },
        };
      },
      11525: (e, r, n) => {
        "use strict";
        e.exports = h;
        var i,
          s = n(26850),
          a = s.LongBits,
          o = s.base64,
          l = s.utf8;
        function u(e, r, n) {
          (this.fn = e), (this.len = r), (this.next = void 0), (this.val = n);
        }
        function c() {}
        function d(e) {
          (this.head = e.head),
            (this.tail = e.tail),
            (this.len = e.len),
            (this.next = e.states);
        }
        function h() {
          (this.len = 0),
            (this.head = new u(c, 0, 0)),
            (this.tail = this.head),
            (this.states = null);
        }
        var f = function () {
          return s.Buffer
            ? function () {
                return (h.create = function () {
                  return new i();
                })();
              }
            : function () {
                return new h();
              };
        };
        function p(e, r, n) {
          r[n] = 255 & e;
        }
        function g(e, r, n) {
          for (; e > 127; ) (r[n++] = (127 & e) | 128), (e >>>= 7);
          r[n] = e;
        }
        function m(e, r) {
          (this.len = e), (this.next = void 0), (this.val = r);
        }
        function y(e, r, n) {
          for (; e.hi; )
            (r[n++] = (127 & e.lo) | 128),
              (e.lo = ((e.lo >>> 7) | (e.hi << 25)) >>> 0),
              (e.hi >>>= 7);
          for (; e.lo > 127; )
            (r[n++] = (127 & e.lo) | 128), (e.lo = e.lo >>> 7);
          r[n++] = e.lo;
        }
        function v(e, r, n) {
          (r[n] = 255 & e),
            (r[n + 1] = (e >>> 8) & 255),
            (r[n + 2] = (e >>> 16) & 255),
            (r[n + 3] = e >>> 24);
        }
        (h.create = f()),
          (h.alloc = function (e) {
            return new s.Array(e);
          }),
          s.Array !== Array &&
            (h.alloc = s.pool(h.alloc, s.Array.prototype.subarray)),
          (h.prototype._push = function (e, r, n) {
            return (
              (this.tail = this.tail.next = new u(e, r, n)),
              (this.len += r),
              this
            );
          }),
          (m.prototype = Object.create(u.prototype)),
          (m.prototype.fn = g),
          (h.prototype.uint32 = function (e) {
            return (
              (this.len += (this.tail = this.tail.next =
                new m(
                  (e >>>= 0) < 128
                    ? 1
                    : e < 16384
                      ? 2
                      : e < 2097152
                        ? 3
                        : e < 0x10000000
                          ? 4
                          : 5,
                  e,
                )).len),
              this
            );
          }),
          (h.prototype.int32 = function (e) {
            return e < 0 ? this._push(y, 10, a.fromNumber(e)) : this.uint32(e);
          }),
          (h.prototype.sint32 = function (e) {
            return this.uint32(((e << 1) ^ (e >> 31)) >>> 0);
          }),
          (h.prototype.uint64 = function (e) {
            var r = a.from(e);
            return this._push(y, r.length(), r);
          }),
          (h.prototype.int64 = h.prototype.uint64),
          (h.prototype.sint64 = function (e) {
            var r = a.from(e).zzEncode();
            return this._push(y, r.length(), r);
          }),
          (h.prototype.bool = function (e) {
            return this._push(p, 1, e ? 1 : 0);
          }),
          (h.prototype.fixed32 = function (e) {
            return this._push(v, 4, e >>> 0);
          }),
          (h.prototype.sfixed32 = h.prototype.fixed32),
          (h.prototype.fixed64 = function (e) {
            var r = a.from(e);
            return this._push(v, 4, r.lo)._push(v, 4, r.hi);
          }),
          (h.prototype.sfixed64 = h.prototype.fixed64),
          (h.prototype.float = function (e) {
            return this._push(s.float.writeFloatLE, 4, e);
          }),
          (h.prototype.double = function (e) {
            return this._push(s.float.writeDoubleLE, 8, e);
          });
        var b = s.Array.prototype.set
          ? function (e, r, n) {
              r.set(e, n);
            }
          : function (e, r, n) {
              for (var i = 0; i < e.length; ++i) r[n + i] = e[i];
            };
        (h.prototype.bytes = function (e) {
          var r = e.length >>> 0;
          if (!r) return this._push(p, 1, 0);
          if (s.isString(e)) {
            var n = h.alloc((r = o.length(e)));
            o.decode(e, n, 0), (e = n);
          }
          return this.uint32(r)._push(b, r, e);
        }),
          (h.prototype.string = function (e) {
            var r = l.length(e);
            return r
              ? this.uint32(r)._push(l.write, r, e)
              : this._push(p, 1, 0);
          }),
          (h.prototype.fork = function () {
            return (
              (this.states = new d(this)),
              (this.head = this.tail = new u(c, 0, 0)),
              (this.len = 0),
              this
            );
          }),
          (h.prototype.reset = function () {
            return (
              this.states
                ? ((this.head = this.states.head),
                  (this.tail = this.states.tail),
                  (this.len = this.states.len),
                  (this.states = this.states.next))
                : ((this.head = this.tail = new u(c, 0, 0)), (this.len = 0)),
              this
            );
          }),
          (h.prototype.ldelim = function () {
            var e = this.head,
              r = this.tail,
              n = this.len;
            return (
              this.reset().uint32(n),
              n &&
                ((this.tail.next = e.next), (this.tail = r), (this.len += n)),
              this
            );
          }),
          (h.prototype.finish = function () {
            for (
              var e = this.head.next,
                r = this.constructor.alloc(this.len),
                n = 0;
              e;

            )
              e.fn(e.val, r, n), (n += e.len), (e = e.next);
            return r;
          }),
          (h._configure = function (e) {
            (i = e), (h.create = f()), i._configure();
          });
      },
      55362: (e, r, n) => {
        "use strict";
        e.exports = a;
        var i = n(11525);
        (a.prototype = Object.create(i.prototype)).constructor = a;
        var s = n(26850);
        function a() {
          i.call(this);
        }
        function o(e, r, n) {
          e.length < 40
            ? s.utf8.write(e, r, n)
            : r.utf8Write
              ? r.utf8Write(e, n)
              : r.write(e, n);
        }
        (a._configure = function () {
          (a.alloc = s._Buffer_allocUnsafe),
            (a.writeBytesBuffer =
              s.Buffer &&
              s.Buffer.prototype instanceof Uint8Array &&
              "set" === s.Buffer.prototype.set.name
                ? function (e, r, n) {
                    r.set(e, n);
                  }
                : function (e, r, n) {
                    if (e.copy) e.copy(r, n, 0, e.length);
                    else for (var i = 0; i < e.length; ) r[n++] = e[i++];
                  });
        }),
          (a.prototype.bytes = function (e) {
            s.isString(e) && (e = s._Buffer_from(e, "base64"));
            var r = e.length >>> 0;
            return (
              this.uint32(r), r && this._push(a.writeBytesBuffer, r, e), this
            );
          }),
          (a.prototype.string = function (e) {
            var r = s.Buffer.byteLength(e);
            return this.uint32(r), r && this._push(o, r, e), this;
          }),
          a._configure();
      },
      9648: (e, r, n) => {
        "use strict";
        n.r(r), n.d(r, { default: () => i });
        let i = (0, n(46760).registerClientReference)(
          function () {
            throw Error(
              "Attempted to call the default export of \"/Users/kaspars/Desktop/hotsaucebay/app/add/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.",
            );
          },
          "/Users/kaspars/Desktop/hotsaucebay/app/add/page.tsx",
          "default",
        );
      },
      82502: (e, r) => {
        var n,
          i = (function (e) {
            "use strict";
            Object.defineProperty(e, "__esModule", { value: !0 }),
              (e.default = void 0);
            var r = null;
            try {
              r = new WebAssembly.Instance(
                new WebAssembly.Module(
                  new Uint8Array([
                    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4,
                    127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6,
                    1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5,
                    100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0,
                    3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95,
                    117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0,
                    10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173,
                    32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66,
                    32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4,
                    167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134,
                    132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4,
                    66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32,
                    0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3,
                    173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0,
                    32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66,
                    32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129,
                    34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1,
                    126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173,
                    32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167,
                    36, 0, 32, 4, 167, 11,
                  ]),
                ),
                {},
              ).exports;
            } catch {}
            function n(e, r, n) {
              (this.low = 0 | e), (this.high = 0 | r), (this.unsigned = !!n);
            }
            function i(e) {
              return !0 === (e && e.__isLong__);
            }
            function s(e) {
              var r = Math.clz32(e & -e);
              return e ? 31 - r : r;
            }
            n.prototype.__isLong__,
              Object.defineProperty(n.prototype, "__isLong__", { value: !0 }),
              (n.isLong = i);
            var a = {},
              o = {};
            function l(e, r) {
              var n, i, s;
              return r
                ? ((e >>>= 0), (s = 0 <= e && e < 256) && (i = o[e]))
                  ? i
                  : ((n = c(e, 0, !0)), s && (o[e] = n), n)
                : ((e |= 0), (s = -128 <= e && e < 128) && (i = a[e]))
                  ? i
                  : ((n = c(e, e < 0 ? -1 : 0, !1)), s && (a[e] = n), n);
            }
            function u(e, r) {
              if (isNaN(e)) return r ? b : v;
              if (r) {
                if (e < 0) return b;
                if (e >= g) return C;
              } else {
                if (e <= -m) return x;
                if (e + 1 >= m) return E;
              }
              return e < 0 ? u(-e, r).neg() : c(e % p | 0, (e / p) | 0, r);
            }
            function c(e, r, i) {
              return new n(e, r, i);
            }
            (n.fromInt = l), (n.fromNumber = u), (n.fromBits = c);
            var d = Math.pow;
            function h(e, r, n) {
              if (0 === e.length) throw Error("empty string");
              if (
                ("number" == typeof r ? ((n = r), (r = !1)) : (r = !!r),
                "NaN" === e ||
                  "Infinity" === e ||
                  "+Infinity" === e ||
                  "-Infinity" === e)
              )
                return r ? b : v;
              if ((n = n || 10) < 2 || 36 < n) throw RangeError("radix");
              if ((i = e.indexOf("-")) > 0) throw Error("interior hyphen");
              if (0 === i) return h(e.substring(1), r, n).neg();
              for (var i, s = u(d(n, 8)), a = v, o = 0; o < e.length; o += 8) {
                var l = Math.min(8, e.length - o),
                  c = parseInt(e.substring(o, o + l), n);
                if (l < 8) {
                  var f = u(d(n, l));
                  a = a.mul(f).add(u(c));
                } else a = (a = a.mul(s)).add(u(c));
              }
              return (a.unsigned = r), a;
            }
            function f(e, r) {
              return "number" == typeof e
                ? u(e, r)
                : "string" == typeof e
                  ? h(e, r)
                  : c(e.low, e.high, "boolean" == typeof r ? r : e.unsigned);
            }
            (n.fromString = h), (n.fromValue = f);
            var p = 0x100000000,
              g = 0xffffffffffffffff,
              m = 0x8000000000000000,
              y = l(0x1000000),
              v = l(0);
            n.ZERO = v;
            var b = l(0, !0);
            n.UZERO = b;
            var w = l(1);
            n.ONE = w;
            var T = l(1, !0);
            n.UONE = T;
            var S = l(-1);
            n.NEG_ONE = S;
            var E = c(-1, 0x7fffffff, !1);
            n.MAX_VALUE = E;
            var C = c(-1, -1, !0);
            n.MAX_UNSIGNED_VALUE = C;
            var x = c(0, -0x80000000, !1);
            n.MIN_VALUE = x;
            var A = n.prototype;
            return (
              (A.toInt = function () {
                return this.unsigned ? this.low >>> 0 : this.low;
              }),
              (A.toNumber = function () {
                return this.unsigned
                  ? (this.high >>> 0) * p + (this.low >>> 0)
                  : this.high * p + (this.low >>> 0);
              }),
              (A.toString = function (e) {
                if ((e = e || 10) < 2 || 36 < e) throw RangeError("radix");
                if (this.isZero()) return "0";
                if (this.isNegative()) {
                  if (!this.eq(x)) return "-" + this.neg().toString(e);
                  var r = u(e),
                    n = this.div(r),
                    i = n.mul(r).sub(this);
                  return n.toString(e) + i.toInt().toString(e);
                }
                for (var s = u(d(e, 6), this.unsigned), a = this, o = ""; ; ) {
                  var l = a.div(s),
                    c = (a.sub(l.mul(s)).toInt() >>> 0).toString(e);
                  if ((a = l).isZero()) return c + o;
                  for (; c.length < 6; ) c = "0" + c;
                  o = "" + c + o;
                }
              }),
              (A.getHighBits = function () {
                return this.high;
              }),
              (A.getHighBitsUnsigned = function () {
                return this.high >>> 0;
              }),
              (A.getLowBits = function () {
                return this.low;
              }),
              (A.getLowBitsUnsigned = function () {
                return this.low >>> 0;
              }),
              (A.getNumBitsAbs = function () {
                if (this.isNegative())
                  return this.eq(x) ? 64 : this.neg().getNumBitsAbs();
                for (
                  var e = 0 != this.high ? this.high : this.low, r = 31;
                  r > 0 && (e & (1 << r)) == 0;
                  r--
                );
                return 0 != this.high ? r + 33 : r + 1;
              }),
              (A.isSafeInteger = function () {
                var e = this.high >> 21;
                return (
                  !e ||
                  (!this.unsigned &&
                    -1 === e &&
                    !(0 === this.low && -2097152 === this.high))
                );
              }),
              (A.isZero = function () {
                return 0 === this.high && 0 === this.low;
              }),
              (A.eqz = A.isZero),
              (A.isNegative = function () {
                return !this.unsigned && this.high < 0;
              }),
              (A.isPositive = function () {
                return this.unsigned || this.high >= 0;
              }),
              (A.isOdd = function () {
                return (1 & this.low) == 1;
              }),
              (A.isEven = function () {
                return (1 & this.low) == 0;
              }),
              (A.equals = function (e) {
                return (
                  i(e) || (e = f(e)),
                  (this.unsigned === e.unsigned ||
                    this.high >>> 31 != 1 ||
                    e.high >>> 31 != 1) &&
                    this.high === e.high &&
                    this.low === e.low
                );
              }),
              (A.eq = A.equals),
              (A.notEquals = function (e) {
                return !this.eq(e);
              }),
              (A.neq = A.notEquals),
              (A.ne = A.notEquals),
              (A.lessThan = function (e) {
                return 0 > this.comp(e);
              }),
              (A.lt = A.lessThan),
              (A.lessThanOrEqual = function (e) {
                return 0 >= this.comp(e);
              }),
              (A.lte = A.lessThanOrEqual),
              (A.le = A.lessThanOrEqual),
              (A.greaterThan = function (e) {
                return this.comp(e) > 0;
              }),
              (A.gt = A.greaterThan),
              (A.greaterThanOrEqual = function (e) {
                return this.comp(e) >= 0;
              }),
              (A.gte = A.greaterThanOrEqual),
              (A.ge = A.greaterThanOrEqual),
              (A.compare = function (e) {
                if ((i(e) || (e = f(e)), this.eq(e))) return 0;
                var r = this.isNegative(),
                  n = e.isNegative();
                return r && !n
                  ? -1
                  : !r && n
                    ? 1
                    : this.unsigned
                      ? e.high >>> 0 > this.high >>> 0 ||
                        (e.high === this.high && e.low >>> 0 > this.low >>> 0)
                        ? -1
                        : 1
                      : this.sub(e).isNegative()
                        ? -1
                        : 1;
              }),
              (A.comp = A.compare),
              (A.negate = function () {
                return !this.unsigned && this.eq(x) ? x : this.not().add(w);
              }),
              (A.neg = A.negate),
              (A.add = function (e) {
                i(e) || (e = f(e));
                var r,
                  n,
                  s = this.high >>> 16,
                  a = 65535 & this.high,
                  o = this.low >>> 16,
                  l = 65535 & this.low,
                  u = e.high >>> 16,
                  d = 65535 & e.high,
                  h = e.low >>> 16,
                  p = 65535 & e.low,
                  g = 0,
                  m = 0;
                return (
                  (r = 0 + ((n = 0 + (l + p)) >>> 16)),
                  (n &= 65535),
                  (r += o + h),
                  (m += r >>> 16),
                  (r &= 65535),
                  (m += a + d),
                  (g += m >>> 16),
                  (m &= 65535),
                  (g += s + u),
                  c((r << 16) | n, ((g &= 65535) << 16) | m, this.unsigned)
                );
              }),
              (A.subtract = function (e) {
                return i(e) || (e = f(e)), this.add(e.neg());
              }),
              (A.sub = A.subtract),
              (A.multiply = function (e) {
                if (this.isZero()) return this;
                if ((i(e) || (e = f(e)), r))
                  return c(
                    r.mul(this.low, this.high, e.low, e.high),
                    r.get_high(),
                    this.unsigned,
                  );
                if (e.isZero()) return this.unsigned ? b : v;
                if (this.eq(x)) return e.isOdd() ? x : v;
                if (e.eq(x)) return this.isOdd() ? x : v;
                if (this.isNegative())
                  return e.isNegative()
                    ? this.neg().mul(e.neg())
                    : this.neg().mul(e).neg();
                if (e.isNegative()) return this.mul(e.neg()).neg();
                if (this.lt(y) && e.lt(y))
                  return u(this.toNumber() * e.toNumber(), this.unsigned);
                var n,
                  s,
                  a = this.high >>> 16,
                  o = 65535 & this.high,
                  l = this.low >>> 16,
                  d = 65535 & this.low,
                  h = e.high >>> 16,
                  p = 65535 & e.high,
                  g = e.low >>> 16,
                  m = 65535 & e.low,
                  w = 0,
                  T = 0;
                return (
                  (n = 0 + ((s = 0 + d * m) >>> 16)),
                  (s &= 65535),
                  (n += l * m),
                  (T += n >>> 16),
                  (n &= 65535),
                  (n += d * g),
                  (T += n >>> 16),
                  (n &= 65535),
                  (T += o * m),
                  (w += T >>> 16),
                  (T &= 65535),
                  (T += l * g),
                  (w += T >>> 16),
                  (T &= 65535),
                  (T += d * p),
                  (w += T >>> 16),
                  (T &= 65535),
                  (w += a * m + o * g + l * p + d * h),
                  c((n << 16) | s, ((w &= 65535) << 16) | T, this.unsigned)
                );
              }),
              (A.mul = A.multiply),
              (A.divide = function (e) {
                if ((i(e) || (e = f(e)), e.isZero()))
                  throw Error("division by zero");
                if (r) {
                  var n, s, a;
                  return this.unsigned ||
                    -0x80000000 !== this.high ||
                    -1 !== e.low ||
                    -1 !== e.high
                    ? c(
                        (this.unsigned ? r.div_u : r.div_s)(
                          this.low,
                          this.high,
                          e.low,
                          e.high,
                        ),
                        r.get_high(),
                        this.unsigned,
                      )
                    : this;
                }
                if (this.isZero()) return this.unsigned ? b : v;
                if (this.unsigned) {
                  if ((e.unsigned || (e = e.toUnsigned()), e.gt(this)))
                    return b;
                  if (e.gt(this.shru(1))) return T;
                  a = b;
                } else {
                  if (this.eq(x))
                    return e.eq(w) || e.eq(S)
                      ? x
                      : e.eq(x)
                        ? w
                        : (n = this.shr(1).div(e).shl(1)).eq(v)
                          ? e.isNegative()
                            ? w
                            : S
                          : ((s = this.sub(e.mul(n))), (a = n.add(s.div(e))));
                  if (e.eq(x)) return this.unsigned ? b : v;
                  if (this.isNegative())
                    return e.isNegative()
                      ? this.neg().div(e.neg())
                      : this.neg().div(e).neg();
                  if (e.isNegative()) return this.div(e.neg()).neg();
                  a = v;
                }
                for (s = this; s.gte(e); ) {
                  for (
                    var o = Math.ceil(
                        Math.log(
                          (n = Math.max(
                            1,
                            Math.floor(s.toNumber() / e.toNumber()),
                          )),
                        ) / Math.LN2,
                      ),
                      l = o <= 48 ? 1 : d(2, o - 48),
                      h = u(n),
                      p = h.mul(e);
                    p.isNegative() || p.gt(s);

                  )
                    (n -= l), (p = (h = u(n, this.unsigned)).mul(e));
                  h.isZero() && (h = w), (a = a.add(h)), (s = s.sub(p));
                }
                return a;
              }),
              (A.div = A.divide),
              (A.modulo = function (e) {
                return (i(e) || (e = f(e)), r)
                  ? c(
                      (this.unsigned ? r.rem_u : r.rem_s)(
                        this.low,
                        this.high,
                        e.low,
                        e.high,
                      ),
                      r.get_high(),
                      this.unsigned,
                    )
                  : this.sub(this.div(e).mul(e));
              }),
              (A.mod = A.modulo),
              (A.rem = A.modulo),
              (A.not = function () {
                return c(~this.low, ~this.high, this.unsigned);
              }),
              (A.countLeadingZeros = function () {
                return this.high
                  ? Math.clz32(this.high)
                  : Math.clz32(this.low) + 32;
              }),
              (A.clz = A.countLeadingZeros),
              (A.countTrailingZeros = function () {
                return this.low ? s(this.low) : s(this.high) + 32;
              }),
              (A.ctz = A.countTrailingZeros),
              (A.and = function (e) {
                return (
                  i(e) || (e = f(e)),
                  c(this.low & e.low, this.high & e.high, this.unsigned)
                );
              }),
              (A.or = function (e) {
                return (
                  i(e) || (e = f(e)),
                  c(this.low | e.low, this.high | e.high, this.unsigned)
                );
              }),
              (A.xor = function (e) {
                return (
                  i(e) || (e = f(e)),
                  c(this.low ^ e.low, this.high ^ e.high, this.unsigned)
                );
              }),
              (A.shiftLeft = function (e) {
                return (i(e) && (e = e.toInt()), 0 == (e &= 63))
                  ? this
                  : e < 32
                    ? c(
                        this.low << e,
                        (this.high << e) | (this.low >>> (32 - e)),
                        this.unsigned,
                      )
                    : c(0, this.low << (e - 32), this.unsigned);
              }),
              (A.shl = A.shiftLeft),
              (A.shiftRight = function (e) {
                return (i(e) && (e = e.toInt()), 0 == (e &= 63))
                  ? this
                  : e < 32
                    ? c(
                        (this.low >>> e) | (this.high << (32 - e)),
                        this.high >> e,
                        this.unsigned,
                      )
                    : c(
                        this.high >> (e - 32),
                        this.high >= 0 ? 0 : -1,
                        this.unsigned,
                      );
              }),
              (A.shr = A.shiftRight),
              (A.shiftRightUnsigned = function (e) {
                return (i(e) && (e = e.toInt()), 0 == (e &= 63))
                  ? this
                  : e < 32
                    ? c(
                        (this.low >>> e) | (this.high << (32 - e)),
                        this.high >>> e,
                        this.unsigned,
                      )
                    : 32 === e
                      ? c(this.high, 0, this.unsigned)
                      : c(this.high >>> (e - 32), 0, this.unsigned);
              }),
              (A.shru = A.shiftRightUnsigned),
              (A.shr_u = A.shiftRightUnsigned),
              (A.rotateLeft = function (e) {
                var r;
                return (i(e) && (e = e.toInt()), 0 == (e &= 63))
                  ? this
                  : 32 === e
                    ? c(this.high, this.low, this.unsigned)
                    : e < 32
                      ? ((r = 32 - e),
                        c(
                          (this.low << e) | (this.high >>> r),
                          (this.high << e) | (this.low >>> r),
                          this.unsigned,
                        ))
                      : ((e -= 32),
                        (r = 32 - e),
                        c(
                          (this.high << e) | (this.low >>> r),
                          (this.low << e) | (this.high >>> r),
                          this.unsigned,
                        ));
              }),
              (A.rotl = A.rotateLeft),
              (A.rotateRight = function (e) {
                var r;
                return (i(e) && (e = e.toInt()), 0 == (e &= 63))
                  ? this
                  : 32 === e
                    ? c(this.high, this.low, this.unsigned)
                    : e < 32
                      ? ((r = 32 - e),
                        c(
                          (this.high << r) | (this.low >>> e),
                          (this.low << r) | (this.high >>> e),
                          this.unsigned,
                        ))
                      : ((e -= 32),
                        (r = 32 - e),
                        c(
                          (this.low << r) | (this.high >>> e),
                          (this.high << r) | (this.low >>> e),
                          this.unsigned,
                        ));
              }),
              (A.rotr = A.rotateRight),
              (A.toSigned = function () {
                return this.unsigned ? c(this.low, this.high, !1) : this;
              }),
              (A.toUnsigned = function () {
                return this.unsigned ? this : c(this.low, this.high, !0);
              }),
              (A.toBytes = function (e) {
                return e ? this.toBytesLE() : this.toBytesBE();
              }),
              (A.toBytesLE = function () {
                var e = this.high,
                  r = this.low;
                return [
                  255 & r,
                  (r >>> 8) & 255,
                  (r >>> 16) & 255,
                  r >>> 24,
                  255 & e,
                  (e >>> 8) & 255,
                  (e >>> 16) & 255,
                  e >>> 24,
                ];
              }),
              (A.toBytesBE = function () {
                var e = this.high,
                  r = this.low;
                return [
                  e >>> 24,
                  (e >>> 16) & 255,
                  (e >>> 8) & 255,
                  255 & e,
                  r >>> 24,
                  (r >>> 16) & 255,
                  (r >>> 8) & 255,
                  255 & r,
                ];
              }),
              (n.fromBytes = function (e, r, i) {
                return i ? n.fromBytesLE(e, r) : n.fromBytesBE(e, r);
              }),
              (n.fromBytesLE = function (e, r) {
                return new n(
                  e[0] | (e[1] << 8) | (e[2] << 16) | (e[3] << 24),
                  e[4] | (e[5] << 8) | (e[6] << 16) | (e[7] << 24),
                  r,
                );
              }),
              (n.fromBytesBE = function (e, r) {
                return new n(
                  (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
                  (e[0] << 24) | (e[1] << 16) | (e[2] << 8) | e[3],
                  r,
                );
              }),
              "function" == typeof BigInt &&
                ((n.fromBigInt = function (e, r) {
                  return c(
                    Number(BigInt.asIntN(32, e)),
                    Number(BigInt.asIntN(32, e >> BigInt(32))),
                    r,
                  );
                }),
                (n.fromValue = function (e, r) {
                  return "bigint" == typeof e ? fromBigInt(e, r) : f(e, r);
                }),
                (A.toBigInt = function () {
                  var e = BigInt(this.low >>> 0);
                  return (
                    (BigInt(this.unsigned ? this.high >>> 0 : this.high) <<
                      BigInt(32)) |
                    e
                  );
                })),
              (e.default = n),
              "default" in e ? e.default : e
            );
          })({});
        void 0 !==
          (n = function () {
            return i;
          }.apply(r, [])) && (e.exports = n);
      },
      86243: (e) => {
        "use strict";
        e.exports = { rE: "1.9.15" };
      },
      82566: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}',
        );
      },
      97659: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}',
        );
      },
      56271: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}',
        );
      },
      96138: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}',
        );
      },
    });
  var __webpack_require__ = require("../../webpack-runtime.js");
  __webpack_require__.C(exports);
  var __webpack_exec__ = (e) =>
      __webpack_require__((__webpack_require__.s = e)),
    __webpack_exports__ = __webpack_require__.X(0, [343, 555], () =>
      __webpack_exec__(91189),
    );
  module.exports = __webpack_exports__;
})();
